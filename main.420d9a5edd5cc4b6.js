"use strict";(self.webpackChunkguild_raiding_app=self.webpackChunkguild_raiding_app||[]).push([[179],{3692:(sn,Ye,Y)=>{Y.d(Ye,{Ot:()=>De,ZF:()=>fn,hX:()=>rt,z6:()=>ee});var w=Y(259),re=Y(1571),k=Y(4976);class De{constructor(ht){return ht}}class ee{constructor(){return(0,w.C6)()}}const ce=new re.OlP("angularfire2._apps"),Le={provide:De,useFactory:function Be(Fe){return Fe&&1===Fe.length?Fe[0]:new De((0,w.Mq)())},deps:[[new re.FiY,ce]]},se={provide:ee,deps:[[new re.FiY,ce]]};function me(Fe){return(ht,He)=>{const lt=ht.runOutsideAngular(()=>Fe(He));return new De(lt)}}let xe=(()=>{class Fe{constructor(He){(0,w.KN)("angularfire",k.q4.full,"core"),(0,w.KN)("angularfire",k.q4.full,"app"),(0,w.KN)("angular",re.q4F.full,He.toString())}}return Fe.\u0275fac=function(He){return new(He||Fe)(re.LFG(re.Lbi))},Fe.\u0275mod=re.oAB({type:Fe}),Fe.\u0275inj=re.cJS({providers:[Le,se]}),Fe})();function rt(Fe,...ht){return{ngModule:xe,providers:[{provide:ce,useFactory:me(Fe),multi:!0,deps:[re.R0b,re.zs3,k.HU,...ht]}]}}const fn=(0,k.u3)(w.ZF,!0)},5465:(sn,Ye,Y)=>{Y.d(Ye,{gx:()=>Ll,fD:()=>fl,Xb:()=>pl,v0:()=>Dh,Aj:()=>dd,AR:()=>hl,e5:()=>Ff});var w=Y(4976),re=Y(1571),k=Y(3692),De=Y(259),ee=Y(5861),Ae=Y(6881),Be=Y(4859),ce=Y(2090),Le=Y(1877);const se=new Map,me={activated:!1,tokenObservers:[]},xe={initialized:!1,enabled:!1};function rt(_){return se.get(_)||Object.assign({},me)}function gt(){return xe}const mt="https://content-firebaseappcheck.googleapis.com/v1",zn="exchangeDebugToken",wn={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ht{constructor(d,p,I,B,q){if(this.operation=d,this.retryPolicy=p,this.getWaitDuration=I,this.lowerBound=B,this.upperBound=q,this.pending=null,this.nextErrorWaitInterval=B,B>q)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(d){var p=this;return(0,ee.Z)(function*(){p.stop();try{p.pending=new ce.BH,yield function He(_){return new Promise(d=>{setTimeout(d,_)})}(p.getNextRun(d)),p.pending.resolve(),yield p.pending.promise,p.pending=new ce.BH,yield p.operation(),p.pending.resolve(),yield p.pending.promise,p.process(!0).catch(()=>{})}catch(I){p.retryPolicy(I)?p.process(!1).catch(()=>{}):p.stop()}})()}getNextRun(d){if(d)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const p=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),p}}}const St=new ce.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function pn(_){if(!rt(_).activated)throw St.create("use-before-activation",{appName:_.name})}function on(_,d){return ct.apply(this,arguments)}function ct(){return(ct=(0,ee.Z)(function*({url:_,body:d},p){const I={"Content-Type":"application/json"},B=p.getImmediate({optional:!0});if(B){const Vn=yield B.getHeartbeatsHeader();Vn&&(I["X-Firebase-Client"]=Vn)}const q={method:"POST",body:JSON.stringify(d),headers:I};let ye,Pe;try{ye=yield fetch(_,q)}catch(Vn){throw St.create("fetch-network-error",{originalErrorMessage:Vn?.message})}if(200!==ye.status)throw St.create("fetch-status-error",{httpStatus:ye.status});try{Pe=yield ye.json()}catch(Vn){throw St.create("fetch-parse-error",{originalErrorMessage:Vn?.message})}const at=Pe.ttl.match(/^([\d.]+)(s)$/);if(!at||!at[2]||isNaN(Number(at[1])))throw St.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Pe.ttl}`});const Vt=1e3*Number(at[1]),hn=Date.now();return{token:Pe.token,expireTimeMillis:hn+Vt,issuedAtTimeMillis:hn}})).apply(this,arguments)}function et(_,d){const{projectId:p,appId:I,apiKey:B}=_.options;return{url:`${mt}/projects/${p}/apps/${I}:${zn}?key=${B}`,body:{debug_token:d}}}const nt="firebase-app-check-database",ft=1,pt="firebase-app-check-store";let Nn=null;function Zr(_,d){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,ee.Z)(function*(_,d){const I=(yield function kn(){return Nn||(Nn=new Promise((_,d)=>{try{const p=indexedDB.open(nt,ft);p.onsuccess=I=>{_(I.target.result)},p.onerror=I=>{var B;d(St.create("storage-open",{originalErrorMessage:null===(B=I.target.error)||void 0===B?void 0:B.message}))},p.onupgradeneeded=I=>{0===I.oldVersion&&I.target.result.createObjectStore(pt,{keyPath:"compositeKey"})}}catch(p){d(St.create("storage-open",{originalErrorMessage:p?.message}))}}),Nn)}()).transaction(pt,"readwrite"),q=I.objectStore(pt).put({compositeKey:_,value:d});return new Promise((ye,Pe)=>{q.onsuccess=at=>{ye()},I.onerror=at=>{var Vt;Pe(St.create("storage-set",{originalErrorMessage:null===(Vt=at.target.error)||void 0===Vt?void 0:Vt.message}))}})})).apply(this,arguments)}const ni=new Le.Yd("@firebase/app-check");function cn(_,d){return(0,ce.hl)()?function jt(_,d){return Zr(function $r(_){return`${_.options.appId}-${_.name}`}(_),d)}(_,d).catch(p=>{ni.warn(`Failed to write token to IndexedDB. Error: ${p}`)}):Promise.resolve()}function Wn(){return gt().enabled}function fi(){return rs.apply(this,arguments)}function rs(){return(rs=(0,ee.Z)(function*(){const _=gt();if(_.enabled&&_.token)return _.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const zi={error:"UNKNOWN_ERROR"};function Ii(_){return ce.US.encodeString(JSON.stringify(_),!1)}function dn(_){return xt.apply(this,arguments)}function xt(){return(xt=(0,ee.Z)(function*(_,d=!1){const p=_.app;pn(p);const I=rt(p);let q,B=I.token;if(B&&!qn(B)&&(I.token=void 0,B=void 0),!B){const at=yield I.cachedTokenPromise;at&&(qn(at)?B=at:yield cn(p,void 0))}if(!d&&B&&qn(B))return{token:B.token};let Pe,ye=!1;if(Wn()){I.exchangeTokenPromise||(I.exchangeTokenPromise=on(et(p,yield fi()),_.heartbeatServiceProvider).finally(()=>{I.exchangeTokenPromise=void 0}),ye=!0);const at=yield I.exchangeTokenPromise;return yield cn(p,at),I.token=at,{token:at.token}}try{I.exchangeTokenPromise||(I.exchangeTokenPromise=I.provider.getToken().finally(()=>{I.exchangeTokenPromise=void 0}),ye=!0),B=yield rt(p).exchangeTokenPromise}catch(at){"appCheck/throttled"===at.code?ni.warn(at.message):ni.error(at),q=at}return B?q?Pe=qn(B)?{token:B.token,internalError:q}:oo(q):(Pe={token:B.token},I.token=B,yield cn(p,B)):Pe=oo(q),ye&&function Vi(_,d){const p=rt(_).tokenObservers;for(const I of p)try{"EXTERNAL"===I.type&&null!=d.error?I.error(d.error):I.next(d)}catch{}}(p,Pe),Pe})).apply(this,arguments)}function kt(_){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,ee.Z)(function*(_){const d=_.app;pn(d);const{provider:p}=rt(d);if(Wn()){const I=yield fi(),{token:B}=yield on(et(d,I),_.heartbeatServiceProvider);return{token:B}}{const{token:I}=yield p.getToken();return{token:I}}})).apply(this,arguments)}function ii(_,d){const p=rt(_),I=p.tokenObservers.filter(B=>B.next!==d);0===I.length&&p.tokenRefresher&&p.tokenRefresher.isRunning()&&p.tokenRefresher.stop(),p.tokenObservers=I}function Li(_){const{app:d}=_,p=rt(d);let I=p.tokenRefresher;I||(I=function wr(_){const{app:d}=_;return new ht((0,ee.Z)(function*(){let I;if(I=rt(d).token?yield dn(_,!0):yield dn(_),I.error)throw I.error;if(I.internalError)throw I.internalError}),()=>!0,()=>{const p=rt(d);if(p.token){let I=p.token.issuedAtTimeMillis+.5*(p.token.expireTimeMillis-p.token.issuedAtTimeMillis)+3e5;return I=Math.min(I,p.token.expireTimeMillis-3e5),Math.max(0,I-Date.now())}return 0},wn.RETRIAL_MIN_WAIT,wn.RETRIAL_MAX_WAIT)}(_),p.tokenRefresher=I),!I.isRunning()&&p.isTokenAutoRefreshEnabled&&I.start()}function qn(_){return _.expireTimeMillis-Date.now()>0}function oo(_){return{token:Ii(zi),error:_}}class Zn{constructor(d,p){this.app=d,this.heartbeatServiceProvider=p}_delete(){const{tokenObservers:d}=rt(this.app);for(const p of d)ii(this.app,p.next);return Promise.resolve()}}const Gt="app-check-internal";!function un(){(0,Ae.Xd)(new Be.wA("app-check",_=>function cr(_,d){return new Zn(_,d)}(_.getProvider("app").getImmediate(),_.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,d,p)=>{_.getProvider(Gt).initialize()})),(0,Ae.Xd)(new Be.wA(Gt,_=>function er(_){return{getToken:d=>dn(_,d),getLimitedUseToken:()=>kt(_),addTokenListener:d=>function ri(_,d,p,I){const{app:B}=_,q=rt(B);if(q.tokenObservers=[...q.tokenObservers,{next:p,error:I,type:d}],q.token&&qn(q.token)){const Pe=q.token;Promise.resolve().then(()=>{p({token:Pe.token}),Li(_)}).catch(()=>{})}q.cachedTokenPromise.then(()=>Li(_))}(_,"INTERNAL",d),removeTokenListener:d=>ii(_.app,d)}}(_.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ae.KN)("@firebase/app-check","0.8.0")}();class dr{constructor(){return(0,w.vb)("app-check")}}typeof window<"u"&&window;var Is=Y(655);const Wi=function Qi(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ds=new ce.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qn=new Le.Yd("@firebase/auth");function yr(_,...d){Qn.logLevel<=Le.in.ERROR&&Qn.error(`Auth (${Ae.Jn}): ${_}`,...d)}function ei(_,...d){throw Go(_,...d)}function gi(_,...d){return Go(_,...d)}function Go(_,...d){if("string"!=typeof _){const p=d[0],I=[...d.slice(1)];return I[0]&&(I[0].appName=_.name),_._errorFactory.create(p,...I)}return Ds.create(_,...d)}function vt(_,d,...p){if(!_)throw Go(d,...p)}function Di(_){const d="INTERNAL ASSERTION FAILED: "+_;throw yr(d),new Error(d)}function os(_,d){_||Di(d)}function Pi(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function So(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Yn{constructor(d,p){this.shortDelay=d,this.longDelay=p,os(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,ce.uI)()||(0,ce.b$)()}get(){return function mi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Cr(){return"http:"===So()||"https:"===So()}()||(0,ce.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qi(_,d){os(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class fs{static initialize(d,p,I){this.fetchImpl=d,p&&(this.headersImpl=p),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Or={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},zo=new Yn(3e4,6e4);function fr(_,d){return _.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:_.tenantId}):d}function pr(_,d,p,I){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,ee.Z)(function*(_,d,p,I,B={}){return Fs(_,B,(0,ee.Z)(function*(){let q={},ye={};I&&("GET"===d?ye=I:q={body:JSON.stringify(I)});const Pe=(0,ce.xO)(Object.assign({key:_.config.apiKey},ye)).slice(1),at=yield _._getAdditionalHeaders();return at["Content-Type"]="application/json",_.languageCode&&(at["X-Firebase-Locale"]=_.languageCode),fs.fetch()(mo(_,_.config.apiHost,p,Pe),Object.assign({method:d,headers:at,referrerPolicy:"no-referrer"},q))}))})).apply(this,arguments)}function Fs(_,d,p){return va.apply(this,arguments)}function va(){return(va=(0,ee.Z)(function*(_,d,p){_._canInitEmulator=!1;const I=Object.assign(Object.assign({},Or),d);try{const B=new yo(_),q=yield Promise.race([p(),B.promise]);B.clearNetworkTimeout();const ye=yield q.json();if("needConfirmation"in ye)throw ai(_,"account-exists-with-different-credential",ye);if(q.ok&&!("errorMessage"in ye))return ye;{const Pe=q.ok?ye.errorMessage:ye.error.message,[at,Vt]=Pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===at)throw ai(_,"credential-already-in-use",ye);if("EMAIL_EXISTS"===at)throw ai(_,"email-already-in-use",ye);if("USER_DISABLED"===at)throw ai(_,"user-disabled",ye);const hn=I[at]||at.toLowerCase().replace(/[_\s]+/g,"-");if(Vt)throw function ur(_,d,p){const I=Object.assign(Object.assign({},Wi()),{[d]:p});return new ce.LL("auth","Firebase",I).create(d,{appName:_.name})}(_,hn,Vt);ei(_,hn)}}catch(B){if(B instanceof ce.ZR)throw B;ei(_,"network-request-failed",{message:String(B)})}})).apply(this,arguments)}function yi(_,d,p,I){return _i.apply(this,arguments)}function _i(){return(_i=(0,ee.Z)(function*(_,d,p,I,B={}){const q=yield pr(_,d,p,I,B);return"mfaPendingCredential"in q&&ei(_,"multi-factor-auth-required",{_serverResponse:q}),q})).apply(this,arguments)}function mo(_,d,p,I){const B=`${d}${p}?${I}`;return _.config.emulator?qi(_.config,B):`${_.config.apiScheme}://${B}`}class yo{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,I)=>{this.timer=setTimeout(()=>I(gi(this.auth,"network-request-failed")),zo.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ai(_,d,p){const I={appName:_.name};p.email&&(I.email=p.email),p.phoneNumber&&(I.phoneNumber=p.phoneNumber);const B=gi(_,d,I);return B.customData._tokenResponse=p,B}function _o(){return(_o=(0,ee.Z)(function*(_,d){return pr(_,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Cs(){return(Cs=(0,ee.Z)(function*(_,d){return pr(_,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function ao(_){if(_)try{const d=new Date(Number(_));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Ko(){return(Ko=(0,ee.Z)(function*(_,d=!1){const p=(0,ce.m9)(_),I=yield p.getIdToken(d),B=uo(I);vt(B&&B.exp&&B.auth_time&&B.iat,p.auth,"internal-error");const q="object"==typeof B.firebase?B.firebase:void 0,ye=q?.sign_in_provider;return{claims:B,token:I,authTime:ao(as(B.auth_time)),issuedAtTime:ao(as(B.iat)),expirationTime:ao(as(B.exp)),signInProvider:ye||null,signInSecondFactor:q?.sign_in_second_factor||null}})).apply(this,arguments)}function as(_){return 1e3*Number(_)}function uo(_){const[d,p,I]=_.split(".");if(void 0===d||void 0===p||void 0===I)return yr("JWT malformed, contained fewer than 3 sections"),null;try{const B=(0,ce.tV)(p);return B?JSON.parse(B):(yr("Failed to decode base64 JWT payload"),null)}catch(B){return yr("Caught error parsing JWT payload as JSON",B?.toString()),null}}function Ts(_,d){return lo.apply(this,arguments)}function lo(){return(lo=(0,ee.Z)(function*(_,d,p=!1){if(p)return d;try{return yield d}catch(I){throw I instanceof ce.ZR&&function vo({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(I)&&_.auth.currentUser===_&&(yield _.auth.signOut()),I}})).apply(this,arguments)}class Zi{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const B=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,B)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const I=this.getInterval(d);this.timerId=setTimeout((0,ee.Z)(function*(){yield p.iteration()}),I)}iteration(){var d=this;return(0,ee.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&d.schedule(!0))}d.schedule()})()}}class Zs{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=ao(this.lastLoginAt),this.creationTime=ao(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function bs(_){return Ys.apply(this,arguments)}function Ys(){return Ys=(0,ee.Z)(function*(_){var d;const p=_.auth,I=yield _.getIdToken(),B=yield Ts(_,function Ea(_,d){return Cs.apply(this,arguments)}(p,{idToken:I}));vt(B?.users.length,p,"internal-error");const q=B.users[0];_._notifyReloadListener(q);const ye=null!==(d=q.providerUserInfo)&&void 0!==d&&d.length?function Ar(_){return _.map(d=>{var{providerId:p}=d,I=(0,Is._T)(d,["providerId"]);return{providerId:p,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(q.providerUserInfo):[],Pe=function Mo(_,d){return[..._.filter(I=>!d.some(B=>B.providerId===I.providerId)),...d]}(_.providerData,ye),hn=!!_.isAnonymous&&!(_.email&&q.passwordHash||Pe?.length),Vn={uid:q.localId,displayName:q.displayName||null,photoURL:q.photoUrl||null,email:q.email||null,emailVerified:q.emailVerified||!1,phoneNumber:q.phoneNumber||null,tenantId:q.tenantId||null,providerData:Pe,metadata:new Zs(q.createdAt,q.lastLoginAt),isAnonymous:hn};Object.assign(_,Vn)}),Ys.apply(this,arguments)}function Tr(){return(Tr=(0,ee.Z)(function*(_){const d=(0,ce.m9)(_);yield bs(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Yo(){return(Yo=(0,ee.Z)(function*(_,d){const p=yield Fs(_,{},(0,ee.Z)(function*(){const I=(0,ce.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:B,apiKey:q}=_.config,ye=mo(_,B,"/v1/token",`key=${q}`),Pe=yield _._getAdditionalHeaders();return Pe["Content-Type"]="application/x-www-form-urlencoded",fs.fetch()(ye,{method:"POST",headers:Pe,body:I})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Ti{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){vt(d.idToken,"internal-error"),vt(typeof d.idToken<"u","internal-error"),vt(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Vr(_){const d=uo(_);return vt(d,"internal-error"),vt(typeof d.exp<"u","internal-error"),vt(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var I=this;return(0,ee.Z)(function*(){return vt(!I.accessToken||I.refreshToken,d,"user-token-expired"),p||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(d,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var I=this;return(0,ee.Z)(function*(){const{accessToken:B,refreshToken:q,expiresIn:ye}=yield function Ci(_,d){return Yo.apply(this,arguments)}(d,p);I.updateTokensAndExpiration(B,q,Number(ye))})()}updateTokensAndExpiration(d,p,I){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(d,p){const{refreshToken:I,accessToken:B,expirationTime:q}=p,ye=new Ti;return I&&(vt("string"==typeof I,"internal-error",{appName:d}),ye.refreshToken=I),B&&(vt("string"==typeof B,"internal-error",{appName:d}),ye.accessToken=B),q&&(vt("number"==typeof q,"internal-error",{appName:d}),ye.expirationTime=q),ye}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Ti,this.toJSON())}_performRefresh(){return Di("not implemented")}}function Mr(_,d){vt("string"==typeof _||typeof _>"u","internal-error",{appName:d})}class Ss{constructor(d){var{uid:p,auth:I,stsTokenManager:B}=d,q=(0,Is._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=I,this.stsTokenManager=B,this.accessToken=B.accessToken,this.displayName=q.displayName||null,this.email=q.email||null,this.emailVerified=q.emailVerified||!1,this.phoneNumber=q.phoneNumber||null,this.photoURL=q.photoURL||null,this.isAnonymous=q.isAnonymous||!1,this.tenantId=q.tenantId||null,this.providerData=q.providerData?[...q.providerData]:[],this.metadata=new Zs(q.createdAt||void 0,q.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,ee.Z)(function*(){const I=yield Ts(p,p.stsTokenManager.getToken(p.auth,d));return vt(I,p.auth,"internal-error"),p.accessToken!==I&&(p.accessToken=I,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),I})()}getIdTokenResult(d){return function qo(_){return Ko.apply(this,arguments)}(this,d)}reload(){return function Zo(_){return Tr.apply(this,arguments)}(this)}_assign(d){this!==d&&(vt(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new Ss(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var I=this;return(0,ee.Z)(function*(){let B=!1;d.idToken&&d.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(d),B=!0),p&&(yield bs(I)),yield I.auth._persistUserIfCurrent(I),B&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var d=this;return(0,ee.Z)(function*(){const p=yield d.getIdToken();return yield Ts(d,function Bi(_,d){return _o.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var I,B,q,ye,Pe,at,Vt,hn;const Vn=null!==(I=p.displayName)&&void 0!==I?I:void 0,js=null!==(B=p.email)&&void 0!==B?B:void 0,Cn=null!==(q=p.phoneNumber)&&void 0!==q?q:void 0,Hl=null!==(ye=p.photoURL)&&void 0!==ye?ye:void 0,md=null!==(Pe=p.tenantId)&&void 0!==Pe?Pe:void 0,yd=null!==(at=p._redirectEventId)&&void 0!==at?at:void 0,Ah=null!==(Vt=p.createdAt)&&void 0!==Vt?Vt:void 0,Vf=null!==(hn=p.lastLoginAt)&&void 0!==hn?hn:void 0,{uid:_d,emailVerified:vd,isAnonymous:Hs,providerData:Mh,stsTokenManager:Uf}=p;vt(_d&&Uf,d,"internal-error");const Cm=Ti.fromJSON(this.name,Uf);vt("string"==typeof _d,d,"internal-error"),Mr(Vn,d.name),Mr(js,d.name),vt("boolean"==typeof vd,d,"internal-error"),vt("boolean"==typeof Hs,d,"internal-error"),Mr(Cn,d.name),Mr(Hl,d.name),Mr(md,d.name),Mr(yd,d.name),Mr(Ah,d.name),Mr(Vf,d.name);const Ed=new Ss({uid:_d,auth:d,email:js,emailVerified:vd,displayName:Vn,isAnonymous:Hs,photoURL:Hl,phoneNumber:Cn,tenantId:md,stsTokenManager:Cm,createdAt:Ah,lastLoginAt:Vf});return Mh&&Array.isArray(Mh)&&(Ed.providerData=Mh.map(wd=>Object.assign({},wd))),yd&&(Ed._redirectEventId=yd),Ed}static _fromIdTokenResponse(d,p,I=!1){return(0,ee.Z)(function*(){const B=new Ti;B.updateFromServerResponse(p);const q=new Ss({uid:p.localId,auth:d,stsTokenManager:B,isAnonymous:I});return yield bs(q),q})()}}const Qo=new Map;function $i(_){os(_ instanceof Function,"Expected a class definition");let d=Qo.get(_);return d?(os(d instanceof _,"Instance stored in cache mismatched with class"),d):(d=new _,Qo.set(_,d),d)}const ji=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ee.Z)(function*(){return!0})()}_set(p,I){var B=this;return(0,ee.Z)(function*(){B.storage[p]=I})()}_get(p){var I=this;return(0,ee.Z)(function*(){const B=I.storage[p];return void 0===B?null:B})()}_remove(p){var I=this;return(0,ee.Z)(function*(){delete I.storage[p]})()}_addListener(p,I){}_removeListener(p,I){}}return _.type="NONE",_})();function vi(_,d,p){return`firebase:${_}:${d}:${p}`}class Ls{constructor(d,p,I){this.persistence=d,this.auth=p,this.userKey=I;const{config:B,name:q}=this.auth;this.fullUserKey=vi(this.userKey,B.apiKey,q),this.fullPersistenceKey=vi("persistence",B.apiKey,q),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,ee.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?Ss._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,ee.Z)(function*(){if(p.persistence===d)return;const I=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,I?p.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,I="authUser"){return(0,ee.Z)(function*(){if(!p.length)return new Ls($i(ji),d,I);const B=(yield Promise.all(p.map(function(){var Vt=(0,ee.Z)(function*(hn){if(yield hn._isAvailable())return hn});return function(hn){return Vt.apply(this,arguments)}}()))).filter(Vt=>Vt);let q=B[0]||$i(ji);const ye=vi(I,d.config.apiKey,d.name);let Pe=null;for(const Vt of p)try{const hn=yield Vt._get(ye);if(hn){const Vn=Ss._fromJSON(d,hn);Vt!==q&&(Pe=Vn),q=Vt;break}}catch{}const at=B.filter(Vt=>Vt._shouldAllowMigration);return q._shouldAllowMigration&&at.length?(q=at[0],Pe&&(yield q._set(ye,Pe.toJSON())),yield Promise.all(p.map(function(){var Vt=(0,ee.Z)(function*(hn){if(hn!==q)try{yield hn._remove(ye)}catch{}});return function(hn){return Vt.apply(this,arguments)}}())),new Ls(q,d,I)):new Ls(q,d,I)})()}}function co(_){const d=_.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Xo(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Jo(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(As(d))return"Blackberry";if(xo(d))return"Webos";if(Qs(d))return"Safari";if((d.includes("chrome/")||en(d))&&!d.includes("edge/"))return"Chrome";if(ha(d))return"Android";{const I=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function Jo(_=(0,ce.z$)()){return/firefox\//i.test(_)}function Qs(_=(0,ce.z$)()){const d=_.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function en(_=(0,ce.z$)()){return/crios\//i.test(_)}function Xo(_=(0,ce.z$)()){return/iemobile/i.test(_)}function ha(_=(0,ce.z$)()){return/android/i.test(_)}function As(_=(0,ce.z$)()){return/blackberry/i.test(_)}function xo(_=(0,ce.z$)()){return/webos/i.test(_)}function L(_=(0,ce.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function ae(_=(0,ce.z$)()){return L(_)||ha(_)||xo(_)||As(_)||/windows phone/i.test(_)||Xo(_)}function nr(_,d=[]){let p;switch(_){case"Browser":p=co((0,ce.z$)());break;case"Worker":p=`${co((0,ce.z$)())}-${_}`;break;default:p=_}const I=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${Ae.Jn}/${I}`}function Vs(_,d){return Us.apply(this,arguments)}function Us(){return(Us=(0,ee.Z)(function*(_,d){return pr(_,"GET","/v2/recaptchaConfig",fr(_,d))})).apply(this,arguments)}function us(_){return void 0!==_&&void 0!==_.enterprise}class Bs{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function wo(_){return new Promise((d,p)=>{const I=document.createElement("script");I.setAttribute("src",_),I.onload=d,I.onerror=B=>{const q=gi("internal-error");q.customData=B,p(q)},I.type="text/javascript",I.charset="UTF-8",function Eo(){var _,d;return null!==(d=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==d?d:document}().appendChild(I)})}function wa(_){return`__${_}${Math.floor(1e6*Math.random())}`}const ea="NO_RECAPTCHA";class Po{constructor(d){this.type="recaptcha-enterprise",this.auth=Sn(d)}verify(d="verify",p=!1){var I=this;return(0,ee.Z)(function*(){function q(){return q=(0,ee.Z)(function*(Pe){if(!p){if(null==Pe.tenantId&&null!=Pe._agentRecaptchaConfig)return Pe._agentRecaptchaConfig.siteKey;if(null!=Pe.tenantId&&void 0!==Pe._tenantRecaptchaConfigs[Pe.tenantId])return Pe._tenantRecaptchaConfigs[Pe.tenantId].siteKey}return new Promise(function(){var at=(0,ee.Z)(function*(Vt,hn){Vs(Pe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Vn=>{if(void 0!==Vn.recaptchaKey){const js=new Bs(Vn);return null==Pe.tenantId?Pe._agentRecaptchaConfig=js:Pe._tenantRecaptchaConfigs[Pe.tenantId]=js,Vt(js.siteKey)}hn(new Error("recaptcha Enterprise site key undefined"))}).catch(Vn=>{hn(Vn)})});return function(Vt,hn){return at.apply(this,arguments)}}())}),q.apply(this,arguments)}function ye(Pe,at,Vt){const hn=window.grecaptcha;us(hn)?hn.enterprise.ready(()=>{hn.enterprise.execute(Pe,{action:d}).then(Vn=>{at(Vn)}).catch(()=>{at(ea)})}):Vt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Pe,at)=>{(function B(Pe){return q.apply(this,arguments)})(I.auth).then(Vt=>{if(!p&&us(window.grecaptcha))ye(Vt,Pe,at);else{if(typeof window>"u")return void at(new Error("RecaptchaVerifier is only supported in browser"));wo("https://www.google.com/recaptcha/enterprise.js?render="+Vt).then(()=>{ye(Vt,Pe,at)}).catch(hn=>{at(hn)})}}).catch(Vt=>{at(Vt)})})})()}}function Si(_,d,p){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,ee.Z)(function*(_,d,p,I=!1){const B=new Po(_);let q;try{q=yield B.verify(p)}catch{q=yield B.verify(p,!0)}const ye=Object.assign({},d);return Object.assign(ye,I?{captchaResp:q}:{captchaResponse:q}),Object.assign(ye,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ye,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ye})).apply(this,arguments)}class Ms{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const I=q=>new Promise((ye,Pe)=>{try{ye(d(q))}catch(at){Pe(at)}});I.onAbort=p,this.queue.push(I);const B=this.queue.length-1;return()=>{this.queue[B]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,ee.Z)(function*(){if(p.auth.currentUser===d)return;const I=[];try{for(const B of p.queue)yield B(d),B.onAbort&&I.push(B.onAbort)}catch(B){I.reverse();for(const q of I)try{q()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:B?.message})}})()}}class Ia{constructor(d,p,I,B){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=I,this.config=B,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ta(this),this.idTokenSubscription=new ta(this),this.beforeStateQueue=new Ms(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ds,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=B.sdkClientVersion}_initializeWithPersistence(d,p){var I=this;return p&&(this._popupRedirectResolver=$i(p)),this._initializationPromise=this.queue((0,ee.Z)(function*(){var B,q;if(!I._deleted&&(I.persistenceManager=yield Ls.create(I,d),!I._deleted)){if(null!==(B=I._popupRedirectResolver)&&void 0!==B&&B._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(p),I.lastNotifiedUid=(null===(q=I.currentUser)||void 0===q?void 0:q.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,ee.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUser(d){var p=this;return(0,ee.Z)(function*(){var I;const B=yield p.assertedPersistence.getCurrentUser();let q=B,ye=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Pe=null===(I=p.redirectUser)||void 0===I?void 0:I._redirectEventId,at=q?._redirectEventId,Vt=yield p.tryRedirectSignIn(d);(!Pe||Pe===at)&&Vt?.user&&(q=Vt.user,ye=!0)}if(!q)return p.directlySetCurrentUser(null);if(!q._redirectEventId){if(ye)try{yield p.beforeStateQueue.runMiddleware(q)}catch(Pe){q=B,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Pe))}return q?p.reloadAndSetCurrentUserOrClear(q):p.directlySetCurrentUser(null)}return vt(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===q._redirectEventId?p.directlySetCurrentUser(q):p.reloadAndSetCurrentUserOrClear(q)})()}tryRedirectSignIn(d){var p=this;return(0,ee.Z)(function*(){let I=null;try{I=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,ee.Z)(function*(){try{yield bs(d)}catch(I){if("auth/network-request-failed"!==I?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Ui(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var d=this;return(0,ee.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,ee.Z)(function*(){const I=d?(0,ce.m9)(d):null;return I&&vt(I.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(I&&I._clone(p))})()}_updateCurrentUser(d,p=!1){var I=this;return(0,ee.Z)(function*(){if(!I._deleted)return d&&vt(I.tenantId===d.tenantId,I,"tenant-id-mismatch"),p||(yield I.beforeStateQueue.runMiddleware(d)),I.queue((0,ee.Z)(function*(){yield I.directlySetCurrentUser(d),I.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,ee.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var p=this;return this.queue((0,ee.Z)(function*(){yield p.assertedPersistence.setPersistence($i(d))}))}initializeRecaptchaConfig(){var d=this;return(0,ee.Z)(function*(){const p=yield Vs(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new Bs(p);null==d.tenantId?d._agentRecaptchaConfig=I:d._tenantRecaptchaConfigs[d.tenantId]=I,I.emailPasswordEnabled&&new Po(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new ce.LL("auth","Firebase",d())}onAuthStateChanged(d,p,I){return this.registerStateListener(this.authStateSubscription,d,p,I)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,I){return this.registerStateListener(this.idTokenSubscription,d,p,I)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var I=this;return(0,ee.Z)(function*(){const B=yield I.getOrInitRedirectPersistenceManager(p);return null===d?B.removeCurrentUser():B.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,ee.Z)(function*(){if(!p.redirectPersistenceManager){const I=d&&$i(d)||p._popupRedirectResolver;vt(I,p,"argument-error"),p.redirectPersistenceManager=yield Ls.create(p,[$i(I._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,ee.Z)(function*(){var I,B;return p._isInitialized&&(yield p.queue((0,ee.Z)(function*(){}))),(null===(I=p._currentUser)||void 0===I?void 0:I._redirectEventId)===d?p._currentUser:(null===(B=p.redirectUser)||void 0===B?void 0:B._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,ee.Z)(function*(){if(d===p.currentUser)return p.queue((0,ee.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,I,B){if(this._deleted)return()=>{};const q="function"==typeof p?p:p.next.bind(p),ye=this._isInitialized?Promise.resolve():this._initializationPromise;return vt(ye,this,"internal-error"),ye.then(()=>q(this.currentUser)),"function"==typeof p?d.addObserver(p,I,B):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,ee.Z)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=nr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,ee.Z)(function*(){var p;const I={"X-Client-Version":d.clientVersion};d.app.options.appId&&(I["X-Firebase-gmpid"]=d.app.options.appId);const B=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();B&&(I["X-Firebase-Client"]=B);const q=yield d._getAppCheckToken();return q&&(I["X-Firebase-AppCheck"]=q),I})()}_getAppCheckToken(){var d=this;return(0,ee.Z)(function*(){var p;const I=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return I?.error&&function qs(_,...d){Qn.logLevel<=Le.in.WARN&&Qn.warn(`Auth (${Ae.Jn}): ${_}`,...d)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function Sn(_){return(0,ce.m9)(_)}class ta{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,ce.ne)(p=>this.observer=p)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fa(_){const d=_.indexOf(":");return d<0?"":_.substr(0,d+1)}function Oo(_){if(!_)return null;const d=Number(_);return isNaN(d)?null:d}class gs{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return Di("not implemented")}_getIdTokenResponse(d){return Di("not implemented")}_linkToIdToken(d,p){return Di("not implemented")}_getReauthenticationResolver(d){return Di("not implemented")}}function xs(_,d){return ko.apply(this,arguments)}function ko(){return(ko=(0,ee.Z)(function*(_,d){return pr(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Xi(_,d){return lr.apply(this,arguments)}function lr(){return(lr=(0,ee.Z)(function*(_,d){return yi(_,"POST","/v1/accounts:signInWithPassword",fr(_,d))})).apply(this,arguments)}function Qe(){return(Qe=(0,ee.Z)(function*(_,d){return yi(_,"POST","/v1/accounts:signInWithEmailLink",fr(_,d))})).apply(this,arguments)}function Fn(){return(Fn=(0,ee.Z)(function*(_,d){return yi(_,"POST","/v1/accounts:signInWithEmailLink",fr(_,d))})).apply(this,arguments)}class An extends gs{constructor(d,p,I,B=null){super("password",I),this._email=d,this._password=p,this._tenantId=B}static _fromEmailAndPassword(d,p){return new An(d,p,"password")}static _fromEmailAndCode(d,p,I=null){return new An(d,p,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,ee.Z)(function*(){var I;switch(p.signInMethod){case"password":const B={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=d._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const q=yield Si(d,B,"signInWithPassword");return Xi(d,q)}return Xi(d,B).catch(function(){var q=(0,ee.Z)(function*(ye){if("auth/missing-recaptcha-token"===ye.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Pe=yield Si(d,B,"signInWithPassword");return Xi(d,Pe)}return Promise.reject(ye)});return function(ye){return q.apply(this,arguments)}}());case"emailLink":return function ke(_,d){return Qe.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:ei(d,"internal-error")}})()}_linkToIdToken(d,p){var I=this;return(0,ee.Z)(function*(){switch(I.signInMethod){case"password":return xs(d,{idToken:p,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Et(_,d){return Fn.apply(this,arguments)}(d,{idToken:p,email:I._email,oobCode:I._password});default:ei(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Gn(_,d){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,ee.Z)(function*(_,d){return yi(_,"POST","/v1/accounts:signInWithIdp",fr(_,d))})).apply(this,arguments)}class ra{constructor(d){var p,I,B,q,ye,Pe;const at=(0,ce.zd)((0,ce.pd)(d)),Vt=null!==(p=at.apiKey)&&void 0!==p?p:null,hn=null!==(I=at.oobCode)&&void 0!==I?I:null,Vn=function ja(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(B=at.mode)&&void 0!==B?B:null);vt(Vt&&hn&&Vn,"argument-error"),this.apiKey=Vt,this.operation=Vn,this.code=hn,this.continueUrl=null!==(q=at.continueUrl)&&void 0!==q?q:null,this.languageCode=null!==(ye=at.languageCode)&&void 0!==ye?ye:null,this.tenantId=null!==(Pe=at.tenantId)&&void 0!==Pe?Pe:null}static parseLink(d){const p=function xa(_){const d=(0,ce.zd)((0,ce.pd)(_)).link,p=d?(0,ce.zd)((0,ce.pd)(d)).deep_link_id:null,I=(0,ce.zd)((0,ce.pd)(_)).deep_link_id;return(I?(0,ce.zd)((0,ce.pd)(I)).link:null)||I||p||d||_}(d);try{return new ra(p)}catch{return null}}}let eu=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,I){return An._fromEmailAndPassword(p,I)}static credentialWithLink(p,I){const B=ra.parseLink(I);return vt(B,"argument-error"),An._fromEmailAndCode(p,B.code,B.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Fo{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Au extends Fo{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}function mn(_,d){return tu.apply(this,arguments)}function tu(){return(tu=(0,ee.Z)(function*(_,d){return yi(_,"POST","/v1/accounts:signUp",fr(_,d))})).apply(this,arguments)}class M{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,I,B=!1){return(0,ee.Z)(function*(){const q=yield Ss._fromIdTokenResponse(d,I,B),ye=g(I);return new M({user:q,providerId:ye,_tokenResponse:I,operationType:p})})()}static _forOperation(d,p,I){return(0,ee.Z)(function*(){yield d._updateTokensIfNecessary(I,!0);const B=g(I);return new M({user:d,providerId:B,_tokenResponse:I,operationType:p})})()}}function g(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}class z extends ce.ZR{constructor(d,p,I,B){var q;super(p.code,p.message),this.operationType=I,this.user=B,Object.setPrototypeOf(this,z.prototype),this.customData={appName:d.name,tenantId:null!==(q=d.tenantId)&&void 0!==q?q:void 0,_serverResponse:p.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(d,p,I,B){return new z(d,p,I,B)}}function te(_,d,p,I){return("reauthenticate"===d?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(q=>{throw"auth/multi-factor-auth-required"===q.code?z._fromErrorAndOperation(_,q,d,I):q})}function qe(_,d){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,ee.Z)(function*(_,d,p=!1){const I=yield Ts(_,d._linkToIdToken(_.auth,yield _.getIdToken()),p);return M._forOperation(_,"link",I)})).apply(this,arguments)}function yn(_,d){return _n.apply(this,arguments)}function _n(){return(_n=(0,ee.Z)(function*(_,d,p=!1){const{auth:I}=_,B="reauthenticate";try{const q=yield Ts(_,te(I,B,d,_),p);vt(q.idToken,I,"internal-error");const ye=uo(q.idToken);vt(ye,I,"internal-error");const{sub:Pe}=ye;return vt(_.uid===Pe,I,"user-mismatch"),M._forOperation(_,B,q)}catch(q){throw"auth/user-not-found"===q?.code&&ei(I,"user-mismatch"),q}})).apply(this,arguments)}function tn(_,d){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,ee.Z)(function*(_,d,p=!1){const I="signIn",B=yield te(_,I,d),q=yield M._fromIdTokenResponse(_,I,B);return p||(yield _._updateCurrentUser(q.user)),q})).apply(this,arguments)}function Te(_,d){return _r.apply(this,arguments)}function _r(){return(_r=(0,ee.Z)(function*(_,d){return tn(Sn(_),d)})).apply(this,arguments)}function Ra(_,d,p){return ma.apply(this,arguments)}function ma(){return ma=(0,ee.Z)(function*(_,d,p){var I;const B=Sn(_),q={returnSecureToken:!0,email:d,password:p,clientType:"CLIENT_TYPE_WEB"};let ye;if(null!==(I=B._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Vt=yield Si(B,q,"signUpPassword");ye=mn(B,Vt)}else ye=mn(B,q).catch(function(){var Vt=(0,ee.Z)(function*(hn){if("auth/missing-recaptcha-token"===hn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Vn=yield Si(B,q,"signUpPassword");return mn(B,Vn)}return Promise.reject(hn)});return function(hn){return Vt.apply(this,arguments)}}());const Pe=yield ye.catch(Vt=>Promise.reject(Vt)),at=yield M._fromIdTokenResponse(B,"signIn",Pe);return yield B._updateCurrentUser(at.user),at}),ma.apply(this,arguments)}function _s(_,d,p){return Te((0,ce.m9)(_),eu.credential(d,p))}function es(_,d,p,I){return(0,ce.m9)(_).onAuthStateChanged(d,p,I)}const su="__sak";class Gc{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(su,"1"),this.storage.removeItem(su),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const gu=(()=>{class _ extends Gc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,I)=>this.onStorageEvent(p,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ic(){const _=(0,ce.z$)();return Qs(_)||L(_)}()&&function dt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ae(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const I of Object.keys(this.listeners)){const B=this.storage.getItem(I),q=this.localCache[I];B!==q&&p(I,q,B)}}onStorageEvent(p,I=!1){if(!p.key)return void this.forAllChangedKeys((Pe,at,Vt)=>{this.notifyListeners(Pe,Vt)});const B=p.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Pe=this.storage.getItem(B);if(p.newValue!==Pe)null!==p.newValue?this.storage.setItem(B,p.newValue):this.storage.removeItem(B);else if(this.localCache[B]===p.newValue&&!I)return}const q=()=>{const Pe=this.storage.getItem(B);!I&&this.localCache[B]===Pe||this.notifyListeners(B,Pe)},ye=this.storage.getItem(B);!function Z(){return(0,ce.w1)()&&10===document.documentMode}()||ye===p.newValue||p.newValue===p.oldValue?q():setTimeout(q,10)}notifyListeners(p,I){this.localCache[p]=I;const B=this.listeners[p];if(B)for(const q of Array.from(B))q(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,I,B)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:I,newValue:B}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,I){var B=()=>super._set,q=this;return(0,ee.Z)(function*(){yield B().call(q,p,I),q.localCache[p]=JSON.stringify(I)})()}_get(p){var I=()=>super._get,B=this;return(0,ee.Z)(function*(){const q=yield I().call(B,p);return B.localCache[p]=JSON.stringify(q),q})()}_remove(p){var I=()=>super._remove,B=this;return(0,ee.Z)(function*(){yield I().call(B,p),delete B.localCache[p]})()}}return _.type="LOCAL",_})(),oc=(()=>{class _ extends Gc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,I){}_removeListener(p,I){}}return _.type="SESSION",_})();let ac=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const I=this.receivers.find(q=>q.isListeningto(p));if(I)return I;const B=new _(p);return this.receivers.push(B),B}isListeningto(p){return this.eventTarget===p}handleEvent(p){var I=this;return(0,ee.Z)(function*(){const B=p,{eventId:q,eventType:ye,data:Pe}=B.data,at=I.handlersMap[ye];if(!at?.size)return;B.ports[0].postMessage({status:"ack",eventId:q,eventType:ye});const Vt=Array.from(at).map(function(){var Vn=(0,ee.Z)(function*(js){return js(B.origin,Pe)});return function(js){return Vn.apply(this,arguments)}}()),hn=yield function au(_){return Promise.all(_.map(function(){var d=(0,ee.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(I){return{fulfilled:!1,reason:I}}});return function(p){return d.apply(this,arguments)}}()))}(Vt);B.ports[0].postMessage({status:"done",eventId:q,eventType:ye,response:hn})})()}_subscribe(p,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(I)}_unsubscribe(p,I){this.handlersMap[p]&&I&&this.handlersMap[p].delete(I),(!I||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Rs(_="",d=10){let p="";for(let I=0;I<d;I++)p+=Math.floor(10*Math.random());return _+p}class po{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,I=50){var B=this;return(0,ee.Z)(function*(){const q=typeof MessageChannel<"u"?new MessageChannel:null;if(!q)throw new Error("connection_unavailable");let ye,Pe;return new Promise((at,Vt)=>{const hn=Rs("",20);q.port1.start();const Vn=setTimeout(()=>{Vt(new Error("unsupported_event"))},I);Pe={messageChannel:q,onMessage(js){const Cn=js;if(Cn.data.eventId===hn)switch(Cn.data.status){case"ack":clearTimeout(Vn),ye=setTimeout(()=>{Vt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ye),at(Cn.data.response);break;default:clearTimeout(Vn),clearTimeout(ye),Vt(new Error("invalid_response"))}}},B.handlers.add(Pe),q.port1.addEventListener("message",Pe.onMessage),B.target.postMessage({eventType:d,eventId:hn,data:p},[q.port2])}).finally(()=>{Pe&&B.removeMessageHandler(Pe)})})()}}function ws(){return window}function Aa(){return typeof ws().WorkerGlobalScope<"u"&&"function"==typeof ws().importScripts}function El(){return(El=(0,ee.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const G="firebaseLocalStorageDb",ne=1,he="firebaseLocalStorage",Ce="fbase_key";class ze{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Pt(_,d){return _.transaction([he],d?"readwrite":"readonly").objectStore(he)}function Lt(){const _=indexedDB.open(G,ne);return new Promise((d,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const I=_.result;try{I.createObjectStore(he,{keyPath:Ce})}catch(B){p(B)}}),_.addEventListener("success",(0,ee.Z)(function*(){const I=_.result;I.objectStoreNames.contains(he)?d(I):(I.close(),yield function bt(){const _=indexedDB.deleteDatabase(G);return new ze(_).toPromise()}(),d(yield Lt()))}))})}function Tn(_,d,p){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,ee.Z)(function*(_,d,p){const I=Pt(_,!0).put({[Ce]:d,value:p});return new ze(I).toPromise()})).apply(this,arguments)}function Ns(){return(Ns=(0,ee.Z)(function*(_,d){const p=Pt(_,!1).get(d),I=yield new ze(p).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Ou(_,d){const p=Pt(_,!0).delete(d);return new ze(p).toPromise()}const ka=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,ee.Z)(function*(){return p.db||(p.db=yield Lt()),p.db})()}_withRetries(p){var I=this;return(0,ee.Z)(function*(){let B=0;for(;;)try{const q=yield I._openDb();return yield p(q)}catch(q){if(B++>3)throw q;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,ee.Z)(function*(){return Aa()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,ee.Z)(function*(){p.receiver=ac._getInstance(function P(){return Aa()?self:null}()),p.receiver._subscribe("keyChanged",function(){var I=(0,ee.Z)(function*(B,q){return{keyProcessed:(yield p._poll()).includes(q.key)}});return function(B,q){return I.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var I=(0,ee.Z)(function*(B,q){return["keyChanged"]});return function(B,q){return I.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,ee.Z)(function*(){var I,B;if(p.activeServiceWorker=yield function vl(){return El.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new po(p.activeServiceWorker);const q=yield p.sender._send("ping",{},800);q&&null!==(I=q[0])&&void 0!==I&&I.fulfilled&&null!==(B=q[0])&&void 0!==B&&B.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var I=this;return(0,ee.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function C(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:p},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ee.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Lt();return yield Tn(p,su,"1"),yield Ou(p,su),!0}catch{}return!1})()}_withPendingWrite(p){var I=this;return(0,ee.Z)(function*(){I.pendingWrites++;try{yield p()}finally{I.pendingWrites--}})()}_set(p,I){var B=this;return(0,ee.Z)(function*(){return B._withPendingWrite((0,ee.Z)(function*(){return yield B._withRetries(q=>Tn(q,p,I)),B.localCache[p]=I,B.notifyServiceWorker(p)}))})()}_get(p){var I=this;return(0,ee.Z)(function*(){const B=yield I._withRetries(q=>function Ho(_,d){return Ns.apply(this,arguments)}(q,p));return I.localCache[p]=B,B})()}_remove(p){var I=this;return(0,ee.Z)(function*(){return I._withPendingWrite((0,ee.Z)(function*(){return yield I._withRetries(B=>Ou(B,p)),delete I.localCache[p],I.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,ee.Z)(function*(){const I=yield p._withRetries(ye=>{const Pe=Pt(ye,!1).getAll();return new ze(Pe).toPromise()});if(!I)return[];if(0!==p.pendingWrites)return[];const B=[],q=new Set;for(const{fbase_key:ye,value:Pe}of I)q.add(ye),JSON.stringify(p.localCache[ye])!==JSON.stringify(Pe)&&(p.notifyListeners(ye,Pe),B.push(ye));for(const ye of Object.keys(p.localCache))p.localCache[ye]&&!q.has(ye)&&(p.notifyListeners(ye,null),B.push(ye));return B})()}notifyListeners(p,I){this.localCache[p]=I;const B=this.listeners[p];if(B)for(const q of Array.from(B))q(I)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,ee.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();wa("rcb"),new Yn(3e4,6e4);class Fu extends gs{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Gn(d,this._buildIdpRequest())}_linkToIdToken(d,p){return Gn(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return Gn(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function ff(_){return tn(_.auth,new Fu(_),_.bypassAuthState)}function vu(_){const{auth:d,user:p}=_;return vt(p,d,"internal-error"),yn(p,new Fu(_),_.bypassAuthState)}function hc(_){return sl.apply(this,arguments)}function sl(){return(sl=(0,ee.Z)(function*(_){const{auth:d,user:p}=_;return vt(p,d,"internal-error"),qe(p,new Fu(_),_.bypassAuthState)})).apply(this,arguments)}class pf{constructor(d,p,I,B,q=!1){this.auth=d,this.resolver=I,this.user=B,this.bypassAuthState=q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,ee.Z)(function*(I,B){d.pendingPromise={resolve:I,reject:B};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(q){d.reject(q)}});return function(I,B){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,ee.Z)(function*(){const{urlResponse:I,sessionId:B,postBody:q,tenantId:ye,error:Pe,type:at}=d;if(Pe)return void p.reject(Pe);const Vt={auth:p.auth,requestUri:I,sessionId:B,tenantId:ye||void 0,postBody:q||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(at)(Vt))}catch(hn){p.reject(hn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return ff;case"linkViaPopup":case"linkViaRedirect":return hc;case"reauthViaPopup":case"reauthViaRedirect":return vu;default:ei(this.auth,"internal-error")}}resolve(d){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Yn(2e3,1e4);const rh="pendingRedirect",al=new Map;class Cl extends pf{constructor(d,p,I=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,I),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,ee.Z)(function*(){let I=al.get(p.auth._key());if(!I){try{const q=(yield function Tl(_,d){return lu.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;I=()=>Promise.resolve(q)}catch(B){I=()=>Promise.reject(B)}al.set(p.auth._key(),I)}return p.bypassAuthState||al.set(p.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,I=this;return(0,ee.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(I,d);if("unknown"!==d.type){if(d.eventId){const B=yield I.auth._redirectUserForId(d.eventId);if(B)return I.user=B,p().call(I,d);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,ee.Z)(function*(){})()}cleanUp(){}}function lu(){return(lu=(0,ee.Z)(function*(_,d){const p=function bl(_){return vi(rh,_.config.apiKey,_.name)}(d),I=function Xc(_){return $i(_._redirectPersistence)}(_);if(!(yield I._isAvailable()))return!1;const B="true"===(yield I._get(p));return yield I._remove(p),B})).apply(this,arguments)}function ul(_,d){al.set(_._key(),d)}function Uu(_,d){return La.apply(this,arguments)}function La(){return(La=(0,ee.Z)(function*(_,d,p=!1){const I=Sn(_),B=function _u(_,d){return d?$i(d):(vt(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}(I,d),ye=yield new Cl(I,B,p).execute();return ye&&!p&&(delete ye.user._redirectEventId,yield I._persistUserIfCurrent(ye.user),yield I._setRedirectUser(null,d)),ye})).apply(this,arguments)}class Pl{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(d,I)&&(p=!0,this.sendToConsumer(d,I),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function uh(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nd(_);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var I;if(d.error&&!nd(d)){const B=(null===(I=d.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";p.onError(gi(this.auth,B))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const I=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&I}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(td(d))}saveEventToCache(d){this.cachedEventUids.add(td(d)),this.lastProcessedEventTime=Date.now()}}function td(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(d=>d).join("-")}function nd({type:_,error:d}){return"unknown"===_&&"auth/no-auth-event"===d?.code}function ll(){return(ll=(0,ee.Z)(function*(_,d={}){return pr(_,"GET","/v1/projects",d)})).apply(this,arguments)}const Up=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,no=/^https?/;function lh(){return lh=(0,ee.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:d}=yield function cu(_){return ll.apply(this,arguments)}(_);for(const p of d)try{if(Bp(p))return}catch{}ei(_,"unauthorized-domain")}),lh.apply(this,arguments)}function Bp(_){const d=Pi(),{protocol:p,hostname:I}=new URL(d);if(_.startsWith("chrome-extension://")){const ye=new URL(_);return""===ye.hostname&&""===I?"chrome-extension:"===p&&_.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&ye.hostname===I}if(!no.test(p))return!1;if(Up.test(_))return I===_;const B=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+B+"|"+B+")$","i").test(I)}const mf=new Yn(3e4,6e4);function Rl(){const _=ws().___jsl;if(_?.H)for(const d of Object.keys(_.H))if(_.H[d].r=_.H[d].r||[],_.H[d].L=_.H[d].L||[],_.H[d].r=[..._.H[d].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let rd=null;const vf=new Yn(5e3,15e3),mc="__/auth/iframe",Ma="emulator/auth/iframe",wu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yc(_){const d=_.config;vt(d.authDomain,_,"auth-domain-config-required");const p=d.emulator?qi(d,Ma):`https://${_.config.authDomain}/${mc}`,I={apiKey:d.apiKey,appName:_.name,v:Ae.Jn},B=Nl.get(_.config.apiHost);B&&(I.eid=B);const q=_._getFrameworks();return q.length&&(I.fw=q.join(",")),`${p}?${(0,ce.xO)(I).slice(1)}`}function dh(){return dh=(0,ee.Z)(function*(_){const d=yield function _f(_){return rd=rd||function yf(_){return new Promise((d,p)=>{var I,B,q;function ye(){Rl(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Rl(),p(gi(_,"network-request-failed"))},timeout:mf.get()})}if(null!==(B=null===(I=ws().gapi)||void 0===I?void 0:I.iframes)&&void 0!==B&&B.Iframe)d(gapi.iframes.getContext());else{if(null===(q=ws().gapi)||void 0===q||!q.load){const Pe=wa("iframefcb");return ws()[Pe]=()=>{gapi.load?ye():p(gi(_,"network-request-failed"))},wo(`https://apis.google.com/js/api.js?onload=${Pe}`).catch(at=>p(at))}ye()}}).catch(d=>{throw rd=null,d})}(_),rd}(_),p=ws().gapi;return vt(p,_,"internal-error"),d.open({where:document.body,url:yc(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wu,dontclear:!0},I=>new Promise(function(){var B=(0,ee.Z)(function*(q,ye){yield I.restyle({setHideOnLeave:!1});const Pe=gi(_,"network-request-failed"),at=ws().setTimeout(()=>{ye(Pe)},vf.get());function Vt(){ws().clearTimeout(at),q(I)}I.ping(Vt).then(Vt,()=>{ye(Pe)})});return function(q,ye){return B.apply(this,arguments)}}()))}),dh.apply(this,arguments)}const $p={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ym=500,id=600,sd="_blank",_m="http://localhost";class jp{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const hh="__/auth/handler",Ol="emulator/auth/handler",wf=encodeURIComponent("fac");function fh(_,d,p,I,B,q){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,ee.Z)(function*(_,d,p,I,B,q){vt(_.config.authDomain,_,"auth-domain-config-required"),vt(_.config.apiKey,_,"invalid-api-key");const ye={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:I,v:Ae.Jn,eventId:B};if(d instanceof Fo){d.setDefaultLanguage(_.languageCode),ye.providerId=d.providerId||"",(0,ce.xb)(d.getCustomParameters())||(ye.customParameters=JSON.stringify(d.getCustomParameters()));for(const[hn,Vn]of Object.entries(q||{}))ye[hn]=Vn}if(d instanceof Au){const hn=d.getScopes().filter(Vn=>""!==Vn);hn.length>0&&(ye.scopes=hn.join(","))}_.tenantId&&(ye.tid=_.tenantId);const Pe=ye;for(const hn of Object.keys(Pe))void 0===Pe[hn]&&delete Pe[hn];const at=yield _._getAppCheckToken(),Vt=at?`#${wf}=${encodeURIComponent(at)}`:"";return`${function ph({config:_}){return _.emulator?qi(_,Ol):`https://${_.authDomain}/${hh}`}(_)}?${(0,ce.xO)(Pe).slice(1)}${Vt}`})).apply(this,arguments)}const kl="webStorageSupport",wi=class _c{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oc,this._completeRedirectFn=Uu,this._overrideRedirectResult=ul}_openPopup(d,p,I,B){var q=this;return(0,ee.Z)(function*(){var ye;os(null===(ye=q.eventManagers[d._key()])||void 0===ye?void 0:ye.manager,"_initialize() not called before _openPopup()");const Pe=yield fh(d,p,I,Pi(),B);return function Ef(_,d,p,I=ym,B=id){const q=Math.max((window.screen.availHeight-B)/2,0).toString(),ye=Math.max((window.screen.availWidth-I)/2,0).toString();let Pe="";const at=Object.assign(Object.assign({},$p),{width:I.toString(),height:B.toString(),top:q,left:ye}),Vt=(0,ce.z$)().toLowerCase();p&&(Pe=en(Vt)?sd:p),Jo(Vt)&&(d=d||_m,at.scrollbars="yes");const hn=Object.entries(at).reduce((js,[Cn,Hl])=>`${js}${Cn}=${Hl},`,"");if(function N(_=(0,ce.z$)()){var d;return L(_)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Vt)&&"_self"!==Pe)return function Hp(_,d){const p=document.createElement("a");p.href=_,p.target=d;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(I)}(d||"",Pe),new jp(null);const Vn=window.open(d||"",Pe,hn);vt(Vn,_,"popup-blocked");try{Vn.focus()}catch{}return new jp(Vn)}(d,Pe,Rs())})()}_openRedirect(d,p,I,B){var q=this;return(0,ee.Z)(function*(){return yield q._originValidation(d),function ki(_){ws().location.href=_}(yield fh(d,p,I,Pi(),B)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:B,promise:q}=this.eventManagers[p];return B?Promise.resolve(B):(os(q,"If manager is not set, promise should be"),q)}const I=this.initAndGetManager(d);return this.eventManagers[p]={promise:I},I.catch(()=>{delete this.eventManagers[p]}),I}initAndGetManager(d){var p=this;return(0,ee.Z)(function*(){const I=yield function ch(_){return dh.apply(this,arguments)}(d),B=new Pl(d);return I.register("authEvent",q=>(vt(q?.authEvent,d,"invalid-auth-event"),{status:B.onEvent(q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:B},p.iframes[d._key()]=I,B})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(kl,{type:kl},B=>{var q;const ye=null===(q=B?.[0])||void 0===q?void 0:q[kl];void 0!==ye&&p(!!ye),ei(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Ur(_){return lh.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return ae()||Qs()||L()}};var Cf="@firebase/auth";class Tf{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,ee.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(I=>{d(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);p&&(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const yh=(0,ce.Pz)("authIdTokenMaxAge")||300;let _h=null;const vh=_=>function(){var d=(0,ee.Z)(function*(p){const I=p&&(yield p.getIdTokenResult()),B=I&&((new Date).getTime()-Date.parse(I.issuedAtTime))/1e3;if(B&&B>yh)return;const q=I?.token;_h!==q&&(_h=q,yield fetch(_,{method:q?"POST":"DELETE",headers:q?{Authorization:`Bearer ${q}`}:{}}))});return function(p){return d.apply(this,arguments)}}();function Em(_=(0,Ae.Mq)()){const d=(0,Ae.qX)(_,"auth");if(d.isInitialized())return d.getImmediate();const p=function na(_,d){const p=(0,Ae.qX)(_,"auth");if(p.isInitialized()){const B=p.getImmediate(),q=p.getOptions();if((0,ce.vZ)(q,d??{}))return B;ei(B,"already-initialized")}return p.initialize({options:d})}(_,{popupRedirectResolver:wi,persistence:[ka,gu,oc]}),I=(0,ce.Pz)("authTokenSyncURL");if(I){const q=vh(I);(function ru(_,d,p){(0,ce.m9)(_).beforeAuthStateChanged(d,p)})(p,q,()=>q(p.currentUser)),function jc(_,d,p,I){(0,ce.m9)(_).onIdTokenChanged(d,p,I)}(p,ye=>q(ye))}const B=(0,ce.q4)("auth");return B&&function Ro(_,d,p){const I=Sn(_);vt(I._canInitEmulator,I,"emulator-config-failed"),vt(/^https?:\/\//.test(d),I,"invalid-emulator-scheme");const B=!!p?.disableWarnings,q=fa(d),{host:ye,port:Pe}=function No(_){const d=fa(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(d.length));if(!p)return{host:"",port:null};const I=p[2].split("@").pop()||"",B=/^(\[[^\]]+\])(:|$)/.exec(I);if(B){const q=B[1];return{host:q,port:Oo(I.substr(q.length+1))}}{const[q,ye]=I.split(":");return{host:q,port:Oo(ye)}}}(d);I.config.emulator={url:`${q}//${ye}${null===Pe?"":`:${Pe}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:ye,port:Pe,protocol:q.replace(":",""),options:Object.freeze({disableWarnings:B})}),B||function Qa(){function _(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(p,`http://${B}`),p}!function Fl(_){(0,Ae.Xd)(new Be.wA("auth",(d,{options:p})=>{const I=d.getProvider("app").getImmediate(),B=d.getProvider("heartbeat"),q=d.getProvider("app-check-internal"),{apiKey:ye,authDomain:Pe}=I.options;vt(ye&&!ye.includes(":"),"invalid-api-key",{appName:I.name});const at={apiKey:ye,authDomain:Pe,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nr(_)},Vt=new Ia(I,B,q,at);return function ps(_,d){const p=d?.persistence||[],I=(Array.isArray(p)?p:[p]).map($i);d?.errorMap&&_._updateErrorMap(d.errorMap),_._initializeWithPersistence(I,d?.popupRedirectResolver)}(Vt,p),Vt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,I)=>{d.getProvider("auth-internal").initialize()})),(0,Ae.Xd)(new Be.wA("auth-internal",d=>{const p=Sn(d.getProvider("auth").getImmediate());return new Tf(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ae.KN)(Cf,"0.23.2",function vm(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,Ae.KN)(Cf,"0.23.2","esm2017")}("Browser");var Gp=Y(9751);function bf(_){return new Gp.y(function(d){return{unsubscribe:es(_,d.next.bind(d),d.error.bind(d),d.complete.bind(d))}})}class Ll{constructor(d){return d}}const wc=new re.OlP("angularfire2.auth-instances");function Bu(_){return(d,p)=>{const I=d.runOutsideAngular(()=>_(p));return new Ll(I)}}const ud={provide:class Af{constructor(){return(0,w.vb)("auth")}},deps:[[new re.FiY,wc]]},Du={provide:Ll,useFactory:function Mf(_,d){const p=(0,w.JM)("auth",_,d);return p&&new Ll(p)},deps:[[new re.FiY,wc],k.Ot]};let hu=(()=>{class _{constructor(){(0,De.KN)("angularfire",w.q4.full,"auth")}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=re.oAB({type:_}),_.\u0275inj=re.cJS({providers:[Du,ud]}),_})();function hl(_,...d){return{ngModule:hu,providers:[{provide:wc,useFactory:Bu(_),multi:!0,deps:[re.R0b,re.zs3,w.HU,k.z6,[new re.FiY,dr],...d]}]}}const fl=(0,w.u3)(bf,!0),pl=(0,w.u3)(Ra,!0),Dh=(0,w.u3)(Em,!0),dd=(0,w.u3)(es,!0),Ff=(0,w.u3)(_s,!0)},3562:(sn,Ye,Y)=>{Y.d(Ye,{gg:()=>yt,Um:()=>nt,ET:()=>Rr,hJ:()=>ni,BS:()=>Kt,JU:()=>Wn,Jm:()=>fi,QT:()=>xt,IO:()=>sr,pl:()=>le,ar:()=>ve});var w=Y(4976),re=Y(1571),k=Y(3692),De=Y(259),ee=Y(7396),Ae=Y(9751),Be=Y(4004),ce={includeMetadataChanges:!1};function St(Re,We){return void 0===We&&(We={}),function ht(Re){return function Le(Re,We){return void 0===We&&(We=ce),new Ae.y(function(At){return{unsubscribe:(0,ee.cf)(Re,We,{next:At.next.bind(At),error:At.error.bind(At),complete:At.complete.bind(At)})}})}(Re,{includeMetadataChanges:!0}).pipe((0,Be.U)(function(We){return We.docs}))}(Re).pipe((0,Be.U)(function(At){return At.map(function(Jt){return function xe(Re,We){void 0===We&&(We={});var At=Re.data();return!Re.exists()||"object"!=typeof At||null===At||We.idField&&(At[We.idField]=Re.id),At}(Jt,We)})}))}class yt{constructor(We){return We}}const pn="firestore",on=new re.OlP("angularfire2.firestore-instances"),Se={provide:class bn{constructor(){return(0,w.vb)(pn)}},deps:[[new re.FiY,on]]},et={provide:yt,useFactory:function ct(Re,We){const At=(0,w.JM)(pn,Re,We);return At&&new yt(At)},deps:[[new re.FiY,on],k.Ot]};let nt=(()=>{class Re{constructor(){(0,De.KN)("angularfire",w.q4.full,"fst")}}return Re.\u0275fac=function(At){return new(At||Re)},Re.\u0275mod=re.oAB({type:Re}),Re.\u0275inj=re.cJS({providers:[et,Se]}),Re})();const Kt=(0,w.u3)(St,!0),Rr=(0,w.u3)(ee.ET,!0),ni=(0,w.u3)(ee.hJ,!0),Wn=(0,w.u3)(ee.JU,!0),fi=(0,w.u3)(ee.Jm,!0),xt=(0,w.u3)(ee.QT,!0),sr=(0,w.u3)(ee.IO,!0),le=(0,w.u3)(ee.pl,!0),ve=(0,w.u3)(ee.ar,!0)},4976:(sn,Ye,Y)=>{Y.d(Ye,{q4:()=>za,HU:()=>oc,vb:()=>Zd,JM:()=>Kd,u3:()=>El});var w=Y(1571),re=Y(259),k=Y(5861),De=Y(6881),ee=Y(2090),Ae=Y(4859),Be=Y(1877);const ce=(C,P)=>P.some(G=>C instanceof G);let Le,se;const rt=new WeakMap,st=new WeakMap,gt=new WeakMap,mt=new WeakMap,fn=new WeakMap;let wn={get(C,P,G){if(C instanceof IDBTransaction){if("done"===P)return st.get(C);if("objectStoreNames"===P)return C.objectStoreNames||gt.get(C);if("store"===P)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return lt(C[P])},set:(C,P,G)=>(C[P]=G,!0),has:(C,P)=>C instanceof IDBTransaction&&("done"===P||"store"===P)||P in C};function He(C){return"function"==typeof C?function ht(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xe(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...P){return C.apply(St(this),P),lt(rt.get(this))}:function(...P){return lt(C.apply(St(this),P))}:function(P,...G){const ne=C.call(St(this),P,...G);return gt.set(ne,P.sort?P.sort():[P]),lt(ne)}}(C):(C instanceof IDBTransaction&&function zn(C){if(st.has(C))return;const P=new Promise((G,ne)=>{const he=()=>{C.removeEventListener("complete",Ce),C.removeEventListener("error",ze),C.removeEventListener("abort",ze)},Ce=()=>{G(),he()},ze=()=>{ne(C.error||new DOMException("AbortError","AbortError")),he()};C.addEventListener("complete",Ce),C.addEventListener("error",ze),C.addEventListener("abort",ze)});st.set(C,P)}(C),ce(C,function me(){return Le||(Le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,wn):C)}function lt(C){if(C instanceof IDBRequest)return function Ut(C){const P=new Promise((G,ne)=>{const he=()=>{C.removeEventListener("success",Ce),C.removeEventListener("error",ze)},Ce=()=>{G(lt(C.result)),he()},ze=()=>{ne(C.error),he()};C.addEventListener("success",Ce),C.addEventListener("error",ze)});return P.then(G=>{G instanceof IDBCursor&&rt.set(G,C)}).catch(()=>{}),fn.set(P,C),P}(C);if(mt.has(C))return mt.get(C);const P=He(C);return P!==C&&(mt.set(C,P),fn.set(P,C)),P}const St=C=>fn.get(C),bn=["get","getKey","getAll","getAllKeys","count"],$t=["put","add","delete","clear"],on=new Map;function ct(C,P){if(!(C instanceof IDBDatabase)||P in C||"string"!=typeof P)return;if(on.get(P))return on.get(P);const G=P.replace(/FromIndex$/,""),ne=P!==G,he=$t.includes(G);if(!(G in(ne?IDBIndex:IDBObjectStore).prototype)||!he&&!bn.includes(G))return;const Ce=function(){var ze=(0,k.Z)(function*(Pt,...bt){const Lt=this.transaction(Pt,he?"readwrite":"readonly");let Tn=Lt.store;return ne&&(Tn=Tn.index(bt.shift())),(yield Promise.all([Tn[G](...bt),he&&Lt.done]))[0]});return function(bt){return ze.apply(this,arguments)}}();return on.set(P,Ce),Ce}!function Fe(C){wn=C(wn)}(C=>({...C,get:(P,G,ne)=>ct(P,G)||C.get(P,G,ne),has:(P,G)=>!!ct(P,G)||C.has(P,G)}));const Ge="@firebase/installations",Se="0.6.4",et=1e4,nt=`w:${Se}`,ft="FIS_v2",pt="https://firebaseinstallations.googleapis.com/v1",an=36e5,jt=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Mt(C){return C instanceof ee.ZR&&C.code.includes("request-failed")}function jn({projectId:C}){return`${pt}/projects/${C}/installations`}function Zr(C){return{token:C.token,requestStatus:2,expiresIn:Fi(C.expiresIn),creationTime:Date.now()}}function Rr(C,P){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,k.Z)(function*(C,P){const ne=(yield P.json()).error;return jt.create("request-failed",{requestName:C,serverCode:ne.code,serverMessage:ne.message,serverStatus:ne.status})})).apply(this,arguments)}function Mi({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function ni(C){return ns.apply(this,arguments)}function ns(){return(ns=(0,k.Z)(function*(C){const P=yield C();return P.status>=500&&P.status<600?C():P})).apply(this,arguments)}function Fi(C){return Number(C.replace("s","000"))}function Yr(){return(Yr=(0,k.Z)(function*({appConfig:C,heartbeatServiceProvider:P},{fid:G}){const ne=jn(C),he=Mi(C),Ce=P.getImmediate({optional:!0});if(Ce){const Lt=yield Ce.getHeartbeatsHeader();Lt&&he.append("x-firebase-client",Lt)}const Pt={method:"POST",headers:he,body:JSON.stringify({fid:G,authVersion:ft,appId:C.appId,sdkVersion:nt})},bt=yield ni(()=>fetch(ne,Pt));if(bt.ok){const Lt=yield bt.json();return{fid:Lt.fid||G,registrationStatus:2,refreshToken:Lt.refreshToken,authToken:Zr(Lt.authToken)}}throw yield Rr("Create Installation",bt)})).apply(this,arguments)}function Wn(C){return new Promise(P=>{setTimeout(P,C)})}const rs=/^[cdef][\w-]{21}$/,Ht="";function zi(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const G=function Ii(C){return function fi(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return rs.test(G)?G:Ht}catch{return Ht}}function dn(C){return`${C.appName}!${C.appId}`}const xt=new Map;function kt(C,P){const G=dn(C);ii(G,P),function Li(C,P){const G=function Vi(){return!wr&&"BroadcastChannel"in self&&(wr=new BroadcastChannel("[Firebase] FID Change"),wr.onmessage=C=>{ii(C.data.key,C.data.fid)}),wr}();G&&G.postMessage({key:C,fid:P}),function qn(){0===xt.size&&wr&&(wr.close(),wr=null)}()}(G,P)}function ii(C,P){const G=xt.get(C);if(G)for(const ne of G)ne(P)}let wr=null;const oo="firebase-installations-database",Zn=1,cr="firebase-installations-store";let er=null;function jr(){return er||(er=function yt(C,P,{blocked:G,upgrade:ne,blocking:he,terminated:Ce}={}){const ze=indexedDB.open(C,P),Pt=lt(ze);return ne&&ze.addEventListener("upgradeneeded",bt=>{ne(lt(ze.result),bt.oldVersion,bt.newVersion,lt(ze.transaction))}),G&&ze.addEventListener("blocked",()=>G()),Pt.then(bt=>{Ce&&bt.addEventListener("close",()=>Ce()),he&&bt.addEventListener("versionchange",()=>he())}).catch(()=>{}),Pt}(oo,Zn,{upgrade:(C,P)=>{0===P&&C.createObjectStore(cr)}})),er}function Qt(C,P){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,k.Z)(function*(C,P){const G=dn(C),he=(yield jr()).transaction(cr,"readwrite"),Ce=he.objectStore(cr),ze=yield Ce.get(G);return yield Ce.put(P,G),yield he.done,(!ze||ze.fid!==P.fid)&&kt(C,P.fid),P})).apply(this,arguments)}function sr(C){return si.apply(this,arguments)}function si(){return(si=(0,k.Z)(function*(C){const P=dn(C),ne=(yield jr()).transaction(cr,"readwrite");yield ne.objectStore(cr).delete(P),yield ne.done})).apply(this,arguments)}function pi(C,P){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,k.Z)(function*(C,P){const G=dn(C),he=(yield jr()).transaction(cr,"readwrite"),Ce=he.objectStore(cr),ze=yield Ce.get(G),Pt=P(ze);return void 0===Pt?yield Ce.delete(G):yield Ce.put(Pt,G),yield he.done,Pt&&(!ze||ze.fid!==Pt.fid)&&kt(C,Pt.fid),Pt})).apply(this,arguments)}function fe(C){return le.apply(this,arguments)}function le(){return le=(0,k.Z)(function*(C){let P;const G=yield pi(C.appConfig,ne=>{const he=function we(C){return ve(C||{fid:zi(),registrationStatus:0})}(ne),Ce=function Ze(C,P){if(0===P.registrationStatus){if(!navigator.onLine)return{installationEntry:P,registrationPromise:Promise.reject(jt.create("app-offline"))};const G={fid:P.fid,registrationStatus:1,registrationTime:Date.now()},ne=function Oe(C,P){return Tt.apply(this,arguments)}(C,G);return{installationEntry:G,registrationPromise:ne}}return 1===P.registrationStatus?{installationEntry:P,registrationPromise:Ee(C)}:{installationEntry:P}}(C,he);return P=Ce.registrationPromise,Ce.installationEntry});return G.fid===Ht?{installationEntry:yield P}:{installationEntry:G,registrationPromise:P}}),le.apply(this,arguments)}function Tt(){return Tt=(0,k.Z)(function*(C,P){try{const G=yield function br(C,P){return Yr.apply(this,arguments)}(C,P);return Qt(C.appConfig,G)}catch(G){throw Mt(G)&&409===G.customData.serverCode?yield sr(C.appConfig):yield Qt(C.appConfig,{fid:P.fid,registrationStatus:0}),G}}),Tt.apply(this,arguments)}function Ee(C){return pe.apply(this,arguments)}function pe(){return(pe=(0,k.Z)(function*(C){let P=yield ie(C.appConfig);for(;1===P.registrationStatus;)yield Wn(100),P=yield ie(C.appConfig);if(0===P.registrationStatus){const{installationEntry:G,registrationPromise:ne}=yield fe(C);return ne||G}return P})).apply(this,arguments)}function ie(C){return pi(C,P=>{if(!P)throw jt.create("installation-not-found");return ve(P)})}function ve(C){return function Ke(C){return 1===C.registrationStatus&&C.registrationTime+et<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function We(){return(We=(0,k.Z)(function*({appConfig:C,heartbeatServiceProvider:P},G){const ne=function At(C,{fid:P}){return`${jn(C)}/${P}/authTokens:generate`}(C,G),he=function $r(C,{refreshToken:P}){const G=Mi(C);return G.append("Authorization",function cn(C){return`${ft} ${C}`}(P)),G}(C,G),Ce=P.getImmediate({optional:!0});if(Ce){const Lt=yield Ce.getHeartbeatsHeader();Lt&&he.append("x-firebase-client",Lt)}const Pt={method:"POST",headers:he,body:JSON.stringify({installation:{sdkVersion:nt,appId:C.appId}})},bt=yield ni(()=>fetch(ne,Pt));if(bt.ok)return Zr(yield bt.json());throw yield Rr("Generate Auth Token",bt)})).apply(this,arguments)}function Jt(C){return tr.apply(this,arguments)}function tr(){return tr=(0,k.Z)(function*(C,P=!1){let G;const ne=yield pi(C.appConfig,Ce=>{if(!En(Ce))throw jt.create("not-registered");const ze=Ce.authToken;if(!P&&function Un(C){return 2===C.requestStatus&&!function dr(C){const P=Date.now();return P<C.creationTime||C.creationTime+C.expiresIn<P+an}(C)}(ze))return Ce;if(1===ze.requestStatus)return G=function je(C,P){return Me.apply(this,arguments)}(C,P),Ce;{if(!navigator.onLine)throw jt.create("app-offline");const Pt=function Ir(C){const P={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:P})}(Ce);return G=function Gt(C,P){return un.apply(this,arguments)}(C,Pt),Pt}});return G?yield G:ne.authToken}),tr.apply(this,arguments)}function Me(){return(Me=(0,k.Z)(function*(C,P){let G=yield ut(C.appConfig);for(;1===G.authToken.requestStatus;)yield Wn(100),G=yield ut(C.appConfig);const ne=G.authToken;return 0===ne.requestStatus?Jt(C,P):ne})).apply(this,arguments)}function ut(C){return pi(C,P=>{if(!En(P))throw jt.create("not-registered");return function is(C){return 1===C.requestStatus&&C.requestTime+et<Date.now()}(P.authToken)?Object.assign(Object.assign({},P),{authToken:{requestStatus:0}}):P})}function un(){return un=(0,k.Z)(function*(C,P){try{const G=yield function Re(C,P){return We.apply(this,arguments)}(C,P),ne=Object.assign(Object.assign({},P),{authToken:G});return yield Qt(C.appConfig,ne),G}catch(G){if(!Mt(G)||401!==G.customData.serverCode&&404!==G.customData.serverCode){const ne=Object.assign(Object.assign({},P),{authToken:{requestStatus:0}});yield Qt(C.appConfig,ne)}else yield sr(C.appConfig);throw G}}),un.apply(this,arguments)}function En(C){return void 0!==C&&2===C.registrationStatus}function oi(){return(oi=(0,k.Z)(function*(C){const P=C,{installationEntry:G,registrationPromise:ne}=yield fe(P);return ne?ne.catch(console.error):Jt(P).catch(console.error),G.fid})).apply(this,arguments)}function ss(){return ss=(0,k.Z)(function*(C,P=!1){const G=C;return yield function Hr(C){return hs.apply(this,arguments)}(G),(yield Jt(G,P)).token}),ss.apply(this,arguments)}function hs(){return(hs=(0,k.Z)(function*(C){const{registrationPromise:P}=yield fe(C);P&&(yield P)})).apply(this,arguments)}function Nr(C){return jt.create("missing-app-config-values",{valueName:C})}const xi="installations",Jr=C=>{const P=C.getProvider("app").getImmediate(),G=function Is(C){if(!C||!C.options)throw Nr("App Configuration");if(!C.name)throw Nr("App Name");const P=["projectId","apiKey","appId"];for(const G of P)if(!C.options[G])throw Nr(G);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(P);return{app:P,appConfig:G,heartbeatServiceProvider:(0,De.qX)(P,"heartbeat"),_delete:()=>Promise.resolve()}},zs=C=>{const P=C.getProvider("app").getImmediate(),G=(0,De.qX)(P,xi).getImmediate();return{getId:()=>function On(C){return oi.apply(this,arguments)}(G),getToken:he=>function mr(C){return ss.apply(this,arguments)}(G,he)}};(function Dn(){(0,De.Xd)(new Ae.wA(xi,Jr,"PUBLIC")),(0,De.Xd)(new Ae.wA("installations-internal",zs,"PRIVATE"))})(),(0,De.KN)(Ge,Se),(0,De.KN)(Ge,Se,"esm2017");const Qi="@firebase/remote-config",Qn=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class zo{constructor(P,G,ne,he){this.client=P,this.storage=G,this.storageCache=ne,this.logger=he}isCachedDataFresh(P,G){if(!G)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ne=Date.now()-G,he=ne<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ne}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${he}.`),he}fetch(P){var G=this;return(0,k.Z)(function*(){const[ne,he]=yield Promise.all([G.storage.getLastSuccessfulFetchTimestampMillis(),G.storage.getLastSuccessfulFetchResponse()]);if(he&&G.isCachedDataFresh(P.cacheMaxAgeMillis,ne))return he;P.eTag=he&&he.eTag;const Ce=yield G.client.fetch(P),ze=[G.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ce.status&&ze.push(G.storage.setLastSuccessfulFetchResponse(Ce)),yield Promise.all(ze),Ce})()}}function fr(C=navigator){return C.languages&&C.languages[0]||C.language}class pr{constructor(P,G,ne,he,Ce,ze){this.firebaseInstallations=P,this.sdkVersion=G,this.namespace=ne,this.projectId=he,this.apiKey=Ce,this.appId=ze}fetch(P){var G=this;return(0,k.Z)(function*(){const[ne,he]=yield Promise.all([G.firebaseInstallations.getId(),G.firebaseInstallations.getToken()]),ze=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${G.projectId}/namespaces/${G.namespace}:fetch?key=${G.apiKey}`,Pt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},bt={sdk_version:G.sdkVersion,app_instance_id:ne,app_instance_id_token:he,app_id:G.appId,language_code:fr()},Lt={method:"POST",headers:Pt,body:JSON.stringify(bt)},Tn=fetch(ze,Lt),Rn=new Promise((Oa,ka)=>{P.signal.addEventListener(()=>{const zc=new Error("The operation was aborted.");zc.name="AbortError",ka(zc)})});let Ho;try{yield Promise.race([Tn,Rn]),Ho=yield Tn}catch(Oa){let ka="fetch-client-network";throw"AbortError"===Oa?.name&&(ka="fetch-timeout"),Qn.create(ka,{originalErrorMessage:Oa?.message})}let Ns=Ho.status;const Ou=Ho.headers.get("ETag")||void 0;let uc,mu;if(200===Ho.status){let Oa;try{Oa=yield Ho.json()}catch(ka){throw Qn.create("fetch-client-parse",{originalErrorMessage:ka?.message})}uc=Oa.entries,mu=Oa.state}if("INSTANCE_STATE_UNSPECIFIED"===mu?Ns=500:"NO_CHANGE"===mu?Ns=304:("NO_TEMPLATE"===mu||"EMPTY_CONFIG"===mu)&&(uc={}),304!==Ns&&200!==Ns)throw Qn.create("fetch-status",{httpStatus:Ns});return{status:Ns,eTag:Ou,config:uc}})()}}class va{constructor(P,G){this.client=P,this.storage=G}fetch(P){var G=this;return(0,k.Z)(function*(){const ne=(yield G.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return G.attemptFetch(P,ne)})()}attemptFetch(P,{throttleEndTimeMillis:G,backoffCount:ne}){var he=this;return(0,k.Z)(function*(){yield function Ki(C,P){return new Promise((G,ne)=>{const he=Math.max(P-Date.now(),0),Ce=setTimeout(G,he);C.addEventListener(()=>{clearTimeout(Ce),ne(Qn.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,G);try{const Ce=yield he.client.fetch(P);return yield he.storage.deleteThrottleMetadata(),Ce}catch(Ce){if(!function Fs(C){if(!(C instanceof ee.ZR&&C.customData))return!1;const P=Number(C.customData.httpStatus);return 429===P||500===P||503===P||504===P}(Ce))throw Ce;const ze={throttleEndTimeMillis:Date.now()+(0,ee.$s)(ne),backoffCount:ne+1};return yield he.storage.setThrottleMetadata(ze),he.attemptFetch(P,ze)}})()}}class mo{constructor(P,G,ne,he,Ce){this.app=P,this._client=G,this._storageCache=ne,this._storage=he,this._logger=Ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yo(C,P){const G=C.target.error||void 0;return Qn.create(P,{originalErrorMessage:G&&G?.message})}const ai="app_namespace_store";class Ao{constructor(P,G,ne,he=function da(){return new Promise((C,P)=>{try{const G=indexedDB.open("firebase_remote_config",1);G.onerror=ne=>{P(yo(ne,"storage-open"))},G.onsuccess=ne=>{C(ne.target.result)},G.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(ai,{keyPath:"compositeKey"})}}catch(G){P(Qn.create("storage-open",{originalErrorMessage:G?.message}))}})}()){this.appId=P,this.appName=G,this.namespace=ne,this.openDbPromise=he}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var G=this;return(0,k.Z)(function*(){const ne=yield G.openDbPromise;return new Promise((he,Ce)=>{const Pt=ne.transaction([ai],"readonly").objectStore(ai),bt=G.createCompositeKey(P);try{const Lt=Pt.get(bt);Lt.onerror=Tn=>{Ce(yo(Tn,"storage-get"))},Lt.onsuccess=Tn=>{const Rn=Tn.target.result;he(Rn?Rn.value:void 0)}}catch(Lt){Ce(Qn.create("storage-get",{originalErrorMessage:Lt?.message}))}})})()}set(P,G){var ne=this;return(0,k.Z)(function*(){const he=yield ne.openDbPromise;return new Promise((Ce,ze)=>{const bt=he.transaction([ai],"readwrite").objectStore(ai),Lt=ne.createCompositeKey(P);try{const Tn=bt.put({compositeKey:Lt,value:G});Tn.onerror=Rn=>{ze(yo(Rn,"storage-set"))},Tn.onsuccess=()=>{Ce()}}catch(Tn){ze(Qn.create("storage-set",{originalErrorMessage:Tn?.message}))}})})()}delete(P){var G=this;return(0,k.Z)(function*(){const ne=yield G.openDbPromise;return new Promise((he,Ce)=>{const Pt=ne.transaction([ai],"readwrite").objectStore(ai),bt=G.createCompositeKey(P);try{const Lt=Pt.delete(bt);Lt.onerror=Tn=>{Ce(yo(Tn,"storage-delete"))},Lt.onsuccess=()=>{he()}}catch(Lt){Ce(Qn.create("storage-delete",{originalErrorMessage:Lt?.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class Ea{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,k.Z)(function*(){const G=P.storage.getLastFetchStatus(),ne=P.storage.getLastSuccessfulFetchTimestampMillis(),he=P.storage.getActiveConfig(),Ce=yield G;Ce&&(P.lastFetchStatus=Ce);const ze=yield ne;ze&&(P.lastSuccessfulFetchTimestampMillis=ze);const Pt=yield he;Pt&&(P.activeConfig=Pt)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function qo(){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,k.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}!function Cs(){(0,De.Xd)(new Ae.wA("remote-config",function C(P,{instanceIdentifier:G}){const ne=P.getProvider("app").getImmediate(),he=P.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Qn.create("registration-window");if(!(0,ee.hl)())throw Qn.create("indexed-db-unavailable");const{projectId:Ce,apiKey:ze,appId:Pt}=ne.options;if(!Ce)throw Qn.create("registration-project-id");if(!ze)throw Qn.create("registration-api-key");if(!Pt)throw Qn.create("registration-app-id");const bt=new Ao(Pt,ne.name,G=G||"firebase"),Lt=new Ea(bt),Tn=new Be.Yd(Qi);Tn.logLevel=Be.in.ERROR;const Rn=new pr(he,De.Jn,G,Ce,ze,Pt),Ho=new va(Rn,bt),Ns=new zo(Ho,bt,Lt,Tn),Ou=new mo(ne,Ns,Lt,bt,Tn);return function os(C){const P=(0,ee.m9)(C);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(Ou),Ou},"PUBLIC").setMultipleInstances(!0)),(0,De.KN)(Qi,"0.4.4"),(0,De.KN)(Qi,"0.4.4","esm2017")}();const as=(C,P)=>P.some(G=>C instanceof G);let uo,Vr;const vo=new WeakMap,Zi=new WeakMap,Zs=new WeakMap,bs=new WeakMap,Ys=new WeakMap;let Mo={get(C,P,G){if(C instanceof IDBTransaction){if("done"===P)return Zi.get(C);if("objectStoreNames"===P)return C.objectStoreNames||Zs.get(C);if("store"===P)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return Ti(C[P])},set:(C,P,G)=>(C[P]=G,!0),has:(C,P)=>C instanceof IDBTransaction&&("done"===P||"store"===P)||P in C};function Yo(C){return"function"==typeof C?function Ci(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lo(){return Vr||(Vr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...P){return C.apply(Mr(this),P),Ti(vo.get(this))}:function(...P){return Ti(C.apply(Mr(this),P))}:function(P,...G){const ne=C.call(Mr(this),P,...G);return Zs.set(ne,P.sort?P.sort():[P]),Ti(ne)}}(C):(C instanceof IDBTransaction&&function Tr(C){if(Zi.has(C))return;const P=new Promise((G,ne)=>{const he=()=>{C.removeEventListener("complete",Ce),C.removeEventListener("error",ze),C.removeEventListener("abort",ze)},Ce=()=>{G(),he()},ze=()=>{ne(C.error||new DOMException("AbortError","AbortError")),he()};C.addEventListener("complete",Ce),C.addEventListener("error",ze),C.addEventListener("abort",ze)});Zi.set(C,P)}(C),as(C,function Ts(){return uo||(uo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Mo):C)}function Ti(C){if(C instanceof IDBRequest)return function Zo(C){const P=new Promise((G,ne)=>{const he=()=>{C.removeEventListener("success",Ce),C.removeEventListener("error",ze)},Ce=()=>{G(Ti(C.result)),he()},ze=()=>{ne(C.error),he()};C.addEventListener("success",Ce),C.addEventListener("error",ze)});return P.then(G=>{G instanceof IDBCursor&&vo.set(G,C)}).catch(()=>{}),Ys.set(P,C),P}(C);if(bs.has(C))return bs.get(C);const P=Yo(C);return P!==C&&(bs.set(C,P),Ys.set(P,C)),P}const Mr=C=>Ys.get(C);function Ss(C,P,{blocked:G,upgrade:ne,blocking:he,terminated:Ce}={}){const ze=indexedDB.open(C,P),Pt=Ti(ze);return ne&&ze.addEventListener("upgradeneeded",bt=>{ne(Ti(ze.result),bt.oldVersion,bt.newVersion,Ti(ze.transaction))}),G&&ze.addEventListener("blocked",()=>G()),Pt.then(bt=>{Ce&&bt.addEventListener("close",()=>Ce()),he&&bt.addEventListener("versionchange",()=>he())}).catch(()=>{}),Pt}function Qo(C,{blocked:P}={}){const G=indexedDB.deleteDatabase(C);return P&&G.addEventListener("blocked",()=>P()),Ti(G).then(()=>{})}const $i=["get","getKey","getAll","getAllKeys","count"],Ri=["put","add","delete","clear"],ji=new Map;function vi(C,P){if(!(C instanceof IDBDatabase)||P in C||"string"!=typeof P)return;if(ji.get(P))return ji.get(P);const G=P.replace(/FromIndex$/,""),ne=P!==G,he=Ri.includes(G);if(!(G in(ne?IDBIndex:IDBObjectStore).prototype)||!he&&!$i.includes(G))return;const Ce=function(){var ze=(0,k.Z)(function*(Pt,...bt){const Lt=this.transaction(Pt,he?"readwrite":"readonly");let Tn=Lt.store;return ne&&(Tn=Tn.index(bt.shift())),(yield Promise.all([Tn[G](...bt),he&&Lt.done]))[0]});return function(bt){return ze.apply(this,arguments)}}();return ji.set(P,Ce),Ce}!function Ar(C){Mo=C(Mo)}(C=>({...C,get:(P,G,ne)=>vi(P,G)||C.get(P,G,ne),has:(P,G)=>!!vi(P,G)||C.has(P,G)}));const Ls="/firebase-messaging-sw.js",co="/firebase-cloud-messaging-push-scope",Jo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Qs="https://fcmregistrations.googleapis.com/v1",en="google.c.a.c_id",Xo="google.c.a.c_l",ha="google.c.a.ts",As="google.c.a.e";var L=(()=>{return(C=L||(L={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",L;var C})();function F(C){const P=new Uint8Array(C);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function N(C){const G=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ne=atob(G),he=new Uint8Array(ne.length);for(let Ce=0;Ce<ne.length;++Ce)he[Ce]=ne.charCodeAt(Ce);return he}const Z="fcm_token_details_db",ae=5,dt="fcm_token_object_Store";function ui(){return ui=(0,k.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ce=>Ce.name).includes(Z))return null;let P=null;return(yield Ss(Z,ae,{upgrade:(ne=(0,k.Z)(function*(he,Ce,ze,Pt){var bt;if(Ce<2||!he.objectStoreNames.contains(dt))return;const Lt=Pt.objectStore(dt),Tn=yield Lt.index("fcmSenderId").get(C);if(yield Lt.clear(),Tn)if(2===Ce){const Rn=Tn;if(!Rn.auth||!Rn.p256dh||!Rn.endpoint)return;P={token:Rn.fcmToken,createTime:null!==(bt=Rn.createTime)&&void 0!==bt?bt:Date.now(),subscriptionOptions:{auth:Rn.auth,p256dh:Rn.p256dh,endpoint:Rn.endpoint,swScope:Rn.swScope,vapidKey:"string"==typeof Rn.vapidKey?Rn.vapidKey:F(Rn.vapidKey)}}}else if(3===Ce){const Rn=Tn;P={token:Rn.fcmToken,createTime:Rn.createTime,subscriptionOptions:{auth:F(Rn.auth),p256dh:F(Rn.p256dh),endpoint:Rn.endpoint,swScope:Rn.swScope,vapidKey:F(Rn.vapidKey)}}}else if(4===Ce){const Rn=Tn;P={token:Rn.fcmToken,createTime:Rn.createTime,subscriptionOptions:{auth:F(Rn.auth),p256dh:F(Rn.p256dh),endpoint:Rn.endpoint,swScope:Rn.swScope,vapidKey:F(Rn.vapidKey)}}}}),function(Ce,ze,Pt,bt){return ne.apply(this,arguments)})})).close(),yield Qo(Z),yield Qo("fcm_vapid_details_db"),yield Qo("undefined"),function gr(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:P}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}(P)?P:null;var ne}),ui.apply(this,arguments)}const Vs="firebase-messaging-database",Us=1,ti="firebase-messaging-store";let us=null;function Bs(){return us||(us=Ss(Vs,Us,{upgrade:(C,P)=>{0===P&&C.createObjectStore(ti)}})),us}function Eo(C){return wo.apply(this,arguments)}function wo(){return wo=(0,k.Z)(function*(C){const P=Po(C),ne=yield(yield Bs()).transaction(ti).objectStore(ti).get(P);if(ne)return ne;{const he=yield function nr(C){return ui.apply(this,arguments)}(C.appConfig.senderId);if(he)return yield wa(C,he),he}}),wo.apply(this,arguments)}function wa(C,P){return bi.apply(this,arguments)}function bi(){return(bi=(0,k.Z)(function*(C,P){const G=Po(C),he=(yield Bs()).transaction(ti,"readwrite");return yield he.objectStore(ti).put(P,G),yield he.done,P})).apply(this,arguments)}function ea(){return(ea=(0,k.Z)(function*(C){const P=Po(C),ne=(yield Bs()).transaction(ti,"readwrite");yield ne.objectStore(ti).delete(P),yield ne.done})).apply(this,arguments)}function Po({appConfig:C}){return C.appId}const Ni=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ms(C,P){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,k.Z)(function*(C,P){const G=yield fa(C),ne=Oo(P),he={method:"POST",headers:G,body:JSON.stringify(ne)};let Ce;try{Ce=yield(yield fetch(Ro(C.appConfig),he)).json()}catch(ze){throw Ni.create("token-subscribe-failed",{errorInfo:ze?.toString()})}if(Ce.error)throw Ni.create("token-subscribe-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw Ni.create("token-subscribe-no-token");return Ce.token})).apply(this,arguments)}function ta(){return(ta=(0,k.Z)(function*(C,P){const G=yield fa(C),ne=Oo(P.subscriptionOptions),he={method:"PATCH",headers:G,body:JSON.stringify(ne)};let Ce;try{Ce=yield(yield fetch(`${Ro(C.appConfig)}/${P.token}`,he)).json()}catch(ze){throw Ni.create("token-update-failed",{errorInfo:ze?.toString()})}if(Ce.error)throw Ni.create("token-update-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw Ni.create("token-update-no-token");return Ce.token})).apply(this,arguments)}function na(C,P){return ps.apply(this,arguments)}function ps(){return(ps=(0,k.Z)(function*(C,P){const ne={method:"DELETE",headers:yield fa(C)};try{const Ce=yield(yield fetch(`${Ro(C.appConfig)}/${P}`,ne)).json();if(Ce.error)throw Ni.create("token-unsubscribe-failed",{errorInfo:Ce.error.message})}catch(he){throw Ni.create("token-unsubscribe-failed",{errorInfo:he?.toString()})}})).apply(this,arguments)}function Ro({projectId:C}){return`${Qs}/projects/${C}/registrations`}function fa(C){return No.apply(this,arguments)}function No(){return(No=(0,k.Z)(function*({appConfig:C,installations:P}){const G=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${G}`})})).apply(this,arguments)}function Oo({p256dh:C,auth:P,endpoint:G,vapidKey:ne}){const he={web:{endpoint:G,auth:P,p256dh:C}};return ne!==Jo&&(he.web.applicationPubKey=ne),he}const Qa=6048e5;function Ji(){return Ji=(0,k.Z)(function*(C){const P=yield function lr(C,P){return Da.apply(this,arguments)}(C.swRegistration,C.vapidKey),G={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:P.endpoint,auth:F(P.getKey("auth")),p256dh:F(P.getKey("p256dh"))},ne=yield Eo(C.firebaseDependencies);if(ne){if(function Ja(C,P){return P.vapidKey===C.vapidKey&&P.endpoint===C.endpoint&&P.auth===C.auth&&P.p256dh===C.p256dh}(ne.subscriptionOptions,G))return Date.now()>=ne.createTime+Qa?function ko(C,P){return Hi.apply(this,arguments)}(C,{token:ne.token,createTime:Date.now(),subscriptionOptions:G}):ne.token;try{yield na(C.firebaseDependencies,ne.token)}catch(he){console.warn(he)}return kr(C.firebaseDependencies,G)}return kr(C.firebaseDependencies,G)}),Ji.apply(this,arguments)}function xs(){return xs=(0,k.Z)(function*(C){const P=yield Eo(C.firebaseDependencies);P&&(yield na(C.firebaseDependencies,P.token),yield function zr(C){return ea.apply(this,arguments)}(C.firebaseDependencies));const G=yield C.swRegistration.pushManager.getSubscription();return!G||G.unsubscribe()}),xs.apply(this,arguments)}function Hi(){return Hi=(0,k.Z)(function*(C,P){try{const G=yield function Sn(C,P){return ta.apply(this,arguments)}(C.firebaseDependencies,P),ne=Object.assign(Object.assign({},P),{token:G,createTime:Date.now()});return yield wa(C.firebaseDependencies,ne),G}catch(G){throw yield function li(C){return xs.apply(this,arguments)}(C),G}}),Hi.apply(this,arguments)}function kr(C,P){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,k.Z)(function*(C,P){const ne={token:yield Ms(C,P),createTime:Date.now(),subscriptionOptions:P};return yield wa(C,ne),ne.token})).apply(this,arguments)}function Da(){return(Da=(0,k.Z)(function*(C,P){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:N(P)})})).apply(this,arguments)}function Ca(C){const P={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Xa(C,P){if(!P.notification)return;C.notification={};const G=P.notification.title;G&&(C.notification.title=G);const ne=P.notification.body;ne&&(C.notification.body=ne);const he=P.notification.image;he&&(C.notification.image=he);const Ce=P.notification.icon;Ce&&(C.notification.icon=Ce)}(P,C),function $a(C,P){P.data&&(C.data=P.data)}(P,C),function A(C,P){var G,ne,he,Ce,ze;if(!(P.fcmOptions||null!==(G=P.notification)&&void 0!==G&&G.click_action))return;C.fcmOptions={};const Pt=null!==(he=null===(ne=P.fcmOptions)||void 0===ne?void 0:ne.link)&&void 0!==he?he:null===(Ce=P.notification)||void 0===Ce?void 0:Ce.click_action;Pt&&(C.fcmOptions.link=Pt);const bt=null===(ze=P.fcmOptions)||void 0===ze?void 0:ze.analytics_label;bt&&(C.fcmOptions.analyticsLabel=bt)}(P,C),P}function O(C,P){const G=[];for(let ne=0;ne<C.length;ne++)G.push(C.charAt(ne)),ne<P.length&&G.push(P.charAt(ne));return G.join("")}function ue(C){return Ni.create("missing-app-config-values",{valueName:C})}O("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),O("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ke{constructor(P,G,ne){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const he=function K(C){if(!C||!C.options)throw ue("App Configuration Object");if(!C.name)throw ue("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:G}=C;for(const ne of P)if(!G[ne])throw ue(ne);return{appName:C.name,projectId:G.projectId,apiKey:G.apiKey,appId:G.appId,senderId:G.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:he,installations:G,analyticsProvider:ne}}_delete(){return Promise.resolve()}}function Qe(C){return Et.apply(this,arguments)}function Et(){return(Et=(0,k.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Ls,{scope:co}),C.swRegistration.update().catch(()=>{})}catch(P){throw Ni.create("failed-service-worker-registration",{browserErrorMessage:P?.message})}})).apply(this,arguments)}function An(){return(An=(0,k.Z)(function*(C,P){if(!P&&!C.swRegistration&&(yield Qe(C)),P||!C.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw Ni.create("invalid-sw-registration");C.swRegistration=P}})).apply(this,arguments)}function Bn(){return(Bn=(0,k.Z)(function*(C,P){P?C.vapidKey=P:C.vapidKey||(C.vapidKey=Jo)})).apply(this,arguments)}function gn(){return gn=(0,k.Z)(function*(C,P){if(!navigator)throw Ni.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ni.create("permission-blocked");return yield function Gn(C,P){return Bn.apply(this,arguments)}(C,P?.vapidKey),yield function Fn(C,P){return An.apply(this,arguments)}(C,P?.serviceWorkerRegistration),function gs(C){return Ji.apply(this,arguments)}(C)}),gn.apply(this,arguments)}function ms(){return(ms=(0,k.Z)(function*(C,P,G){const ne=function Ft(C){switch(C){case L.NOTIFICATION_CLICKED:return"notification_open";case L.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(P);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(ne,{message_id:G[en],message_name:G[Xo],message_time:G[ha],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ho(){return ho=(0,k.Z)(function*(C,P){const G=P.data;if(!G.isFirebaseMessaging)return;C.onMessageHandler&&G.messageType===L.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Ca(G)):C.onMessageHandler.next(Ca(G)));const ne=G.data;(function j(C){return"object"==typeof C&&!!C&&en in C})(ne)&&"1"===ne[As]&&(yield function xr(C,P,G){return ms.apply(this,arguments)}(C,G.messageType,ne))}),ho.apply(this,arguments)}const Ct="@firebase/messaging",ot=C=>{const P=new ke(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",G=>function zt(C,P){return ho.apply(this,arguments)}(P,G)),P},ci=C=>{const P=C.getProvider("messaging").getImmediate();return{getToken:ne=>function tt(C,P){return gn.apply(this,arguments)}(P,ne)}};function ja(){return xa.apply(this,arguments)}function xa(){return(xa=(0,k.Z)(function*(){try{yield(0,ee.eu)()}catch{return!1}return typeof window<"u"&&(0,ee.hl)()&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ls(){(0,De.Xd)(new Ae.wA("messaging",ot,"PUBLIC")),(0,De.Xd)(new Ae.wA("messaging-internal",ci,"PRIVATE")),(0,De.KN)(Ct,"0.12.4"),(0,De.KN)(Ct,"0.12.4","esm2017")}();const vn="analytics",ia="firebase_id",Lo="origin",di=6e4,rn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ta="https://www.googletagmanager.com/gtag/js",mn=new Be.Yd("@firebase/analytics"),M=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function g(C){if(!C.startsWith(Ta)){const P=M.create("invalid-gtag-resource",{gtagURL:C});return mn.warn(P.message),""}return C}function y(C){return Promise.all(C.map(P=>P.catch(G=>G)))}function _e(){return(_e=(0,k.Z)(function*(C,P,G,ne,he,Ce){const ze=ne[he];try{if(ze)yield P[ze];else{const bt=(yield y(G)).find(Lt=>Lt.measurementId===he);bt&&(yield P[bt.appId])}}catch(Pt){mn.error(Pt)}C("config",he,Ce)})).apply(this,arguments)}function qe(){return(qe=(0,k.Z)(function*(C,P,G,ne,he){try{let Ce=[];if(he&&he.send_to){let ze=he.send_to;Array.isArray(ze)||(ze=[ze]);const Pt=yield y(G);for(const bt of ze){const Lt=Pt.find(Rn=>Rn.measurementId===bt),Tn=Lt&&P[Lt.appId];if(!Tn){Ce=[];break}Ce.push(Tn)}}0===Ce.length&&(Ce=Object.values(P)),yield Promise.all(Ce),C("event",ne,he||{})}catch(Ce){mn.error(Ce)}})).apply(this,arguments)}const yn=30,Kn=new class tn{constructor(P={},G=1e3){this.throttleMetadata=P,this.intervalMillis=G}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,G){this.throttleMetadata[P]=G}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function Te(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function vr(){return(vr=(0,k.Z)(function*(C){var P;const{appId:G,apiKey:ne}=C,he={method:"GET",headers:Te(ne)},Ce=rn.replace("{app-id}",G),ze=yield fetch(Ce,he);if(200!==ze.status&&304!==ze.status){let Pt="";try{const bt=yield ze.json();null!==(P=bt.error)&&void 0!==P&&P.message&&(Pt=bt.error.message)}catch{}throw M.create("config-fetch-failed",{httpStatus:ze.status,responseMessage:Pt})}return ze.json()})).apply(this,arguments)}function Vo(){return(Vo=(0,k.Z)(function*(C,P=Kn,G){const{appId:ne,apiKey:he,measurementId:Ce}=C.options;if(!ne)throw M.create("no-app-id");if(!he){if(Ce)return{measurementId:Ce,appId:ne};throw M.create("no-api-key")}const ze=P.getThrottleMetadata(ne)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Pt=new fo;return setTimeout((0,k.Z)(function*(){Pt.abort()}),void 0!==G?G:di),Yi({appId:ne,apiKey:he,measurementId:Ce},ze,Pt,P)})).apply(this,arguments)}function Yi(C,P,G){return Ln.apply(this,arguments)}function Ln(){return Ln=(0,k.Z)(function*(C,{throttleEndTimeMillis:P,backoffCount:G},ne,he=Kn){var Ce;const{appId:ze,measurementId:Pt}=C;try{yield function cs(C,P){return new Promise((G,ne)=>{const he=Math.max(P-Date.now(),0),Ce=setTimeout(G,he);C.addEventListener(()=>{clearTimeout(Ce),ne(M.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(ne,P)}catch(bt){if(Pt)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pt} provided in the "measurementId" field in the local Firebase config. [${bt?.message}]`),{appId:ze,measurementId:Pt};throw bt}try{const bt=yield function _r(C){return vr.apply(this,arguments)}(C);return he.deleteThrottleMetadata(ze),bt}catch(bt){const Lt=bt;if(!function Uo(C){if(!(C instanceof ee.ZR&&C.customData))return!1;const P=Number(C.customData.httpStatus);return 429===P||500===P||503===P||504===P}(Lt)){if(he.deleteThrottleMetadata(ze),Pt)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pt} provided in the "measurementId" field in the local Firebase config. [${Lt?.message}]`),{appId:ze,measurementId:Pt};throw bt}const Tn=503===Number(null===(Ce=Lt?.customData)||void 0===Ce?void 0:Ce.httpStatus)?(0,ee.$s)(G,he.intervalMillis,yn):(0,ee.$s)(G,he.intervalMillis),Rn={throttleEndTimeMillis:Date.now()+Tn,backoffCount:G+1};return he.setThrottleMetadata(ze,Rn),mn.debug(`Calling attemptFetch again in ${Tn} millis`),Yi(C,Rn,ne,he)}}),Ln.apply(this,arguments)}class fo{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}let Ga,Fr;function Ei(){return(Ei=(0,k.Z)(function*(C,P,G,ne,he){if(he&&he.global)C("event",G,ne);else{const Ce=yield P;C("event",G,Object.assign(Object.assign({},ne),{send_to:Ce}))}})).apply(this,arguments)}function ba(){return(ba=(0,k.Z)(function*(){if(!(0,ee.hl)())return mn.warn(M.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(C){return mn.warn(M.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function nu(){return nu=(0,k.Z)(function*(C,P,G,ne,he,Ce,ze){var Pt;const bt=function hi(C){return Vo.apply(this,arguments)}(C);bt.then(Ns=>{G[Ns.measurementId]=Ns.appId,C.options.measurementId&&Ns.measurementId!==C.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Ns.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ns=>mn.error(Ns)),P.push(bt);const Lt=function _s(){return ba.apply(this,arguments)}().then(Ns=>{if(Ns)return ne.getId()}),[Tn,Rn]=yield Promise.all([bt,Lt]);(function $n(C){const P=window.document.getElementsByTagName("script");for(const G of Object.values(P))if(G.src&&G.src.includes(Ta)&&G.src.includes(C))return G;return null})(Ce)||function z(C,P){const G=function x(C,P){let G;return window.trustedTypes&&(G=window.trustedTypes.createPolicy(C,P)),G}("firebase-js-sdk-policy",{createScriptURL:g}),ne=document.createElement("script"),he=`${Ta}?l=${C}&id=${P}`;ne.src=G?G?.createScriptURL(he):he,ne.async=!0,document.head.appendChild(ne)}(Ce,Tn.measurementId),Fr&&(he("consent","default",Fr),function Ra(C){Fr=C}(void 0)),he("js",new Date);const Ho=null!==(Pt=ze?.config)&&void 0!==Pt?Pt:{};return Ho[Lo]="firebase",Ho.update=!0,null!=Rn&&(Ho[ia]=Rn),he("config",Tn.measurementId,Ho),Ga&&(he("set",Ga),function ma(C){Ga=C}(void 0)),Tn.measurementId}),nu.apply(this,arguments)}class Xs{constructor(P){this.app=P}_delete(){return delete E[this.app.options.appId],Promise.resolve()}}let E={},D=[];const m={};let W,J,S="dataLayer",U="gtag",be=!1;function Ot(C,P,G){!function Bt(){const C=[];if((0,ee.ru)()&&C.push("This is a browser extension environment."),(0,ee.zI)()||C.push("Cookies are not available."),C.length>0){const P=C.map((ne,he)=>`(${he+1}) ${ne}`).join(" "),G=M.create("invalid-analytics-context",{errorInfo:P});mn.warn(G.message)}}();const ne=C.options.appId;if(!ne)throw M.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw M.create("no-api-key");mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=E[ne])throw M.create("already-exists",{id:ne});if(!be){!function te(C){let P=[];Array.isArray(window[C])?P=window[C]:window[C]=P}(S);const{wrappedGtag:Ce,gtagCore:ze}=function It(C,P,G,ne,he){let Ce=function(...ze){window[ne].push(arguments)};return window[he]&&"function"==typeof window[he]&&(Ce=window[he]),window[he]=function Nt(C,P,G,ne){function Ce(){return Ce=(0,k.Z)(function*(ze,...Pt){try{if("event"===ze){const[bt,Lt]=Pt;yield function Ne(C,P,G,ne,he){return qe.apply(this,arguments)}(C,P,G,bt,Lt)}else if("config"===ze){const[bt,Lt]=Pt;yield function ge(C,P,G,ne,he,Ce){return _e.apply(this,arguments)}(C,P,G,ne,bt,Lt)}else if("consent"===ze){const[bt]=Pt;C("consent","update",bt)}else if("get"===ze){const[bt,Lt,Tn]=Pt;C("get",bt,Lt,Tn)}else if("set"===ze){const[bt]=Pt;C("set",bt)}else C(ze,...Pt)}catch(bt){mn.error(bt)}}),Ce.apply(this,arguments)}return function he(ze){return Ce.apply(this,arguments)}}(Ce,C,P,G),{gtagCore:Ce,wrappedGtag:window[he]}}(E,D,m,S,U);J=Ce,W=ze,be=!0}return E[ne]=function Ps(C,P,G,ne,he,Ce,ze){return nu.apply(this,arguments)}(C,D,m,P,W,S,G),new Xs(C)}function Wr(){return jo.apply(this,arguments)}function jo(){return(jo=(0,k.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}const xu="@firebase/analytics";!function eo(){(0,De.Xd)(new Ae.wA(vn,(P,{options:G})=>Ot(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),G),"PUBLIC")),(0,De.Xd)(new Ae.wA("analytics-internal",function C(P){try{const G=P.getProvider(vn).getImmediate();return{logEvent:(ne,he,Ce)=>function Mu(C,P,G,ne){C=(0,ee.m9)(C),function Pa(C,P,G,ne,he){return Ei.apply(this,arguments)}(J,E[C.app.options.appId],P,G,ne).catch(he=>mn.error(he))}(G,ne,he,Ce)}}catch(G){throw M.create("interop-component-reg-failed",{reason:G})}},"PRIVATE")),(0,De.KN)(xu,"0.10.0"),(0,De.KN)(xu,"0.10.0","esm2017")}();var jc=Y(4408),es=Y(640);const nc=new class iu extends es.v{}(class ru extends jc.o{constructor(P,G){super(P,G),this.scheduler=P,this.work=G}schedule(P,G=0){return G>0?super.schedule(P,G):(this.delay=G,this.state=P,this.scheduler.flush(this),this)}execute(P,G){return G>0||this.closed?super.execute(P,G):this._execute(P,G)}requestAsyncId(P,G,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(P,G,ne):(P.flush(this),0)}});var fu=Y(4986),Xu=Y(9751),oa=Y(8505),ya=Y(9468),rc=Y(5363);const za=new w.GfV("7.6.1"),Sa="__angularfire_symbol__analyticsIsSupportedValue",Pu="__angularfire_symbol__analyticsIsSupported",Na="__angularfire_symbol__remoteConfigIsSupportedValue",Ru="__angularfire_symbol__remoteConfigIsSupported",Wa="__angularfire_symbol__messagingIsSupportedValue",Nu="__angularfire_symbol__messagingIsSupported";function Kd(C,P,G){if(P){if(1===P.length)return P[0];const Ce=P.filter(ze=>ze.app===G);if(1===Ce.length)return Ce[0]}return G.container.getProvider(C).getImmediate({optional:!0})}globalThis[Pu]||(globalThis[Pu]=Wr().then(C=>globalThis[Sa]=C).catch(()=>globalThis[Sa]=!1)),globalThis[Nu]||(globalThis[Nu]=ja().then(C=>globalThis[Wa]=C).catch(()=>globalThis[Wa]=!1)),globalThis[Ru]||(globalThis[Ru]=qo().then(C=>globalThis[Na]=C).catch(()=>globalThis[Na]=!1));const Zd=(C,P)=>{const G=P?[P]:(0,re.C6)(),ne=[];return G.forEach(he=>{he.container.getProvider(C).instances.forEach(ze=>{ne.includes(ze)||ne.push(ze)})}),ne};function ou(){}class gu{constructor(P,G=nc){this.zone=P,this.delegate=G}now(){return this.delegate.now()}schedule(P,G,ne){const he=this.zone;return this.delegate.schedule(function(ze){he.runGuarded(()=>{P.apply(this,[ze])})},G,ne)}}class sc{constructor(P){this.zone=P,this.task=null}call(P,G){const ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ou,{},ou,ou)),G.pipe((0,oa.b)({next:ne,complete:ne,error:ne})).subscribe(P).add(ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let oc=(()=>{class C{constructor(G){this.ngZone=G,this.outsideAngular=G.runOutsideAngular(()=>new gu(Zone.current)),this.insideAngular=G.run(()=>new gu(Zone.current,fu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(G){return new(G||C)(w.LFG(w.R0b))},C.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function au(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Rs(C){return au().ngZone.run(()=>C())}function ki(C){return au(),function Aa(C){return function(G){return(G=G.lift(new sc(C.ngZone))).pipe((0,ya.R)(C.outsideAngular),(0,rc.Q)(C.insideAngular))}}(au())(C)}const vl=(C,P)=>function(){const ne=arguments;return P&&setTimeout(()=>{"scheduled"===P.state&&P.invoke()},10),Rs(()=>C.apply(void 0,ne))},El=(C,P)=>function(){let G;const ne=arguments;for(let Ce=0;Ce<arguments.length;Ce++)"function"==typeof ne[Ce]&&(P&&(G||(G=Rs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ou,{},ou,ou)))),ne[Ce]=vl(ne[Ce],G));const he=function ac(C){return au().ngZone.runOutsideAngular(()=>C())}(()=>C.apply(this,ne));if(!P){if(he instanceof Xu.y){const Ce=au();return he.pipe((0,ya.R)(Ce.outsideAngular),(0,rc.Q)(Ce.insideAngular))}return Rs(()=>he)}return he instanceof Xu.y?he.pipe(ki):he instanceof Promise?Rs(()=>new Promise((Ce,ze)=>he.then(Pt=>Rs(()=>Ce(Pt)),Pt=>Rs(()=>ze(Pt))))):"function"==typeof he&&G?function(){return setTimeout(()=>{G&&"scheduled"===G.state&&G.invoke()},10),he.apply(this,arguments)}:Rs(()=>he)}},2090:(sn,Ye,Y)=>{Y.d(Ye,{$s:()=>sr,BH:()=>He,L:()=>Le,LL:()=>Kt,Pz:()=>ht,US:()=>Ae,ZR:()=>kn,aH:()=>Fe,b$:()=>on,eu:()=>pt,hl:()=>ft,m9:()=>Sr,ne:()=>dn,pd:()=>zi,q4:()=>zn,ru:()=>$t,tV:()=>se,uI:()=>yt,vZ:()=>Yr,w1:()=>Ge,xO:()=>rs,xb:()=>cn,z$:()=>St,zI:()=>an,zd:()=>Ht});const De=function(fe){const le=[];let we=0;for(let Ze=0;Ze<fe.length;Ze++){let Oe=fe.charCodeAt(Ze);Oe<128?le[we++]=Oe:Oe<2048?(le[we++]=Oe>>6|192,le[we++]=63&Oe|128):55296==(64512&Oe)&&Ze+1<fe.length&&56320==(64512&fe.charCodeAt(Ze+1))?(Oe=65536+((1023&Oe)<<10)+(1023&fe.charCodeAt(++Ze)),le[we++]=Oe>>18|240,le[we++]=Oe>>12&63|128,le[we++]=Oe>>6&63|128,le[we++]=63&Oe|128):(le[we++]=Oe>>12|224,le[we++]=Oe>>6&63|128,le[we++]=63&Oe|128)}return le},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(fe,le){if(!Array.isArray(fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const we=le?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ze=[];for(let Oe=0;Oe<fe.length;Oe+=3){const Tt=fe[Oe],Ee=Oe+1<fe.length,pe=Ee?fe[Oe+1]:0,ie=Oe+2<fe.length,ve=ie?fe[Oe+2]:0;let We=(15&pe)<<2|ve>>6,At=63&ve;ie||(At=64,Ee||(We=64)),Ze.push(we[Tt>>2],we[(3&Tt)<<4|pe>>4],we[We],we[At])}return Ze.join("")},encodeString(fe,le){return this.HAS_NATIVE_SUPPORT&&!le?btoa(fe):this.encodeByteArray(De(fe),le)},decodeString(fe,le){return this.HAS_NATIVE_SUPPORT&&!le?atob(fe):function(fe){const le=[];let we=0,Ze=0;for(;we<fe.length;){const Oe=fe[we++];if(Oe<128)le[Ze++]=String.fromCharCode(Oe);else if(Oe>191&&Oe<224){const Tt=fe[we++];le[Ze++]=String.fromCharCode((31&Oe)<<6|63&Tt)}else if(Oe>239&&Oe<365){const ie=((7&Oe)<<18|(63&fe[we++])<<12|(63&fe[we++])<<6|63&fe[we++])-65536;le[Ze++]=String.fromCharCode(55296+(ie>>10)),le[Ze++]=String.fromCharCode(56320+(1023&ie))}else{const Tt=fe[we++],Ee=fe[we++];le[Ze++]=String.fromCharCode((15&Oe)<<12|(63&Tt)<<6|63&Ee)}}return le.join("")}(this.decodeStringToByteArray(fe,le))},decodeStringToByteArray(fe,le){this.init_();const we=le?this.charToByteMapWebSafe_:this.charToByteMap_,Ze=[];for(let Oe=0;Oe<fe.length;){const Tt=we[fe.charAt(Oe++)],pe=Oe<fe.length?we[fe.charAt(Oe)]:0;++Oe;const ve=Oe<fe.length?we[fe.charAt(Oe)]:64;++Oe;const Re=Oe<fe.length?we[fe.charAt(Oe)]:64;if(++Oe,null==Tt||null==pe||null==ve||null==Re)throw new Be;Ze.push(Tt<<2|pe>>4),64!==ve&&(Ze.push(pe<<4&240|ve>>2),64!==Re&&Ze.push(ve<<6&192|Re))}return Ze},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let fe=0;fe<this.ENCODED_VALS.length;fe++)this.byteToCharMap_[fe]=this.ENCODED_VALS.charAt(fe),this.charToByteMap_[this.byteToCharMap_[fe]]=fe,this.byteToCharMapWebSafe_[fe]=this.ENCODED_VALS_WEBSAFE.charAt(fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fe]]=fe,fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fe)]=fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fe)]=fe)}}};class Be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Le=function(fe){return function(fe){const le=De(fe);return Ae.encodeByteArray(le,!0)}(fe).replace(/\./g,"")},se=function(fe){try{return Ae.decodeString(fe,!0)}catch(le){console.error("base64Decode failed: ",le)}return null},Ut=()=>{try{return function st(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const fe=process.env.__FIREBASE_DEFAULTS__;return fe?JSON.parse(fe):void 0})()||(()=>{if(typeof document>"u")return;let fe;try{fe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const le=fe&&se(fe[1]);return le&&JSON.parse(le)})()}catch(fe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${fe}`)}},zn=fe=>{var le,we;return null===(we=null===(le=Ut())||void 0===le?void 0:le.emulatorHosts)||void 0===we?void 0:we[fe]},Fe=()=>{var fe;return null===(fe=Ut())||void 0===fe?void 0:fe.config},ht=fe=>{var le;return null===(le=Ut())||void 0===le?void 0:le[`_${fe}`]};class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((le,we)=>{this.resolve=le,this.reject=we})}wrapCallback(le){return(we,Ze)=>{we?this.reject(we):this.resolve(Ze),"function"==typeof le&&(this.promise.catch(()=>{}),1===le.length?le(we):le(we,Ze))}}}function St(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function yt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}function $t(){const fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fe&&void 0!==fe.id}function on(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ge(){const fe=St();return fe.indexOf("MSIE ")>=0||fe.indexOf("Trident/")>=0}function ft(){try{return"object"==typeof indexedDB}catch{return!1}}function pt(){return new Promise((fe,le)=>{try{let we=!0;const Ze="validate-browser-context-for-indexeddb-analytics-module",Oe=self.indexedDB.open(Ze);Oe.onsuccess=()=>{Oe.result.close(),we||self.indexedDB.deleteDatabase(Ze),fe(!0)},Oe.onupgradeneeded=()=>{we=!1},Oe.onerror=()=>{var Tt;le((null===(Tt=Oe.error)||void 0===Tt?void 0:Tt.message)||"")}}catch(we){le(we)}})}function an(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class kn extends Error{constructor(le,we,Ze){super(we),this.code=le,this.customData=Ze,this.name="FirebaseError",Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kt.prototype.create)}}class Kt{constructor(le,we,Ze){this.service=le,this.serviceName=we,this.errors=Ze}create(le,...we){const Ze=we[0]||{},Oe=`${this.service}/${le}`,Tt=this.errors[le],Ee=Tt?function jt(fe,le){return fe.replace(Mt,(we,Ze)=>{const Oe=le[Ze];return null!=Oe?String(Oe):`<${Ze}?>`})}(Tt,Ze):"Error";return new kn(Oe,`${this.serviceName}: ${Ee} (${Oe}).`,Ze)}}const Mt=/\{\$([^}]+)}/g;function cn(fe){for(const le in fe)if(Object.prototype.hasOwnProperty.call(fe,le))return!1;return!0}function Yr(fe,le){if(fe===le)return!0;const we=Object.keys(fe),Ze=Object.keys(le);for(const Oe of we){if(!Ze.includes(Oe))return!1;const Tt=fe[Oe],Ee=le[Oe];if(Wn(Tt)&&Wn(Ee)){if(!Yr(Tt,Ee))return!1}else if(Tt!==Ee)return!1}for(const Oe of Ze)if(!we.includes(Oe))return!1;return!0}function Wn(fe){return null!==fe&&"object"==typeof fe}function rs(fe){const le=[];for(const[we,Ze]of Object.entries(fe))Array.isArray(Ze)?Ze.forEach(Oe=>{le.push(encodeURIComponent(we)+"="+encodeURIComponent(Oe))}):le.push(encodeURIComponent(we)+"="+encodeURIComponent(Ze));return le.length?"&"+le.join("&"):""}function Ht(fe){const le={};return fe.replace(/^\?/,"").split("&").forEach(Ze=>{if(Ze){const[Oe,Tt]=Ze.split("=");le[decodeURIComponent(Oe)]=decodeURIComponent(Tt)}}),le}function zi(fe){const le=fe.indexOf("?");if(!le)return"";const we=fe.indexOf("#",le);return fe.substring(le,we>0?we:void 0)}function dn(fe,le){const we=new xt(fe,le);return we.subscribe.bind(we)}class xt{constructor(le,we){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=we,this.task.then(()=>{le(this)}).catch(Ze=>{this.error(Ze)})}next(le){this.forEachObserver(we=>{we.next(le)})}error(le){this.forEachObserver(we=>{we.error(le)}),this.close(le)}complete(){this.forEachObserver(le=>{le.complete()}),this.close()}subscribe(le,we,Ze){let Oe;if(void 0===le&&void 0===we&&void 0===Ze)throw new Error("Missing Observer.");Oe=function Hn(fe,le){if("object"!=typeof fe||null===fe)return!1;for(const we of le)if(we in fe&&"function"==typeof fe[we])return!0;return!1}(le,["next","error","complete"])?le:{next:le,error:we,complete:Ze},void 0===Oe.next&&(Oe.next=ri),void 0===Oe.error&&(Oe.error=ri),void 0===Oe.complete&&(Oe.complete=ri);const Tt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Oe.error(this.finalError):Oe.complete()}catch{}}),this.observers.push(Oe),Tt}unsubscribeOne(le){void 0===this.observers||void 0===this.observers[le]||(delete this.observers[le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(le){if(!this.finalized)for(let we=0;we<this.observers.length;we++)this.sendOne(we,le)}sendOne(le,we){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[le])try{we(this.observers[le])}catch(Ze){typeof console<"u"&&console.error&&console.error(Ze)}})}close(le){this.finalized||(this.finalized=!0,void 0!==le&&(this.finalError=le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ri(){}const er=1e3,jr=2,Qt=144e5,Qr=.5;function sr(fe,le=er,we=jr){const Ze=le*Math.pow(we,fe),Oe=Math.round(Qr*Ze*(Math.random()-.5)*2);return Math.min(Qt,Ze+Oe)}function Sr(fe){return fe&&fe._delegate?fe._delegate:fe}},5963:(sn,Ye,Y)=>{var w=Y(1481),re=Y(5912),k=Y(1571),De=Y(5861),ee=Y(5465),Ae=Y(3562),Be=Y(1135);let ce=(()=>{class M{constructor(y,x,z){this.auth=y,this.router=x,this.fs=z,this.logged$=new Be.X(!1),this.guildId$=new Be.X("")}login(y,x){var z=this;return(0,De.Z)(function*(){const te=yield(0,ee.e5)(z.auth,y,x);return z.logged$.next(!!te.user.uid),z.router.navigateByUrl("/administration/raid-settings"),te})()}register(y){var x=this;return(0,De.Z)(function*(){const{email:z,password:te}=y;yield(0,ee.Xb)(x.auth,z,te).then(qe=>{console.log(qe.user.uid),x.login(z,te)}).catch(qe=>{console.log(qe.code,qe.message)})})()}createGuild(y,x){return(0,Ae.ET)((0,Ae.hJ)(this.fs,"guilds"),{createdAt:new Date,guildMaster:y,guildName:x,members:[y]})}joinGuild(y){return(0,Ae.BS)((0,Ae.IO)((0,Ae.hJ)(this.fs,"guilds"),(0,Ae.ar)("guildName","==",y)))}addNewUser(y,x,z,te){(0,Ae.pl)((0,Ae.JU)(this.fs,"users",y),{guildMaster:x,nick:z,guildId:te})}getGuild(y){var x=this;return(0,De.Z)(function*(){return yield(0,Ae.QT)((0,Ae.JU)(x.fs,"users",y))})()}isLogged(){return(0,ee.Aj)(this.auth,y=>{this.logged$.next(!!y),this.router.getCurrentNavigation()||this.router.navigateByUrl("/dashboard")}),this.logged$}logout(){this.auth.signOut(),this.router.navigateByUrl("/login")}}return M.\u0275fac=function(y){return new(y||M)(k.LFG(ee.gx),k.LFG(re.F0),k.LFG(Ae.gg))},M.\u0275prov=k.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();var Le=Y(6895),se=Y(5698),me=Y(4004);const xe=[{name:"Dashboard",visible:!0,path:"dashboard",expanded:!1,active:!0},{name:"Progress",visible:!0,path:"progress",expanded:!1,active:!1,submenus:[{name:"Individual",path:"individual",visible:!0},{name:"Global",path:"global",visible:!0}]},{name:"Raids",visible:!0,path:"raids",expanded:!1,active:!0},{name:"Administration",visible:!0,path:"administration",expanded:!0,active:!1,submenus:[{name:"Raid settings",path:"raid-settings",visible:!0},{name:"Game specification",path:"game-specification",visible:!0},{name:"Member list",path:"member-list",visible:!0}]}],rt=[{name:"Dashboard",visible:!0,path:"dashboard",expanded:!1,active:!0},{name:"Progress",visible:!0,path:"progress",expanded:!1,active:!1,submenus:[{name:"Individual",path:"individual",visible:!0},{name:"Global",path:"global",visible:!0}]},{name:"Raids",visible:!0,path:"raids",expanded:!1,active:!0},{name:"Administration",visible:!1,path:"administration",expanded:!0,active:!1,submenus:[{name:"Raid settings",path:"raid-settings",visible:!0},{name:"Game specification",path:"game-specification",visible:!0},{name:"Member list",path:"member-list",visible:!0}]}];function st(M,g){if(1&M){const y=k.EpF();k.ynx(0),k.TgZ(1,"button",7),k.NdJ("click",function(){k.CHM(y);const z=k.oxw(2).$implicit;return k.KtG(z.expanded=!z.expanded)}),k._uU(2),k.qZA(),k.BQk()}if(2&M){const y=k.oxw(2).$implicit;k.xp6(1),k.MGl("routerLink","/",y.path,""),k.xp6(1),k.Oqu(y.name)}}function gt(M,g){if(1&M){const y=k.EpF();k.TgZ(0,"button",8),k.NdJ("click",function(){k.CHM(y);const z=k.oxw(2).$implicit;return k.KtG(z.expanded=!z.expanded)}),k._uU(1),k.qZA()}if(2&M){const y=k.oxw(2).$implicit;k.xp6(1),k.Oqu(y.name)}}function mt(M,g){if(1&M&&(k.TgZ(0,"li",11)(1,"a",12),k._uU(2),k.qZA()()),2&M){const y=k.oxw().$implicit,x=k.oxw(2).$implicit;k.xp6(1),k.hYB("routerLink","/",x.path,"/",y.path,""),k.xp6(1),k.hij(" ",y.name," ")}}const fn=function(M){return{display:M}};function Ut(M,g){if(1&M&&(k.TgZ(0,"div",9),k.YNc(1,mt,3,3,"li",10),k.qZA()),2&M){const y=g.$implicit,x=k.oxw(2).$implicit;k.Q6J("ngStyle",k.VKq(2,fn,x.expanded?"":"none")),k.xp6(1),k.Q6J("ngIf",y.visible)}}function zn(M,g){if(1&M&&(k.TgZ(0,"div",3),k.YNc(1,st,3,2,"ng-container",4),k.YNc(2,gt,2,1,"ng-template",null,5,k.W1O),k.YNc(4,Ut,2,4,"div",6),k.qZA()),2&M){const y=k.MAs(3),x=k.oxw().$implicit;k.xp6(1),k.Q6J("ngIf",x.active)("ngIfElse",y),k.xp6(3),k.Q6J("ngForOf",x.submenus)}}function wn(M,g){if(1&M&&(k.TgZ(0,"ul",1),k.YNc(1,zn,5,3,"div",2),k.qZA()),2&M){const y=g.$implicit;k.xp6(1),k.Q6J("ngIf",y.visible)}}let Fe=(()=>{class M{constructor(y,x){this.auth=y,this.fs=x,this.activeLinks=rt,this.getUser()}getUser(){(0,Ae.BS)((0,Ae.IO)((0,Ae.hJ)(this.fs,"users"),(0,Ae.ar)((0,Ae.Jm)(),"==",this.auth.currentUser?.uid))).pipe((0,se.q)(1),(0,me.U)(y=>y[0])).subscribe(y=>{console.log(y),y.guildMaster&&(this.activeLinks=xe)})}}return M.\u0275fac=function(y){return new(y||M)(k.Y36(ee.gx),k.Y36(Ae.gg))},M.\u0275cmp=k.Xpm({type:M,selectors:[["app-nav"]],decls:1,vars:1,consts:[["class","nav",4,"ngFor","ngForOf"],[1,"nav"],["class","nav__link",4,"ngIf"],[1,"nav__link"],[4,"ngIf","ngIfElse"],["noActive",""],[3,"ngStyle",4,"ngFor","ngForOf"],[1,"nav__main_menu",3,"routerLink","click"],[1,"nav__main_menu",3,"click"],[3,"ngStyle"],["class","nav__link_submenu",4,"ngIf"],[1,"nav__link_submenu"],["routerLinkActive","active",1,"nav__link_submenu_link",3,"routerLink"]],template:function(y,x){1&y&&k.YNc(0,wn,2,1,"ul",0),2&y&&k.Q6J("ngForOf",x.activeLinks)},dependencies:[Le.sg,Le.O5,Le.PC,re.rH,re.Od],styles:[".nav[_ngcontent-%COMP%]{background-color:#00517c;padding:0 5px 1px;min-width:250px}.nav__main_menu[_ngcontent-%COMP%]{text-align:left;width:100%;padding:5px 10px;background-color:#00517c;color:#fff;cursor:pointer}.nav__link_submenu[_ngcontent-%COMP%]{margin-bottom:5px}.nav__link_submenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;background-color:#009df1;padding:5px 10px}.nav__link_submenu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#0072af}.nav__link_submenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0275b3}.nav__link_submenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:checked{background-color:#00f}button[_ngcontent-%COMP%]{border-style:none}"]}),M})(),ht=(()=>{class M{constructor(y){this.authService=y,this.userName="test"}logout(){this.authService.logout()}}return M.\u0275fac=function(y){return new(y||M)(k.Y36(ce))},M.\u0275cmp=k.Xpm({type:M,selectors:[["app-my-profile"]],decls:9,vars:1,consts:[[1,"my-profile"],["routerLink","add-character"],["routerLink","character-list"],[3,"click"]],template:function(y,x){1&y&&(k.TgZ(0,"div",0)(1,"h2"),k._uU(2),k.qZA(),k.TgZ(3,"button",1),k._uU(4,"Add Character"),k.qZA(),k.TgZ(5,"button",2),k._uU(6,"Character List"),k.qZA(),k.TgZ(7,"button",3),k.NdJ("click",function(){return x.logout()}),k._uU(8,"Logout"),k.qZA()()),2&y&&(k.xp6(2),k.Oqu(x.userName))},dependencies:[re.rH],styles:[".my-profile[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:150px;background-color:#00517c;padding:5px;gap:5px}.my-profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff}.my-profile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-style:none;cursor:pointer;display:block;color:#fff;background-color:#009df1;padding:5px 10px}.my-profile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0275b3}"]}),M})();function He(M,g){1&M&&k._UZ(0,"app-nav")}function lt(M,g){1&M&&(k.TgZ(0,"div",2)(1,"h1"),k._uU(2,"Guild Raiding App"),k.qZA(),k.TgZ(3,"div",3)(4,"button",4),k._uU(5,"Login"),k.qZA(),k.TgZ(6,"button",5),k._uU(7,"Register"),k.qZA()()())}function St(M,g){1&M&&k._UZ(0,"app-my-profile")}let yt=(()=>{class M{constructor(y){this.auth=y,this.isLogged$=this.auth.isLogged()}}return M.\u0275fac=function(y){return new(y||M)(k.Y36(ce))},M.\u0275cmp=k.Xpm({type:M,selectors:[["app-root"]],decls:7,vars:9,consts:[[4,"ngIf"],["class","my-profile",4,"ngIf"],[1,"my-profile"],[1,"buttons"],["routerLink","login","routerLinkActive","active"],["routerLink","register","routerLinkActive","active"]],template:function(y,x){1&y&&(k.YNc(0,He,1,0,"app-nav",0),k.ALo(1,"async"),k._UZ(2,"router-outlet"),k.YNc(3,lt,8,0,"div",1),k.ALo(4,"async"),k.YNc(5,St,1,0,"app-my-profile",0),k.ALo(6,"async")),2&y&&(k.Q6J("ngIf",k.lcZ(1,3,x.isLogged$)),k.xp6(3),k.Q6J("ngIf",!k.lcZ(4,5,x.isLogged$)),k.xp6(2),k.Q6J("ngIf",k.lcZ(6,7,x.isLogged$)))},dependencies:[Le.O5,Fe,ht,re.lC,re.rH,re.Od,Le.Ov],styles:["[_nghost-%COMP%]{display:flex}.my-profile[_ngcontent-%COMP%]{position:absolute;right:0;display:flex;width:100%;justify-content:center;align-items:center;min-width:150px;background-color:#00517c;padding:5px;gap:5px}.my-profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff}.my-profile[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:5px;position:absolute;right:10px}.my-profile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff}.my-profile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-style:none;cursor:pointer;display:block;color:#fff;background-color:#009df1;padding:5px 10px}.my-profile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0275b3}"]}),M})(),pn=(()=>{class M{constructor(y,x){this.router=y,this.auth=x}canActivate(y,x){return(0,ee.fD)(this.auth).pipe((0,me.U)(z=>!!z||(this.router.navigate(["/login"]),!1)))}}return M.\u0275fac=function(y){return new(y||M)(k.LFG(re.F0),k.LFG(ee.gx))},M.\u0275prov=k.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();const bn=[{path:"administration",children:[{path:"game-specification",loadChildren:()=>Y.e(469).then(Y.bind(Y,3469)).then(M=>M.GameSpecificationModule)},{path:"member-list",loadChildren:()=>Y.e(401).then(Y.bind(Y,7401)).then(M=>M.MemberListnModule)},{path:"raid-settings",loadChildren:()=>Y.e(496).then(Y.bind(Y,3496)).then(M=>M.RaidSettingsModule)},{path:"",pathMatch:"full",redirectTo:"member-list"},{path:"**",redirectTo:"member-list"}],canActivate:[pn]}];let $t=(()=>{class M{}return M.\u0275fac=function(y){return new(y||M)},M.\u0275mod=k.oAB({type:M}),M.\u0275inj=k.cJS({imports:[re.Bz.forChild(bn)]}),M})();const on_firebase={projectId:"guild-raid-app",appId:"1:385457201811:web:5ea1522a00f0976d16e366",databaseURL:"https://guild-raid-app-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"guild-raid-app.appspot.com",apiKey:"AIzaSyBz1Sjy3FGfhGL45XcKOd4UNF5eXAkdNrA",authDomain:"guild-raid-app.firebaseapp.com",messagingSenderId:"385457201811",measurementId:"G-T8Y3VKCKGL"};var ct=Y(3692);let Ge=(()=>{class M{constructor(y){this.authService=y}ngOnInit(){}}return M.\u0275fac=function(y){return new(y||M)(k.Y36(ce))},M.\u0275cmp=k.Xpm({type:M,selectors:[["app-auth"]],decls:1,vars:0,template:function(y,x){1&y&&k._UZ(0,"router-outlet")},dependencies:[re.lC]}),M})();var Se=Y(433);function nt(M,g){1&M&&(k.TgZ(0,"p",12),k._uU(1,"Nick is taken! Try other."),k.qZA())}function ft(M,g){1&M&&(k.TgZ(0,"p",12),k._uU(1,"Nick is to short! At leat 3 chars."),k.qZA())}function pt(M,g){if(1&M&&(k.ynx(0),k.YNc(1,nt,2,0,"p",11),k.YNc(2,ft,2,0,"p",11),k.BQk()),2&M){const y=k.oxw();k.xp6(1),k.Q6J("ngIf",y.registerFormControl.nick.hasError("required")),k.xp6(1),k.Q6J("ngIf",y.registerFormControl.nick.touched&&y.registerFormControl.nick.hasError("minlength"))}}function an(M,g){1&M&&(k.TgZ(0,"p",12),k._uU(1,"Email required!"),k.qZA())}function Nn(M,g){1&M&&(k.TgZ(0,"p",12),k._uU(1,"Wrong format!"),k.qZA())}function kn(M,g){if(1&M&&(k.ynx(0),k.YNc(1,an,2,0,"p",11),k.YNc(2,Nn,2,0,"p",11),k.BQk()),2&M){const y=k.oxw();k.xp6(1),k.Q6J("ngIf",y.registerFormControl.email.hasError("required")),k.xp6(1),k.Q6J("ngIf",y.registerFormControl.email.hasError("pattern")&&y.registerFormControl.email.touched)}}function Kt(M,g){1&M&&(k.TgZ(0,"p",12),k._uU(1,"Type password!"),k.qZA())}function jt(M,g){1&M&&(k.TgZ(0,"p",12),k._uU(1,"Password is to short! At leat 6 chars."),k.qZA())}function Mt(M,g){if(1&M&&(k.ynx(0),k.YNc(1,Kt,2,0,"p",11),k.YNc(2,jt,2,0,"p",11),k.BQk()),2&M){const y=k.oxw();k.xp6(1),k.Q6J("ngIf",y.registerFormControl.password.hasError("required")),k.xp6(1),k.Q6J("ngIf",y.registerFormControl.password.hasError("minlength"))}}function jn(M,g){1&M&&(k.TgZ(0,"p",12),k._uU(1,"Type guild name!"),k.qZA())}function Zr(M,g){if(1&M&&(k.ynx(0),k.YNc(1,jn,2,0,"p",11),k.BQk()),2&M){const y=k.oxw();k.xp6(1),k.Q6J("ngIf",y.registerFormControl.guildName.hasError("required"))}}const Pn=[{path:"",component:Ge,children:[{path:"login",component:(()=>{class M{constructor(y,x){this.authService=y,this.fb=x,this.form=this.fb.group({email:["",Se.kI.required],password:["",Se.kI.required]})}login(){if(this.form.valid){const{email:y,password:x}=this.form.getRawValue();this.authService.login(y,x)}}}return M.\u0275fac=function(y){return new(y||M)(k.Y36(ce),k.Y36(Se.j3))},M.\u0275cmp=k.Xpm({type:M,selectors:[["app-login"]],decls:5,vars:1,consts:[[3,"formGroup","ngSubmit"],["type","email","placeholder","Enter your email","formControlName","email"],["type","password","placeholder","Enter your password","formControlName","password"],["type","submit"]],template:function(y,x){1&y&&(k.TgZ(0,"form",0),k.NdJ("ngSubmit",function(){return x.login()}),k._UZ(1,"input",1)(2,"input",2),k.TgZ(3,"button",3),k._uU(4,"Login"),k.qZA()()),2&y&&k.Q6J("formGroup",x.form)},dependencies:[Se._Y,Se.Fj,Se.JJ,Se.JL,Se.sg,Se.u],styles:["form[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;min-width:150px;background-color:#00517c;padding:5px;gap:5px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-style:none;cursor:pointer;display:block;color:#fff;background-color:#009df1;padding:5px 10px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0275b3}"]}),M})()},{path:"register",component:(()=>{class M{constructor(y,x){this.fb=y,this.authService=x,this.form=this.fb.group({nick:["",[Se.kI.required,Se.kI.minLength(3)]],email:["",[Se.kI.required,Se.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",[Se.kI.required,Se.kI.minLength(6)]],guildMaster:!0,guildName:["",[Se.kI.required]]}),this.showPassword=!1,console.log(this.registerFormControl.email)}get registerFormControl(){return this.form.controls}onSubmit(){this.form.valid&&this.authService.register(this.form.getRawValue()).then(y=>{console.log(y)}).catch(y=>{console.log(y.message)})}}return M.\u0275fac=function(y){return new(y||M)(k.Y36(Se.j3),k.Y36(ce))},M.\u0275cmp=k.Xpm({type:M,selectors:[["app-register"]],decls:23,vars:10,consts:[[3,"formGroup","ngSubmit"],["type","text","placeholder","Nick","formControlName","nick"],[4,"ngIf"],["type","email","placeholder","Email","formControlName","email"],["placeholder","Password","formControlName","password",3,"type"],[1,"show-pw"],["type","checkbox",3,"value","change"],[1,"master-check"],["type","radio","name","guildMaster","formControlName","guildMaster",3,"value"],["type","text","placeholder","Guild name","formControlName","guildName"],["type","submit",3,"disabled"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(y,x){1&y&&(k.TgZ(0,"form",0),k.NdJ("ngSubmit",function(){return x.onSubmit()}),k._UZ(1,"input",1),k.YNc(2,pt,3,2,"ng-container",2),k._UZ(3,"input",3),k.YNc(4,kn,3,2,"ng-container",2),k._UZ(5,"input",4),k.YNc(6,Mt,3,2,"ng-container",2),k.TgZ(7,"label",5),k._uU(8,"Show password "),k.TgZ(9,"input",6),k.NdJ("change",function(){return x.showPassword=!x.showPassword}),k.qZA()(),k.TgZ(10,"div",7)(11,"label"),k._UZ(12,"input",8),k.TgZ(13,"span"),k._uU(14,"Create Guild"),k.qZA()(),k.TgZ(15,"label"),k._UZ(16,"input",8),k.TgZ(17,"span"),k._uU(18,"Join Guild"),k.qZA()()(),k._UZ(19,"input",9),k.YNc(20,Zr,2,1,"ng-container",2),k.TgZ(21,"button",10),k._uU(22,"Register"),k.qZA()()),2&y&&(k.Q6J("formGroup",x.form),k.xp6(2),k.Q6J("ngIf",x.registerFormControl.nick.invalid&&x.registerFormControl.nick.touched||x.registerFormControl.nick.dirty),k.xp6(2),k.Q6J("ngIf",x.registerFormControl.email.invalid&&x.registerFormControl.email.touched||x.registerFormControl.email.dirty),k.xp6(1),k.Q6J("type",x.showPassword?"text":"password"),k.xp6(1),k.Q6J("ngIf",x.registerFormControl.password.invalid&&x.registerFormControl.password.touched||x.registerFormControl.password.dirty),k.xp6(3),k.Q6J("value",x.showPassword),k.xp6(3),k.Q6J("value",!0),k.xp6(4),k.Q6J("value",!1),k.xp6(4),k.Q6J("ngIf",x.registerFormControl.guildName.invalid&&x.registerFormControl.guildName.touched||x.registerFormControl.guildName.dirty),k.xp6(1),k.Q6J("disabled",!x.form.valid))},dependencies:[Se._Y,Se.Fj,Se._,Se.JJ,Se.JL,Se.sg,Se.u,Le.O5],styles:["form[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;min-width:150px;background-color:#00517c;padding:5px;gap:5px}form[_ngcontent-%COMP%]   .master-check[_ngcontent-%COMP%]{display:flex;gap:5px}form[_ngcontent-%COMP%]   .master-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}form[_ngcontent-%COMP%]   .master-check[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{color:#fff;background-color:#009df1}form[_ngcontent-%COMP%]   .master-check[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:hover{background-color:#0275b3}form[_ngcontent-%COMP%]   .master-check[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:checked{background-color:#00a6ff}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;display:block;text-align:center;background-color:#0072af;cursor:pointer}form[_ngcontent-%COMP%]   .show-pw[_ngcontent-%COMP%]{text-align:center;color:#fff}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-style:none;cursor:pointer;display:block;color:#fff;background-color:#009df1;padding:5px 10px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0275b3}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#0275b3;cursor:inherit}form[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:red;font-size:small}"]}),M})()}]}];let Mi=(()=>{class M{}return M.\u0275fac=function(y){return new(y||M)},M.\u0275mod=k.oAB({type:M}),M.\u0275inj=k.cJS({providers:[ce],imports:[re.Bz.forChild(Pn),Se.UX,Le.ez]}),M})();const br=[{path:"add-character",component:(()=>{class M{}return M.\u0275fac=function(y){return new(y||M)},M.\u0275cmp=k.Xpm({type:M,selectors:[["app-add-character"]],decls:6,vars:0,consts:[["type","text","placeholder","Character name"],["type","text","placeholder","Level"],["type","text","placeholder","Gear score"],["type","text","placeholder","Role"],["type","text","placeholder","Specyfication"]],template:function(y,x){1&y&&(k.TgZ(0,"form"),k._UZ(1,"input",0)(2,"input",1)(3,"input",2)(4,"input",3)(5,"input",4),k.qZA())},styles:["[_nghost-%COMP%]{width:100%;margin:0 20px}"]}),M})(),canActivate:[pn]},{path:"character-list",component:(()=>{class M{}return M.\u0275fac=function(y){return new(y||M)},M.\u0275cmp=k.Xpm({type:M,selectors:[["app-character-list"]],decls:2,vars:0,template:function(y,x){1&y&&(k.TgZ(0,"p"),k._uU(1,"character-list works!"),k.qZA())}}),M})(),canActivate:[pn]},{path:"dashboard",component:(()=>{class M{}return M.\u0275fac=function(y){return new(y||M)},M.\u0275cmp=k.Xpm({type:M,selectors:[["app-dashboard"]],decls:6,vars:0,consts:[["routerLink","user-panel","routerLinkActive","active"],["routerLink","guild-panel","routerLinkActive","active"]],template:function(y,x){1&y&&(k.TgZ(0,"div")(1,"button",0),k._uU(2,"User Panel"),k.qZA(),k.TgZ(3,"button",1),k._uU(4,"Guild Panel"),k.qZA()(),k._UZ(5,"router-outlet"))},dependencies:[re.lC,re.rH,re.Od],styles:["[_nghost-%COMP%]{width:100%}"]}),M})(),children:[{path:"user-panel",component:(()=>{class M{}return M.\u0275fac=function(y){return new(y||M)},M.\u0275cmp=k.Xpm({type:M,selectors:[["app-user-panel"]],decls:2,vars:0,template:function(y,x){1&y&&(k.TgZ(0,"p"),k._uU(1,"user-panel works!"),k.qZA())}}),M})()},{path:"guild-panel",component:(()=>{class M{}return M.\u0275fac=function(y){return new(y||M)},M.\u0275cmp=k.Xpm({type:M,selectors:[["app-guild-panel"]],decls:2,vars:0,template:function(y,x){1&y&&(k.TgZ(0,"p"),k._uU(1,"guild-panel works!"),k.qZA())}}),M})()},{path:"",pathMatch:"full",redirectTo:"user-panel"}],canActivate:[pn]}];let Yr=(()=>{class M{}return M.\u0275fac=function(y){return new(y||M)},M.\u0275mod=k.oAB({type:M}),M.\u0275inj=k.cJS({providers:[pn],imports:[Le.ez,re.Bz.forChild(br)]}),M})();const fi=[{path:"raids",component:(()=>{class M{}return M.\u0275fac=function(y){return new(y||M)},M.\u0275cmp=k.Xpm({type:M,selectors:[["app-raids"]],decls:2,vars:0,template:function(y,x){1&y&&(k.TgZ(0,"p"),k._uU(1,"raids works!"),k.qZA())}}),M})()}];let rs=(()=>{class M{}return M.\u0275fac=function(y){return new(y||M)},M.\u0275mod=k.oAB({type:M}),M.\u0275inj=k.cJS({imports:[Le.ez,re.Bz.forChild(fi)]}),M})();const Ht=[{path:"progress",children:[{path:"individual",loadChildren:()=>Y.e(754).then(Y.bind(Y,3754)).then(M=>M.IndividualModule)},{path:"global",loadChildren:()=>Y.e(91).then(Y.bind(Y,7091)).then(M=>M.GlobalModule)}],canActivate:[pn]}];let zi=(()=>{class M{}return M.\u0275fac=function(y){return new(y||M)},M.\u0275mod=k.oAB({type:M}),M.\u0275inj=k.cJS({imports:[Le.ez,re.Bz.forChild(Ht)]}),M})();class Ii{}class dn{}const xt="*";function ii(M,g=null){return{type:2,steps:M,options:g}}function Li(M){return{type:6,styles:M,offset:null}}function Qt(M){Promise.resolve().then(M)}class Qr{constructor(g=0,y=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=g+y}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Qt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(g=>g()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(g){this._position=this.totalTime?g*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(g){const y="start"==g?this._onStartFns:this._onDoneFns;y.forEach(x=>x()),y.length=0}}class sr{constructor(g){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=g;let y=0,x=0,z=0;const te=this.players.length;0==te?Qt(()=>this._onFinish()):this.players.forEach(ge=>{ge.onDone(()=>{++y==te&&this._onFinish()}),ge.onDestroy(()=>{++x==te&&this._onDestroy()}),ge.onStart(()=>{++z==te&&this._onStart()})}),this.totalTime=this.players.reduce((ge,_e)=>Math.max(ge,_e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this.players.forEach(g=>g.init())}onStart(g){this._onStartFns.push(g)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(g=>g()),this._onStartFns=[])}onDone(g){this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(g=>g.play())}pause(){this.players.forEach(g=>g.pause())}restart(){this.players.forEach(g=>g.restart())}finish(){this._onFinish(),this.players.forEach(g=>g.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(g=>g.destroy()),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}reset(){this.players.forEach(g=>g.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(g){const y=g*this.totalTime;this.players.forEach(x=>{const z=x.totalTime?Math.min(1,y/x.totalTime):1;x.setPosition(z)})}getPosition(){const g=this.players.reduce((y,x)=>null===y||x.totalTime>y.totalTime?x:y,null);return null!=g?g.getPosition():0}beforeDestroy(){this.players.forEach(g=>{g.beforeDestroy&&g.beforeDestroy()})}triggerCallback(g){const y="start"==g?this._onStartFns:this._onDoneFns;y.forEach(x=>x()),y.length=0}}const si="!";function Sr(M){return new k.vHH(3e3,!1)}function In(){return typeof window<"u"&&typeof window.document<"u"}function Dr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Gr(M){switch(M.length){case 0:return new Qr;case 1:return M[0];default:return new sr(M)}}function Is(M,g,y,x,z=new Map,te=new Map){const ge=[],_e=[];let Ne=-1,qe=null;if(x.forEach(Nt=>{const It=Nt.get("offset"),$n=It==Ne,yn=$n&&qe||new Map;Nt.forEach((_n,tn)=>{let Kn=tn,Te=_n;if("offset"!==tn)switch(Kn=g.normalizePropertyName(Kn,ge),Te){case si:Te=z.get(tn);break;case xt:Te=te.get(tn);break;default:Te=g.normalizeStyleValue(tn,Kn,Te,ge)}yn.set(Kn,Te)}),$n||_e.push(yn),qe=yn,Ne=It}),ge.length)throw function dr(M){return new k.vHH(3502,!1)}();return _e}function Nr(M,g,y,x){switch(g){case"start":M.onStart(()=>x(y&&xi(y,"start",M)));break;case"done":M.onDone(()=>x(y&&xi(y,"done",M)));break;case"destroy":M.onDestroy(()=>x(y&&xi(y,"destroy",M)))}}function xi(M,g,y){const te=hr(M.element,M.triggerName,M.fromState,M.toState,g||M.phaseName,y.totalTime??M.totalTime,!!y.disabled),ge=M._data;return null!=ge&&(te._data=ge),te}function hr(M,g,y,x,z="",te=0,ge){return{element:M,triggerName:g,fromState:y,toState:x,phaseName:z,totalTime:te,disabled:!!ge}}function Jr(M,g,y){let x=M.get(g);return x||M.set(g,x=y),x}function zs(M){const g=M.indexOf(":");return[M.substring(1,g),M.slice(g+1)]}let Dn=(M,g)=>!1,Qi=(M,g,y)=>[],Ws=null;function Wi(M){const g=M.parentNode||M.host;return g===Ws?null:g}(Dr()||typeof Element<"u")&&(In()?(Ws=(()=>document.documentElement)(),Dn=(M,g)=>{for(;g;){if(g===M)return!0;g=Wi(g)}return!1}):Dn=(M,g)=>M.contains(g),Qi=(M,g,y)=>{if(y)return Array.from(M.querySelectorAll(g));const x=M.querySelector(g);return x?[x]:[]});let Qn=null,qs=!1;const ur=Dn,Ks=Qi;let vt=(()=>{class M{validateStyleProperty(y){return function yr(M){Qn||(Qn=function gi(){return typeof document<"u"?document.body:null}()||{},qs=!!Qn.style&&"WebkitAppearance"in Qn.style);let g=!0;return Qn.style&&!function Xr(M){return"ebkit"==M.substring(1,6)}(M)&&(g=M in Qn.style,!g&&qs&&(g="Webkit"+M.charAt(0).toUpperCase()+M.slice(1)in Qn.style)),g}(y)}matchesElement(y,x){return!1}containsElement(y,x){return ur(y,x)}getParentElement(y){return Wi(y)}query(y,x,z){return Ks(y,x,z)}computeStyle(y,x,z){return z||""}animate(y,x,z,te,ge,_e=[],Ne){return new Qr(z,te)}}return M.\u0275fac=function(y){return new(y||M)},M.\u0275prov=k.Yz7({token:M,factory:M.\u0275fac}),M})(),Di=(()=>{class M{}return M.NOOP=new vt,M})();const os=1e3,So="ng-enter",mi="ng-leave",Ui="ng-trigger",Yn=".ng-trigger",qi="ng-animating",fs=".ng-animating";function Or(M){if("number"==typeof M)return M;const g=M.match(/^(-?[\.\d]+)(m?s)/);return!g||g.length<2?0:zo(parseFloat(g[1]),g[2])}function zo(M,g){return"s"===g?M*os:M}function fr(M,g,y){return M.hasOwnProperty("duration")?M:function pr(M,g,y){let z,te=0,ge="";if("string"==typeof M){const _e=M.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_e)return g.push(Sr()),{duration:0,delay:0,easing:""};z=zo(parseFloat(_e[1]),_e[2]);const Ne=_e[3];null!=Ne&&(te=zo(parseFloat(Ne),_e[4]));const qe=_e[5];qe&&(ge=qe)}else z=M;if(!y){let _e=!1,Ne=g.length;z<0&&(g.push(function fe(){return new k.vHH(3100,!1)}()),_e=!0),te<0&&(g.push(function le(){return new k.vHH(3101,!1)}()),_e=!0),_e&&g.splice(Ne,0,Sr())}return{duration:z,delay:te,easing:ge}}(M,g,y)}function Ki(M,g={}){return Object.keys(M).forEach(y=>{g[y]=M[y]}),g}function Fs(M){const g=new Map;return Object.keys(M).forEach(y=>{g.set(y,M[y])}),g}function _i(M,g=new Map,y){if(y)for(let[x,z]of y)g.set(x,z);for(let[x,z]of M)g.set(x,z);return g}function mo(M,g,y){return y?g+":"+y+";":""}function yo(M){let g="";for(let y=0;y<M.style.length;y++){const x=M.style.item(y);g+=mo(0,x,M.style.getPropertyValue(x))}for(const y in M.style)M.style.hasOwnProperty(y)&&!y.startsWith("_")&&(g+=mo(0,Ko(y),M.style[y]));M.setAttribute("style",g)}function ai(M,g,y){M.style&&(g.forEach((x,z)=>{const te=qo(z);y&&!y.has(z)&&y.set(z,M.style[te]),M.style[te]=x}),Dr()&&yo(M))}function Bi(M,g){M.style&&(g.forEach((y,x)=>{const z=qo(x);M.style[z]=""}),Dr()&&yo(M))}function _o(M){return Array.isArray(M)?1==M.length?M[0]:ii(M):M}const Ao=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ea(M){let g=[];if("string"==typeof M){let y;for(;y=Ao.exec(M);)g.push(y[1]);Ao.lastIndex=0}return g}function Cs(M,g,y){const x=M.toString(),z=x.replace(Ao,(te,ge)=>{let _e=g[ge];return null==_e&&(y.push(function Ze(M){return new k.vHH(3003,!1)}()),_e=""),_e.toString()});return z==x?M:z}function ao(M){const g=[];let y=M.next();for(;!y.done;)g.push(y.value),y=M.next();return g}const Wo=/-+([a-z0-9])/g;function qo(M){return M.replace(Wo,(...g)=>g[1].toUpperCase())}function Ko(M){return M.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vr(M,g,y){switch(g.type){case 7:return M.visitTrigger(g,y);case 0:return M.visitState(g,y);case 1:return M.visitTransition(g,y);case 2:return M.visitSequence(g,y);case 3:return M.visitGroup(g,y);case 4:return M.visitAnimate(g,y);case 5:return M.visitKeyframes(g,y);case 6:return M.visitStyle(g,y);case 8:return M.visitReference(g,y);case 9:return M.visitAnimateChild(g,y);case 10:return M.visitAnimateRef(g,y);case 11:return M.visitQuery(g,y);case 12:return M.visitStagger(g,y);default:throw function Oe(M){return new k.vHH(3004,!1)}()}}function Ts(M,g){return window.getComputedStyle(M)[g]}const Tr="*";function Mo(M,g){const y=[];return"string"==typeof M?M.split(/\s*,\s*/).forEach(x=>function Ar(M,g,y){if(":"==M[0]){const Ne=function Ci(M,g){switch(M){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(y,x)=>parseFloat(x)>parseFloat(y);case":decrement":return(y,x)=>parseFloat(x)<parseFloat(y);default:return g.push(function Gt(M){return new k.vHH(3016,!1)}()),"* => *"}}(M,y);if("function"==typeof Ne)return void g.push(Ne);M=Ne}const x=M.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==x||x.length<4)return y.push(function ut(M){return new k.vHH(3015,!1)}()),g;const z=x[1],te=x[2],ge=x[3];g.push(Mr(z,ge));"<"==te[0]&&!(z==Tr&&ge==Tr)&&g.push(Mr(ge,z))}(x,y,g)):y.push(M),y}const Yo=new Set(["true","1"]),Ti=new Set(["false","0"]);function Mr(M,g){const y=Yo.has(M)||Ti.has(M),x=Yo.has(g)||Ti.has(g);return(z,te)=>{let ge=M==Tr||M==z,_e=g==Tr||g==te;return!ge&&y&&"boolean"==typeof z&&(ge=z?Yo.has(M):Ti.has(M)),!_e&&x&&"boolean"==typeof te&&(_e=te?Yo.has(g):Ti.has(g)),ge&&_e}}const Qo=new RegExp("s*:selfs*,?","g");function $i(M,g,y,x){return new ji(M).build(g,y,x)}class ji{constructor(g){this._driver=g}build(g,y,x){const z=new co(y);return this._resetContextStyleTimingState(z),Vr(this,_o(g),z)}_resetContextStyleTimingState(g){g.currentQuerySelector="",g.collectedStyles=new Map,g.collectedStyles.set("",new Map),g.currentTime=0}visitTrigger(g,y){let x=y.queryCount=0,z=y.depCount=0;const te=[],ge=[];return"@"==g.name.charAt(0)&&y.errors.push(function Ee(){return new k.vHH(3006,!1)}()),g.definitions.forEach(_e=>{if(this._resetContextStyleTimingState(y),0==_e.type){const Ne=_e,qe=Ne.name;qe.toString().split(/\s*,\s*/).forEach(Nt=>{Ne.name=Nt,te.push(this.visitState(Ne,y))}),Ne.name=qe}else if(1==_e.type){const Ne=this.visitTransition(_e,y);x+=Ne.queryCount,z+=Ne.depCount,ge.push(Ne)}else y.errors.push(function pe(){return new k.vHH(3007,!1)}())}),{type:7,name:g.name,states:te,transitions:ge,queryCount:x,depCount:z,options:null}}visitState(g,y){const x=this.visitStyle(g.styles,y),z=g.options&&g.options.params||null;if(x.containsDynamicStyles){const te=new Set,ge=z||{};x.styles.forEach(_e=>{_e instanceof Map&&_e.forEach(Ne=>{Ea(Ne).forEach(qe=>{ge.hasOwnProperty(qe)||te.add(qe)})})}),te.size&&(ao(te.values()),y.errors.push(function ie(M,g){return new k.vHH(3008,!1)}()))}return{type:0,name:g.name,style:x,options:z?{params:z}:null}}visitTransition(g,y){y.queryCount=0,y.depCount=0;const x=Vr(this,_o(g.animation),y);return{type:1,matchers:Mo(g.expr,y.errors),animation:x,queryCount:y.queryCount,depCount:y.depCount,options:en(g.options)}}visitSequence(g,y){return{type:2,steps:g.steps.map(x=>Vr(this,x,y)),options:en(g.options)}}visitGroup(g,y){const x=y.currentTime;let z=0;const te=g.steps.map(ge=>{y.currentTime=x;const _e=Vr(this,ge,y);return z=Math.max(z,y.currentTime),_e});return y.currentTime=z,{type:3,steps:te,options:en(g.options)}}visitAnimate(g,y){const x=function Qs(M,g){if(M.hasOwnProperty("duration"))return M;if("number"==typeof M)return Xo(fr(M,g).duration,0,"");const y=M;if(y.split(/\s+/).some(te=>"{"==te.charAt(0)&&"{"==te.charAt(1))){const te=Xo(0,0,"");return te.dynamic=!0,te.strValue=y,te}const z=fr(y,g);return Xo(z.duration,z.delay,z.easing)}(g.timings,y.errors);y.currentAnimateTimings=x;let z,te=g.styles?g.styles:Li({});if(5==te.type)z=this.visitKeyframes(te,y);else{let ge=g.styles,_e=!1;if(!ge){_e=!0;const qe={};x.easing&&(qe.easing=x.easing),ge=Li(qe)}y.currentTime+=x.duration+x.delay;const Ne=this.visitStyle(ge,y);Ne.isEmptyStep=_e,z=Ne}return y.currentAnimateTimings=null,{type:4,timings:x,style:z,options:null}}visitStyle(g,y){const x=this._makeStyleAst(g,y);return this._validateStyleAst(x,y),x}_makeStyleAst(g,y){const x=[],z=Array.isArray(g.styles)?g.styles:[g.styles];for(let _e of z)"string"==typeof _e?_e===xt?x.push(_e):y.errors.push(new k.vHH(3002,!1)):x.push(Fs(_e));let te=!1,ge=null;return x.forEach(_e=>{if(_e instanceof Map&&(_e.has("easing")&&(ge=_e.get("easing"),_e.delete("easing")),!te))for(let Ne of _e.values())if(Ne.toString().indexOf("{{")>=0){te=!0;break}}),{type:6,styles:x,easing:ge,offset:g.offset,containsDynamicStyles:te,options:null}}_validateStyleAst(g,y){const x=y.currentAnimateTimings;let z=y.currentTime,te=y.currentTime;x&&te>0&&(te-=x.duration+x.delay),g.styles.forEach(ge=>{"string"!=typeof ge&&ge.forEach((_e,Ne)=>{const qe=y.collectedStyles.get(y.currentQuerySelector),Nt=qe.get(Ne);let It=!0;Nt&&(te!=z&&te>=Nt.startTime&&z<=Nt.endTime&&(y.errors.push(function Re(M,g,y,x,z){return new k.vHH(3010,!1)}()),It=!1),te=Nt.startTime),It&&qe.set(Ne,{startTime:te,endTime:z}),y.options&&function da(M,g,y){const x=g.params||{},z=Ea(M);z.length&&z.forEach(te=>{x.hasOwnProperty(te)||y.push(function we(M){return new k.vHH(3001,!1)}())})}(_e,y.options,y.errors)})})}visitKeyframes(g,y){const x={type:5,styles:[],options:null};if(!y.currentAnimateTimings)return y.errors.push(function We(){return new k.vHH(3011,!1)}()),x;let te=0;const ge=[];let _e=!1,Ne=!1,qe=0;const Nt=g.steps.map(Te=>{const _r=this._makeStyleAst(Te,y);let vr=null!=_r.offset?_r.offset:function Jo(M){if("string"==typeof M)return null;let g=null;if(Array.isArray(M))M.forEach(y=>{if(y instanceof Map&&y.has("offset")){const x=y;g=parseFloat(x.get("offset")),x.delete("offset")}});else if(M instanceof Map&&M.has("offset")){const y=M;g=parseFloat(y.get("offset")),y.delete("offset")}return g}(_r.styles),hi=0;return null!=vr&&(te++,hi=_r.offset=vr),Ne=Ne||hi<0||hi>1,_e=_e||hi<qe,qe=hi,ge.push(hi),_r});Ne&&y.errors.push(function At(){return new k.vHH(3012,!1)}()),_e&&y.errors.push(function Jt(){return new k.vHH(3200,!1)}());const It=g.steps.length;let $n=0;te>0&&te<It?y.errors.push(function tr(){return new k.vHH(3202,!1)}()):0==te&&($n=1/(It-1));const yn=It-1,_n=y.currentTime,tn=y.currentAnimateTimings,Kn=tn.duration;return Nt.forEach((Te,_r)=>{const vr=$n>0?_r==yn?1:$n*_r:ge[_r],hi=vr*Kn;y.currentTime=_n+tn.delay+hi,tn.duration=hi,this._validateStyleAst(Te,y),Te.offset=vr,x.styles.push(Te)}),x}visitReference(g,y){return{type:8,animation:Vr(this,_o(g.animation),y),options:en(g.options)}}visitAnimateChild(g,y){return y.depCount++,{type:9,options:en(g.options)}}visitAnimateRef(g,y){return{type:10,animation:this.visitReference(g.animation,y),options:en(g.options)}}visitQuery(g,y){const x=y.currentQuerySelector,z=g.options||{};y.queryCount++,y.currentQuery=g;const[te,ge]=function vi(M){const g=!!M.split(/\s*,\s*/).find(y=>":self"==y);return g&&(M=M.replace(Qo,"")),M=M.replace(/@\*/g,Yn).replace(/@\w+/g,y=>Yn+"-"+y.slice(1)).replace(/:animating/g,fs),[M,g]}(g.selector);y.currentQuerySelector=x.length?x+" "+te:te,Jr(y.collectedStyles,y.currentQuerySelector,new Map);const _e=Vr(this,_o(g.animation),y);return y.currentQuery=null,y.currentQuerySelector=x,{type:11,selector:te,limit:z.limit||0,optional:!!z.optional,includeSelf:ge,animation:_e,originalSelector:g.selector,options:en(g.options)}}visitStagger(g,y){y.currentQuery||y.errors.push(function je(){return new k.vHH(3013,!1)}());const x="full"===g.timings?{duration:0,delay:0,easing:"full"}:fr(g.timings,y.errors,!0);return{type:12,animation:Vr(this,_o(g.animation),y),timings:x,options:null}}}class co{constructor(g){this.errors=g,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function en(M){return M?(M=Ki(M)).params&&(M.params=function Ls(M){return M?Ki(M):null}(M.params)):M={},M}function Xo(M,g,y){return{duration:M,delay:g,easing:y}}function ha(M,g,y,x,z,te,ge=null,_e=!1){return{type:1,element:M,keyframes:g,preStyleProps:y,postStyleProps:x,duration:z,delay:te,totalTime:z+te,easing:ge,subTimeline:_e}}class As{constructor(){this._map=new Map}get(g){return this._map.get(g)||[]}append(g,y){let x=this._map.get(g);x||this._map.set(g,x=[]),x.push(...y)}has(g){return this._map.has(g)}clear(){this._map.clear()}}const F=new RegExp(":enter","g"),Z=new RegExp(":leave","g");function ae(M,g,y,x,z,te=new Map,ge=new Map,_e,Ne,qe=[]){return(new dt).buildKeyframes(M,g,y,x,z,te,ge,_e,Ne,qe)}class dt{buildKeyframes(g,y,x,z,te,ge,_e,Ne,qe,Nt=[]){qe=qe||new As;const It=new ui(g,y,qe,z,te,Nt,[]);It.options=Ne;const $n=Ne.delay?Or(Ne.delay):0;It.currentTimeline.delayNextStep($n),It.currentTimeline.setStyles([ge],null,It.errors,Ne),Vr(this,x,It);const yn=It.timelines.filter(_n=>_n.containsAnimation());if(yn.length&&_e.size){let _n;for(let tn=yn.length-1;tn>=0;tn--){const Kn=yn[tn];if(Kn.element===y){_n=Kn;break}}_n&&!_n.allowOnlyTimelineStyles()&&_n.setStyles([_e],null,It.errors,Ne)}return yn.length?yn.map(_n=>_n.buildKeyframes()):[ha(y,[],[],[],0,$n,"",!1)]}visitTrigger(g,y){}visitState(g,y){}visitTransition(g,y){}visitAnimateChild(g,y){const x=y.subInstructions.get(y.element);if(x){const z=y.createSubContext(g.options),te=y.currentTimeline.currentTime,ge=this._visitSubInstructions(x,z,z.options);te!=ge&&y.transformIntoNewTimeline(ge)}y.previousNode=g}visitAnimateRef(g,y){const x=y.createSubContext(g.options);x.transformIntoNewTimeline(),this._applyAnimationRefDelays([g.options,g.animation.options],y,x),this.visitReference(g.animation,x),y.transformIntoNewTimeline(x.currentTimeline.currentTime),y.previousNode=g}_applyAnimationRefDelays(g,y,x){for(const z of g){const te=z?.delay;if(te){const ge="number"==typeof te?te:Or(Cs(te,z?.params??{},y.errors));x.delayNextStep(ge)}}}_visitSubInstructions(g,y,x){let te=y.currentTimeline.currentTime;const ge=null!=x.duration?Or(x.duration):null,_e=null!=x.delay?Or(x.delay):null;return 0!==ge&&g.forEach(Ne=>{const qe=y.appendInstructionToTimeline(Ne,ge,_e);te=Math.max(te,qe.duration+qe.delay)}),te}visitReference(g,y){y.updateOptions(g.options,!0),Vr(this,g.animation,y),y.previousNode=g}visitSequence(g,y){const x=y.subContextCount;let z=y;const te=g.options;if(te&&(te.params||te.delay)&&(z=y.createSubContext(te),z.transformIntoNewTimeline(),null!=te.delay)){6==z.previousNode.type&&(z.currentTimeline.snapshotCurrentStyles(),z.previousNode=nr);const ge=Or(te.delay);z.delayNextStep(ge)}g.steps.length&&(g.steps.forEach(ge=>Vr(this,ge,z)),z.currentTimeline.applyStylesToKeyframe(),z.subContextCount>x&&z.transformIntoNewTimeline()),y.previousNode=g}visitGroup(g,y){const x=[];let z=y.currentTimeline.currentTime;const te=g.options&&g.options.delay?Or(g.options.delay):0;g.steps.forEach(ge=>{const _e=y.createSubContext(g.options);te&&_e.delayNextStep(te),Vr(this,ge,_e),z=Math.max(z,_e.currentTimeline.currentTime),x.push(_e.currentTimeline)}),x.forEach(ge=>y.currentTimeline.mergeTimelineCollectedStyles(ge)),y.transformIntoNewTimeline(z),y.previousNode=g}_visitTiming(g,y){if(g.dynamic){const x=g.strValue;return fr(y.params?Cs(x,y.params,y.errors):x,y.errors)}return{duration:g.duration,delay:g.delay,easing:g.easing}}visitAnimate(g,y){const x=y.currentAnimateTimings=this._visitTiming(g.timings,y),z=y.currentTimeline;x.delay&&(y.incrementTime(x.delay),z.snapshotCurrentStyles());const te=g.style;5==te.type?this.visitKeyframes(te,y):(y.incrementTime(x.duration),this.visitStyle(te,y),z.applyStylesToKeyframe()),y.currentAnimateTimings=null,y.previousNode=g}visitStyle(g,y){const x=y.currentTimeline,z=y.currentAnimateTimings;!z&&x.hasCurrentStyleProperties()&&x.forwardFrame();const te=z&&z.easing||g.easing;g.isEmptyStep?x.applyEmptyStep(te):x.setStyles(g.styles,te,y.errors,y.options),y.previousNode=g}visitKeyframes(g,y){const x=y.currentAnimateTimings,z=y.currentTimeline.duration,te=x.duration,_e=y.createSubContext().currentTimeline;_e.easing=x.easing,g.styles.forEach(Ne=>{_e.forwardTime((Ne.offset||0)*te),_e.setStyles(Ne.styles,Ne.easing,y.errors,y.options),_e.applyStylesToKeyframe()}),y.currentTimeline.mergeTimelineCollectedStyles(_e),y.transformIntoNewTimeline(z+te),y.previousNode=g}visitQuery(g,y){const x=y.currentTimeline.currentTime,z=g.options||{},te=z.delay?Or(z.delay):0;te&&(6===y.previousNode.type||0==x&&y.currentTimeline.hasCurrentStyleProperties())&&(y.currentTimeline.snapshotCurrentStyles(),y.previousNode=nr);let ge=x;const _e=y.invokeQuery(g.selector,g.originalSelector,g.limit,g.includeSelf,!!z.optional,y.errors);y.currentQueryTotal=_e.length;let Ne=null;_e.forEach((qe,Nt)=>{y.currentQueryIndex=Nt;const It=y.createSubContext(g.options,qe);te&&It.delayNextStep(te),qe===y.element&&(Ne=It.currentTimeline),Vr(this,g.animation,It),It.currentTimeline.applyStylesToKeyframe(),ge=Math.max(ge,It.currentTimeline.currentTime)}),y.currentQueryIndex=0,y.currentQueryTotal=0,y.transformIntoNewTimeline(ge),Ne&&(y.currentTimeline.mergeTimelineCollectedStyles(Ne),y.currentTimeline.snapshotCurrentStyles()),y.previousNode=g}visitStagger(g,y){const x=y.parentContext,z=y.currentTimeline,te=g.timings,ge=Math.abs(te.duration),_e=ge*(y.currentQueryTotal-1);let Ne=ge*y.currentQueryIndex;switch(te.duration<0?"reverse":te.easing){case"reverse":Ne=_e-Ne;break;case"full":Ne=x.currentStaggerTime}const Nt=y.currentTimeline;Ne&&Nt.delayNextStep(Ne);const It=Nt.currentTime;Vr(this,g.animation,y),y.previousNode=g,x.currentStaggerTime=z.currentTime-It+(z.startTime-x.currentTimeline.startTime)}}const nr={};class ui{constructor(g,y,x,z,te,ge,_e,Ne){this._driver=g,this.element=y,this.subInstructions=x,this._enterClassName=z,this._leaveClassName=te,this.errors=ge,this.timelines=_e,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ne||new gr(this._driver,y,0),_e.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(g,y){if(!g)return;const x=g;let z=this.options;null!=x.duration&&(z.duration=Or(x.duration)),null!=x.delay&&(z.delay=Or(x.delay));const te=x.params;if(te){let ge=z.params;ge||(ge=this.options.params={}),Object.keys(te).forEach(_e=>{(!y||!ge.hasOwnProperty(_e))&&(ge[_e]=Cs(te[_e],ge,this.errors))})}}_copyOptions(){const g={};if(this.options){const y=this.options.params;if(y){const x=g.params={};Object.keys(y).forEach(z=>{x[z]=y[z]})}}return g}createSubContext(g=null,y,x){const z=y||this.element,te=new ui(this._driver,z,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(z,x||0));return te.previousNode=this.previousNode,te.currentAnimateTimings=this.currentAnimateTimings,te.options=this._copyOptions(),te.updateOptions(g),te.currentQueryIndex=this.currentQueryIndex,te.currentQueryTotal=this.currentQueryTotal,te.parentContext=this,this.subContextCount++,te}transformIntoNewTimeline(g){return this.previousNode=nr,this.currentTimeline=this.currentTimeline.fork(this.element,g),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(g,y,x){const z={duration:y??g.duration,delay:this.currentTimeline.currentTime+(x??0)+g.delay,easing:""},te=new Vs(this._driver,g.element,g.keyframes,g.preStyleProps,g.postStyleProps,z,g.stretchStartingKeyframe);return this.timelines.push(te),z}incrementTime(g){this.currentTimeline.forwardTime(this.currentTimeline.duration+g)}delayNextStep(g){g>0&&this.currentTimeline.delayNextStep(g)}invokeQuery(g,y,x,z,te,ge){let _e=[];if(z&&_e.push(this.element),g.length>0){g=(g=g.replace(F,"."+this._enterClassName)).replace(Z,"."+this._leaveClassName);let qe=this._driver.query(this.element,g,1!=x);0!==x&&(qe=x<0?qe.slice(qe.length+x,qe.length):qe.slice(0,x)),_e.push(...qe)}return!te&&0==_e.length&&ge.push(function Me(M){return new k.vHH(3014,!1)}()),_e}}class gr{constructor(g,y,x,z){this._driver=g,this.element=y,this.startTime=x,this._elementTimelineStylesLookup=z,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(y),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(y,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(g){const y=1===this._keyframes.size&&this._pendingStyles.size;this.duration||y?(this.forwardTime(this.currentTime+g),y&&this.snapshotCurrentStyles()):this.startTime+=g}fork(g,y){return this.applyStylesToKeyframe(),new gr(this._driver,g,y||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(g){this.applyStylesToKeyframe(),this.duration=g,this._loadKeyframe()}_updateStyle(g,y){this._localTimelineStyles.set(g,y),this._globalTimelineStyles.set(g,y),this._styleSummary.set(g,{time:this.currentTime,value:y})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(g){g&&this._previousKeyframe.set("easing",g);for(let[y,x]of this._globalTimelineStyles)this._backFill.set(y,x||xt),this._currentKeyframe.set(y,xt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(g,y,x,z){y&&this._previousKeyframe.set("easing",y);const te=z&&z.params||{},ge=function ti(M,g){const y=new Map;let x;return M.forEach(z=>{if("*"===z){x=x||g.keys();for(let te of x)y.set(te,xt)}else _i(z,y)}),y}(g,this._globalTimelineStyles);for(let[_e,Ne]of ge){const qe=Cs(Ne,te,x);this._pendingStyles.set(_e,qe),this._localTimelineStyles.has(_e)||this._backFill.set(_e,this._globalTimelineStyles.get(_e)??xt),this._updateStyle(_e,qe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((g,y)=>{this._currentKeyframe.set(y,g)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((g,y)=>{this._currentKeyframe.has(y)||this._currentKeyframe.set(y,g)}))}snapshotCurrentStyles(){for(let[g,y]of this._localTimelineStyles)this._pendingStyles.set(g,y),this._updateStyle(g,y)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const g=[];for(let y in this._currentKeyframe)g.push(y);return g}mergeTimelineCollectedStyles(g){g._styleSummary.forEach((y,x)=>{const z=this._styleSummary.get(x);(!z||y.time>z.time)&&this._updateStyle(x,y.value)})}buildKeyframes(){this.applyStylesToKeyframe();const g=new Set,y=new Set,x=1===this._keyframes.size&&0===this.duration;let z=[];this._keyframes.forEach((_e,Ne)=>{const qe=_i(_e,new Map,this._backFill);qe.forEach((Nt,It)=>{Nt===si?g.add(It):Nt===xt&&y.add(It)}),x||qe.set("offset",Ne/this.duration),z.push(qe)});const te=g.size?ao(g.values()):[],ge=y.size?ao(y.values()):[];if(x){const _e=z[0],Ne=new Map(_e);_e.set("offset",0),Ne.set("offset",1),z=[_e,Ne]}return ha(this.element,z,te,ge,this.duration,this.startTime,this.easing,!1)}}class Vs extends gr{constructor(g,y,x,z,te,ge,_e=!1){super(g,y,ge.delay),this.keyframes=x,this.preStyleProps=z,this.postStyleProps=te,this._stretchStartingKeyframe=_e,this.timings={duration:ge.duration,delay:ge.delay,easing:ge.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let g=this.keyframes,{delay:y,duration:x,easing:z}=this.timings;if(this._stretchStartingKeyframe&&y){const te=[],ge=x+y,_e=y/ge,Ne=_i(g[0]);Ne.set("offset",0),te.push(Ne);const qe=_i(g[0]);qe.set("offset",Us(_e)),te.push(qe);const Nt=g.length-1;for(let It=1;It<=Nt;It++){let $n=_i(g[It]);const yn=$n.get("offset");$n.set("offset",Us((y+yn*x)/ge)),te.push($n)}x=ge,y=0,z="",g=te}return ha(this.element,g,this.preStyleProps,this.postStyleProps,x,y,z,!0)}}function Us(M,g=3){const y=Math.pow(10,g-1);return Math.round(M*y)/y}class Bs{}const wo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class wa extends Bs{normalizePropertyName(g,y){return qo(g)}normalizeStyleValue(g,y,x,z){let te="";const ge=x.toString().trim();if(wo.has(y)&&0!==x&&"0"!==x)if("number"==typeof x)te="px";else{const _e=x.match(/^[+-]?[\d\.]+([a-z]*)$/);_e&&0==_e[1].length&&z.push(function Tt(M,g){return new k.vHH(3005,!1)}())}return ge+te}}function bi(M,g,y,x,z,te,ge,_e,Ne,qe,Nt,It,$n){return{type:0,element:M,triggerName:g,isRemovalTransition:z,fromState:y,fromStyles:te,toState:x,toStyles:ge,timelines:_e,queriedElements:Ne,preStyleProps:qe,postStyleProps:Nt,totalTime:It,errors:$n}}const zr={};class ea{constructor(g,y,x){this._triggerName=g,this.ast=y,this._stateStyles=x}match(g,y,x,z){return function Si(M,g,y,x,z){return M.some(te=>te(g,y,x,z))}(this.ast.matchers,g,y,x,z)}buildStyles(g,y,x){let z=this._stateStyles.get("*");return void 0!==g&&(z=this._stateStyles.get(g?.toString())||z),z?z.buildStyles(y,x):new Map}build(g,y,x,z,te,ge,_e,Ne,qe,Nt){const It=[],$n=this.ast.options&&this.ast.options.params||zr,_n=this.buildStyles(x,_e&&_e.params||zr,It),tn=Ne&&Ne.params||zr,Kn=this.buildStyles(z,tn,It),Te=new Set,_r=new Map,vr=new Map,hi="void"===z,Vo={params:Ni(tn,$n),delay:this.ast.options?.delay},Yi=Nt?[]:ae(g,y,this.ast.animation,te,ge,_n,Kn,Vo,qe,It);let Ln=0;if(Yi.forEach(Uo=>{Ln=Math.max(Uo.duration+Uo.delay,Ln)}),It.length)return bi(y,this._triggerName,x,z,hi,_n,Kn,[],[],_r,vr,Ln,It);Yi.forEach(Uo=>{const fo=Uo.element,Ga=Jr(_r,fo,new Set);Uo.preStyleProps.forEach(Ei=>Ga.add(Ei));const Pa=Jr(vr,fo,new Set);Uo.postStyleProps.forEach(Ei=>Pa.add(Ei)),fo!==y&&Te.add(fo)});const cs=ao(Te.values());return bi(y,this._triggerName,x,z,hi,_n,Kn,Yi,cs,_r,vr,Ln)}}function Ni(M,g){const y=Ki(g);for(const x in M)M.hasOwnProperty(x)&&null!=M[x]&&(y[x]=M[x]);return y}class Ms{constructor(g,y,x){this.styles=g,this.defaultParams=y,this.normalizer=x}buildStyles(g,y){const x=new Map,z=Ki(this.defaultParams);return Object.keys(g).forEach(te=>{const ge=g[te];null!==ge&&(z[te]=ge)}),this.styles.styles.forEach(te=>{"string"!=typeof te&&te.forEach((ge,_e)=>{ge&&(ge=Cs(ge,z,y));const Ne=this.normalizer.normalizePropertyName(_e,y);ge=this.normalizer.normalizeStyleValue(_e,Ne,ge,y),x.set(_e,ge)})}),x}}class Sn{constructor(g,y,x){this.name=g,this.ast=y,this._normalizer=x,this.transitionFactories=[],this.states=new Map,y.states.forEach(z=>{this.states.set(z.name,new Ms(z.style,z.options&&z.options.params||{},x))}),na(this.states,"true","1"),na(this.states,"false","0"),y.transitions.forEach(z=>{this.transitionFactories.push(new ea(g,z,this.states))}),this.fallbackTransition=function ta(M,g,y){return new ea(M,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ge,_e)=>!0],options:null,queryCount:0,depCount:0},g)}(g,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(g,y,x,z){return this.transitionFactories.find(ge=>ge.match(g,y,x,z))||null}matchStyles(g,y,x){return this.fallbackTransition.buildStyles(g,y,x)}}function na(M,g,y){M.has(g)?M.has(y)||M.set(y,M.get(g)):M.has(y)&&M.set(g,M.get(y))}const ps=new As;class Ro{constructor(g,y,x){this.bodyNode=g,this._driver=y,this._normalizer=x,this._animations=new Map,this._playersById=new Map,this.players=[]}register(g,y){const x=[],z=[],te=$i(this._driver,y,x,z);if(x.length)throw function Ir(M){return new k.vHH(3503,!1)}();this._animations.set(g,te)}_buildPlayer(g,y,x){const z=g.element,te=Is(0,this._normalizer,0,g.keyframes,y,x);return this._driver.animate(z,te,g.duration,g.delay,g.easing,[],!0)}create(g,y,x={}){const z=[],te=this._animations.get(g);let ge;const _e=new Map;if(te?(ge=ae(this._driver,y,te,So,mi,new Map,new Map,x,ps,z),ge.forEach(Nt=>{const It=Jr(_e,Nt.element,new Map);Nt.postStyleProps.forEach($n=>It.set($n,null))})):(z.push(function is(){return new k.vHH(3300,!1)}()),ge=[]),z.length)throw function On(M){return new k.vHH(3504,!1)}();_e.forEach((Nt,It)=>{Nt.forEach(($n,yn)=>{Nt.set(yn,this._driver.computeStyle(It,yn,xt))})});const qe=Gr(ge.map(Nt=>{const It=_e.get(Nt.element);return this._buildPlayer(Nt,new Map,It)}));return this._playersById.set(g,qe),qe.onDestroy(()=>this.destroy(g)),this.players.push(qe),qe}destroy(g){const y=this._getPlayer(g);y.destroy(),this._playersById.delete(g);const x=this.players.indexOf(y);x>=0&&this.players.splice(x,1)}_getPlayer(g){const y=this._playersById.get(g);if(!y)throw function oi(M){return new k.vHH(3301,!1)}();return y}listen(g,y,x,z){const te=hr(y,"","","");return Nr(this._getPlayer(g),x,te,z),()=>{}}command(g,y,x,z){if("register"==x)return void this.register(g,z[0]);if("create"==x)return void this.create(g,y,z[0]||{});const te=this._getPlayer(g);switch(x){case"play":te.play();break;case"pause":te.pause();break;case"reset":te.reset();break;case"restart":te.restart();break;case"finish":te.finish();break;case"init":te.init();break;case"setPosition":te.setPosition(parseFloat(z[0]));break;case"destroy":this.destroy(g)}}}const fa="ng-animate-queued",Oo="ng-animate-disabled",li=[],xs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ko={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hi="__ng_removed";class kr{get params(){return this.options.params}constructor(g,y=""){this.namespaceId=y;const x=g&&g.hasOwnProperty("value");if(this.value=function $a(M){return M??null}(x?g.value:g),x){const te=Ki(g);delete te.value,this.options=te}else this.options={};this.options.params||(this.options.params={})}absorbOptions(g){const y=g.params;if(y){const x=this.options.params;Object.keys(y).forEach(z=>{null==x[z]&&(x[z]=y[z])})}}}const Xi="void",lr=new kr(Xi);class Da{constructor(g,y,x){this.id=g,this.hostElement=y,this._engine=x,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+g,ke(y,this._hostClassName)}listen(g,y,x,z){if(!this._triggers.has(y))throw function mr(M,g){return new k.vHH(3302,!1)}();if(null==x||0==x.length)throw function ss(M){return new k.vHH(3303,!1)}();if(!function j(M){return"start"==M||"done"==M}(x))throw function Hr(M,g){return new k.vHH(3400,!1)}();const te=Jr(this._elementListeners,g,[]),ge={name:y,phase:x,callback:z};te.push(ge);const _e=Jr(this._engine.statesByElement,g,new Map);return _e.has(y)||(ke(g,Ui),ke(g,Ui+"-"+y),_e.set(y,lr)),()=>{this._engine.afterFlush(()=>{const Ne=te.indexOf(ge);Ne>=0&&te.splice(Ne,1),this._triggers.has(y)||_e.delete(y)})}}register(g,y){return!this._triggers.has(g)&&(this._triggers.set(g,y),!0)}_getTrigger(g){const y=this._triggers.get(g);if(!y)throw function hs(M){return new k.vHH(3401,!1)}();return y}trigger(g,y,x,z=!0){const te=this._getTrigger(y),ge=new Ca(this.id,y,g);let _e=this._engine.statesByElement.get(g);_e||(ke(g,Ui),ke(g,Ui+"-"+y),this._engine.statesByElement.set(g,_e=new Map));let Ne=_e.get(y);const qe=new kr(x,this.id);if(!(x&&x.hasOwnProperty("value"))&&Ne&&qe.absorbOptions(Ne.options),_e.set(y,qe),Ne||(Ne=lr),qe.value!==Xi&&Ne.value===qe.value){if(!function Gn(M,g){const y=Object.keys(M),x=Object.keys(g);if(y.length!=x.length)return!1;for(let z=0;z<y.length;z++){const te=y[z];if(!g.hasOwnProperty(te)||M[te]!==g[te])return!1}return!0}(Ne.params,qe.params)){const tn=[],Kn=te.matchStyles(Ne.value,Ne.params,tn),Te=te.matchStyles(qe.value,qe.params,tn);tn.length?this._engine.reportError(tn):this._engine.afterFlush(()=>{Bi(g,Kn),ai(g,Te)})}return}const $n=Jr(this._engine.playersByElement,g,[]);$n.forEach(tn=>{tn.namespaceId==this.id&&tn.triggerName==y&&tn.queued&&tn.destroy()});let yn=te.matchTransition(Ne.value,qe.value,g,qe.params),_n=!1;if(!yn){if(!z)return;yn=te.fallbackTransition,_n=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:y,transition:yn,fromState:Ne,toState:qe,player:ge,isFallbackTransition:_n}),_n||(ke(g,fa),ge.onStart(()=>{Qe(g,fa)})),ge.onDone(()=>{let tn=this.players.indexOf(ge);tn>=0&&this.players.splice(tn,1);const Kn=this._engine.playersByElement.get(g);if(Kn){let Te=Kn.indexOf(ge);Te>=0&&Kn.splice(Te,1)}}),this.players.push(ge),$n.push(ge),ge}deregister(g){this._triggers.delete(g),this._engine.statesByElement.forEach(y=>y.delete(g)),this._elementListeners.forEach((y,x)=>{this._elementListeners.set(x,y.filter(z=>z.name!=g))})}clearElementCache(g){this._engine.statesByElement.delete(g),this._elementListeners.delete(g);const y=this._engine.playersByElement.get(g);y&&(y.forEach(x=>x.destroy()),this._engine.playersByElement.delete(g))}_signalRemovalForInnerTriggers(g,y){const x=this._engine.driver.query(g,Yn,!0);x.forEach(z=>{if(z[Hi])return;const te=this._engine.fetchNamespacesByElement(z);te.size?te.forEach(ge=>ge.triggerLeaveAnimation(z,y,!1,!0)):this.clearElementCache(z)}),this._engine.afterFlushAnimationsDone(()=>x.forEach(z=>this.clearElementCache(z)))}triggerLeaveAnimation(g,y,x,z){const te=this._engine.statesByElement.get(g),ge=new Map;if(te){const _e=[];if(te.forEach((Ne,qe)=>{if(ge.set(qe,Ne.value),this._triggers.has(qe)){const Nt=this.trigger(g,qe,Xi,z);Nt&&_e.push(Nt)}}),_e.length)return this._engine.markElementAsRemoved(this.id,g,!0,y,ge),x&&Gr(_e).onDone(()=>this._engine.processLeaveNode(g)),!0}return!1}prepareLeaveAnimationListeners(g){const y=this._elementListeners.get(g),x=this._engine.statesByElement.get(g);if(y&&x){const z=new Set;y.forEach(te=>{const ge=te.name;if(z.has(ge))return;z.add(ge);const Ne=this._triggers.get(ge).fallbackTransition,qe=x.get(ge)||lr,Nt=new kr(Xi),It=new Ca(this.id,ge,g);this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:ge,transition:Ne,fromState:qe,toState:Nt,player:It,isFallbackTransition:!0})})}}removeNode(g,y){const x=this._engine;if(g.childElementCount&&this._signalRemovalForInnerTriggers(g,y),this.triggerLeaveAnimation(g,y,!0))return;let z=!1;if(x.totalAnimations){const te=x.players.length?x.playersByQueriedElement.get(g):[];if(te&&te.length)z=!0;else{let ge=g;for(;ge=ge.parentNode;)if(x.statesByElement.get(ge)){z=!0;break}}}if(this.prepareLeaveAnimationListeners(g),z)x.markElementAsRemoved(this.id,g,!1,y);else{const te=g[Hi];(!te||te===xs)&&(x.afterFlush(()=>this.clearElementCache(g)),x.destroyInnerAnimations(g),x._onRemovalComplete(g,y))}}insertNode(g,y){ke(g,this._hostClassName)}drainQueuedTransitions(g){const y=[];return this._queue.forEach(x=>{const z=x.player;if(z.destroyed)return;const te=x.element,ge=this._elementListeners.get(te);ge&&ge.forEach(_e=>{if(_e.name==x.triggerName){const Ne=hr(te,x.triggerName,x.fromState.value,x.toState.value);Ne._data=g,Nr(x.player,_e.phase,Ne,_e.callback)}}),z.markedForDestroy?this._engine.afterFlush(()=>{z.destroy()}):y.push(x)}),this._queue=[],y.sort((x,z)=>{const te=x.transition.ast.depCount,ge=z.transition.ast.depCount;return 0==te||0==ge?te-ge:this._engine.driver.containsElement(x.element,z.element)?1:-1})}destroy(g){this.players.forEach(y=>y.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,g)}elementContainsData(g){let y=!1;return this._elementListeners.has(g)&&(y=!0),y=!!this._queue.find(x=>x.element===g)||y,y}}class Ja{_onRemovalComplete(g,y){this.onRemovalComplete(g,y)}constructor(g,y,x){this.bodyNode=g,this.driver=y,this._normalizer=x,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(z,te)=>{}}get queuedPlayers(){const g=[];return this._namespaceList.forEach(y=>{y.players.forEach(x=>{x.queued&&g.push(x)})}),g}createNamespace(g,y){const x=new Da(g,y,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,y)?this._balanceNamespaceList(x,y):(this.newHostElements.set(y,x),this.collectEnterElement(y)),this._namespaceLookup[g]=x}_balanceNamespaceList(g,y){const x=this._namespaceList,z=this.namespacesByHostElement;if(x.length-1>=0){let ge=!1,_e=this.driver.getParentElement(y);for(;_e;){const Ne=z.get(_e);if(Ne){const qe=x.indexOf(Ne);x.splice(qe+1,0,g),ge=!0;break}_e=this.driver.getParentElement(_e)}ge||x.unshift(g)}else x.push(g);return z.set(y,g),g}register(g,y){let x=this._namespaceLookup[g];return x||(x=this.createNamespace(g,y)),x}registerTrigger(g,y,x){let z=this._namespaceLookup[g];z&&z.register(y,x)&&this.totalAnimations++}destroy(g,y){if(!g)return;const x=this._fetchNamespace(g);this.afterFlush(()=>{this.namespacesByHostElement.delete(x.hostElement),delete this._namespaceLookup[g];const z=this._namespaceList.indexOf(x);z>=0&&this._namespaceList.splice(z,1)}),this.afterFlushAnimationsDone(()=>x.destroy(y))}_fetchNamespace(g){return this._namespaceLookup[g]}fetchNamespacesByElement(g){const y=new Set,x=this.statesByElement.get(g);if(x)for(let z of x.values())if(z.namespaceId){const te=this._fetchNamespace(z.namespaceId);te&&y.add(te)}return y}trigger(g,y,x,z){if(A(y)){const te=this._fetchNamespace(g);if(te)return te.trigger(y,x,z),!0}return!1}insertNode(g,y,x,z){if(!A(y))return;const te=y[Hi];if(te&&te.setForRemoval){te.setForRemoval=!1,te.setForMove=!0;const ge=this.collectedLeaveElements.indexOf(y);ge>=0&&this.collectedLeaveElements.splice(ge,1)}if(g){const ge=this._fetchNamespace(g);ge&&ge.insertNode(y,x)}z&&this.collectEnterElement(y)}collectEnterElement(g){this.collectedEnterElements.push(g)}markElementAsDisabled(g,y){y?this.disabledNodes.has(g)||(this.disabledNodes.add(g),ke(g,Oo)):this.disabledNodes.has(g)&&(this.disabledNodes.delete(g),Qe(g,Oo))}removeNode(g,y,x,z){if(A(y)){const te=g?this._fetchNamespace(g):null;if(te?te.removeNode(y,z):this.markElementAsRemoved(g,y,!1,z),x){const ge=this.namespacesByHostElement.get(y);ge&&ge.id!==g&&ge.removeNode(y,z)}}else this._onRemovalComplete(y,z)}markElementAsRemoved(g,y,x,z,te){this.collectedLeaveElements.push(y),y[Hi]={namespaceId:g,setForRemoval:z,hasAnimation:x,removedBeforeQueried:!1,previousTriggersValues:te}}listen(g,y,x,z,te){return A(y)?this._fetchNamespace(g).listen(y,x,z,te):()=>{}}_buildInstruction(g,y,x,z,te){return g.transition.build(this.driver,g.element,g.fromState.value,g.toState.value,x,z,g.fromState.options,g.toState.options,y,te)}destroyInnerAnimations(g){let y=this.driver.query(g,Yn,!0);y.forEach(x=>this.destroyActiveAnimationsForElement(x)),0!=this.playersByQueriedElement.size&&(y=this.driver.query(g,fs,!0),y.forEach(x=>this.finishActiveQueriedAnimationOnElement(x)))}destroyActiveAnimationsForElement(g){const y=this.playersByElement.get(g);y&&y.forEach(x=>{x.queued?x.markedForDestroy=!0:x.destroy()})}finishActiveQueriedAnimationOnElement(g){const y=this.playersByQueriedElement.get(g);y&&y.forEach(x=>x.finish())}whenRenderingDone(){return new Promise(g=>{if(this.players.length)return Gr(this.players).onDone(()=>g());g()})}processLeaveNode(g){const y=g[Hi];if(y&&y.setForRemoval){if(g[Hi]=xs,y.namespaceId){this.destroyInnerAnimations(g);const x=this._fetchNamespace(y.namespaceId);x&&x.clearElementCache(g)}this._onRemovalComplete(g,y.setForRemoval)}g.classList?.contains(Oo)&&this.markElementAsDisabled(g,!1),this.driver.query(g,".ng-animate-disabled",!0).forEach(x=>{this.markElementAsDisabled(x,!1)})}flush(g=-1){let y=[];if(this.newHostElements.size&&(this.newHostElements.forEach((x,z)=>this._balanceNamespaceList(x,z)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let x=0;x<this.collectedEnterElements.length;x++)ke(this.collectedEnterElements[x],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const x=[];try{y=this._flushAnimations(x,g)}finally{for(let z=0;z<x.length;z++)x[z]()}}else for(let x=0;x<this.collectedLeaveElements.length;x++)this.processLeaveNode(this.collectedLeaveElements[x]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(x=>x()),this._flushFns=[],this._whenQuietFns.length){const x=this._whenQuietFns;this._whenQuietFns=[],y.length?Gr(y).onDone(()=>{x.forEach(z=>z())}):x.forEach(z=>z())}}reportError(g){throw function bo(M){return new k.vHH(3402,!1)}()}_flushAnimations(g,y){const x=new As,z=[],te=new Map,ge=[],_e=new Map,Ne=new Map,qe=new Map,Nt=new Set;this.disabledNodes.forEach(nn=>{Nt.add(nn);const Yt=this.driver.query(nn,".ng-animate-queued",!0);for(let Wt=0;Wt<Yt.length;Wt++)Nt.add(Yt[Wt])});const It=this.bodyNode,$n=Array.from(this.statesByElement.keys()),yn=ue($n,this.collectedEnterElements),_n=new Map;let tn=0;yn.forEach((nn,Yt)=>{const Wt=So+tn++;_n.set(Yt,Wt),nn.forEach(Jn=>ke(Jn,Wt))});const Kn=[],Te=new Set,_r=new Set;for(let nn=0;nn<this.collectedLeaveElements.length;nn++){const Yt=this.collectedLeaveElements[nn],Wt=Yt[Hi];Wt&&Wt.setForRemoval&&(Kn.push(Yt),Te.add(Yt),Wt.hasAnimation?this.driver.query(Yt,".ng-star-inserted",!0).forEach(Jn=>Te.add(Jn)):_r.add(Yt))}const vr=new Map,hi=ue($n,Array.from(Te));hi.forEach((nn,Yt)=>{const Wt=mi+tn++;vr.set(Yt,Wt),nn.forEach(Jn=>ke(Jn,Wt))}),g.push(()=>{yn.forEach((nn,Yt)=>{const Wt=_n.get(Yt);nn.forEach(Jn=>Qe(Jn,Wt))}),hi.forEach((nn,Yt)=>{const Wt=vr.get(Yt);nn.forEach(Jn=>Qe(Jn,Wt))}),Kn.forEach(nn=>{this.processLeaveNode(nn)})});const Vo=[],Yi=[];for(let nn=this._namespaceList.length-1;nn>=0;nn--)this._namespaceList[nn].drainQueuedTransitions(y).forEach(Wt=>{const Jn=Wt.player,or=Wt.element;if(Vo.push(Jn),this.collectedEnterElements.length){const _s=or[Hi];if(_s&&_s.setForMove){if(_s.previousTriggersValues&&_s.previousTriggersValues.has(Wt.triggerName)){const ba=_s.previousTriggersValues.get(Wt.triggerName),Ps=this.statesByElement.get(Wt.element);if(Ps&&Ps.has(Wt.triggerName)){const nu=Ps.get(Wt.triggerName);nu.value=ba,Ps.set(Wt.triggerName,nu)}}return void Jn.destroy()}}const Js=!It||!this.driver.containsElement(It,or),Pr=vr.get(or),ys=_n.get(or),Fr=this._buildInstruction(Wt,x,ys,Pr,Js);if(Fr.errors&&Fr.errors.length)return void Yi.push(Fr);if(Js)return Jn.onStart(()=>Bi(or,Fr.fromStyles)),Jn.onDestroy(()=>ai(or,Fr.toStyles)),void z.push(Jn);if(Wt.isFallbackTransition)return Jn.onStart(()=>Bi(or,Fr.fromStyles)),Jn.onDestroy(()=>ai(or,Fr.toStyles)),void z.push(Jn);const Ra=[];Fr.timelines.forEach(_s=>{_s.stretchStartingKeyframe=!0,this.disabledNodes.has(_s.element)||Ra.push(_s)}),Fr.timelines=Ra,x.append(or,Fr.timelines),ge.push({instruction:Fr,player:Jn,element:or}),Fr.queriedElements.forEach(_s=>Jr(_e,_s,[]).push(Jn)),Fr.preStyleProps.forEach((_s,ba)=>{if(_s.size){let Ps=Ne.get(ba);Ps||Ne.set(ba,Ps=new Set),_s.forEach((nu,Xs)=>Ps.add(Xs))}}),Fr.postStyleProps.forEach((_s,ba)=>{let Ps=qe.get(ba);Ps||qe.set(ba,Ps=new Set),_s.forEach((nu,Xs)=>Ps.add(Xs))})});if(Yi.length){const nn=[];Yi.forEach(Yt=>{nn.push(function ks(M,g){return new k.vHH(3505,!1)}())}),Vo.forEach(Yt=>Yt.destroy()),this.reportError(nn)}const Ln=new Map,cs=new Map;ge.forEach(nn=>{const Yt=nn.element;x.has(Yt)&&(cs.set(Yt,Yt),this._beforeAnimationBuild(nn.player.namespaceId,nn.instruction,Ln))}),z.forEach(nn=>{const Yt=nn.element;this._getPreviousPlayers(Yt,!1,nn.namespaceId,nn.triggerName,null).forEach(Jn=>{Jr(Ln,Yt,[]).push(Jn),Jn.destroy()})});const Uo=Kn.filter(nn=>Bn(nn,Ne,qe)),fo=new Map;K(fo,this.driver,_r,qe,xt).forEach(nn=>{Bn(nn,Ne,qe)&&Uo.push(nn)});const Pa=new Map;yn.forEach((nn,Yt)=>{K(Pa,this.driver,new Set(nn),Ne,si)}),Uo.forEach(nn=>{const Yt=fo.get(nn),Wt=Pa.get(nn);fo.set(nn,new Map([...Array.from(Yt?.entries()??[]),...Array.from(Wt?.entries()??[])]))});const Ei=[],Bo=[],$o={};ge.forEach(nn=>{const{element:Yt,player:Wt,instruction:Jn}=nn;if(x.has(Yt)){if(Nt.has(Yt))return Wt.onDestroy(()=>ai(Yt,Jn.toStyles)),Wt.disabled=!0,Wt.overrideTotalTime(Jn.totalTime),void z.push(Wt);let or=$o;if(cs.size>1){let Pr=Yt;const ys=[];for(;Pr=Pr.parentNode;){const Fr=cs.get(Pr);if(Fr){or=Fr;break}ys.push(Pr)}ys.forEach(Fr=>cs.set(Fr,or))}const Js=this._buildAnimation(Wt.namespaceId,Jn,Ln,te,Pa,fo);if(Wt.setRealPlayer(Js),or===$o)Ei.push(Wt);else{const Pr=this.playersByElement.get(or);Pr&&Pr.length&&(Wt.parentPlayer=Gr(Pr)),z.push(Wt)}}else Bi(Yt,Jn.fromStyles),Wt.onDestroy(()=>ai(Yt,Jn.toStyles)),Bo.push(Wt),Nt.has(Yt)&&z.push(Wt)}),Bo.forEach(nn=>{const Yt=te.get(nn.element);if(Yt&&Yt.length){const Wt=Gr(Yt);nn.setRealPlayer(Wt)}}),z.forEach(nn=>{nn.parentPlayer?nn.syncPlayerEvents(nn.parentPlayer):nn.destroy()});for(let nn=0;nn<Kn.length;nn++){const Yt=Kn[nn],Wt=Yt[Hi];if(Qe(Yt,mi),Wt&&Wt.hasAnimation)continue;let Jn=[];if(_e.size){let Js=_e.get(Yt);Js&&Js.length&&Jn.push(...Js);let Pr=this.driver.query(Yt,fs,!0);for(let ys=0;ys<Pr.length;ys++){let Fr=_e.get(Pr[ys]);Fr&&Fr.length&&Jn.push(...Fr)}}const or=Jn.filter(Js=>!Js.destroyed);or.length?Et(this,Yt,or):this.processLeaveNode(Yt)}return Kn.length=0,Ei.forEach(nn=>{this.players.push(nn),nn.onDone(()=>{nn.destroy();const Yt=this.players.indexOf(nn);this.players.splice(Yt,1)}),nn.play()}),Ei}elementContainsData(g,y){let x=!1;const z=y[Hi];return z&&z.setForRemoval&&(x=!0),this.playersByElement.has(y)&&(x=!0),this.playersByQueriedElement.has(y)&&(x=!0),this.statesByElement.has(y)&&(x=!0),this._fetchNamespace(g).elementContainsData(y)||x}afterFlush(g){this._flushFns.push(g)}afterFlushAnimationsDone(g){this._whenQuietFns.push(g)}_getPreviousPlayers(g,y,x,z,te){let ge=[];if(y){const _e=this.playersByQueriedElement.get(g);_e&&(ge=_e)}else{const _e=this.playersByElement.get(g);if(_e){const Ne=!te||te==Xi;_e.forEach(qe=>{qe.queued||!Ne&&qe.triggerName!=z||ge.push(qe)})}}return(x||z)&&(ge=ge.filter(_e=>!(x&&x!=_e.namespaceId||z&&z!=_e.triggerName))),ge}_beforeAnimationBuild(g,y,x){const te=y.element,ge=y.isRemovalTransition?void 0:g,_e=y.isRemovalTransition?void 0:y.triggerName;for(const Ne of y.timelines){const qe=Ne.element,Nt=qe!==te,It=Jr(x,qe,[]);this._getPreviousPlayers(qe,Nt,ge,_e,y.toState).forEach(yn=>{const _n=yn.getRealPlayer();_n.beforeDestroy&&_n.beforeDestroy(),yn.destroy(),It.push(yn)})}Bi(te,y.fromStyles)}_buildAnimation(g,y,x,z,te,ge){const _e=y.triggerName,Ne=y.element,qe=[],Nt=new Set,It=new Set,$n=y.timelines.map(_n=>{const tn=_n.element;Nt.add(tn);const Kn=tn[Hi];if(Kn&&Kn.removedBeforeQueried)return new Qr(_n.duration,_n.delay);const Te=tn!==Ne,_r=function Fn(M){const g=[];return An(M,g),g}((x.get(tn)||li).map(Ln=>Ln.getRealPlayer())).filter(Ln=>!!Ln.element&&Ln.element===tn),vr=te.get(tn),hi=ge.get(tn),Vo=Is(0,this._normalizer,0,_n.keyframes,vr,hi),Yi=this._buildPlayer(_n,Vo,_r);if(_n.subTimeline&&z&&It.add(tn),Te){const Ln=new Ca(g,_e,tn);Ln.setRealPlayer(Yi),qe.push(Ln)}return Yi});qe.forEach(_n=>{Jr(this.playersByQueriedElement,_n.element,[]).push(_n),_n.onDone(()=>function Xa(M,g,y){let x=M.get(g);if(x){if(x.length){const z=x.indexOf(y);x.splice(z,1)}0==x.length&&M.delete(g)}return x}(this.playersByQueriedElement,_n.element,_n))}),Nt.forEach(_n=>ke(_n,qi));const yn=Gr($n);return yn.onDestroy(()=>{Nt.forEach(_n=>Qe(_n,qi)),ai(Ne,y.toStyles)}),It.forEach(_n=>{Jr(z,_n,[]).push(yn)}),yn}_buildPlayer(g,y,x){return y.length>0?this.driver.animate(g.element,y,g.duration,g.delay,g.easing,x):new Qr(g.duration,g.delay)}}class Ca{constructor(g,y,x){this.namespaceId=g,this.triggerName=y,this.element=x,this._player=new Qr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(g){this._containsRealPlayer||(this._player=g,this._queuedCallbacks.forEach((y,x)=>{y.forEach(z=>Nr(g,x,void 0,z))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(g.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(g){this.totalTime=g}syncPlayerEvents(g){const y=this._player;y.triggerCallback&&g.onStart(()=>y.triggerCallback("start")),g.onDone(()=>this.finish()),g.onDestroy(()=>this.destroy())}_queueEvent(g,y){Jr(this._queuedCallbacks,g,[]).push(y)}onDone(g){this.queued&&this._queueEvent("done",g),this._player.onDone(g)}onStart(g){this.queued&&this._queueEvent("start",g),this._player.onStart(g)}onDestroy(g){this.queued&&this._queueEvent("destroy",g),this._player.onDestroy(g)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(g){this.queued||this._player.setPosition(g)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(g){const y=this._player;y.triggerCallback&&y.triggerCallback(g)}}function A(M){return M&&1===M.nodeType}function O(M,g){const y=M.style.display;return M.style.display=g??"none",y}function K(M,g,y,x,z){const te=[];y.forEach(Ne=>te.push(O(Ne)));const ge=[];x.forEach((Ne,qe)=>{const Nt=new Map;Ne.forEach(It=>{const $n=g.computeStyle(qe,It,z);Nt.set(It,$n),(!$n||0==$n.length)&&(qe[Hi]=ko,ge.push(qe))}),M.set(qe,Nt)});let _e=0;return y.forEach(Ne=>O(Ne,te[_e++])),ge}function ue(M,g){const y=new Map;if(M.forEach(_e=>y.set(_e,[])),0==g.length)return y;const x=1,z=new Set(g),te=new Map;function ge(_e){if(!_e)return x;let Ne=te.get(_e);if(Ne)return Ne;const qe=_e.parentNode;return Ne=y.has(qe)?qe:z.has(qe)?x:ge(qe),te.set(_e,Ne),Ne}return g.forEach(_e=>{const Ne=ge(_e);Ne!==x&&y.get(Ne).push(_e)}),y}function ke(M,g){M.classList?.add(g)}function Qe(M,g){M.classList?.remove(g)}function Et(M,g,y){Gr(y).onDone(()=>M.processLeaveNode(g))}function An(M,g){for(let y=0;y<M.length;y++){const x=M[y];x instanceof sr?An(x.players,g):g.push(x)}}function Bn(M,g,y){const x=y.get(M);if(!x)return!1;let z=g.get(M);return z?x.forEach(te=>z.add(te)):g.set(M,x),y.delete(M),!0}class tt{constructor(g,y,x){this.bodyNode=g,this._driver=y,this._normalizer=x,this._triggerCache={},this.onRemovalComplete=(z,te)=>{},this._transitionEngine=new Ja(g,y,x),this._timelineEngine=new Ro(g,y,x),this._transitionEngine.onRemovalComplete=(z,te)=>this.onRemovalComplete(z,te)}registerTrigger(g,y,x,z,te){const ge=g+"-"+z;let _e=this._triggerCache[ge];if(!_e){const Ne=[],qe=[],Nt=$i(this._driver,te,Ne,qe);if(Ne.length)throw function Un(M,g){return new k.vHH(3404,!1)}();_e=function Ia(M,g,y){return new Sn(M,g,y)}(z,Nt,this._normalizer),this._triggerCache[ge]=_e}this._transitionEngine.registerTrigger(y,z,_e)}register(g,y){this._transitionEngine.register(g,y)}destroy(g,y){this._transitionEngine.destroy(g,y)}onInsert(g,y,x,z){this._transitionEngine.insertNode(g,y,x,z)}onRemove(g,y,x,z){this._transitionEngine.removeNode(g,y,z||!1,x)}disableAnimations(g,y){this._transitionEngine.markElementAsDisabled(g,y)}process(g,y,x,z){if("@"==x.charAt(0)){const[te,ge]=zs(x);this._timelineEngine.command(te,y,ge,z)}else this._transitionEngine.trigger(g,y,x,z)}listen(g,y,x,z,te){if("@"==x.charAt(0)){const[ge,_e]=zs(x);return this._timelineEngine.listen(ge,y,_e,te)}return this._transitionEngine.listen(g,y,x,z,te)}flush(g=-1){this._transitionEngine.flush(g)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let xr=(()=>{class M{constructor(y,x,z){this._element=y,this._startStyles=x,this._endStyles=z,this._state=0;let te=M.initialStylesByElement.get(y);te||M.initialStylesByElement.set(y,te=new Map),this._initialStyles=te}start(){this._state<1&&(this._startStyles&&ai(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ai(this._element,this._initialStyles),this._endStyles&&(ai(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(M.initialStylesByElement.delete(this._element),this._startStyles&&(Bi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Bi(this._element,this._endStyles),this._endStyles=null),ai(this._element,this._initialStyles),this._state=3)}}return M.initialStylesByElement=new WeakMap,M})();function ms(M){let g=null;return M.forEach((y,x)=>{(function Ft(M){return"display"===M||"position"===M})(x)&&(g=g||new Map,g.set(x,y))}),g}class zt{constructor(g,y,x,z){this.element=g,this.keyframes=y,this.options=x,this._specialStyles=z,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=x.duration,this._delay=x.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const g=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,g,this.options),this._finalKeyframe=g.length?g[g.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(g){const y=[];return g.forEach(x=>{y.push(Object.fromEntries(x))}),y}_triggerWebAnimation(g,y,x){return g.animate(this._convertKeyframesToObject(y),x)}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(g=>g()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}setPosition(g){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=g*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const g=new Map;this.hasStarted()&&this._finalKeyframe.forEach((x,z)=>{"offset"!==z&&g.set(z,this._finished?x:Ts(this.element,z))}),this.currentSnapshot=g}triggerCallback(g){const y="start"===g?this._onStartFns:this._onDoneFns;y.forEach(x=>x()),y.length=0}}class ho{validateStyleProperty(g){return!0}validateAnimatableStyleProperty(g){return!0}matchesElement(g,y){return!1}containsElement(g,y){return ur(g,y)}getParentElement(g){return Wi(g)}query(g,y,x){return Ks(g,y,x)}computeStyle(g,y,x){return window.getComputedStyle(g)[y]}animate(g,y,x,z,te,ge=[]){const Ne={duration:x,delay:z,fill:0==z?"both":"forwards"};te&&(Ne.easing=te);const qe=new Map,Nt=ge.filter(yn=>yn instanceof zt);(function as(M,g){return 0===M||0===g})(x,z)&&Nt.forEach(yn=>{yn.currentSnapshot.forEach((_n,tn)=>qe.set(tn,_n))});let It=function va(M){return M.length?M[0]instanceof Map?M:M.map(g=>Fs(g)):[]}(y).map(yn=>_i(yn));It=function uo(M,g,y){if(y.size&&g.length){let x=g[0],z=[];if(y.forEach((te,ge)=>{x.has(ge)||z.push(ge),x.set(ge,te)}),z.length)for(let te=1;te<g.length;te++){let ge=g[te];z.forEach(_e=>ge.set(_e,Ts(M,_e)))}}return g}(g,It,qe);const $n=function gn(M,g){let y=null,x=null;return Array.isArray(g)&&g.length?(y=ms(g[0]),g.length>1&&(x=ms(g[g.length-1]))):g instanceof Map&&(y=ms(g)),y||x?new xr(M,y,x):null}(g,It);return new zt(g,It,Ne,$n)}}let Ct=(()=>{class M extends Ii{constructor(y,x){super(),this._nextAnimationId=0,this._renderer=y.createRenderer(x.body,{id:"0",encapsulation:k.ifc.None,styles:[],data:{animation:[]}})}build(y){const x=this._nextAnimationId.toString();this._nextAnimationId++;const z=Array.isArray(y)?ii(y):y;return ci(this._renderer,null,x,"register",[z]),new $e(x,this._renderer)}}return M.\u0275fac=function(y){return new(y||M)(k.LFG(k.FYo),k.LFG(Le.K0))},M.\u0275prov=k.Yz7({token:M,factory:M.\u0275fac}),M})();class $e extends dn{constructor(g,y){super(),this._id=g,this._renderer=y}create(g,y){return new ot(this._id,g,y||{},this._renderer)}}class ot{constructor(g,y,x,z){this.id=g,this.element=y,this._renderer=z,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",x)}_listen(g,y){return this._renderer.listen(this.element,`@@${this.id}:${g}`,y)}_command(g,...y){return ci(this._renderer,this.element,this.id,g,y)}onDone(g){this._listen("done",g)}onStart(g){this._listen("start",g)}onDestroy(g){this._listen("destroy",g)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(g){this._command("setPosition",g)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ci(M,g,y,x,z){return M.setProperty(g,`@@${y}:${x}`,z)}const ja="@.disabled";let xa=(()=>{class M{constructor(y,x,z){this.delegate=y,this.engine=x,this._zone=z,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),x.onRemovalComplete=(te,ge)=>{const _e=ge?.parentNode(te);_e&&ge.removeChild(_e,te)}}createRenderer(y,x){const te=this.delegate.createRenderer(y,x);if(!(y&&x&&x.data&&x.data.animation)){let Nt=this._rendererCache.get(te);return Nt||(Nt=new ra("",te,this.engine,()=>this._rendererCache.delete(te)),this._rendererCache.set(te,Nt)),Nt}const ge=x.id,_e=x.id+"-"+this._currentId;this._currentId++,this.engine.register(_e,y);const Ne=Nt=>{Array.isArray(Nt)?Nt.forEach(Ne):this.engine.registerTrigger(ge,_e,y,Nt.name,Nt)};return x.data.animation.forEach(Ne),new pa(this,_e,te,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(y,x,z){y>=0&&y<this._microtaskId?this._zone.run(()=>x(z)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(te=>{const[ge,_e]=te;ge(_e)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([x,z]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return M.\u0275fac=function(y){return new(y||M)(k.LFG(k.FYo),k.LFG(tt),k.LFG(k.R0b))},M.\u0275prov=k.Yz7({token:M,factory:M.\u0275fac}),M})();class ra{constructor(g,y,x,z){this.namespaceId=g,this.delegate=y,this.engine=x,this._onDestroy=z,this.destroyNode=this.delegate.destroyNode?te=>y.destroyNode(te):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(g,y){return this.delegate.createElement(g,y)}createComment(g){return this.delegate.createComment(g)}createText(g){return this.delegate.createText(g)}appendChild(g,y){this.delegate.appendChild(g,y),this.engine.onInsert(this.namespaceId,y,g,!1)}insertBefore(g,y,x,z=!0){this.delegate.insertBefore(g,y,x),this.engine.onInsert(this.namespaceId,y,g,z)}removeChild(g,y,x){this.engine.onRemove(this.namespaceId,y,this.delegate,x)}selectRootElement(g,y){return this.delegate.selectRootElement(g,y)}parentNode(g){return this.delegate.parentNode(g)}nextSibling(g){return this.delegate.nextSibling(g)}setAttribute(g,y,x,z){this.delegate.setAttribute(g,y,x,z)}removeAttribute(g,y,x){this.delegate.removeAttribute(g,y,x)}addClass(g,y){this.delegate.addClass(g,y)}removeClass(g,y){this.delegate.removeClass(g,y)}setStyle(g,y,x,z){this.delegate.setStyle(g,y,x,z)}removeStyle(g,y,x){this.delegate.removeStyle(g,y,x)}setProperty(g,y,x){"@"==y.charAt(0)&&y==ja?this.disableAnimations(g,!!x):this.delegate.setProperty(g,y,x)}setValue(g,y){this.delegate.setValue(g,y)}listen(g,y,x){return this.delegate.listen(g,y,x)}disableAnimations(g,y){this.engine.disableAnimations(g,y)}}class pa extends ra{constructor(g,y,x,z,te){super(y,x,z,te),this.factory=g,this.namespaceId=y}setProperty(g,y,x){"@"==y.charAt(0)?"."==y.charAt(1)&&y==ja?this.disableAnimations(g,x=void 0===x||!!x):this.engine.process(this.namespaceId,g,y.slice(1),x):this.delegate.setProperty(g,y,x)}listen(g,y,x){if("@"==y.charAt(0)){const z=function eu(M){switch(M){case"body":return document.body;case"document":return document;case"window":return window;default:return M}}(g);let te=y.slice(1),ge="";return"@"!=te.charAt(0)&&([te,ge]=function Fo(M){const g=M.indexOf(".");return[M.substring(0,g),M.slice(g+1)]}(te)),this.engine.listen(this.namespaceId,z,te,ge,_e=>{this.factory.scheduleListenerCallback(_e._data||-1,x,_e)})}return this.delegate.listen(g,y,x)}}const Ju=[{provide:Ii,useClass:Ct},{provide:Bs,useFactory:function Ha(){return new wa}},{provide:tt,useClass:(()=>{class M extends tt{constructor(y,x,z,te){super(y.body,x,z)}ngOnDestroy(){this.flush()}}return M.\u0275fac=function(y){return new(y||M)(k.LFG(Le.K0),k.LFG(Di),k.LFG(Bs),k.LFG(k.z2F))},M.\u0275prov=k.Yz7({token:M,factory:M.\u0275fac}),M})()},{provide:k.FYo,useFactory:function ga(M,g,y){return new xa(M,g,y)},deps:[w.se,tt,k.R0b]}],vn=[{provide:Di,useFactory:()=>new ho},{provide:k.QbO,useValue:"BrowserAnimations"},...Ju],ia=[{provide:Di,useClass:vt},{provide:k.QbO,useValue:"NoopAnimations"},...Ju];let Lo=(()=>{class M{static withConfig(y){return{ngModule:M,providers:y.disableAnimations?ia:vn}}}return M.\u0275fac=function(y){return new(y||M)},M.\u0275mod=k.oAB({type:M}),M.\u0275inj=k.cJS({providers:vn,imports:[w.b2]}),M})();const mn=[{path:"**",redirectTo:"dashboard"}];let tu=(()=>{class M{}return M.\u0275fac=function(y){return new(y||M)},M.\u0275mod=k.oAB({type:M,bootstrap:[yt]}),M.\u0275inj=k.cJS({providers:[pn],imports:[w.b2,Le.ez,$t,Mi,Yr,rs,zi,re.Bz.forRoot(mn),(0,ct.hX)(()=>(0,ct.ZF)(on_firebase)),Ae.Um,(0,ee.AR)(()=>(0,ee.v0)()),Lo]}),M})();w.q6().bootstrapModule(tu).catch(M=>console.error(M))},1135:(sn,Ye,Y)=>{Y.d(Ye,{X:()=>re});var w=Y(7579);class re extends w.x{constructor(De){super(),this._value=De}get value(){return this.getValue()}_subscribe(De){const ee=super._subscribe(De);return!ee.closed&&De.next(this._value),ee}getValue(){const{hasError:De,thrownError:ee,_value:Ae}=this;if(De)throw ee;return this._throwIfClosed(),Ae}next(De){super.next(this._value=De)}}},9751:(sn,Ye,Y)=>{Y.d(Ye,{y:()=>ce});var w=Y(930),re=Y(727),k=Y(8822),De=Y(9635),ee=Y(2416),Ae=Y(576),Be=Y(2806);let ce=(()=>{class xe{constructor(st){st&&(this._subscribe=st)}lift(st){const gt=new xe;return gt.source=this,gt.operator=st,gt}subscribe(st,gt,mt){const fn=function me(xe){return xe&&xe instanceof w.Lv||function se(xe){return xe&&(0,Ae.m)(xe.next)&&(0,Ae.m)(xe.error)&&(0,Ae.m)(xe.complete)}(xe)&&(0,re.Nn)(xe)}(st)?st:new w.Hp(st,gt,mt);return(0,Be.x)(()=>{const{operator:Ut,source:zn}=this;fn.add(Ut?Ut.call(fn,zn):zn?this._subscribe(fn):this._trySubscribe(fn))}),fn}_trySubscribe(st){try{return this._subscribe(st)}catch(gt){st.error(gt)}}forEach(st,gt){return new(gt=Le(gt))((mt,fn)=>{const Ut=new w.Hp({next:zn=>{try{st(zn)}catch(wn){fn(wn),Ut.unsubscribe()}},error:fn,complete:mt});this.subscribe(Ut)})}_subscribe(st){var gt;return null===(gt=this.source)||void 0===gt?void 0:gt.subscribe(st)}[k.L](){return this}pipe(...st){return(0,De.U)(st)(this)}toPromise(st){return new(st=Le(st))((gt,mt)=>{let fn;this.subscribe(Ut=>fn=Ut,Ut=>mt(Ut),()=>gt(fn))})}}return xe.create=rt=>new xe(rt),xe})();function Le(xe){var rt;return null!==(rt=xe??ee.v.Promise)&&void 0!==rt?rt:Promise}},7579:(sn,Ye,Y)=>{Y.d(Ye,{x:()=>Be});var w=Y(9751),re=Y(727);const De=(0,Y(3888).d)(Le=>function(){Le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=Y(8737),Ae=Y(2806);let Be=(()=>{class Le extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(me){const xe=new ce(this,this);return xe.operator=me,xe}_throwIfClosed(){if(this.closed)throw new De}next(me){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const xe of this.currentObservers)xe.next(me)}})}error(me){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=me;const{observers:xe}=this;for(;xe.length;)xe.shift().error(me)}})}complete(){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:me}=this;for(;me.length;)me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var me;return(null===(me=this.observers)||void 0===me?void 0:me.length)>0}_trySubscribe(me){return this._throwIfClosed(),super._trySubscribe(me)}_subscribe(me){return this._throwIfClosed(),this._checkFinalizedStatuses(me),this._innerSubscribe(me)}_innerSubscribe(me){const{hasError:xe,isStopped:rt,observers:st}=this;return xe||rt?re.Lc:(this.currentObservers=null,st.push(me),new re.w0(()=>{this.currentObservers=null,(0,ee.P)(st,me)}))}_checkFinalizedStatuses(me){const{hasError:xe,thrownError:rt,isStopped:st}=this;xe?me.error(rt):st&&me.complete()}asObservable(){const me=new w.y;return me.source=this,me}}return Le.create=(se,me)=>new ce(se,me),Le})();class ce extends Be{constructor(se,me){super(),this.destination=se,this.source=me}next(se){var me,xe;null===(xe=null===(me=this.destination)||void 0===me?void 0:me.next)||void 0===xe||xe.call(me,se)}error(se){var me,xe;null===(xe=null===(me=this.destination)||void 0===me?void 0:me.error)||void 0===xe||xe.call(me,se)}complete(){var se,me;null===(me=null===(se=this.destination)||void 0===se?void 0:se.complete)||void 0===me||me.call(se)}_subscribe(se){var me,xe;return null!==(xe=null===(me=this.source)||void 0===me?void 0:me.subscribe(se))&&void 0!==xe?xe:re.Lc}}},930:(sn,Ye,Y)=>{Y.d(Ye,{Hp:()=>mt,Lv:()=>xe});var w=Y(576),re=Y(727),k=Y(2416),De=Y(7849),ee=Y(5032);const Ae=Le("C",void 0,void 0);function Le(Fe,ht,He){return{kind:Fe,value:ht,error:He}}var se=Y(3410),me=Y(2806);class xe extends re.w0{constructor(ht){super(),this.isStopped=!1,ht?(this.destination=ht,(0,re.Nn)(ht)&&ht.add(this)):this.destination=wn}static create(ht,He,lt){return new mt(ht,He,lt)}next(ht){this.isStopped?zn(function ce(Fe){return Le("N",Fe,void 0)}(ht),this):this._next(ht)}error(ht){this.isStopped?zn(function Be(Fe){return Le("E",void 0,Fe)}(ht),this):(this.isStopped=!0,this._error(ht))}complete(){this.isStopped?zn(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ht){this.destination.next(ht)}_error(ht){try{this.destination.error(ht)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rt=Function.prototype.bind;function st(Fe,ht){return rt.call(Fe,ht)}class gt{constructor(ht){this.partialObserver=ht}next(ht){const{partialObserver:He}=this;if(He.next)try{He.next(ht)}catch(lt){fn(lt)}}error(ht){const{partialObserver:He}=this;if(He.error)try{He.error(ht)}catch(lt){fn(lt)}else fn(ht)}complete(){const{partialObserver:ht}=this;if(ht.complete)try{ht.complete()}catch(He){fn(He)}}}class mt extends xe{constructor(ht,He,lt){let St;if(super(),(0,w.m)(ht)||!ht)St={next:ht??void 0,error:He??void 0,complete:lt??void 0};else{let yt;this&&k.v.useDeprecatedNextContext?(yt=Object.create(ht),yt.unsubscribe=()=>this.unsubscribe(),St={next:ht.next&&st(ht.next,yt),error:ht.error&&st(ht.error,yt),complete:ht.complete&&st(ht.complete,yt)}):St=ht}this.destination=new gt(St)}}function fn(Fe){k.v.useDeprecatedSynchronousErrorHandling?(0,me.O)(Fe):(0,De.h)(Fe)}function zn(Fe,ht){const{onStoppedNotification:He}=k.v;He&&se.z.setTimeout(()=>He(Fe,ht))}const wn={closed:!0,next:ee.Z,error:function Ut(Fe){throw Fe},complete:ee.Z}},727:(sn,Ye,Y)=>{Y.d(Ye,{Lc:()=>Ae,w0:()=>ee,Nn:()=>Be});var w=Y(576);const k=(0,Y(3888).d)(Le=>function(me){Le(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((xe,rt)=>`${rt+1}) ${xe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me});var De=Y(8737);class ee{constructor(se){this.initialTeardown=se,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let se;if(!this.closed){this.closed=!0;const{_parentage:me}=this;if(me)if(this._parentage=null,Array.isArray(me))for(const st of me)st.remove(this);else me.remove(this);const{initialTeardown:xe}=this;if((0,w.m)(xe))try{xe()}catch(st){se=st instanceof k?st.errors:[st]}const{_finalizers:rt}=this;if(rt){this._finalizers=null;for(const st of rt)try{ce(st)}catch(gt){se=se??[],gt instanceof k?se=[...se,...gt.errors]:se.push(gt)}}if(se)throw new k(se)}}add(se){var me;if(se&&se!==this)if(this.closed)ce(se);else{if(se instanceof ee){if(se.closed||se._hasParent(this))return;se._addParent(this)}(this._finalizers=null!==(me=this._finalizers)&&void 0!==me?me:[]).push(se)}}_hasParent(se){const{_parentage:me}=this;return me===se||Array.isArray(me)&&me.includes(se)}_addParent(se){const{_parentage:me}=this;this._parentage=Array.isArray(me)?(me.push(se),me):me?[me,se]:se}_removeParent(se){const{_parentage:me}=this;me===se?this._parentage=null:Array.isArray(me)&&(0,De.P)(me,se)}remove(se){const{_finalizers:me}=this;me&&(0,De.P)(me,se),se instanceof ee&&se._removeParent(this)}}ee.EMPTY=(()=>{const Le=new ee;return Le.closed=!0,Le})();const Ae=ee.EMPTY;function Be(Le){return Le instanceof ee||Le&&"closed"in Le&&(0,w.m)(Le.remove)&&(0,w.m)(Le.add)&&(0,w.m)(Le.unsubscribe)}function ce(Le){(0,w.m)(Le)?Le():Le.unsubscribe()}},2416:(sn,Ye,Y)=>{Y.d(Ye,{v:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(sn,Ye,Y)=>{Y.d(Ye,{z:()=>ee});var w=Y(8189),k=Y(3269),De=Y(8996);function ee(...Ae){return function re(){return(0,w.J)(1)}()((0,De.D)(Ae,(0,k.yG)(Ae)))}},515:(sn,Ye,Y)=>{Y.d(Ye,{E:()=>re});const re=new(Y(9751).y)(ee=>ee.complete())},8996:(sn,Ye,Y)=>{Y.d(Ye,{D:()=>ht});var w=Y(8421),re=Y(5363),k=Y(9468),Ae=Y(9751),ce=Y(2202),Le=Y(576),se=Y(9672);function xe(He,lt){if(!He)throw new Error("Iterable cannot be null");return new Ae.y(St=>{(0,se.f)(St,lt,()=>{const yt=He[Symbol.asyncIterator]();(0,se.f)(St,lt,()=>{yt.next().then(pn=>{pn.done?St.complete():St.next(pn.value)})},0,!0)})})}var rt=Y(3670),st=Y(8239),gt=Y(1144),mt=Y(6495),fn=Y(2206),Ut=Y(4532),zn=Y(3260);function ht(He,lt){return lt?function Fe(He,lt){if(null!=He){if((0,rt.c)(He))return function De(He,lt){return(0,w.Xf)(He).pipe((0,k.R)(lt),(0,re.Q)(lt))}(He,lt);if((0,gt.z)(He))return function Be(He,lt){return new Ae.y(St=>{let yt=0;return lt.schedule(function(){yt===He.length?St.complete():(St.next(He[yt++]),St.closed||this.schedule())})})}(He,lt);if((0,st.t)(He))return function ee(He,lt){return(0,w.Xf)(He).pipe((0,k.R)(lt),(0,re.Q)(lt))}(He,lt);if((0,fn.D)(He))return xe(He,lt);if((0,mt.T)(He))return function me(He,lt){return new Ae.y(St=>{let yt;return(0,se.f)(St,lt,()=>{yt=He[ce.h](),(0,se.f)(St,lt,()=>{let pn,bn;try{({value:pn,done:bn}=yt.next())}catch($t){return void St.error($t)}bn?St.complete():St.next(pn)},0,!0)}),()=>(0,Le.m)(yt?.return)&&yt.return()})}(He,lt);if((0,zn.L)(He))return function wn(He,lt){return xe((0,zn.Q)(He),lt)}(He,lt)}throw(0,Ut.z)(He)}(He,lt):(0,w.Xf)(He)}},8421:(sn,Ye,Y)=>{Y.d(Ye,{Xf:()=>rt});var w=Y(655),re=Y(1144),k=Y(8239),De=Y(9751),ee=Y(3670),Ae=Y(2206),Be=Y(4532),ce=Y(6495),Le=Y(3260),se=Y(576),me=Y(7849),xe=Y(8822);function rt(Fe){if(Fe instanceof De.y)return Fe;if(null!=Fe){if((0,ee.c)(Fe))return function st(Fe){return new De.y(ht=>{const He=Fe[xe.L]();if((0,se.m)(He.subscribe))return He.subscribe(ht);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,re.z)(Fe))return function gt(Fe){return new De.y(ht=>{for(let He=0;He<Fe.length&&!ht.closed;He++)ht.next(Fe[He]);ht.complete()})}(Fe);if((0,k.t)(Fe))return function mt(Fe){return new De.y(ht=>{Fe.then(He=>{ht.closed||(ht.next(He),ht.complete())},He=>ht.error(He)).then(null,me.h)})}(Fe);if((0,Ae.D)(Fe))return Ut(Fe);if((0,ce.T)(Fe))return function fn(Fe){return new De.y(ht=>{for(const He of Fe)if(ht.next(He),ht.closed)return;ht.complete()})}(Fe);if((0,Le.L)(Fe))return function zn(Fe){return Ut((0,Le.Q)(Fe))}(Fe)}throw(0,Be.z)(Fe)}function Ut(Fe){return new De.y(ht=>{(function wn(Fe,ht){var He,lt,St,yt;return(0,w.mG)(this,void 0,void 0,function*(){try{for(He=(0,w.KL)(Fe);!(lt=yield He.next()).done;)if(ht.next(lt.value),ht.closed)return}catch(pn){St={error:pn}}finally{try{lt&&!lt.done&&(yt=He.return)&&(yield yt.call(He))}finally{if(St)throw St.error}}ht.complete()})})(Fe,ht).catch(He=>ht.error(He))})}},6451:(sn,Ye,Y)=>{Y.d(Ye,{T:()=>Ae});var w=Y(8189),re=Y(8421),k=Y(515),De=Y(3269),ee=Y(8996);function Ae(...Be){const ce=(0,De.yG)(Be),Le=(0,De._6)(Be,1/0),se=Be;return se.length?1===se.length?(0,re.Xf)(se[0]):(0,w.J)(Le)((0,ee.D)(se,ce)):k.E}},9646:(sn,Ye,Y)=>{Y.d(Ye,{of:()=>k});var w=Y(3269),re=Y(8996);function k(...De){const ee=(0,w.yG)(De);return(0,re.D)(De,ee)}},5403:(sn,Ye,Y)=>{Y.d(Ye,{x:()=>re});var w=Y(930);function re(De,ee,Ae,Be,ce){return new k(De,ee,Ae,Be,ce)}class k extends w.Lv{constructor(ee,Ae,Be,ce,Le,se){super(ee),this.onFinalize=Le,this.shouldUnsubscribe=se,this._next=Ae?function(me){try{Ae(me)}catch(xe){ee.error(xe)}}:super._next,this._error=ce?function(me){try{ce(me)}catch(xe){ee.error(xe)}finally{this.unsubscribe()}}:super._error,this._complete=Be?function(){try{Be()}catch(me){ee.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}}},9300:(sn,Ye,Y)=>{Y.d(Ye,{h:()=>k});var w=Y(4482),re=Y(5403);function k(De,ee){return(0,w.e)((Ae,Be)=>{let ce=0;Ae.subscribe((0,re.x)(Be,Le=>De.call(ee,Le,ce++)&&Be.next(Le)))})}},4004:(sn,Ye,Y)=>{Y.d(Ye,{U:()=>k});var w=Y(4482),re=Y(5403);function k(De,ee){return(0,w.e)((Ae,Be)=>{let ce=0;Ae.subscribe((0,re.x)(Be,Le=>{Be.next(De.call(ee,Le,ce++))}))})}},8189:(sn,Ye,Y)=>{Y.d(Ye,{J:()=>k});var w=Y(5577),re=Y(4671);function k(De=1/0){return(0,w.z)(re.y,De)}},5577:(sn,Ye,Y)=>{Y.d(Ye,{z:()=>ce});var w=Y(4004),re=Y(8421),k=Y(4482),De=Y(9672),ee=Y(5403),Be=Y(576);function ce(Le,se,me=1/0){return(0,Be.m)(se)?ce((xe,rt)=>(0,w.U)((st,gt)=>se(xe,st,rt,gt))((0,re.Xf)(Le(xe,rt))),me):("number"==typeof se&&(me=se),(0,k.e)((xe,rt)=>function Ae(Le,se,me,xe,rt,st,gt,mt){const fn=[];let Ut=0,zn=0,wn=!1;const Fe=()=>{wn&&!fn.length&&!Ut&&se.complete()},ht=lt=>Ut<xe?He(lt):fn.push(lt),He=lt=>{st&&se.next(lt),Ut++;let St=!1;(0,re.Xf)(me(lt,zn++)).subscribe((0,ee.x)(se,yt=>{rt?.(yt),st?ht(yt):se.next(yt)},()=>{St=!0},void 0,()=>{if(St)try{for(Ut--;fn.length&&Ut<xe;){const yt=fn.shift();gt?(0,De.f)(se,gt,()=>He(yt)):He(yt)}Fe()}catch(yt){se.error(yt)}}))};return Le.subscribe((0,ee.x)(se,ht,()=>{wn=!0,Fe()})),()=>{mt?.()}}(xe,rt,Le,me)))}},5363:(sn,Ye,Y)=>{Y.d(Ye,{Q:()=>De});var w=Y(9672),re=Y(4482),k=Y(5403);function De(ee,Ae=0){return(0,re.e)((Be,ce)=>{Be.subscribe((0,k.x)(ce,Le=>(0,w.f)(ce,ee,()=>ce.next(Le),Ae),()=>(0,w.f)(ce,ee,()=>ce.complete(),Ae),Le=>(0,w.f)(ce,ee,()=>ce.error(Le),Ae)))})}},8675:(sn,Ye,Y)=>{Y.d(Ye,{O:()=>De});var w=Y(7272),re=Y(3269),k=Y(4482);function De(...ee){const Ae=(0,re.yG)(ee);return(0,k.e)((Be,ce)=>{(Ae?(0,w.z)(ee,Be,Ae):(0,w.z)(ee,Be)).subscribe(ce)})}},9468:(sn,Ye,Y)=>{Y.d(Ye,{R:()=>re});var w=Y(4482);function re(k,De=0){return(0,w.e)((ee,Ae)=>{Ae.add(k.schedule(()=>ee.subscribe(Ae),De))})}},3900:(sn,Ye,Y)=>{Y.d(Ye,{w:()=>De});var w=Y(8421),re=Y(4482),k=Y(5403);function De(ee,Ae){return(0,re.e)((Be,ce)=>{let Le=null,se=0,me=!1;const xe=()=>me&&!Le&&ce.complete();Be.subscribe((0,k.x)(ce,rt=>{Le?.unsubscribe();let st=0;const gt=se++;(0,w.Xf)(ee(rt,gt)).subscribe(Le=(0,k.x)(ce,mt=>ce.next(Ae?Ae(rt,mt,gt,st++):mt),()=>{Le=null,xe()}))},()=>{me=!0,xe()}))})}},5698:(sn,Ye,Y)=>{Y.d(Ye,{q:()=>De});var w=Y(515),re=Y(4482),k=Y(5403);function De(ee){return ee<=0?()=>w.E:(0,re.e)((Ae,Be)=>{let ce=0;Ae.subscribe((0,k.x)(Be,Le=>{++ce<=ee&&(Be.next(Le),ee<=ce&&Be.complete())}))})}},8505:(sn,Ye,Y)=>{Y.d(Ye,{b:()=>ee});var w=Y(576),re=Y(4482),k=Y(5403),De=Y(4671);function ee(Ae,Be,ce){const Le=(0,w.m)(Ae)||Be||ce?{next:Ae,error:Be,complete:ce}:Ae;return Le?(0,re.e)((se,me)=>{var xe;null===(xe=Le.subscribe)||void 0===xe||xe.call(Le);let rt=!0;se.subscribe((0,k.x)(me,st=>{var gt;null===(gt=Le.next)||void 0===gt||gt.call(Le,st),me.next(st)},()=>{var st;rt=!1,null===(st=Le.complete)||void 0===st||st.call(Le),me.complete()},st=>{var gt;rt=!1,null===(gt=Le.error)||void 0===gt||gt.call(Le,st),me.error(st)},()=>{var st,gt;rt&&(null===(st=Le.unsubscribe)||void 0===st||st.call(Le)),null===(gt=Le.finalize)||void 0===gt||gt.call(Le)}))}):De.y}},4408:(sn,Ye,Y)=>{Y.d(Ye,{o:()=>ee});var w=Y(727);class re extends w.w0{constructor(Be,ce){super()}schedule(Be,ce=0){return this}}const k={setInterval(Ae,Be,...ce){const{delegate:Le}=k;return Le?.setInterval?Le.setInterval(Ae,Be,...ce):setInterval(Ae,Be,...ce)},clearInterval(Ae){const{delegate:Be}=k;return(Be?.clearInterval||clearInterval)(Ae)},delegate:void 0};var De=Y(8737);class ee extends re{constructor(Be,ce){super(Be,ce),this.scheduler=Be,this.work=ce,this.pending=!1}schedule(Be,ce=0){var Le;if(this.closed)return this;this.state=Be;const se=this.id,me=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(me,se,ce)),this.pending=!0,this.delay=ce,this.id=null!==(Le=this.id)&&void 0!==Le?Le:this.requestAsyncId(me,this.id,ce),this}requestAsyncId(Be,ce,Le=0){return k.setInterval(Be.flush.bind(Be,this),Le)}recycleAsyncId(Be,ce,Le=0){if(null!=Le&&this.delay===Le&&!1===this.pending)return ce;null!=ce&&k.clearInterval(ce)}execute(Be,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Le=this._execute(Be,ce);if(Le)return Le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Be,ce){let se,Le=!1;try{this.work(Be)}catch(me){Le=!0,se=me||new Error("Scheduled action threw falsy error")}if(Le)return this.unsubscribe(),se}unsubscribe(){if(!this.closed){const{id:Be,scheduler:ce}=this,{actions:Le}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,De.P)(Le,this),null!=Be&&(this.id=this.recycleAsyncId(ce,Be,null)),this.delay=null,super.unsubscribe()}}}},640:(sn,Ye,Y)=>{Y.d(Ye,{v:()=>k});const w={now:()=>(w.delegate||Date).now(),delegate:void 0};class re{constructor(ee,Ae=re.now){this.schedulerActionCtor=ee,this.now=Ae}schedule(ee,Ae=0,Be){return new this.schedulerActionCtor(this,ee).schedule(Be,Ae)}}re.now=w.now;class k extends re{constructor(ee,Ae=re.now){super(ee,Ae),this.actions=[],this._active=!1}flush(ee){const{actions:Ae}=this;if(this._active)return void Ae.push(ee);let Be;this._active=!0;do{if(Be=ee.execute(ee.state,ee.delay))break}while(ee=Ae.shift());if(this._active=!1,Be){for(;ee=Ae.shift();)ee.unsubscribe();throw Be}}}},4986:(sn,Ye,Y)=>{Y.d(Ye,{P:()=>De,z:()=>k});var w=Y(4408);const k=new(Y(640).v)(w.o),De=k},3410:(sn,Ye,Y)=>{Y.d(Ye,{z:()=>w});const w={setTimeout(re,k,...De){const{delegate:ee}=w;return ee?.setTimeout?ee.setTimeout(re,k,...De):setTimeout(re,k,...De)},clearTimeout(re){const{delegate:k}=w;return(k?.clearTimeout||clearTimeout)(re)},delegate:void 0}},2202:(sn,Ye,Y)=>{Y.d(Ye,{h:()=>re});const re=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(sn,Ye,Y)=>{Y.d(Ye,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(sn,Ye,Y)=>{Y.d(Ye,{_6:()=>Ae,jO:()=>De,yG:()=>ee});var w=Y(576),re=Y(3532);function k(Be){return Be[Be.length-1]}function De(Be){return(0,w.m)(k(Be))?Be.pop():void 0}function ee(Be){return(0,re.K)(k(Be))?Be.pop():void 0}function Ae(Be,ce){return"number"==typeof k(Be)?Be.pop():ce}},4742:(sn,Ye,Y)=>{Y.d(Ye,{D:()=>ee});const{isArray:w}=Array,{getPrototypeOf:re,prototype:k,keys:De}=Object;function ee(Be){if(1===Be.length){const ce=Be[0];if(w(ce))return{args:ce,keys:null};if(function Ae(Be){return Be&&"object"==typeof Be&&re(Be)===k}(ce)){const Le=De(ce);return{args:Le.map(se=>ce[se]),keys:Le}}}return{args:Be,keys:null}}},8737:(sn,Ye,Y)=>{function w(re,k){if(re){const De=re.indexOf(k);0<=De&&re.splice(De,1)}}Y.d(Ye,{P:()=>w})},3888:(sn,Ye,Y)=>{function w(re){const De=re(ee=>{Error.call(ee),ee.stack=(new Error).stack});return De.prototype=Object.create(Error.prototype),De.prototype.constructor=De,De}Y.d(Ye,{d:()=>w})},1810:(sn,Ye,Y)=>{function w(re,k){return re.reduce((De,ee,Ae)=>(De[ee]=k[Ae],De),{})}Y.d(Ye,{n:()=>w})},2806:(sn,Ye,Y)=>{Y.d(Ye,{O:()=>De,x:()=>k});var w=Y(2416);let re=null;function k(ee){if(w.v.useDeprecatedSynchronousErrorHandling){const Ae=!re;if(Ae&&(re={errorThrown:!1,error:null}),ee(),Ae){const{errorThrown:Be,error:ce}=re;if(re=null,Be)throw ce}}else ee()}function De(ee){w.v.useDeprecatedSynchronousErrorHandling&&re&&(re.errorThrown=!0,re.error=ee)}},9672:(sn,Ye,Y)=>{function w(re,k,De,ee=0,Ae=!1){const Be=k.schedule(function(){De(),Ae?re.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(re.add(Be),!Ae)return Be}Y.d(Ye,{f:()=>w})},4671:(sn,Ye,Y)=>{function w(re){return re}Y.d(Ye,{y:()=>w})},1144:(sn,Ye,Y)=>{Y.d(Ye,{z:()=>w});const w=re=>re&&"number"==typeof re.length&&"function"!=typeof re},2206:(sn,Ye,Y)=>{Y.d(Ye,{D:()=>re});var w=Y(576);function re(k){return Symbol.asyncIterator&&(0,w.m)(k?.[Symbol.asyncIterator])}},576:(sn,Ye,Y)=>{function w(re){return"function"==typeof re}Y.d(Ye,{m:()=>w})},3670:(sn,Ye,Y)=>{Y.d(Ye,{c:()=>k});var w=Y(8822),re=Y(576);function k(De){return(0,re.m)(De[w.L])}},6495:(sn,Ye,Y)=>{Y.d(Ye,{T:()=>k});var w=Y(2202),re=Y(576);function k(De){return(0,re.m)(De?.[w.h])}},8239:(sn,Ye,Y)=>{Y.d(Ye,{t:()=>re});var w=Y(576);function re(k){return(0,w.m)(k?.then)}},3260:(sn,Ye,Y)=>{Y.d(Ye,{L:()=>De,Q:()=>k});var w=Y(655),re=Y(576);function k(ee){return(0,w.FC)(this,arguments,function*(){const Be=ee.getReader();try{for(;;){const{value:ce,done:Le}=yield(0,w.qq)(Be.read());if(Le)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(ce)}}finally{Be.releaseLock()}})}function De(ee){return(0,re.m)(ee?.getReader)}},3532:(sn,Ye,Y)=>{Y.d(Ye,{K:()=>re});var w=Y(576);function re(k){return k&&(0,w.m)(k.schedule)}},4482:(sn,Ye,Y)=>{Y.d(Ye,{A:()=>re,e:()=>k});var w=Y(576);function re(De){return(0,w.m)(De?.lift)}function k(De){return ee=>{if(re(ee))return ee.lift(function(Ae){try{return De(Ae,this)}catch(Be){this.error(Be)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(sn,Ye,Y)=>{Y.d(Ye,{Z:()=>De});var w=Y(4004);const{isArray:re}=Array;function De(ee){return(0,w.U)(Ae=>function k(ee,Ae){return re(Ae)?ee(...Ae):ee(Ae)}(ee,Ae))}},5032:(sn,Ye,Y)=>{function w(){}Y.d(Ye,{Z:()=>w})},9635:(sn,Ye,Y)=>{Y.d(Ye,{U:()=>k,z:()=>re});var w=Y(4671);function re(...De){return k(De)}function k(De){return 0===De.length?w.y:1===De.length?De[0]:function(Ae){return De.reduce((Be,ce)=>ce(Be),Ae)}}},7849:(sn,Ye,Y)=>{Y.d(Ye,{h:()=>k});var w=Y(2416),re=Y(3410);function k(De){re.z.setTimeout(()=>{const{onUnhandledError:ee}=w.v;if(!ee)throw De;ee(De)})}},4532:(sn,Ye,Y)=>{function w(re){return new TypeError(`You provided ${null!==re&&"object"==typeof re?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Y.d(Ye,{z:()=>w})},655:(sn,Ye,Y)=>{function De(Ge,Se){var et={};for(var nt in Ge)Object.prototype.hasOwnProperty.call(Ge,nt)&&Se.indexOf(nt)<0&&(et[nt]=Ge[nt]);if(null!=Ge&&"function"==typeof Object.getOwnPropertySymbols){var ft=0;for(nt=Object.getOwnPropertySymbols(Ge);ft<nt.length;ft++)Se.indexOf(nt[ft])<0&&Object.prototype.propertyIsEnumerable.call(Ge,nt[ft])&&(et[nt[ft]]=Ge[nt[ft]])}return et}function xe(Ge,Se,et,nt){return new(et||(et=Promise))(function(pt,an){function Nn(jt){try{Kt(nt.next(jt))}catch(Mt){an(Mt)}}function kn(jt){try{Kt(nt.throw(jt))}catch(Mt){an(Mt)}}function Kt(jt){jt.done?pt(jt.value):function ft(pt){return pt instanceof et?pt:new et(function(an){an(pt)})}(jt.value).then(Nn,kn)}Kt((nt=nt.apply(Ge,Se||[])).next())})}function Fe(Ge){return this instanceof Fe?(this.v=Ge,this):new Fe(Ge)}function ht(Ge,Se,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft,nt=et.apply(Ge,Se||[]),pt=[];return ft={},an("next"),an("throw"),an("return"),ft[Symbol.asyncIterator]=function(){return this},ft;function an(jn){nt[jn]&&(ft[jn]=function(Zr){return new Promise(function(Rr,Pn){pt.push([jn,Zr,Rr,Pn])>1||Nn(jn,Zr)})})}function Nn(jn,Zr){try{!function kn(jn){jn.value instanceof Fe?Promise.resolve(jn.value.v).then(Kt,jt):Mt(pt[0][2],jn)}(nt[jn](Zr))}catch(Rr){Mt(pt[0][3],Rr)}}function Kt(jn){Nn("next",jn)}function jt(jn){Nn("throw",jn)}function Mt(jn,Zr){jn(Zr),pt.shift(),pt.length&&Nn(pt[0][0],pt[0][1])}}function lt(Ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,Se=Ge[Symbol.asyncIterator];return Se?Se.call(Ge):(Ge=function mt(Ge){var Se="function"==typeof Symbol&&Symbol.iterator,et=Se&&Ge[Se],nt=0;if(et)return et.call(Ge);if(Ge&&"number"==typeof Ge.length)return{next:function(){return Ge&&nt>=Ge.length&&(Ge=void 0),{value:Ge&&Ge[nt++],done:!Ge}}};throw new TypeError(Se?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ge),et={},nt("next"),nt("throw"),nt("return"),et[Symbol.asyncIterator]=function(){return this},et);function nt(pt){et[pt]=Ge[pt]&&function(an){return new Promise(function(Nn,kn){!function ft(pt,an,Nn,kn){Promise.resolve(kn).then(function(Kt){pt({value:Kt,done:Nn})},an)}(Nn,kn,(an=Ge[pt](an)).done,an.value)})}}}Y.d(Ye,{FC:()=>ht,KL:()=>lt,_T:()=>De,mG:()=>xe,qq:()=>Fe})},6895:(sn,Ye,Y)=>{Y.d(Ye,{Do:()=>zn,EM:()=>Ko,HT:()=>De,JF:()=>lo,K0:()=>Ae,Mx:()=>ss,NF:()=>Ea,O5:()=>Nr,Ov:()=>Go,PC:()=>Xr,S$:()=>mt,Ts:()=>Or,V_:()=>Le,Ye:()=>wn,b0:()=>Ut,bD:()=>Bi,ez:()=>ai,mk:()=>bo,q:()=>k,sg:()=>Dr,w_:()=>ee});var w=Y(1571);let re=null;function k(){return re}function De(A){re||(re=A)}class ee{}const Ae=new w.OlP("DocumentToken");let Be=(()=>{class A{historyGo(O){throw new Error("Not implemented")}}return A.\u0275fac=function(O){return new(O||A)},A.\u0275prov=w.Yz7({token:A,factory:function(){return function ce(){return(0,w.LFG)(se)}()},providedIn:"platform"}),A})();const Le=new w.OlP("Location Initialized");let se=(()=>{class A extends Be{constructor(O){super(),this._doc=O,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(O){const K=k().getGlobalEventTarget(this._doc,"window");return K.addEventListener("popstate",O,!1),()=>K.removeEventListener("popstate",O)}onHashChange(O){const K=k().getGlobalEventTarget(this._doc,"window");return K.addEventListener("hashchange",O,!1),()=>K.removeEventListener("hashchange",O)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(O){this._location.pathname=O}pushState(O,K,ue){me()?this._history.pushState(O,K,ue):this._location.hash=ue}replaceState(O,K,ue){me()?this._history.replaceState(O,K,ue):this._location.hash=ue}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}}return A.\u0275fac=function(O){return new(O||A)(w.LFG(Ae))},A.\u0275prov=w.Yz7({token:A,factory:function(){return function xe(){return new se((0,w.LFG)(Ae))}()},providedIn:"platform"}),A})();function me(){return!!window.history.pushState}function rt(A,j){if(0==A.length)return j;if(0==j.length)return A;let O=0;return A.endsWith("/")&&O++,j.startsWith("/")&&O++,2==O?A+j.substring(1):1==O?A+j:A+"/"+j}function st(A){const j=A.match(/#|\?|$/),O=j&&j.index||A.length;return A.slice(0,O-("/"===A[O-1]?1:0))+A.slice(O)}function gt(A){return A&&"?"!==A[0]?"?"+A:A}let mt=(()=>{class A{historyGo(O){throw new Error("Not implemented")}}return A.\u0275fac=function(O){return new(O||A)},A.\u0275prov=w.Yz7({token:A,factory:function(){return(0,w.f3M)(Ut)},providedIn:"root"}),A})();const fn=new w.OlP("appBaseHref");let Ut=(()=>{class A extends mt{constructor(O,K){super(),this._platformLocation=O,this._removeListenerFns=[],this._baseHref=K??this._platformLocation.getBaseHrefFromDOM()??(0,w.f3M)(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return rt(this._baseHref,O)}path(O=!1){const K=this._platformLocation.pathname+gt(this._platformLocation.search),ue=this._platformLocation.hash;return ue&&O?`${K}${ue}`:K}pushState(O,K,ue,ke){const Qe=this.prepareExternalUrl(ue+gt(ke));this._platformLocation.pushState(O,K,Qe)}replaceState(O,K,ue,ke){const Qe=this.prepareExternalUrl(ue+gt(ke));this._platformLocation.replaceState(O,K,Qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}}return A.\u0275fac=function(O){return new(O||A)(w.LFG(Be),w.LFG(fn,8))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),zn=(()=>{class A extends mt{constructor(O,K){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=K&&(this._baseHref=K)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){let K=this._platformLocation.hash;return null==K&&(K="#"),K.length>0?K.substring(1):K}prepareExternalUrl(O){const K=rt(this._baseHref,O);return K.length>0?"#"+K:K}pushState(O,K,ue,ke){let Qe=this.prepareExternalUrl(ue+gt(ke));0==Qe.length&&(Qe=this._platformLocation.pathname),this._platformLocation.pushState(O,K,Qe)}replaceState(O,K,ue,ke){let Qe=this.prepareExternalUrl(ue+gt(ke));0==Qe.length&&(Qe=this._platformLocation.pathname),this._platformLocation.replaceState(O,K,Qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}}return A.\u0275fac=function(O){return new(O||A)(w.LFG(Be),w.LFG(fn,8))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac}),A})(),wn=(()=>{class A{constructor(O){this._subject=new w.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=O;const K=this._locationStrategy.getBaseHref();this._basePath=function lt(A){if(new RegExp("^(https?:)?//").test(A)){const[,O]=A.split(/\/\/[^\/]+/);return O}return A}(st(He(K))),this._locationStrategy.onPopState(ue=>{this._subject.emit({url:this.path(!0),pop:!0,state:ue.state,type:ue.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(O=!1){return this.normalize(this._locationStrategy.path(O))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(O,K=""){return this.path()==this.normalize(O+gt(K))}normalize(O){return A.stripTrailingSlash(function ht(A,j){if(!A||!j.startsWith(A))return j;const O=j.substring(A.length);return""===O||["/",";","?","#"].includes(O[0])?O:j}(this._basePath,He(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._locationStrategy.prepareExternalUrl(O)}go(O,K="",ue=null){this._locationStrategy.pushState(ue,"",O,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+gt(K)),ue)}replaceState(O,K="",ue=null){this._locationStrategy.replaceState(ue,"",O,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+gt(K)),ue)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(O=0){this._locationStrategy.historyGo?.(O)}onUrlChange(O){return this._urlChangeListeners.push(O),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(K=>{this._notifyUrlChangeListeners(K.url,K.state)})),()=>{const K=this._urlChangeListeners.indexOf(O);this._urlChangeListeners.splice(K,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(O="",K){this._urlChangeListeners.forEach(ue=>ue(O,K))}subscribe(O,K,ue){return this._subject.subscribe({next:O,error:K,complete:ue})}}return A.normalizeQueryParams=gt,A.joinWithSlash=rt,A.stripTrailingSlash=st,A.\u0275fac=function(O){return new(O||A)(w.LFG(mt))},A.\u0275prov=w.Yz7({token:A,factory:function(){return function Fe(){return new wn((0,w.LFG)(mt))}()},providedIn:"root"}),A})();function He(A){return A.replace(/\/index.html$/,"")}function ss(A,j){j=encodeURIComponent(j);for(const O of A.split(";")){const K=O.indexOf("="),[ue,ke]=-1==K?[O,""]:[O.slice(0,K),O.slice(K+1)];if(ue.trim()===j)return decodeURIComponent(ke)}return null}const Hr=/\s+/,hs=[];let bo=(()=>{class A{constructor(O,K,ue,ke){this._iterableDiffers=O,this._keyValueDiffers=K,this._ngEl=ue,this._renderer=ke,this.initialClasses=hs,this.stateMap=new Map}set klass(O){this.initialClasses=null!=O?O.trim().split(Hr):hs}set ngClass(O){this.rawClass="string"==typeof O?O.trim().split(Hr):O}ngDoCheck(){for(const K of this.initialClasses)this._updateState(K,!0);const O=this.rawClass;if(Array.isArray(O)||O instanceof Set)for(const K of O)this._updateState(K,!0);else if(null!=O)for(const K of Object.keys(O))this._updateState(K,Boolean(O[K]));this._applyStateDiff()}_updateState(O,K){const ue=this.stateMap.get(O);void 0!==ue?(ue.enabled!==K&&(ue.changed=!0,ue.enabled=K),ue.touched=!0):this.stateMap.set(O,{enabled:K,changed:!0,touched:!0})}_applyStateDiff(){for(const O of this.stateMap){const K=O[0],ue=O[1];ue.changed?(this._toggleClass(K,ue.enabled),ue.changed=!1):ue.touched||(ue.enabled&&this._toggleClass(K,!1),this.stateMap.delete(K)),ue.touched=!1}}_toggleClass(O,K){(O=O.trim()).length>0&&O.split(Hr).forEach(ue=>{K?this._renderer.addClass(this._ngEl.nativeElement,ue):this._renderer.removeClass(this._ngEl.nativeElement,ue)})}}return A.\u0275fac=function(O){return new(O||A)(w.Y36(w.ZZ4),w.Y36(w.aQg),w.Y36(w.SBq),w.Y36(w.Qsj))},A.\u0275dir=w.lG2({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),A})();class In{constructor(j,O,K,ue){this.$implicit=j,this.ngForOf=O,this.index=K,this.count=ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dr=(()=>{class A{set ngForOf(O){this._ngForOf=O,this._ngForOfDirty=!0}set ngForTrackBy(O){this._trackByFn=O}get ngForTrackBy(){return this._trackByFn}constructor(O,K,ue){this._viewContainer=O,this._template=K,this._differs=ue,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(O){O&&(this._template=O)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const O=this._ngForOf;!this._differ&&O&&(this._differ=this._differs.find(O).create(this.ngForTrackBy))}if(this._differ){const O=this._differ.diff(this._ngForOf);O&&this._applyChanges(O)}}_applyChanges(O){const K=this._viewContainer;O.forEachOperation((ue,ke,Qe)=>{if(null==ue.previousIndex)K.createEmbeddedView(this._template,new In(ue.item,this._ngForOf,-1,-1),null===Qe?void 0:Qe);else if(null==Qe)K.remove(null===ke?void 0:ke);else if(null!==ke){const Et=K.get(ke);K.move(Et,Qe),Gr(Et,ue)}});for(let ue=0,ke=K.length;ue<ke;ue++){const Et=K.get(ue).context;Et.index=ue,Et.count=ke,Et.ngForOf=this._ngForOf}O.forEachIdentityChange(ue=>{Gr(K.get(ue.currentIndex),ue)})}static ngTemplateContextGuard(O,K){return!0}}return A.\u0275fac=function(O){return new(O||A)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))},A.\u0275dir=w.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),A})();function Gr(A,j){A.context.$implicit=j.item}let Nr=(()=>{class A{constructor(O,K){this._viewContainer=O,this._context=new xi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=K}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){hr("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){hr("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,K){return!0}}return A.\u0275fac=function(O){return new(O||A)(w.Y36(w.s_b),w.Y36(w.Rgc))},A.\u0275dir=w.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),A})();class xi{constructor(){this.$implicit=null,this.ngIf=null}}function hr(A,j){if(j&&!j.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,w.AaK)(j)}'.`)}let Xr=(()=>{class A{constructor(O,K,ue){this._ngEl=O,this._differs=K,this._renderer=ue,this._ngStyle=null,this._differ=null}set ngStyle(O){this._ngStyle=O,!this._differ&&O&&(this._differ=this._differs.find(O).create())}ngDoCheck(){if(this._differ){const O=this._differ.diff(this._ngStyle);O&&this._applyChanges(O)}}_setStyle(O,K){const[ue,ke]=O.split("."),Qe=-1===ue.indexOf("-")?void 0:w.JOm.DashCase;null!=K?this._renderer.setStyle(this._ngEl.nativeElement,ue,ke?`${K}${ke}`:K,Qe):this._renderer.removeStyle(this._ngEl.nativeElement,ue,Qe)}_applyChanges(O){O.forEachRemovedItem(K=>this._setStyle(K.key,null)),O.forEachAddedItem(K=>this._setStyle(K.key,K.currentValue)),O.forEachChangedItem(K=>this._setStyle(K.key,K.currentValue))}}return A.\u0275fac=function(O){return new(O||A)(w.Y36(w.SBq),w.Y36(w.aQg),w.Y36(w.Qsj))},A.\u0275dir=w.lG2({type:A,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),A})();class ei{createSubscription(j,O){return j.subscribe({next:O,error:K=>{throw K}})}dispose(j){j.unsubscribe()}}class gi{createSubscription(j,O){return j.then(O,K=>{throw K})}dispose(j){}}const ur=new gi,Ks=new ei;let Go=(()=>{class A{constructor(O){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=O}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(O){return this._obj?O!==this._obj?(this._dispose(),this.transform(O)):this._latestValue:(O&&this._subscribe(O),this._latestValue)}_subscribe(O){this._obj=O,this._strategy=this._selectStrategy(O),this._subscription=this._strategy.createSubscription(O,K=>this._updateLatestValue(O,K))}_selectStrategy(O){if((0,w.QGY)(O))return ur;if((0,w.F4k)(O))return Ks;throw function yr(A,j){return new w.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(O,K){O===this._obj&&(this._latestValue=K,this._ref.markForCheck())}}return A.\u0275fac=function(O){return new(O||A)(w.Y36(w.sBO,16))},A.\u0275pipe=w.Yjl({name:"async",type:A,pure:!1,standalone:!0}),A})(),Or=(()=>{class A{transform(O){return JSON.stringify(O,null,2)}}return A.\u0275fac=function(O){return new(O||A)},A.\u0275pipe=w.Yjl({name:"json",type:A,pure:!1,standalone:!0}),A})(),ai=(()=>{class A{}return A.\u0275fac=function(O){return new(O||A)},A.\u0275mod=w.oAB({type:A}),A.\u0275inj=w.cJS({}),A})();const Bi="browser";function Ea(A){return A===Bi}let Ko=(()=>{class A{}return A.\u0275prov=(0,w.Yz7)({token:A,providedIn:"root",factory:()=>new as((0,w.LFG)(Ae),window)}),A})();class as{constructor(j,O){this.document=j,this.window=O,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(j){this.supportsScrolling()&&this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){if(!this.supportsScrolling())return;const O=function Vr(A,j){const O=A.getElementById(j)||A.getElementsByName(j)[0];if(O)return O;if("function"==typeof A.createTreeWalker&&A.body&&(A.body.createShadowRoot||A.body.attachShadow)){const K=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let ue=K.currentNode;for(;ue;){const ke=ue.shadowRoot;if(ke){const Qe=ke.getElementById(j)||ke.querySelector(`[name="${j}"]`);if(Qe)return Qe}ue=K.nextNode()}}return null}(this.document,j);O&&(this.scrollToElement(O),O.focus())}setHistoryScrollRestoration(j){if(this.supportScrollRestoration()){const O=this.window.history;O&&O.scrollRestoration&&(O.scrollRestoration=j)}}scrollToElement(j){const O=j.getBoundingClientRect(),K=O.left+this.window.pageXOffset,ue=O.top+this.window.pageYOffset,ke=this.offset();this.window.scrollTo(K-ke[0],ue-ke[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const j=uo(this.window.history)||uo(Object.getPrototypeOf(this.window.history));return!(!j||!j.writable&&!j.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function uo(A){return Object.getOwnPropertyDescriptor(A,"scrollRestoration")}class lo{}},1571:(sn,Ye,Y)=>{Y.d(Ye,{QbO:()=>Gw,tb:()=>dE,AFp:()=>eE,ip1:()=>X0,CZH:()=>$y,hGG:()=>MI,z2F:()=>Hy,sBO:()=>fI,Sil:()=>Zw,_Vd:()=>qa,EJc:()=>qw,Xts:()=>Ec,SBq:()=>Dc,lqb:()=>$u,qLn:()=>hd,vpe:()=>tc,XFs:()=>Ht,OlP:()=>Ln,zs3:()=>Sc,ZZ4:()=>bv,aQg:()=>Sv,soG:()=>jy,YKP:()=>a0,h0i:()=>Rp,PXZ:()=>uI,R0b:()=>Qu,FiY:()=>Wr,Lbi:()=>Hw,g9A:()=>nE,Qsj:()=>Pf,FYo:()=>dd,JOm:()=>Rs,tp0:()=>vs,Rgc:()=>gm,dDg:()=>iI,eoX:()=>lE,q4F:()=>Nf,GfV:()=>Th,s_b:()=>Vy,ifc:()=>pe,MMx:()=>ev,Lck:()=>UE,eFA:()=>fE,Gpc:()=>gt,f3M:()=>pi,$WT:()=>ss,_c5:()=>AI,c2e:()=>zw,zSh:()=>Du,wAp:()=>Mn,vHH:()=>Fe,lri:()=>aE,rWj:()=>uE,D6c:()=>xI,cg1:()=>xy,kL8:()=>rf,dqk:()=>Hn,Z0I:()=>ns,eJc:()=>cv,CqO:()=>Nc,QGY:()=>gp,F4k:()=>Fg,RDi:()=>Vp,AaK:()=>xe,qOj:()=>Ag,TTD:()=>Vr,_Bn:()=>o0,jDz:()=>l0,xp6:()=>Hl,uIk:()=>Rg,ekj:()=>Ep,Suo:()=>x0,Xpm:()=>Me,lG2:()=>Ir,Yz7:()=>Pn,cJS:()=>$r,oAB:()=>En,Yjl:()=>is,Y36:()=>Ac,_UZ:()=>Gh,BQk:()=>pp,ynx:()=>Vd,qZA:()=>fp,TgZ:()=>Ld,EpF:()=>oy,n5z:()=>Nt,LFG:()=>sr,$8M:()=>_n,$Z:()=>ag,NdJ:()=>mp,CRH:()=>P0,oxw:()=>qh,ALo:()=>I0,lcZ:()=>D0,Q6J:()=>hp,MGl:()=>Ud,hYB:()=>Kh,VKq:()=>m0,iGM:()=>M0,MAs:()=>dp,KtG:()=>ui,CHM:()=>nr,P3R:()=>cl,YNc:()=>cp,W1O:()=>k0,_uU:()=>Oc,Oqu:()=>Xg,hij:()=>Qh});var w=Y(7579),re=Y(727),k=Y(9751),De=Y(6451),ee=Y(8421),Ae=Y(930),Be=Y(4482);function Le(n,i,...o){if(!0===i)return void n();if(!1===i)return;const u=new Ae.Hp({next:()=>{u.unsubscribe(),n()}});return(0,ee.Xf)(i(...o)).subscribe(u)}function se(n){for(let i in n)if(n[i]===se)return i;throw Error("Could not find renamed property on target object.")}function me(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function xe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(xe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function rt(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const st=se({__forward_ref__:se});function gt(n){return n.__forward_ref__=gt,n.toString=function(){return xe(this())},n}function mt(n){return fn(n)?n():n}function fn(n){return"function"==typeof n&&n.hasOwnProperty(st)&&n.__forward_ref__===gt}function Ut(n){return n&&!!n.\u0275providers}const wn="https://g.co/ng/security#xss";class Fe extends Error{constructor(i,o){super(ht(i,o)),this.code=i}}function ht(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function He(n){return"string"==typeof n?n:null==n?"":String(n)}function bn(n,i){throw new Fe(-201,!1)}function jt(n,i){null==n&&function Mt(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function Pn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function $r(n){return{providers:n.providers||[],imports:n.imports||[]}}function ni(n){return Fi(n,Yr)||Fi(n,fi)}function ns(n){return null!==ni(n)}function Fi(n,i){return n.hasOwnProperty(i)?n[i]:null}function br(n){return n&&(n.hasOwnProperty(Wn)||n.hasOwnProperty(rs))?n[Wn]:null}const Yr=se({\u0275prov:se}),Wn=se({\u0275inj:se}),fi=se({ngInjectableDef:se}),rs=se({ngInjectorDef:se});var Ht=(()=>((Ht=Ht||{})[Ht.Default=0]="Default",Ht[Ht.Host=1]="Host",Ht[Ht.Self=2]="Self",Ht[Ht.SkipSelf=4]="SkipSelf",Ht[Ht.Optional=8]="Optional",Ht))();let zi;function dn(n){const i=zi;return zi=n,i}function xt(n,i,o){const u=ni(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Ht.Optional?null:void 0!==i?i:void bn(xe(n))}const Hn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),wr={},Vi="__NG_DI_FLAG__",qn="ngTempTokenPath",oo="ngTokenPath",Zn=/\n/gm,cr="\u0275",er="__source";let jr;function Qt(n){const i=jr;return jr=n,i}function Qr(n,i=Ht.Default){if(void 0===jr)throw new Fe(-203,!1);return null===jr?xt(n,void 0,i):jr.get(n,i&Ht.Optional?null:void 0,i)}function sr(n,i=Ht.Default){return(function Ii(){return zi}()||Qr)(mt(n),i)}function pi(n,i=Ht.Default){return sr(n,Sr(i))}function Sr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function fe(n){const i=[];for(let o=0;o<n.length;o++){const u=mt(n[o]);if(Array.isArray(u)){if(0===u.length)throw new Fe(900,!1);let l,h=Ht.Default;for(let v=0;v<u.length;v++){const b=u[v],R=we(b);"number"==typeof R?-1===R?l=b.token:h|=R:l=b}i.push(sr(l,h))}else i.push(sr(u))}return i}function le(n,i){return n[Vi]=i,n.prototype[Vi]=i,n}function we(n){return n[Vi]}function Tt(n){return{toString:n}.toString()}var Ee=(()=>((Ee=Ee||{})[Ee.OnPush=0]="OnPush",Ee[Ee.Default=1]="Default",Ee))(),pe=(()=>{return(n=pe||(pe={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",pe;var n})();const ie={},ve=[],Ke=se({\u0275cmp:se}),Re=se({\u0275dir:se}),We=se({\u0275pipe:se}),At=se({\u0275mod:se}),Jt=se({\u0275fac:se}),tr=se({__NG_ELEMENT_ID__:se});let je=0;function Me(n){return Tt(()=>{const i=hs(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ee.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||pe.Emulated,id:"c"+je++,styles:n.styles||ve,_:null,schemas:n.schemas||null,tView:null};bo(o);const u=n.dependencies;return o.directiveDefs=go(u,!1),o.pipeDefs=go(u,!0),o})}function Gt(n){return On(n)||oi(n)}function un(n){return null!==n}function En(n){return Tt(()=>({type:n.type,bootstrap:n.bootstrap||ve,declarations:n.declarations||ve,imports:n.imports||ve,exports:n.exports||ve,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function dr(n,i){if(null==n)return ie;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,i&&(i[l]=h)}return o}function Ir(n){return Tt(()=>{const i=hs(n);return bo(i),i})}function is(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function On(n){return n[Ke]||null}function oi(n){return n[Re]||null}function mr(n){return n[We]||null}function ss(n){const i=On(n)||oi(n)||mr(n);return null!==i&&i.standalone}function Hr(n,i){const o=n[At]||null;if(!o&&!0===i)throw new Error(`Type ${xe(n)} does not have '\u0275mod' property.`);return o}function hs(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||ve,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dr(n.inputs,i),outputs:dr(n.outputs)}}function bo(n){n.features?.forEach(i=>i(n))}function go(n,i){if(!n)return null;const o=i?mr:Gt;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(un)}const ks=0,Rt=1,In=2,Dr=3,Gr=4,Is=5,Nr=6,xi=7,hr=8,Jr=9,zs=10,Dn=11,Qi=12,Ws=13,Wi=14,Ds=15,Xr=16,Qn=17,qs=18,yr=19,ei=20,gi=21,ur=22,Go=1,vt=2,Di=7,os=8,Pi=9,Cr=10;function mi(n){return Array.isArray(n)&&"object"==typeof n[Go]}function Ui(n){return Array.isArray(n)&&!0===n[Go]}function Yn(n){return 0!=(4&n.flags)}function qi(n){return n.componentOffset>-1}function fs(n){return 1==(1&n.flags)}function Or(n){return!!n.template}function zo(n){return 0!=(256&n[In])}function as(n,i){return n.hasOwnProperty(Jt)?n[Jt]:null}class uo{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Vr(){return Ts}function Ts(n){return n.type.prototype.ngOnChanges&&(n.setInput=vo),lo}function lo(){const n=Zs(this),i=n?.current;if(i){const o=n.previous;if(o===ie)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function vo(n,i,o,u){const l=this.declaredInputs[o],h=Zs(n)||function bs(n,i){return n[Zi]=i}(n,{previous:ie,current:null}),v=h.current||(h.current={}),b=h.previous,R=b[l];v[l]=new uo(R&&R.currentValue,i,b===ie),n[u]=i}Vr.ngInherit=!0;const Zi="__ngSimpleChanges__";function Zs(n){return n[Zi]||null}const Tr=function(n,i,o){};function Ci(n){for(;Array.isArray(n);)n=n[ks];return n}function Ti(n,i){return Ci(i[n])}function Mr(n,i){return Ci(i[n.index])}function Qo(n,i){return n.data[i]}function $i(n,i){return n[i]}function Ri(n,i){const o=i[n];return mi(o)?o:o[ks]}function vi(n){return 64==(64&n[In])}function co(n,i){return null==i?null:n[i]}function Jo(n){n[qs]=0}function Qs(n,i){n[Is]+=i;let o=n,u=n[Dr];for(;null!==u&&(1===i&&1===o[Is]||-1===i&&0===o[Is]);)u[Is]+=i,o=u,u=u[Dr]}const en={lFrame:gs(null),bindingsEnabled:!0};function F(){return en.bindingsEnabled}function ae(){return en.lFrame.lView}function dt(){return en.lFrame.tView}function nr(n){return en.lFrame.contextLView=n,n[hr]}function ui(n){return en.lFrame.contextLView=null,n}function gr(){let n=Vs();for(;null!==n&&64===n.type;)n=n.parent;return n}function Vs(){return en.lFrame.currentTNode}function ti(n,i){const o=en.lFrame;o.currentTNode=n,o.isParent=i}function us(){return en.lFrame.isParent}function Bs(){en.lFrame.isParent=!1}function bi(){const n=en.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Po(){return en.lFrame.bindingIndex++}function Si(n){const i=en.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function Ia(n,i){const o=en.lFrame;o.bindingIndex=o.bindingRootIndex=n,ta(i)}function ta(n){en.lFrame.currentDirectiveIndex=n}function ps(){return en.lFrame.currentQueryIndex}function Ro(n){en.lFrame.currentQueryIndex=n}function fa(n){const i=n[Rt];return 2===i.type?i.declTNode:1===i.type?n[Nr]:null}function No(n,i,o){if(o&Ht.SkipSelf){let l=i,h=n;for(;!(l=l.parent,null!==l||o&Ht.Host||(l=fa(h),null===l||(h=h[Ds],10&l.type))););if(null===l)return!1;i=l,n=h}const u=en.lFrame=Qa();return u.currentTNode=i,u.lView=n,!0}function Oo(n){const i=Qa(),o=n[Rt];en.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Qa(){const n=en.lFrame,i=null===n?null:n.child;return null===i?gs(n):i}function gs(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Ji(){const n=en.lFrame;return en.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const li=Ji;function xs(){const n=Ji();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function kr(){return en.lFrame.selectedIndex}function Xi(n){en.lFrame.selectedIndex=n}function lr(){const n=en.lFrame;return Qo(n.tView,n.selectedIndex)}function j(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:R,ngAfterViewChecked:$,ngOnDestroy:Q}=h;v&&(n.contentHooks??(n.contentHooks=[])).push(-o,v),b&&((n.contentHooks??(n.contentHooks=[])).push(o,b),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,b)),R&&(n.viewHooks??(n.viewHooks=[])).push(-o,R),$&&((n.viewHooks??(n.viewHooks=[])).push(o,$),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,$)),null!=Q&&(n.destroyHooks??(n.destroyHooks=[])).push(o,Q)}}function O(n,i,o){ke(n,i,3,o)}function K(n,i,o,u){(3&n[In])===o&&ke(n,i,o,u)}function ue(n,i){let o=n[In];(3&o)===i&&(o&=2047,o+=1,n[In]=o)}function ke(n,i,o,u){const h=u??-1,v=i.length-1;let b=0;for(let R=void 0!==u?65535&n[qs]:0;R<v;R++)if("number"==typeof i[R+1]){if(b=i[R],null!=u&&b>=u)break}else i[R]<0&&(n[qs]+=65536),(b<h||-1==h)&&(Qe(n,o,i,R),n[qs]=(4294901760&n[qs])+R+2),R++}function Qe(n,i,o,u){const l=o[u]<0,h=o[u+1],b=n[l?-o[u]:o[u]];if(l){if(n[In]>>11<n[qs]>>16&&(3&n[In])===i){n[In]+=2048,Tr(4,b,h);try{h.call(b)}finally{Tr(5,b,h)}}}else{Tr(4,b,h);try{h.call(b)}finally{Tr(5,b,h)}}}const Et=-1;class Fn{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function zt(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const h=o[u++],v=o[u++],b=o[u++];n.setAttribute(i,v,b,h)}else{const h=l,v=o[++u];Ct(h)?n.setProperty(i,h,v):n.setAttribute(i,h,v),u++}}return u}function ho(n){return 3===n||4===n||6===n}function Ct(n){return 64===n.charCodeAt(0)}function $e(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||ot(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function ot(n,i,o,u,l){let h=0,v=n.length;if(-1===i)v=-1;else for(;h<n.length;){const b=n[h++];if("number"==typeof b){if(b===i){v=-1;break}if(b>i){v=h-1;break}}}for(;h<n.length;){const b=n[h];if("number"==typeof b)break;if(b===o){if(null===u)return void(null!==l&&(n[h+1]=l));if(u===n[h+1])return void(n[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==v&&(n.splice(v,0,i),h=v+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==l&&n.splice(h++,0,l)}function ci(n){return n!==Et}function ls(n){return 32767&n}function xa(n,i){let o=function ja(n){return n>>16}(n),u=i;for(;o>0;)u=u[Ds],o--;return u}let ra=!0;function pa(n){const i=ra;return ra=n,i}const Fo=255,Au=5;let Ha=0;const ga={};function vn(n,i){const o=Lo(n,i);if(-1!==o)return o;const u=i[Rt];u.firstCreatePass&&(n.injectorIndex=i.length,ia(u.data,n),ia(i,null),ia(u.blueprint,null));const l=di(n,i),h=n.injectorIndex;if(ci(l)){const v=ls(l),b=xa(l,i),R=b[Rt].data;for(let $=0;$<8;$++)i[h+$]=b[v+$]|R[v+$]}return i[h+8]=l,h}function ia(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Lo(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function di(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=yn(l),null===u)return Et;if(o++,l=l[Ds],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Et}function rn(n,i,o){!function Ju(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(tr)&&(u=o[tr]),null==u&&(u=o[tr]=Ha++);const l=u&Fo;i.data[n+(l>>Au)]|=1<<l}(n,i,o)}function mn(n,i,o){if(o&Ht.Optional||void 0!==n)return n;bn()}function tu(n,i,o,u){if(o&Ht.Optional&&void 0===u&&(u=null),!(o&(Ht.Self|Ht.Host))){const l=n[Jr],h=dn(void 0);try{return l?l.get(i,u,o&Ht.Optional):xt(i,u,o&Ht.Optional)}finally{dn(h)}}return mn(u,0,o)}function M(n,i,o,u=Ht.Default,l){if(null!==n){if(1024&i[In]){const v=function $n(n,i,o,u,l){let h=n,v=i;for(;null!==h&&null!==v&&1024&v[In]&&!(256&v[In]);){const b=g(h,v,o,u|Ht.Self,ga);if(b!==ga)return b;let R=h.parent;if(!R){const $=v[gi];if($){const Q=$.get(o,ga,u);if(Q!==ga)return Q}R=yn(v),v=v[Ds]}h=R}return l}(n,i,o,u,ga);if(v!==ga)return v}const h=g(n,i,o,u,ga);if(h!==ga)return h}return tu(i,o,u,l)}function g(n,i,o,u,l){const h=function te(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(tr)?n[tr]:void 0;return"number"==typeof i?i>=0?i&Fo:qe:i}(o);if("function"==typeof h){if(!No(i,n,u))return u&Ht.Host?mn(l,0,u):tu(i,o,u,l);try{const v=h(u);if(null!=v||u&Ht.Optional)return v;bn()}finally{li()}}else if("number"==typeof h){let v=null,b=Lo(n,i),R=Et,$=u&Ht.Host?i[Xr][Nr]:null;for((-1===b||u&Ht.SkipSelf)&&(R=-1===b?di(n,i):i[b+8],R!==Et&&_e(u,!1)?(v=i[Rt],b=ls(R),i=xa(R,i)):b=-1);-1!==b;){const Q=i[Rt];if(ge(h,b,Q.data)){const oe=y(b,i,o,v,u,$);if(oe!==ga)return oe}R=i[b+8],R!==Et&&_e(u,i[Rt].data[b+8]===$)&&ge(h,b,i)?(v=Q,b=ls(R),i=xa(R,i)):b=-1}}return l}function y(n,i,o,u,l,h){const v=i[Rt],b=v.data[n+8],Q=x(b,v,o,null==u?qi(b)&&ra:u!=v&&0!=(3&b.type),l&Ht.Host&&h===b);return null!==Q?z(i,v,Q,b):ga}function x(n,i,o,u,l){const h=n.providerIndexes,v=i.data,b=1048575&h,R=n.directiveStart,Q=h>>20,Ie=l?b+Q:n.directiveEnd;for(let Ue=u?b:b+Q;Ue<Ie;Ue++){const it=v[Ue];if(Ue<R&&o===it||Ue>=R&&it.type===o)return Ue}if(l){const Ue=v[R];if(Ue&&Or(Ue)&&Ue.type===o)return R}return null}function z(n,i,o,u){let l=n[o];const h=i.data;if(function An(n){return n instanceof Fn}(l)){const v=l;v.resolving&&function St(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${n}${o}`)}(function lt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():He(n)}(h[o]));const b=pa(v.canSeeViewProviders);v.resolving=!0;const R=v.injectImpl?dn(v.injectImpl):null;No(n,u,Ht.Default);try{l=n[o]=v.factory(void 0,h,n,u),i.firstCreatePass&&o>=u.directiveStart&&function A(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=i.type.prototype;if(u){const v=Ts(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,v)}l&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,l),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],i)}finally{null!==R&&dn(R),pa(b),v.resolving=!1,li()}}return l}function ge(n,i,o){return!!(o[i+(n>>Au)]&1<<n)}function _e(n,i){return!(n&Ht.Self||n&Ht.Host&&i)}class Ne{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return M(this._tNode,this._lView,i,Sr(u),o)}}function qe(){return new Ne(gr(),ae())}function Nt(n){return Tt(()=>{const i=n.prototype.constructor,o=i[Jt]||It(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const h=l[Jt]||It(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function It(n){return fn(n)?()=>{const i=It(mt(n));return i&&i()}:as(n)}function yn(n){const i=n[Rt],o=i.type;return 2===o?i.declTNode:1===o?n[Nr]:null}function _n(n){return function Ta(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(ho(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===i)return o[l+1];l+=2}}}return null}(gr(),n)}const Kn="__parameters__";function hi(n,i,o){return Tt(()=>{const u=function vr(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...h){if(this instanceof l)return u.apply(this,h),this;const v=new l(...h);return b.annotation=v,b;function b(R,$,Q){const oe=R.hasOwnProperty(Kn)?R[Kn]:Object.defineProperty(R,Kn,{value:[]})[Kn];for(;oe.length<=Q;)oe.push(null);return(oe[Q]=oe[Q]||[]).push(v),R}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Ln{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Pn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ys(n,i){n.forEach(o=>Array.isArray(o)?ys(o,i):i(o))}function Fr(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Ra(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Xs(n,i,o){let u=D(n,i);return u>=0?n[1|u]=o:(u=~u,function Ps(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function E(n,i){const o=D(n,i);if(o>=0)return n[1|o]}function D(n,i){return function S(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const h=u+(l-u>>1),v=n[h<<o];if(i===v)return h<<o;v>i?l=h:u=h+1}return~(l<<o)}(n,i,1)}const Wr=le(hi("Optional"),8),vs=le(hi("SkipSelf"),4);var Rs=(()=>((Rs=Rs||{})[Rs.Important=1]="Important",Rs[Rs.DashCase=2]="DashCase",Rs))();const vl=new Map;let El=0;const bt="__ngContext__";function Lt(n,i){mi(i)?(n[bt]=i[ei],function P(n){vl.set(n[ei],n)}(i)):n[bt]=i}let Yd;function lc(n,i){return Yd(n,i)}function Fa(n){const i=n[Dr];return Ui(i)?i[Dr]:i}function Kc(n){return uu(n[Ws])}function wl(n){return uu(n[Gr])}function uu(n){for(;null!==n&&!Ui(n);)n=n[Gr];return n}function tl(n,i,o,u,l){if(null!=u){let h,v=!1;Ui(u)?h=u:mi(u)&&(v=!0,u=u[ks]);const b=Ci(u);0===n&&null!==o?null==l?_u(i,o,b):to(i,o,b,l||null,!0):1===n&&null!==o?to(i,o,b,l||null,!0):2===n?function rh(n,i,o){const u=hc(n,i);u&&function ff(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,b,v):3===n&&i.destroyNode(b),null!=h&&function Jc(n,i,o,u,l){const h=o[Di];h!==Ci(o)&&tl(i,n,u,h,l);for(let b=Cr;b<o.length;b++){const R=o[b];Cl(R[Rt],R,n,i,u,h)}}(i,n,h,o,l)}}function nl(n,i,o){return n.createElement(i,o)}function hf(n,i){const o=n[Pi],u=o.indexOf(i),l=i[Dr];512&i[In]&&(i[In]&=-513,Qs(l,-1)),o.splice(u,1)}function il(n,i){if(n.length<=Cr)return;const o=Cr+i,u=n[o];if(u){const l=u[Qn];null!==l&&l!==n&&hf(l,u),i>0&&(n[o-1][Gr]=u[Gr]);const h=Ra(n,Cr+i);!function Xd(n,i){Cl(n,i,i[Dn],2,null,null),i[ks]=null,i[Nr]=null}(u[Rt],u);const v=h[yr];null!==v&&v.detachView(h[Rt]),u[Dr]=null,u[Gr]=null,u[In]&=-65}return u}function dc(n,i){if(!(128&i[In])){const o=i[Dn];o.destroyNode&&Cl(n,i,o,3,null,null),function cc(n){let i=n[Ws];if(!i)return Dl(n[Rt],n);for(;i;){let o=null;if(mi(i))o=i[Ws];else{const u=i[Cr];u&&(o=u)}if(!o){for(;i&&!i[Gr]&&i!==n;)mi(i)&&Dl(i[Rt],i),i=i[Dr];null===i&&(i=n),mi(i)&&Dl(i[Rt],i),o=i&&i[Gr]}i=o}}(i)}}function Dl(n,i){if(!(128&i[In])){i[In]&=-65,i[In]|=128,function th(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof Fn)){const h=o[u+1];if(Array.isArray(h))for(let v=0;v<h.length;v+=2){const b=l[h[v]],R=h[v+1];Tr(4,b,R);try{R.call(b)}finally{Tr(5,b,R)}}else{Tr(4,l,h);try{h.call(l)}finally{Tr(5,l,h)}}}}}(n,i),function Zc(n,i){const o=n.cleanup,u=i[xi];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const v=o[h+3];v>=0?u[l=v]():u[l=-v].unsubscribe(),h+=2}else{const v=u[l=o[h+1]];o[h].call(v)}if(null!==u){for(let h=l+1;h<u.length;h++)(0,u[h])();i[xi]=null}}(n,i),1===i[Rt].type&&i[Dn].destroy();const o=i[Qn];if(null!==o&&Ui(i[Dr])){o!==i[Dr]&&hf(o,i);const u=i[yr];null!==u&&u.detachView(n)}!function ne(n){vl.delete(n[ei])}(i)}}function yu(n,i,o){return function Yc(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[ks];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:h}=n.data[u.directiveStart+l];if(h===pe.None||h===pe.Emulated)return null}return Mr(u,o)}}(n,i.parent,o)}function to(n,i,o,u,l){n.insertBefore(i,o,u,l)}function _u(n,i,o){n.appendChild(i,o)}function Fu(n,i,o,u,l){null!==u?to(n,i,o,u,l):_u(n,i,o)}function hc(n,i){return n.parentNode(i)}let fc,oh,ah,Xn=function Fp(n,i,o){return 40&n.type?Mr(n,o):null};function ol(n,i,o,u){const l=yu(n,u,i),h=i[Dn],b=function pf(n,i,o){return Xn(n,i,o)}(u.parent||i[Nr],u,i);if(null!=l)if(Array.isArray(o))for(let R=0;R<o.length;R++)Fu(h,l,o[R],b,!1);else Fu(h,l,o,b,!1);void 0!==fc&&fc(h,u,i,o,l)}function Qc(n,i){if(null!==i){const o=i.type;if(3&o)return Mr(i,n);if(4&o)return Lu(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return Qc(n,u);{const l=n[i.index];return Ui(l)?Lu(-1,l):Ci(l)}}if(32&o)return lc(i,n)()||Ci(n[i.index]);{const u=pc(n,i);return null!==u?Array.isArray(u)?u[0]:Qc(Fa(n[Xr]),u):Qc(n,i.next)}}return null}function pc(n,i){return null!==i?n[Xr][Nr].projection[i.projection]:null}function Lu(n,i){const o=Cr+n+1;if(o<i.length){const u=i[o],l=u[Rt].firstChild;if(null!==l)return Qc(u,l)}return i[Di]}function al(n,i,o,u,l,h,v){for(;null!=o;){const b=u[o.index],R=o.type;if(v&&0===i&&(b&&Lt(Ci(b),u),o.flags|=2),32!=(32&o.flags))if(8&R)al(n,i,o.child,u,l,h,!1),tl(i,n,l,b,h);else if(32&R){const $=lc(o,u);let Q;for(;Q=$();)tl(i,n,l,Q,h);tl(i,n,l,b,h)}else 16&R?lu(n,i,u,o,l,h):tl(i,n,l,b,h);o=v?o.projectionNext:o.next}}function Cl(n,i,o,u,l,h){al(o,u,n.firstChild,i,l,h,!1)}function lu(n,i,o,u,l,h){const v=o[Xr],R=v[Nr].projection[u.projection];if(Array.isArray(R))for(let $=0;$<R.length;$++)tl(i,n,l,R[$],h);else al(n,i,R,v[Dr],l,h,!0)}function ul(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Xc(n,i,o){const{mergedAttrs:u,classes:l,styles:h}=o;null!==u&&zt(n,i,u),null!==l&&ul(n,i,l),null!==h&&function Lp(n,i,o){n.setAttribute(i,"style",o)}(n,i,h)}function Vp(n){oh=n}function ed(n){return function xl(){if(void 0===ah&&(ah=null,Hn.trustedTypes))try{ah=Hn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ah}()?.createScriptURL(n)||n}class gc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wn})`}}function cu(n){return n instanceof gc?n.changingThisBreaksApplicationSecurity:n}function ll(n,i){const o=function Up(n){return n instanceof gc&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${wn})`)}return o===i}const vf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var wi=(()=>((wi=wi||{})[wi.NONE=0]="NONE",wi[wi.HTML=1]="HTML",wi[wi.STYLE=2]="STYLE",wi[wi.SCRIPT=3]="SCRIPT",wi[wi.URL=4]="URL",wi[wi.RESOURCE_URL=5]="RESOURCE_URL",wi))();function vc(n){const i=Fl();return i?i.sanitize(wi.URL,n)||"":ll(n,"URL")?cu(n):function mc(n){return(n=String(n)).match(vf)?n:"unsafe:"+n}(He(n))}function Df(n){const i=Fl();if(i)return ed(i.sanitize(wi.RESOURCE_URL,n)||"");if(ll(n,"ResourceURL"))return ed(cu(n));throw new Fe(904,!1)}function cl(n,i,o){return function Cf(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Df:vc}(i,o)(n)}function Fl(){const n=ae();return n&&n[Qi]}const Ec=new Ln("ENVIRONMENT_INITIALIZER"),yh=new Ln("INJECTOR",-1),_h=new Ln("INJECTOR_DEF_TYPES");class vh{get(i,o=wr){if(o===wr){const u=new Error(`NullInjectorError: No provider for ${xe(i)}!`);throw u.name="NullInjectorError",u}return o}}function Gp(...n){return{\u0275providers:bf(0,n),\u0275fromNgModule:!0}}function bf(n,...i){const o=[],u=new Set;let l;return ys(i,h=>{const v=h;dl(v,o,[],u)&&(l||(l=[]),l.push(v))}),void 0!==l&&Iu(l,o),o}function Iu(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];Ll(l,h=>{i.push(h)})}}function dl(n,i,o,u){if(!(n=mt(n)))return!1;let l=null,h=br(n);const v=!h&&On(n);if(h||v){if(v&&!v.standalone)return!1;l=n}else{const R=n.ngModule;if(h=br(R),!h)return!1;l=R}const b=u.has(l);if(v){if(b)return!1;if(u.add(l),v.dependencies){const R="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const $ of R)dl($,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!b){let $;u.add(l);try{ys(h.imports,Q=>{dl(Q,i,o,u)&&($||($=[]),$.push(Q))})}finally{}void 0!==$&&Iu($,i)}if(!b){const $=as(l)||(()=>new l);i.push({provide:l,useFactory:$,deps:ve},{provide:_h,useValue:l,multi:!0},{provide:Ec,useValue:()=>sr(l),multi:!0})}const R=h.providers;null==R||b||Ll(R,Q=>{i.push(Q)})}}return l!==n&&void 0!==n.providers}function Ll(n,i){for(let o of n)Ut(o)&&(o=o.\u0275providers),Array.isArray(o)?Ll(o,i):i(o)}const Af=se({provide:String,useValue:se});function du(n){return null!==n&&"object"==typeof n&&Af in n}function Bu(n){return"function"==typeof n}const Du=new Ln("Set Injector scope."),hu={},hl={};let fl;function ld(){return void 0===fl&&(fl=new vh),fl}class $u{}class Eh extends $u{get destroyed(){return this._destroyed}constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dh(i,v=>this.processProvider(v)),this.records.set(yh,pl(void 0,this)),l.has("environment")&&this.records.set($u,pl(void 0,this));const h=this.records.get(Du);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(_h.multi,ve,Ht.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=Qt(this),u=dn(void 0);try{return i()}finally{Qt(o),dn(u)}}get(i,o=wr,u=Ht.Default){this.assertNotDestroyed(),u=Sr(u);const l=Qt(this),h=dn(void 0);try{if(!(u&Ht.SkipSelf)){let b=this.records.get(i);if(void 0===b){const R=function Vl(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ln}(i)&&ni(i);b=R&&this.injectableDefInScope(R)?pl(wh(i),hu):null,this.records.set(i,b)}if(null!=b)return this.hydrate(i,b)}return(u&Ht.Self?ld():this.parent).get(i,o=u&Ht.Optional&&o===wr?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[qn]=v[qn]||[]).unshift(xe(i)),l)throw v;return function Ze(n,i,o,u){const l=n[qn];throw i[er]&&l.unshift(i[er]),n.message=function Oe(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==cr?n.slice(2):n;let l=xe(i);if(Array.isArray(i))l=i.map(xe).join(" -> ");else if("object"==typeof i){let h=[];for(let v in i)if(i.hasOwnProperty(v)){let b=i[v];h.push(v+":"+("string"==typeof b?JSON.stringify(b):xe(b)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(Zn,"\n  ")}`}("\n"+n.message,l,o,u),n[oo]=l,n[qn]=null,n}(v,i,"R3InjectorError",this.source)}throw v}finally{dn(h),Qt(l)}}resolveInjectorInitializers(){const i=Qt(this),o=dn(void 0);try{const u=this.get(Ec.multi,ve,Ht.Self);for(const l of u)l()}finally{Qt(i),dn(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(xe(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processProvider(i){let o=Bu(i=mt(i))?i:mt(i&&i.provide);const u=function wm(n){return du(n)?pl(void 0,n.useValue):pl(xf(n),hu)}(i);if(Bu(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=pl(void 0,hu,!0),l.factory=()=>fe(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===hu&&(o.value=hl,o.value=o.factory()),"object"==typeof o.value&&o.value&&function cd(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=mt(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function wh(n){const i=ni(n),o=null!==i?i.factory:as(n);if(null!==o)return o;if(n instanceof Ln)throw new Fe(204,!1);if(n instanceof Function)return function zp(n){const i=n.length;if(i>0)throw function ma(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new Fe(204,!1);const o=function cn(n){return n&&(n[Yr]||n[fi])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Fe(204,!1)}function xf(n,i,o){let u;if(Bu(n)){const l=mt(n);return as(l)||wh(l)}if(du(n))u=()=>mt(n.useValue);else if(function Mf(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...fe(n.deps||[]));else if(function wc(n){return!(!n||!n.useExisting)}(n))u=()=>sr(mt(n.useExisting));else{const l=mt(n&&(n.useClass||n.provide));if(!function Ih(n){return!!n.deps}(n))return as(l)||wh(l);u=()=>new l(...fe(n.deps))}return u}function pl(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Dh(n,i){for(const o of n)Array.isArray(o)?Dh(o,i):o&&Ut(o)?Dh(o.\u0275providers,i):i(o)}class Wp{}class qp{}class Ul{resolveComponentFactory(i){throw function Im(n){const i=Error(`No component factory found for ${xe(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let qa=(()=>{class n{}return n.NULL=new Ul,n})();function Zp(){return Ic(gr(),ae())}function Ic(n,i){return new Dc(Mr(n,i))}let Dc=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Zp,n})();function Dm(n){return n instanceof Dc?n.nativeElement:n}class dd{}let Pf=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Yp(){const n=ae(),o=Ri(gr().index,n);return(mi(o)?o:n)[Dn]}(),n})(),Rf=(()=>{class n{}return n.\u0275prov=Pn({token:n,providedIn:"root",factory:()=>null}),n})();class Th{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Nf=new Th("15.2.8"),Cc={},Of="ngOriginalError";function Tc(n){return n[Of]}class hd{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Tc(i);for(;o&&Tc(o);)o=Tc(o);return o||null}}function Ka(n){return n instanceof Function?n():n}function eg(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=i.length;if(l+h===u||n.charCodeAt(l+h)<=32)return l}o=l+1}}const jl="ng-template";function tg(n,i,o){let u=0,l=!0;for(;u<n.length;){let h=n[u++];if("string"==typeof h&&l){const v=n[u++];if(o&&"class"===h&&-1!==eg(v.toLowerCase(),i,0))return!0}else{if(1===h){for(;u<n.length&&"string"==typeof(h=n[u++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function ju(n){return 4===n.type&&n.value!==jl}function _(n,i,o){return i===(4!==n.type||o?n.value:jl)}function d(n,i,o){let u=4;const l=n.attrs||[],h=function ye(n){for(let i=0;i<n.length;i++)if(ho(n[i]))return i;return n.length}(l);let v=!1;for(let b=0;b<i.length;b++){const R=i[b];if("number"!=typeof R){if(!v)if(4&u){if(u=2|1&u,""!==R&&!_(n,R,o)||""===R&&1===i.length){if(p(u))return!1;v=!0}}else{const $=8&u?R:i[++b];if(8&u&&null!==n.attrs){if(!tg(n.attrs,$,o)){if(p(u))return!1;v=!0}continue}const oe=I(8&u?"class":R,l,ju(n),o);if(-1===oe){if(p(u))return!1;v=!0;continue}if(""!==$){let Ie;Ie=oe>h?"":l[oe+1].toLowerCase();const Ue=8&u?Ie:null;if(Ue&&-1!==eg(Ue,$,0)||2&u&&$!==Ie){if(p(u))return!1;v=!0}}}}else{if(!v&&!p(u)&&!p(R))return!1;if(v&&p(R))continue;v=!1,u=R|1&u}}return p(u)||v}function p(n){return 0==(1&n)}function I(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let h=!1;for(;l<i.length;){const v=i[l];if(v===n)return l;if(3===v||6===v)h=!0;else{if(1===v||2===v){let b=i[++l];for(;"string"==typeof b;)b=i[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=h?1:2}return-1}return function Pe(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function B(n,i,o=!1){for(let u=0;u<i.length;u++)if(d(n,i[u],o))return!0;return!1}function Vt(n,i){return n?":not("+i.trim()+")":i}function hn(n){let i=n[0],o=1,u=2,l="",h=!1;for(;o<n.length;){let v=n[o];if("string"==typeof v)if(2&u){const b=n[++o];l+="["+v+(b.length>0?'="'+b+'"':"")+"]"}else 8&u?l+="."+v:4&u&&(l+=" "+v);else""!==l&&!p(v)&&(i+=Vt(h,l),l=""),u=v,h=h||!p(u);o++}return""!==l&&(i+=Vt(h,l)),i}const Cn={};function Hl(n){md(dt(),ae(),kr()+n,!1)}function md(n,i,o,u){if(!u)if(3==(3&i[In])){const h=n.preOrderCheckHooks;null!==h&&O(i,h,o)}else{const h=n.preOrderHooks;null!==h&&K(i,h,0,o)}Xi(o)}function Ed(n,i=null,o=null,u){const l=wd(n,i,o,u);return l.resolveInjectorInitializers(),l}function wd(n,i=null,o=null,u,l=new Set){const h=[o||ve,Gp(n)];return u=u||("object"==typeof n?void 0:xe(n)),new Eh(h,i||ld(),u||null,l)}let Sc=(()=>{class n{static create(o,u){if(Array.isArray(o))return Ed({name:""},u,o,"");{const l=o.name??"";return Ed({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=wr,n.NULL=new vh,n.\u0275prov=Pn({token:n,providedIn:"any",factory:()=>sr(yh)}),n.__NG_ELEMENT_ID__=-1,n})();function Ac(n,i=Ht.Default){const o=ae();return null===o?sr(n,i):M(gr(),o,mt(n),i)}function ag(){throw new Error("invalid")}function Ph(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const v=n.data[h];Ro(o[u]),v.contentQueries(2,i[h],h)}}}function Sd(n,i,o,u,l,h,v,b,R,$,Q){const oe=i.blueprint.slice();return oe[ks]=l,oe[In]=76|u,(null!==Q||n&&1024&n[In])&&(oe[In]|=1024),Jo(oe),oe[Dr]=oe[Ds]=n,oe[hr]=o,oe[zs]=v||n&&n[zs],oe[Dn]=b||n&&n[Dn],oe[Qi]=R||n&&n[Qi]||null,oe[Jr]=$||n&&n[Jr]||null,oe[Nr]=h,oe[ei]=function C(){return El++}(),oe[gi]=Q,oe[Xr]=2==i.type?n[Xr]:oe,oe}function Gl(n,i,o,u,l){let h=n.data[i];if(null===h)h=function Nh(n,i,o,u,l){const h=Vs(),v=us(),R=n.data[i]=function fg(n,i,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?h:h&&h.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=R),null!==h&&(v?null==h.child&&null!==R.parent&&(h.child=R):null===h.next&&(h.next=R,R.prev=h)),R}(n,i,o,u,l),function Ni(){return en.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const v=function Us(){const n=en.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===v?-1:v.injectorIndex}return ti(h,!0),h}function Ad(n,i,o,u){if(0===o)return-1;const l=i.length;for(let h=0;h<o;h++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function lg(n,i,o){Oo(i);try{const u=n.viewQuery;null!==u&&Ig(1,u,o);const l=n.template;null!==l&&kh(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Ph(n,i),n.staticViewQueries&&Ig(2,n.viewQuery,o);const h=n.components;null!==h&&function qf(n,i){for(let o=0;o<i.length;o++)n_(n,i[o])}(i,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[In]&=-5,xs()}}function Oh(n,i,o,u){const l=i[In];if(128!=(128&l)){Oo(i);try{Jo(i),function ea(n){return en.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&kh(n,i,o,2,u);const v=3==(3&l);if(v){const $=n.preOrderCheckHooks;null!==$&&O(i,$,null)}else{const $=n.preOrderHooks;null!==$&&K(i,$,0,null),ue(i,0)}if(function Lm(n){for(let i=Kc(n);null!==i;i=wl(i)){if(!i[vt])continue;const o=i[Pi];for(let u=0;u<o.length;u++){const l=o[u];512&l[In]||Qs(l[Dr],1),l[In]|=512}}}(i),function wg(n){for(let i=Kc(n);null!==i;i=wl(i))for(let o=Cr;o<i.length;o++){const u=i[o],l=u[Rt];vi(u)&&Oh(l,u,l.template,u[hr])}}(i),null!==n.contentQueries&&Ph(n,i),v){const $=n.contentCheckHooks;null!==$&&O(i,$)}else{const $=n.contentHooks;null!==$&&K(i,$,1),ue(i,1)}!function ug(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)Xi(~l);else{const h=l,v=o[++u],b=o[++u];Ia(v,h),b(2,i[h])}}}finally{Xi(-1)}}(n,i);const b=n.components;null!==b&&function Rh(n,i){for(let o=0;o<i.length;o++)Rd(n,i[o])}(i,b);const R=n.viewQuery;if(null!==R&&Ig(2,R,u),v){const $=n.viewCheckHooks;null!==$&&O(i,$)}else{const $=n.viewHooks;null!==$&&K(i,$,2),ue(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[In]&=-41,512&i[In]&&(i[In]&=-513,Qs(i[Dr],-1))}finally{xs()}}}function kh(n,i,o,u,l){const h=kr(),v=2&u;try{Xi(-1),v&&i.length>ur&&md(n,i,ur,!1),Tr(v?2:0,l),o(u,l)}finally{Xi(h),Tr(v?3:1,l)}}function Fh(n,i,o){if(Yn(i)){const l=i.directiveEnd;for(let h=i.directiveStart;h<l;h++){const v=n.data[h];v.contentQueries&&v.contentQueries(1,o[h],h)}}}function cg(n,i,o){F()&&(function Yf(n,i,o,u){const l=o.directiveStart,h=o.directiveEnd;qi(o)&&function vg(n,i,o){const u=Mr(i,n),l=la(o),h=n[zs],v=$h(n,Sd(n,l,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));n[i.index]=v}(i,o,n.data[l+o.componentOffset]),n.firstCreatePass||vn(o,i),Lt(u,i);const v=o.initialInputs;for(let b=l;b<h;b++){const R=n.data[b],$=z(i,n,b,o);Lt($,i),null!==v&&t_(0,b-l,$,R,0,v),Or(R)&&(Ri(o.index,i)[hr]=z(i,n,b,o))}}(n,i,o,Mr(o,i)),64==(64&o.flags)&&Pd(n,i,o))}function dg(n,i,o=Mr){const u=i.localNames;if(null!==u){let l=i.index+1;for(let h=0;h<u.length;h+=2){const v=u[h+1],b=-1===v?o(i,n):n[v];n[l++]=b}}}function la(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=hg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function hg(n,i,o,u,l,h,v,b,R,$){const Q=ur+u,oe=Q+l,Ie=function Nm(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:Cn);return o}(Q,oe),Ue="function"==typeof $?$():$;return Ie[Rt]={type:n,blueprint:Ie,template:o,queries:null,viewQuery:b,declTNode:i,data:Ie.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:R,consts:Ue,incompleteFirstPass:!1}}function Md(n,i,o,u){const l=Bm(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&Jf(n).push(u,l.length-1))}function pg(n,i,o,u){for(let l in n)if(n.hasOwnProperty(l)){o=null===o?{}:o;const h=n[l];null===u?Om(o,i,l,h):u.hasOwnProperty(l)&&Om(o,i,u[l],h)}return o}function Om(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function Za(n,i,o,u,l,h,v,b){const R=Mr(i,o);let Q,$=i.inputs;!b&&null!=$&&(Q=$[u])?(ep(n,o,Q,u,l),qi(i)&&function gg(n,i){const o=Ri(i,n);16&o[In]||(o[In]|=32)}(o,i.index)):3&i.type&&(u=function Jy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=v?v(l,i.value||"",u):l,h.setProperty(R,u,l))}function Mc(n,i,o,u){if(F()){const l=null===u?null:{"":-1},h=function km(n,i){const o=n.directiveRegistry;let u=null,l=null;if(o)for(let h=0;h<o.length;h++){const v=o[h];if(B(i,v.selectors,!1))if(u||(u=[]),Or(v))if(null!==v.findHostDirectiveDefs){const b=[];l=l||new Map,v.findHostDirectiveDefs(v,b,l),u.unshift(...b,v),Lh(n,i,b.length)}else u.unshift(v),Lh(n,i,0);else l=l||new Map,v.findHostDirectiveDefs?.(v,u,l),u.push(v)}return null===u?null:[u,l]}(n,o);let v,b;null===h?v=b=null:[v,b]=h,null!==v&&Zf(n,i,o,v,l,b),l&&function _g(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const h=o[i[l+1]];if(null==h)throw new Fe(-301,!1);u.push(i[l],h)}}}(o,u,l)}o.mergedAttrs=$e(o.mergedAttrs,o.attrs)}function Zf(n,i,o,u,l,h){for(let $=0;$<u.length;$++)rn(vn(o,i),n,u[$].type);!function Fm(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let $=0;$<u.length;$++){const Q=u[$];Q.providersResolver&&Q.providersResolver(Q)}let v=!1,b=!1,R=Ad(n,i,u.length,null);for(let $=0;$<u.length;$++){const Q=u[$];o.mergedAttrs=$e(o.mergedAttrs,Q.hostAttrs),e_(n,o,i,R,Q),zl(R,Q,l),null!==Q.contentQueries&&(o.flags|=4),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(o.flags|=64);const oe=Q.type.prototype;!v&&(oe.ngOnChanges||oe.ngOnInit||oe.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),v=!0),!b&&(oe.ngOnChanges||oe.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),b=!0),R++}!function Qy(n,i,o){const l=i.directiveEnd,h=n.data,v=i.attrs,b=[];let R=null,$=null;for(let Q=i.directiveStart;Q<l;Q++){const oe=h[Q],Ie=o?o.get(oe):null,it=Ie?Ie.outputs:null;R=pg(oe.inputs,Q,R,Ie?Ie.inputs:null),$=pg(oe.outputs,Q,$,it);const wt=null===R||null===v||ju(i)?null:Eg(R,Q,v);b.push(wt)}null!==R&&(R.hasOwnProperty("class")&&(i.flags|=8),R.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=b,i.inputs=R,i.outputs=$}(n,o,h)}function Pd(n,i,o){const u=o.directiveStart,l=o.directiveEnd,h=o.index,v=function Sn(){return en.lFrame.currentDirectiveIndex}();try{Xi(h);for(let b=u;b<l;b++){const R=n.data[b],$=i[b];ta(b),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&yg(R,$)}}finally{Xi(-1),ta(v)}}function yg(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Lh(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function zl(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;Or(i)&&(o[""]=n)}}function e_(n,i,o,u,l){n.data[u]=l;const h=l.factory||(l.factory=as(l.type)),v=new Fn(h,Or(l),Ac);n.blueprint[u]=v,o[u]=v,function xd(n,i,o,u,l){const h=l.hostBindings;if(h){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const b=~i.index;(function mg(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(v)!=b&&v.push(b),v.push(o,u,h)}}(n,i,u,Ad(n,o,l.hostVars,Cn),l)}function Hu(n,i,o,u,l,h){const v=Mr(n,i);!function Vh(n,i,o,u,l,h,v){if(null==h)n.removeAttribute(i,l,o);else{const b=null==v?He(h):v(h,u||"",l);n.setAttribute(i,l,b,o)}}(i[Dn],v,h,n.value,o,u,l)}function t_(n,i,o,u,l,h){const v=h[i];if(null!==v){const b=u.setInput;for(let R=0;R<v.length;){const $=v[R++],Q=v[R++],oe=v[R++];null!==b?u.setInput(o,oe,$,Q):o[Q]=oe}}}function Eg(n,i,o){let u=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===u&&(u=[]);const v=n[h];for(let b=0;b<v.length;b+=2)if(v[b]===i){u.push(h,v[b+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function Uh(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function Rd(n,i){const o=Ri(i,n);if(vi(o)){const u=o[Rt];48&o[In]?Oh(u,o,u.template,o[hr]):o[Is]>0&&Bh(o)}}function Bh(n){for(let u=Kc(n);null!==u;u=wl(u))for(let l=Cr;l<u.length;l++){const h=u[l];if(vi(h))if(512&h[In]){const v=h[Rt];Oh(v,h,v.template,h[hr])}else h[Is]>0&&Bh(h)}const o=n[Rt].components;if(null!==o)for(let u=0;u<o.length;u++){const l=Ri(o[u],n);vi(l)&&l[Is]>0&&Bh(l)}}function n_(n,i){const o=Ri(i,n),u=o[Rt];(function r_(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),lg(u,o,o[hr])}function $h(n,i){return n[Ws]?n[Wi][Gr]=i:n[Ws]=i,n[Wi]=i,i}function jh(n){for(;n;){n[In]|=32;const i=Fa(n);if(zo(n)&&!i)return n;n=i}return null}function Qf(n,i,o,u=!0){const l=i[zs];l.begin&&l.begin();try{Oh(n,i,n.template,o)}catch(v){throw u&&Xf(i,v),v}finally{l.end&&l.end()}}function Ig(n,i,o){Ro(0),i(n,o)}function Bm(n){return n[xi]||(n[xi]=[])}function Jf(n){return n.cleanup||(n.cleanup=[])}function Xf(n,i){const o=n[Jr],u=o?o.get(hd,null):null;u&&u.handleError(i)}function ep(n,i,o,u,l){for(let h=0;h<o.length;){const v=o[h++],b=o[h++],R=i[v],$=n.data[v];null!==$.setInput?$.setInput(R,l,u,b):R[b]=l}}function Nd(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,h=0;if(null!==i)for(let v=0;v<i.length;v++){const b=i[v];"number"==typeof b?h=b:1==h?l=rt(l,b):2==h&&(u=rt(u,b+": "+i[++v]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function Od(n,i,o,u,l=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(Ci(h)),Ui(h))for(let b=Cr;b<h.length;b++){const R=h[b],$=R[Rt].firstChild;null!==$&&Od(R[Rt],R,$,u)}const v=o.type;if(8&v)Od(n,i,o.child,u);else if(32&v){const b=lc(o,i);let R;for(;R=b();)u.push(R)}else if(16&v){const b=pc(i,o);if(Array.isArray(b))u.push(...b);else{const R=Fa(i[Xr]);Od(R[Rt],R,b,u,!0)}}o=l?o.projectionNext:o.next}return u}class Gu{get rootNodes(){const i=this._lView,o=i[Rt];return Od(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hr]}set context(i){this._lView[hr]=i}get destroyed(){return 128==(128&this._lView[In])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Dr];if(Ui(i)){const o=i[os],u=o?o.indexOf(this):-1;u>-1&&(il(i,u),Ra(o,u))}this._attachedToViewContainer=!1}dc(this._lView[Rt],this._lView)}onDestroy(i){Md(this._lView[Rt],this._lView,null,i)}markForCheck(){jh(this._cdRefInjectingView||this._lView)}detach(){this._lView[In]&=-65}reattach(){this._lView[In]|=64}detectChanges(){Qf(this._lView[Rt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function aa(n,i){Cl(n,i,i[Dn],2,null,null)}(this._lView[Rt],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Fe(902,!1);this._appRef=i}}class Wl extends Gu{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Qf(i[Rt],i,i[hr],!1)}checkNoChanges(){}get context(){return null}}class tp extends qa{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=On(i);return new zu(o,this.ngModule)}}function xc(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class jm{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=Sr(u);const l=this.injector.get(i,Cc,u);return l!==Cc||o===Cc?l:this.parentInjector.get(i,o,u)}}class zu extends qp{get inputs(){return xc(this.componentDef.inputs)}get outputs(){return xc(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Vn(n){return n.map(hn).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,l){let h=(l=l||this.ngModule)instanceof $u?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const v=h?new jm(i,h):i,b=v.get(dd,null);if(null===b)throw new Fe(407,!1);const R=v.get(Rf,null),$=b.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",oe=u?function Kf(n,i,o){return n.selectRootElement(i,o===pe.ShadowDom)}($,u,this.componentDef.encapsulation):nl($,Q,function kd(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(Q)),Ie=this.componentDef.onPush?288:272,Ue=hg(0,null,null,1,0,null,null,null,null,null),it=Sd(null,Ue,null,Ie,null,null,b,$,R,v,null);let wt,qt;Oo(it);try{const ln=this.componentDef;let xn,_t=null;ln.findHostDirectiveDefs?(xn=[],_t=new Map,ln.findHostDirectiveDefs(ln,xn,_t),xn.push(ln)):xn=[ln];const ir=function Dg(n,i){const o=n[Rt],u=ur;return n[u]=i,Gl(o,u,2,"#host",null)}(it,oe),Gs=function Cg(n,i,o,u,l,h,v,b){const R=l[Rt];!function Tg(n,i,o,u){for(const l of n)i.mergedAttrs=$e(i.mergedAttrs,l.hostAttrs);null!==i.mergedAttrs&&(Nd(i,i.mergedAttrs,!0),null!==o&&Xc(u,o,i))}(u,n,i,v);const $=h.createRenderer(i,o),Q=Sd(l,la(o),null,o.onPush?32:16,l[n.index],n,h,$,b||null,null,null);return R.firstCreatePass&&Lh(R,n,u.length-1),$h(l,Q),l[n.index]=Q}(ir,oe,ln,xn,it,b,$);qt=Qo(Ue,ur),oe&&function s_(n,i,o,u){if(u)zt(n,o,["ng-version",Nf.full]);else{const{attrs:l,classes:h}=function js(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===l?""!==h&&i.push(h,n[++u]):8===l&&o.push(h);else{if(!p(l))break;l=h}u++}return{attrs:i,classes:o}}(i.selectors[0]);l&&zt(n,o,l),h&&h.length>0&&ul(n,o,h.join(" "))}}($,ln,oe,u),void 0!==o&&function o_(n,i,o){const u=n.projection=[];for(let l=0;l<i.length;l++){const h=o[l];u.push(null!=h?Array.from(h):null)}}(qt,this.ngContentSelectors,o),wt=function bg(n,i,o,u,l,h){const v=gr(),b=l[Rt],R=Mr(v,l);Zf(b,l,v,o,null,u);for(let Q=0;Q<o.length;Q++)Lt(z(l,b,v.directiveStart+Q,v),l);Pd(b,l,v),R&&Lt(R,l);const $=z(l,b,v.directiveStart+v.componentOffset,v);if(n[hr]=l[hr]=$,null!==h)for(const Q of h)Q($,i);return Fh(b,v,n),$}(Gs,ln,xn,_t,it,[Sg]),lg(Ue,it,null)}finally{xs()}return new i_(this.componentType,wt,Ic(qt,it),it,qt)}}class i_ extends Wp{constructor(i,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new Wl(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const h=this._rootLView;ep(h[Rt],h,l,i,o),jh(Ri(this._tNode.index,h))}}get injector(){return new Ne(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Sg(){const n=gr();j(ae()[Rt],n)}function Ag(n){let i=function np(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(Or(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Fe(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const v=n;v.inputs=Mg(n.inputs),v.declaredInputs=Mg(n.declaredInputs),v.outputs=Mg(n.outputs);const b=l.hostBindings;b&&Wm(n,b);const R=l.viewQuery,$=l.contentQueries;if(R&&Gm(n,R),$&&zm(n,$),me(n.inputs,l.inputs),me(n.declaredInputs,l.declaredInputs),me(n.outputs,l.outputs),Or(l)&&l.data.animation){const Q=n.data;Q.animation=(Q.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let v=0;v<h.length;v++){const b=h[v];b&&b.ngInherit&&b(n),b===Ag&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Hm(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=$e(l.hostAttrs,o=$e(o,l.hostAttrs))}}(u)}function Mg(n){return n===ie?{}:n===ve?[]:n}function Gm(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function zm(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,h)=>{i(u,l,h),o(u,l,h)}:i}function Wm(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}function ip(n){return!!Hh(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Hh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function _a(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function Rg(n,i,o,u){const l=ae();return _a(l,Po(),i)&&(dt(),Hu(lr(),l,n,i,o,u)),Rg}function Kl(n,i,o,u){return _a(n,Po(),o)?i+He(o)+u:Cn}function Zl(n,i,o,u,l,h){const b=function gl(n,i,o,u){const l=_a(n,i,o);return _a(n,i+1,u)||l}(n,function zr(){return en.lFrame.bindingIndex}(),o,l);return Si(2),b?i+He(o)+u+He(l)+h:Cn}function cp(n,i,o,u,l,h,v,b){const R=ae(),$=dt(),Q=n+ur,oe=$.firstCreatePass?function c_(n,i,o,u,l,h,v,b,R){const $=i.consts,Q=Gl(i,n,4,v||null,co($,b));Mc(i,o,Q,co($,R)),j(i,Q);const oe=Q.tView=hg(2,Q,u,l,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,$);return null!==i.queries&&(i.queries.template(i,Q),oe.queries=i.queries.embeddedTView(Q)),Q}(Q,$,R,i,o,u,l,h,v):$.data[Q];ti(oe,!1);const Ie=R[Dn].createComment("");ol($,R,Ie,oe),Lt(Ie,R),$h(R,R[Q]=Uh(Ie,R,Ie,oe)),fs(oe)&&cg($,R,oe),null!=v&&dg(R,oe,b)}function dp(n){return $i(function Eo(){return en.lFrame.contextLView}(),ur+n)}function hp(n,i,o){const u=ae();return _a(u,Po(),i)&&Za(dt(),lr(),u,n,i,u[Dn],o,!1),hp}function Og(n,i,o,u,l){const v=l?"class":"style";ep(n,o,i.inputs[v],v,u)}function Ld(n,i,o,u){const l=ae(),h=dt(),v=ur+n,b=l[Dn],R=h.firstCreatePass?function d_(n,i,o,u,l,h){const v=i.consts,R=Gl(i,n,2,u,co(v,l));return Mc(i,o,R,co(v,h)),null!==R.attrs&&Nd(R,R.attrs,!1),null!==R.mergedAttrs&&Nd(R,R.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,R),R}(v,h,l,i,o,u):h.data[v],$=l[v]=nl(b,i,function $a(){return en.lFrame.currentNamespace}()),Q=fs(R);return ti(R,!0),Xc(b,$,R),32!=(32&R.flags)&&ol(h,l,$,R),0===function As(){return en.lFrame.elementDepthCount}()&&Lt($,l),function xo(){en.lFrame.elementDepthCount++}(),Q&&(cg(h,l,R),Fh(h,R,l)),null!==u&&dg(l,R),Ld}function fp(){let n=gr();us()?Bs():(n=n.parent,ti(n,!1));const i=n;!function L(){en.lFrame.elementDepthCount--}();const o=dt();return o.firstCreatePass&&(j(o,n),Yn(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function gn(n){return 0!=(8&n.flags)}(i)&&Og(o,i,ae(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function xr(n){return 0!=(16&n.flags)}(i)&&Og(o,i,ae(),i.stylesWithoutHost,!1),fp}function Gh(n,i,o,u){return Ld(n,i,o,u),fp(),Gh}function Vd(n,i,o){const u=ae(),l=dt(),h=n+ur,v=l.firstCreatePass?function kg(n,i,o,u,l){const h=i.consts,v=co(h,u),b=Gl(i,n,8,"ng-container",v);return null!==v&&Nd(b,v,!0),Mc(i,o,b,co(h,l)),null!==i.queries&&i.queries.elementStart(i,b),b}(h,l,u,i,o):l.data[h];ti(v,!0);const b=u[h]=u[Dn].createComment("");return ol(l,u,b,v),Lt(b,u),fs(v)&&(cg(l,u,v),Fh(l,v,u)),null!=o&&dg(u,v),Vd}function pp(){let n=gr();const i=dt();return us()?Bs():(n=n.parent,ti(n,!1)),i.firstCreatePass&&(j(i,n),Yn(n)&&i.queries.elementEnd(n)),pp}function oy(){return ae()}function gp(n){return!!n&&"function"==typeof n.then}function Fg(n){return!!n&&"function"==typeof n.subscribe}const Nc=Fg;function mp(n,i,o,u){const l=ae(),h=dt(),v=gr();return function ay(n,i,o,u,l,h,v){const b=fs(u),$=n.firstCreatePass&&Jf(n),Q=i[hr],oe=Bm(i);let Ie=!0;if(3&u.type||v){const wt=Mr(u,i),qt=v?v(wt):wt,ln=oe.length,xn=v?ir=>v(Ci(ir[u.index])):u.index;let _t=null;if(!v&&b&&(_t=function h_(n,i,o,u){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const v=l[h];if(v===o&&l[h+1]===u){const b=i[xi],R=l[h+2];return b.length>R?b[R]:null}"string"==typeof v&&(h+=2)}return null}(n,i,l,u.index)),null!==_t)(_t.__ngLastListenerFn__||_t).__ngNextListenerFn__=h,_t.__ngLastListenerFn__=h,Ie=!1;else{h=ly(u,i,Q,h,!1);const ir=o.listen(qt,l,h);oe.push(h,ir),$&&$.push(l,xn,ln,ln+1)}}else h=ly(u,i,Q,h,!1);const Ue=u.outputs;let it;if(Ie&&null!==Ue&&(it=Ue[l])){const wt=it.length;if(wt)for(let qt=0;qt<wt;qt+=2){const Gs=i[it[qt]][it[qt+1]].subscribe(h),To=oe.length;oe.push(h,Gs),$&&$.push(l,u.index,To,-(To+1))}}}(h,l,l[Dn],v,n,i,u),mp}function uy(n,i,o,u){try{return Tr(6,i,o),!1!==o(u)}catch(l){return Xf(n,l),!1}finally{Tr(7,i,o)}}function ly(n,i,o,u,l){return function h(v){if(v===Function)return u;jh(n.componentOffset>-1?Ri(n.index,i):i);let R=uy(i,o,u,v),$=h.__ngNextListenerFn__;for(;$;)R=uy(i,o,$,v)&&R,$=$.__ngNextListenerFn__;return l&&!1===R&&(v.preventDefault(),v.returnValue=!1),R}}function qh(n=1){return function ko(n){return(en.lFrame.contextLView=function Hi(n,i){for(;n>0;)i=i[Ds],n--;return i}(n,en.lFrame.contextLView))[hr]}(n)}function Ud(n,i,o,u,l){const h=ae(),v=Kl(h,i,o,u);return v!==Cn&&Za(dt(),lr(),h,n,v,h[Dn],l,!1),Ud}function Kh(n,i,o,u,l,h,v){const b=ae(),R=Zl(b,i,o,u,l,h);return R!==Cn&&Za(dt(),lr(),b,n,R,b[Dn],v,!1),Kh}function ml(n,i){return n<<17|i<<2}function qu(n){return n>>17&32767}function Gg(n){return 2|n}function Jl(n){return(131068&n)>>2}function zg(n,i){return-131069&n|i<<2}function Wg(n){return 1|n}function qg(n,i,o,u,l){const h=n[o+1],v=null===i;let b=u?qu(h):Jl(h),R=!1;for(;0!==b&&(!1===R||v);){const Q=n[b+1];Kg(n[b],i)&&(R=!0,n[b+1]=u?Wg(Q):Gg(Q)),b=u?qu(Q):Jl(Q)}R&&(n[o+1]=u?Gg(h):Wg(h))}function Kg(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&D(n,i)>=0}function Ep(n,i){return function Br(n,i,o,u){const l=ae(),h=dt(),v=Si(2);h.firstUpdatePass&&function io(n,i,o,u){const l=n.data;if(null===l[o+1]){const h=l[kr()],v=function w_(n,i){return i>=n.expandoStartIndex}(n,o);(function ec(n,i){return 0!=(n.flags&(i?8:16))})(h,u)&&null===i&&!v&&(i=!1),i=function py(n,i,o,u){const l=function na(n){const i=en.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let h=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=wp(o=my(null,n,i,o,u),i.attrs,u),h=null);else{const v=i.directiveStylingLast;if(-1===v||n[v]!==l)if(o=my(l,n,i,o,u),null===h){let R=function Nv(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==Jl(u))return n[qu(u)]}(n,i,u);void 0!==R&&Array.isArray(R)&&(R=my(null,n,i,R[1],u),R=wp(R,i.attrs,u),function Ov(n,i,o,u){n[qu(o?i.classBindings:i.styleBindings)]=u}(n,i,u,R))}else h=function gy(n,i,o){let u;const l=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<l;h++)u=wp(u,n[h].hostAttrs,o);return wp(u,i.attrs,o)}(n,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(l,h,i,u),function g_(n,i,o,u,l,h){let v=h?i.classBindings:i.styleBindings,b=qu(v),R=Jl(v);n[u]=o;let Q,$=!1;if(Array.isArray(o)?(Q=o[1],(null===Q||D(o,Q)>0)&&($=!0)):Q=o,l)if(0!==R){const Ie=qu(n[b+1]);n[u+1]=ml(Ie,b),0!==Ie&&(n[Ie+1]=zg(n[Ie+1],u)),n[b+1]=function p_(n,i){return 131071&n|i<<17}(n[b+1],u)}else n[u+1]=ml(b,0),0!==b&&(n[b+1]=zg(n[b+1],u)),b=u;else n[u+1]=ml(R,0),0===b?b=u:n[R+1]=zg(n[R+1],u),R=u;$&&(n[u+1]=Gg(n[u+1])),qg(n,Q,u,!0),qg(n,Q,u,!1),function dy(n,i,o,u,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&D(h,i)>=0&&(o[u+1]=Wg(o[u+1]))}(i,Q,n,u,h),v=ml(b,R),h?i.classBindings=v:i.styleBindings=v}(l,h,i,o,v,u)}}(h,n,v,u),i!==Cn&&_a(l,v,i)&&function D_(n,i,o,u,l,h,v,b){if(!(3&i.type))return;const R=n.data,$=R[b+1],Q=function cy(n){return 1==(1&n)}($)?Jg(R,i,o,l,Jl($),v):void 0;Xl(Q)||(Xl(h)||function f_(n){return 2==(2&n)}($)&&(h=Jg(R,null,o,l,b,v)),function Eu(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:Rs.DashCase;null==l?n.removeStyle(o,u,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Rs.Important),n.setStyle(o,u,l,h))}}(u,v,Ti(kr(),o),l,h))}(h,h.data[kr()],l,l[Dn],n,l[v+1]=function C_(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=xe(cu(n)))),n}(i,o),u,v)}(n,i,null,!0),Ep}function my(n,i,o,u,l){let h=null;const v=o.directiveEnd;let b=o.directiveStylingLast;for(-1===b?b=o.directiveStart:b++;b<v&&(h=i[b],u=wp(u,h.hostAttrs,l),h!==n);)b++;return null!==n&&(o.directiveStylingLast=b),u}function wp(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let h=0;h<i.length;h++){const v=i[h];"number"==typeof v?l=v:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Xs(n,v,!!o||i[++h]))}return void 0===n?null:n}function Jg(n,i,o,u,l,h){const v=null===i;let b;for(;l>0;){const R=n[l],$=Array.isArray(R),Q=$?R[1]:R,oe=null===Q;let Ie=o[l+1];Ie===Cn&&(Ie=oe?ve:void 0);let Ue=oe?E(Ie,u):Q===u?Ie:void 0;if($&&!Xl(Ue)&&(Ue=E(R,u)),Xl(Ue)&&(b=Ue,v))return b;const it=n[l+1];l=v?qu(it):Jl(it)}if(null!==i){let R=h?i.residualClasses:i.residualStyles;null!=R&&(b=E(R,u))}return b}function Xl(n){return void 0!==n}function Oc(n,i=""){const o=ae(),u=dt(),l=n+ur,h=u.firstCreatePass?Gl(u,l,1,i,null):u.data[l],v=o[l]=function ku(n,i){return n.createText(i)}(o[Dn],i);ol(u,o,v,h),ti(h,!1)}function Xg(n){return Qh("",n,""),Xg}function Qh(n,i,o){const u=ae(),l=Kl(u,n,i,o);return l!==Cn&&function Cu(n,i,o){const u=Ti(i,n);!function Qd(n,i,o){n.setValue(i,o)}(n[Dn],u,o)}(u,kr(),l),Qh}const Hd=void 0;var am=["en",[["a","p"],["AM","PM"],Hd],[["AM","PM"],Hd,Hd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hd,"{1} 'at' {0}",Hd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Vv(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let nf={};function xy(n){const i=function Uv(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=M_(i);if(o)return o;const u=i.split("-")[0];if(o=M_(u),o)return o;if("en"===u)return am;throw new Fe(701,!1)}function rf(n){return xy(n)[Mn.PluralCase]}function M_(n){return n in nf||(nf[n]=Hn.ng&&Hn.ng.common&&Hn.ng.common.locales&&Hn.ng.common.locales[n]),nf[n]}var Mn=(()=>((Mn=Mn||{})[Mn.LocaleId=0]="LocaleId",Mn[Mn.DayPeriodsFormat=1]="DayPeriodsFormat",Mn[Mn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mn[Mn.DaysFormat=3]="DaysFormat",Mn[Mn.DaysStandalone=4]="DaysStandalone",Mn[Mn.MonthsFormat=5]="MonthsFormat",Mn[Mn.MonthsStandalone=6]="MonthsStandalone",Mn[Mn.Eras=7]="Eras",Mn[Mn.FirstDayOfWeek=8]="FirstDayOfWeek",Mn[Mn.WeekendRange=9]="WeekendRange",Mn[Mn.DateFormat=10]="DateFormat",Mn[Mn.TimeFormat=11]="TimeFormat",Mn[Mn.DateTimeFormat=12]="DateTimeFormat",Mn[Mn.NumberSymbols=13]="NumberSymbols",Mn[Mn.NumberFormats=14]="NumberFormats",Mn[Mn.CurrencyCode=15]="CurrencyCode",Mn[Mn.CurrencySymbol=16]="CurrencySymbol",Mn[Mn.CurrencyName=17]="CurrencyName",Mn[Mn.Currencies=18]="Currencies",Mn[Mn.Directionality=19]="Directionality",Mn[Mn.PluralCase=20]="PluralCase",Mn[Mn.ExtraData=21]="ExtraData",Mn))();const Vc="en-US";let Sp=Vc;function Z_(n,i,o,u,l){if(n=mt(n),Array.isArray(n))for(let h=0;h<n.length;h++)Z_(n[h],i,o,u,l);else{const h=dt(),v=ae();let b=Bu(n)?n:mt(n.provide),R=xf(n);const $=gr(),Q=1048575&$.providerIndexes,oe=$.directiveStart,Ie=$.providerIndexes>>20;if(Bu(n)||!n.multi){const Ue=new Fn(R,l,Ac),it=Q_(b,i,l?Q:Q+Ie,oe);-1===it?(rn(vn($,v),h,b),Y_(h,n,i.length),i.push(b),$.directiveStart++,$.directiveEnd++,l&&($.providerIndexes+=1048576),o.push(Ue),v.push(Ue)):(o[it]=Ue,v[it]=Ue)}else{const Ue=Q_(b,i,Q+Ie,oe),it=Q_(b,i,Q,Q+Ie),qt=it>=0&&o[it];if(l&&!qt||!l&&!(Ue>=0&&o[Ue])){rn(vn($,v),h,b);const ln=function VE(n,i,o,u,l){const h=new Fn(n,o,Ac);return h.multi=[],h.index=i,h.componentProviders=0,s0(h,l,u&&!o),h}(l?LE:FE,o.length,l,u,R);!l&&qt&&(o[it].providerFactory=ln),Y_(h,n,i.length,0),i.push(b),$.directiveStart++,$.directiveEnd++,l&&($.providerIndexes+=1048576),o.push(ln),v.push(ln)}else Y_(h,n,Ue>-1?Ue:it,s0(o[l?it:Ue],R,!l&&u));!l&&u&&qt&&o[it].componentProviders++}}}function Y_(n,i,o,u){const l=Bu(i),h=function ud(n){return!!n.useClass}(i);if(l||h){const R=(h?mt(i.useClass):i).prototype.ngOnDestroy;if(R){const $=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const Q=$.indexOf(o);-1===Q?$.push(o,[u,R]):$[Q+1].push(u,R)}else $.push(o,R)}}}function s0(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function Q_(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function FE(n,i,o,u){return J_(this.multi,[])}function LE(n,i,o,u){const l=this.multi;let h;if(this.providerFactory){const v=this.providerFactory.componentProviders,b=z(o,o[Rt],this.providerFactory.index,u);h=b.slice(0,v),J_(l,h);for(let R=v;R<b.length;R++)h.push(b[R])}else h=[],J_(l,h);return h}function J_(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function o0(n,i=[]){return o=>{o.providersResolver=(u,l)=>function kE(n,i,o){const u=dt();if(u.firstCreatePass){const l=Or(n);Z_(o,u.data,u.blueprint,l,!0),Z_(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class Rp{}class a0{}function UE(n,i){return new u0(n,i??null)}class u0 extends Rp{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tp(this);const u=Hr(i);this._bootstrapComponents=Ka(u.bootstrap),this._r3Injector=wd(i,o,[{provide:Rp,useValue:this},{provide:qa,useValue:this.componentFactoryResolver}],xe(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class X_ extends a0{constructor(i){super(),this.moduleType=i}create(i){return new u0(this.moduleType,i)}}class BE extends Rp{constructor(i,o,u){super(),this.componentFactoryResolver=new tp(this),this.instance=null;const l=new Eh([...i,{provide:Rp,useValue:this},{provide:qa,useValue:this.componentFactoryResolver}],o||ld(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function ev(n,i,o=null){return new BE(n,i,o).injector}let $E=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=bf(0,o.type),l=u.length>0?ev([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Pn({token:n,providedIn:"environment",factory:()=>new n(sr($u))}),n})();function l0(n){n.getStandaloneInjector=i=>i.get($E).getOrCreateStandaloneInjector(n)}function m0(n,i,o,u){return y0(ae(),bi(),n,i,o,u)}function y0(n,i,o,u,l,h){const v=i+o;return _a(n,v,l)?function Wu(n,i,o){return n[i]=o}(n,v+1,h?u.call(h,l):u(l)):function fm(n,i){const o=n[i];return o===Cn?void 0:o}(n,v+1)}function I0(n,i){const o=dt();let u;const l=n+ur;o.firstCreatePass?(u=function sw(n,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(n===u.name)return u}}(i,o.pipeRegistry),o.data[l]=u,u.onDestroy&&(o.destroyHooks??(o.destroyHooks=[])).push(l,u.onDestroy)):u=o.data[l];const h=u.factory||(u.factory=as(u.type)),v=dn(Ac);try{const b=pa(!1),R=h();return pa(b),function sy(n,i,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=u}(o,ae(),l,R),R}finally{dn(v)}}function D0(n,i,o){const u=n+ur,l=ae(),h=$i(l,u);return function pm(n,i){return n[Rt].data[i].pure}(l,u)?y0(l,bi(),i,h.transform,o,h):h.transform(o)}function nv(n){return i=>{setTimeout(n,void 0,i)}}const tc=class cw extends w.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,h=o||(()=>null),v=u;if(i&&"object"==typeof i){const R=i;l=R.next?.bind(R),h=R.error?.bind(R),v=R.complete?.bind(R)}this.__isAsync&&(h=nv(h),l&&(l=nv(l)),v&&(v=nv(v)));const b=super.subscribe({next:l,error:h,complete:v});return i instanceof re.w0&&i.add(b),b}};function dw(){return this._results[Symbol.iterator]()}class rv{get changes(){return this._changes||(this._changes=new tc)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=rv.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=dw)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=function Pr(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Js(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],h=i[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let gm=(()=>{class n{}return n.__NG_ELEMENT_ID__=pw,n})();const hw=gm,fw=class extends hw{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,l=Sd(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[Qn]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[yr];return null!==v&&(l[yr]=v.createEmbeddedView(u)),lg(u,l,i),new Gu(l)}};function pw(){return Ly(gr(),ae())}function Ly(n,i){return 4&n.type?new fw(i,n,Ic(n,i)):null}let Vy=(()=>{class n{}return n.__NG_ELEMENT_ID__=gw,n})();function gw(){return b0(gr(),ae())}const mw=Vy,C0=class extends mw{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Ic(this._hostTNode,this._hostLView)}get injector(){return new Ne(this._hostTNode,this._hostLView)}get parentInjector(){const i=di(this._hostTNode,this._hostLView);if(ci(i)){const o=xa(i,this._hostLView),u=ls(i);return new Ne(o[Rt].data[u+8],o)}return new Ne(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=T0(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-Cr}createEmbeddedView(i,o,u){let l,h;"number"==typeof u?l=u:null!=u&&(l=u.index,h=u.injector);const v=i.createEmbeddedView(o||{},h);return this.insert(v,l),v}createComponent(i,o,u,l,h){const v=i&&!function or(n){return"function"==typeof n}(i);let b;if(v)b=o;else{const oe=o||{};b=oe.index,u=oe.injector,l=oe.projectableNodes,h=oe.environmentInjector||oe.ngModuleRef}const R=v?i:new zu(On(i)),$=u||this.parentInjector;if(!h&&null==R.ngModule){const Ie=(v?$:this.parentInjector).get($u,null);Ie&&(h=Ie)}const Q=R.create($,l,void 0,h);return this.insert(Q.hostView,b),Q}insert(i,o){const u=i._lView,l=u[Rt];if(function Ls(n){return Ui(n[Dr])}(u)){const Q=this.indexOf(i);if(-1!==Q)this.detach(Q);else{const oe=u[Dr],Ie=new C0(oe,oe[Nr],oe[Dr]);Ie.detach(Ie.indexOf(i))}}const h=this._adjustIndex(o),v=this._lContainer;!function eh(n,i,o,u){const l=Cr+u,h=o.length;u>0&&(o[l-1][Gr]=i),u<h-Cr?(i[Gr]=o[l],Fr(o,Cr+u,i)):(o.push(i),i[Gr]=null),i[Dr]=o;const v=i[Qn];null!==v&&o!==v&&function rl(n,i){const o=n[Pi];i[Xr]!==i[Dr][Dr][Xr]&&(n[vt]=!0),null===o?n[Pi]=[i]:o.push(i)}(v,i);const b=i[yr];null!==b&&b.insertView(n),i[In]|=64}(l,u,v,h);const b=Lu(h,v),R=u[Dn],$=hc(R,v[Di]);return null!==$&&function Il(n,i,o,u,l,h){u[ks]=l,u[Nr]=i,Cl(n,u,o,1,l,h)}(l,v[Nr],R,u,$,b),i.attachToViewContainerRef(),Fr(iv(v),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=T0(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=il(this._lContainer,o);u&&(Ra(iv(this._lContainer),o),dc(u[Rt],u))}detach(i){const o=this._adjustIndex(i,-1),u=il(this._lContainer,o);return u&&null!=Ra(iv(this._lContainer),o)?new Gu(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function T0(n){return n[os]}function iv(n){return n[os]||(n[os]=[])}function b0(n,i){let o;const u=i[n.index];if(Ui(u))o=u;else{let l;if(8&n.type)l=Ci(u);else{const h=i[Dn];l=h.createComment("");const v=Mr(n,i);to(h,hc(h,v),l,function sl(n,i){return n.nextSibling(i)}(h,v),!1)}i[n.index]=o=Uh(u,i,l,n),$h(i,o)}return new C0(o,n,i)}class sv{constructor(i){this.queryList=i,this.matches=null}clone(){return new sv(this.queryList)}setDirty(){this.queryList.setDirty()}}class ov{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const v=o.getByIndex(h);l.push(this.queries[v.indexInDeclarationView].clone())}return new ov(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==O0(i,o).matches&&this.queries[o].setDirty()}}class S0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class av{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new av(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class uv{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new uv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(i,o,yw(o,h)),this.matchTNodeWithReadOption(i,o,x(o,i,h,!1,!1))}else u===gm?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,x(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===Dc||l===Vy||l===gm&&4&o.type)this.addMatch(o.index,-2);else{const h=x(o,i,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function yw(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function vw(n,i,o,u){return-1===o?function _w(n,i){return 11&n.type?Ic(n,i):4&n.type?Ly(n,i):null}(i,n):-2===o?function Ew(n,i,o){return o===Dc?Ic(i,n):o===gm?Ly(i,n):o===Vy?b0(i,n):void 0}(n,i,u):z(n,n[Rt],o,i)}function A0(n,i,o,u){const l=i[yr].queries[u];if(null===l.matches){const h=n.data,v=o.matches,b=[];for(let R=0;R<v.length;R+=2){const $=v[R];b.push($<0?null:vw(i,h[$],v[R+1],o.metadata.read))}l.matches=b}return l.matches}function lv(n,i,o,u){const l=n.queries.getByIndex(o),h=l.matches;if(null!==h){const v=A0(n,i,l,o);for(let b=0;b<h.length;b+=2){const R=h[b];if(R>0)u.push(v[b/2]);else{const $=h[b+1],Q=i[-R];for(let oe=Cr;oe<Q.length;oe++){const Ie=Q[oe];Ie[Qn]===Ie[Dr]&&lv(Ie[Rt],Ie,$,u)}if(null!==Q[Pi]){const oe=Q[Pi];for(let Ie=0;Ie<oe.length;Ie++){const Ue=oe[Ie];lv(Ue[Rt],Ue,$,u)}}}}}return u}function M0(n){const i=ae(),o=dt(),u=ps();Ro(u+1);const l=O0(o,u);if(n.dirty&&function ji(n){return 4==(4&n[In])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?lv(o,i,u,[]):A0(o,i,l,u);n.reset(h,Dm),n.notifyOnChanges()}return!0}return!1}function x0(n,i,o,u){const l=dt();if(l.firstCreatePass){const h=gr();(function N0(n,i,o){null===n.queries&&(n.queries=new av),n.queries.track(new uv(i,o))})(l,new S0(i,o,u),h.index),function Dw(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}!function R0(n,i,o){const u=new rv(4==(4&o));Md(n,i,u,u.destroy),null===i[yr]&&(i[yr]=new ov),i[yr].queries.push(new sv(u))}(l,ae(),o)}function P0(){return function Iw(n,i){return n[yr].queries[i].queryList}(ae(),ps())}function O0(n,i){return n.queries.getByIndex(i)}function k0(n,i){return Ly(n,i)}function cv(n){return!!Hr(n)}function By(...n){}const X0=new Ln("Application Initializer");let $y=(()=>{class n{constructor(o){this.appInits=o,this.resolve=By,this.reject=By,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(gp(h))o.push(h);else if(Nc(h)){const v=new Promise((b,R)=>{h.subscribe({complete:b,error:R})});o.push(v)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(sr(X0,8))},n.\u0275prov=Pn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eE=new Ln("AppId",{providedIn:"root",factory:function tE(){return`${gv()}${gv()}${gv()}`}});function gv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nE=new Ln("Platform Initializer"),Hw=new Ln("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Gw=new Ln("AnimationModuleType");let zw=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Pn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const jy=new Ln("LocaleId",{providedIn:"root",factory:()=>pi(jy,Ht.Optional|Ht.SkipSelf)||function Ww(){return typeof $localize<"u"&&$localize.locale||Vc}()}),qw=new Ln("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Kw{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let Zw=(()=>{class n{compileModuleSync(o){return new X_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=Ka(Hr(o).declarations).reduce((v,b)=>{const R=On(b);return R&&v.push(new zu(R)),v},[]);return new Kw(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Pn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jw=(()=>Promise.resolve(0))();function mv(n){typeof Zone>"u"?Jw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Qu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tc(!1),this.onMicrotaskEmpty=new tc(!1),this.onStable=new tc(!1),this.onError=new tc(!1),typeof Zone>"u")throw new Fe(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Xw(){let n=Hn.requestAnimationFrame,i=Hn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function nI(n){const i=()=>{!function tI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Hn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,_v(n),n.isCheckStableRunning=!0,yv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),_v(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,v,b)=>{try{return sE(n),o.invokeTask(l,h,v,b)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),oE(n)}},onInvoke:(o,u,l,h,v,b,R)=>{try{return sE(n),o.invoke(l,h,v,b,R)}finally{n.shouldCoalesceRunChangeDetection&&i(),oE(n)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,_v(n),yv(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qu.isInAngularZone())throw new Fe(909,!1)}static assertNotInAngularZone(){if(Qu.isInAngularZone())throw new Fe(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const h=this._inner,v=h.scheduleEventTask("NgZoneEvent: "+l,i,eI,By,By);try{return h.runTask(v,o,u)}finally{h.cancelTask(v)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const eI={};function yv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function _v(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function sE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function oE(n){n._nesting--,yv(n)}class rI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tc,this.onMicrotaskEmpty=new tc,this.onStable=new tc,this.onError=new tc}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const aE=new Ln(""),uE=new Ln("");let vv,iI=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vv||(function sI(n){vv=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qu.assertNotInAngularZone(),mv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mv(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(sr(Qu),sr(lE),sr(uE))},n.\u0275prov=Pn({token:n,factory:n.\u0275fac}),n})(),lE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return vv?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Pn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const $c=!1;let Wd=null;const cE=new Ln("AllowMultipleToken"),Ev=new Ln("PlatformDestroyListeners"),dE=new Ln("appBootstrapListener");class uI{constructor(i,o){this.name=i,this.token=o}}function fE(n,i,o=[]){const u=`Platform: ${i}`,l=new Ln(u);return(h=[])=>{let v=wv();if(!v||v.injector.get(cE,!1)){const b=[...o,...h,{provide:l,useValue:!0}];n?n(b):function lI(n){if(Wd&&!Wd.get(cE,!1))throw new Fe(400,!1);Wd=n;const i=n.get(gE);(function hE(n){const i=n.get(nE,null);i&&i.forEach(o=>o())})(n)}(function pE(n=[],i){return Sc.create({name:i,providers:[{provide:Du,useValue:"platform"},{provide:Ev,useValue:new Set([()=>Wd=null])},...n]})}(b,u))}return function dI(n){const i=wv();if(!i)throw new Fe(401,!1);return i}()}}function wv(){return Wd?.get(gE)??null}let gE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function yE(n,i){let o;return o="noop"===n?new rI:("zone.js"===n?void 0:n)||new Qu(i),o}(u?.ngZone,function mE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:Qu,useValue:l}];return l.run(()=>{const v=Sc.create({providers:h,parent:this.injector,name:o.moduleType.name}),b=o.create(v),R=b.injector.get(hd,null);if(!R)throw new Fe(402,!1);return l.runOutsideAngular(()=>{const $=l.onError.subscribe({next:Q=>{R.handleError(Q)}});b.onDestroy(()=>{Gy(this._modules,b),$.unsubscribe()})}),function _E(n,i,o){try{const u=o();return gp(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(R,l,()=>{const $=b.injector.get($y);return $.runInitializers(),$.donePromise.then(()=>(function x_(n){jt(n,"Expected localeId to be defined"),"string"==typeof n&&(Sp=n.toLowerCase().replace(/_/g,"-"))}(b.injector.get(jy,Vc)||Vc),this._moduleDoBootstrap(b),b))})})}bootstrapModule(o,u=[]){const l=vE({},u);return function oI(n,i,o){const u=new X_(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(Hy);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Fe(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(Ev,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(sr(Sc))},n.\u0275prov=Pn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function vE(n,i){return Array.isArray(i)?i.reduce(vE,n):{...n,...i}}let Hy=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new k.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),v=new k.y(b=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{Qu.assertNotInAngularZone(),mv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const $=this._zone.onUnstable.subscribe(()=>{Qu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{R.unsubscribe(),$.unsubscribe()}});this.isStable=(0,De.T)(h,v.pipe(function ce(n={}){const{connector:i=(()=>new w.x),resetOnError:o=!0,resetOnComplete:u=!0,resetOnRefCountZero:l=!0}=n;return h=>{let v,b,R,$=0,Q=!1,oe=!1;const Ie=()=>{b?.unsubscribe(),b=void 0},Ue=()=>{Ie(),v=R=void 0,Q=oe=!1},it=()=>{const wt=v;Ue(),wt?.unsubscribe()};return(0,Be.e)((wt,qt)=>{$++,!oe&&!Q&&Ie();const ln=R=R??i();qt.add(()=>{$--,0===$&&!oe&&!Q&&(b=Le(it,l))}),ln.subscribe(qt),!v&&$>0&&(v=new Ae.Hp({next:xn=>ln.next(xn),error:xn=>{oe=!0,Ie(),b=Le(Ue,o,xn),ln.error(xn)},complete:()=>{Q=!0,Ie(),b=Le(Ue,u),ln.complete()}}),(0,ee.Xf)(wt).subscribe(v))})(h)}}()))}bootstrap(o,u){const l=o instanceof qp;if(!this._injector.get($y).done){!l&&ss(o);throw new Fe(405,$c)}let v;v=l?o:this._injector.get(qa).resolveComponentFactory(o),this.componentTypes.push(v.componentType);const b=function aI(n){return n.isBoundToModule}(v)?void 0:this._injector.get(Rp),$=v.create(Sc.NULL,[],u||v.selector,b),Q=$.location.nativeElement,oe=$.injector.get(aE,null);return oe?.registerApplication(Q),$.onDestroy(()=>{this.detachView($.hostView),Gy(this.components,$),oe?.unregisterApplication(Q)}),this._loadComponent($),$}tick(){if(this._runningTick)throw new Fe(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Gy(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(dE,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Gy(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Fe(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(sr(Qu),sr($u),sr(hd))},n.\u0275prov=Pn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gy(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let fI=(()=>{class n{}return n.__NG_ELEMENT_ID__=pI,n})();function pI(n){return function gI(n,i,o){if(qi(n)&&!o){const u=Ri(n.index,i);return new Gu(u,u)}return 47&n.type?new Gu(i[Xr],i):null}(gr(),ae(),16==(16&n))}class CE{constructor(){}supports(i){return ip(i)}create(i){return new wI(i)}}const EI=(n,i)=>i;class wI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||EI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const v=!u||o&&o.currentIndex<bE(u,l,h)?o:u,b=bE(v,l,h),R=v.currentIndex;if(v===u)l--,u=u._nextRemoved;else if(o=o._next,null==v.previousIndex)l++;else{h||(h=[]);const $=b-l,Q=R-l;if($!=Q){for(let Ie=0;Ie<$;Ie++){const Ue=Ie<h.length?h[Ie]:h[Ie]=0,it=Ue+Ie;Q<=it&&it<$&&(h[Ie]=Ue+1)}h[v.previousIndex]=Q-$}}b!==R&&i(v,b,R)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!ip(i))throw new Fe(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,h,v,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let b=0;b<this.length;b++)h=i[b],v=this._trackByFn(b,h),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,h,v,b)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,v,b),u=!0),o=o._next}else l=0,function Jm(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,b=>{v=this._trackByFn(l,b),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,b,v,l)),Object.is(o.item,b)||this._addIdentityChange(o,b)):(o=this._mismatch(o,b,v,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,l)):i=this._addAfter(new II(o,u),h,l),i}_verifyReinsertion(i,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,h=i._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new TE),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TE),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class II{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class TE{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new DI,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bE(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class SE{constructor(){}supports(i){return i instanceof Map||Hh(i)}create(){return new CI}}class CI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Hh(i)))throw new Fe(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const h=l._prev,v=l._next;return h&&(h._next=v),v&&(v._prev=h),l._next=null,l._prev=null,l}const u=new TI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class TI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function AE(){return new bv([new CE])}let bv=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||AE()),deps:[[n,new vs,new Wr]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Fe(901,!1)}}return n.\u0275prov=Pn({token:n,providedIn:"root",factory:AE}),n})();function ME(){return new Sv([new SE])}let Sv=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||ME()),deps:[[n,new vs,new Wr]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Fe(901,!1)}}return n.\u0275prov=Pn({token:n,providedIn:"root",factory:ME}),n})();const AI=fE(null,"core",[]);let MI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(sr(Hy))},n.\u0275mod=En({type:n}),n.\u0275inj=$r({}),n})();function xI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(sn,Ye,Y)=>{Y.d(Ye,{Fj:()=>Fe,CE:()=>yi,qu:()=>Qs,u:()=>yo,sg:()=>pr,x0:()=>Fs,JU:()=>gt,JJ:()=>Ii,JL:()=>dn,j3:()=>en,wV:()=>os,_:()=>Ui,UX:()=>xo,kI:()=>bn,_Y:()=>vt});var w=Y(1571),re=Y(6895),k=Y(8996),De=Y(9751),ee=Y(4742),Ae=Y(8421),Be=Y(3269),ce=Y(5403),Le=Y(3268),se=Y(1810),xe=Y(4004);let rt=(()=>{class L{constructor(N,Z){this._renderer=N,this._elementRef=Z,this.onChange=ae=>{},this.onTouched=()=>{}}setProperty(N,Z){this._renderer.setProperty(this._elementRef.nativeElement,N,Z)}registerOnTouched(N){this.onTouched=N}registerOnChange(N){this.onChange=N}setDisabledState(N){this.setProperty("disabled",N)}}return L.\u0275fac=function(N){return new(N||L)(w.Y36(w.Qsj),w.Y36(w.SBq))},L.\u0275dir=w.lG2({type:L}),L})(),st=(()=>{class L extends rt{}return L.\u0275fac=function(){let F;return function(Z){return(F||(F=w.n5z(L)))(Z||L)}}(),L.\u0275dir=w.lG2({type:L,features:[w.qOj]}),L})();const gt=new w.OlP("NgValueAccessor"),Ut={provide:gt,useExisting:(0,w.Gpc)(()=>Fe),multi:!0},wn=new w.OlP("CompositionEventMode");let Fe=(()=>{class L extends rt{constructor(N,Z,ae){super(N,Z),this._compositionMode=ae,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function zn(){const L=(0,re.q)()?(0,re.q)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(N){this.setProperty("value",N??"")}_handleInput(N){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(N)}_compositionStart(){this._composing=!0}_compositionEnd(N){this._composing=!1,this._compositionMode&&this.onChange(N)}}return L.\u0275fac=function(N){return new(N||L)(w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(wn,8))},L.\u0275dir=w.lG2({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(N,Z){1&N&&w.NdJ("input",function(dt){return Z._handleInput(dt.target.value)})("blur",function(){return Z.onTouched()})("compositionstart",function(){return Z._compositionStart()})("compositionend",function(dt){return Z._compositionEnd(dt.target.value)})},features:[w._Bn([Ut]),w.qOj]}),L})();const ht=!1;function He(L){return null==L||("string"==typeof L||Array.isArray(L))&&0===L.length}function lt(L){return null!=L&&"number"==typeof L.length}const St=new w.OlP("NgValidators"),yt=new w.OlP("NgAsyncValidators"),pn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bn{static min(F){return function $t(L){return F=>{if(He(F.value)||He(L))return null;const N=parseFloat(F.value);return!isNaN(N)&&N<L?{min:{min:L,actual:F.value}}:null}}(F)}static max(F){return function on(L){return F=>{if(He(F.value)||He(L))return null;const N=parseFloat(F.value);return!isNaN(N)&&N>L?{max:{max:L,actual:F.value}}:null}}(F)}static required(F){return function ct(L){return He(L.value)?{required:!0}:null}(F)}static requiredTrue(F){return function Ge(L){return!0===L.value?null:{required:!0}}(F)}static email(F){return function Se(L){return He(L.value)||pn.test(L.value)?null:{email:!0}}(F)}static minLength(F){return function et(L){return F=>He(F.value)||!lt(F.value)?null:F.value.length<L?{minlength:{requiredLength:L,actualLength:F.value.length}}:null}(F)}static maxLength(F){return function nt(L){return F=>lt(F.value)&&F.value.length>L?{maxlength:{requiredLength:L,actualLength:F.value.length}}:null}(F)}static pattern(F){return function ft(L){if(!L)return pt;let F,N;return"string"==typeof L?(N="","^"!==L.charAt(0)&&(N+="^"),N+=L,"$"!==L.charAt(L.length-1)&&(N+="$"),F=new RegExp(N)):(N=L.toString(),F=L),Z=>{if(He(Z.value))return null;const ae=Z.value;return F.test(ae)?null:{pattern:{requiredPattern:N,actualValue:ae}}}}(F)}static nullValidator(F){return null}static compose(F){return jn(F)}static composeAsync(F){return Rr(F)}}function pt(L){return null}function an(L){return null!=L}function Nn(L){const F=(0,w.QGY)(L)?(0,k.D)(L):L;if(ht&&!(0,w.CqO)(F)){let N="Expected async validator to return Promise or Observable.";throw"object"==typeof L&&(N+=" Are you using a synchronous validator where an async validator is expected?"),new w.vHH(-1101,N)}return F}function kn(L){let F={};return L.forEach(N=>{F=null!=N?{...F,...N}:F}),0===Object.keys(F).length?null:F}function Kt(L,F){return F.map(N=>N(L))}function Mt(L){return L.map(F=>function jt(L){return!L.validate}(F)?F:N=>F.validate(N))}function jn(L){if(!L)return null;const F=L.filter(an);return 0==F.length?null:function(N){return kn(Kt(N,F))}}function Zr(L){return null!=L?jn(Mt(L)):null}function Rr(L){if(!L)return null;const F=L.filter(an);return 0==F.length?null:function(N){return function me(...L){const F=(0,Be.jO)(L),{args:N,keys:Z}=(0,ee.D)(L),ae=new De.y(dt=>{const{length:nr}=N;if(!nr)return void dt.complete();const ui=new Array(nr);let gr=nr,Vs=nr;for(let Us=0;Us<nr;Us++){let ti=!1;(0,Ae.Xf)(N[Us]).subscribe((0,ce.x)(dt,us=>{ti||(ti=!0,Vs--),ui[Us]=us},()=>gr--,void 0,()=>{(!gr||!ti)&&(Vs||dt.next(Z?(0,se.n)(Z,ui):ui),dt.complete())}))}});return F?ae.pipe((0,Le.Z)(F)):ae}(Kt(N,F).map(Nn)).pipe((0,xe.U)(kn))}}function Pn(L){return null!=L?Rr(Mt(L)):null}function Mi(L,F){return null===L?[F]:Array.isArray(L)?[...L,F]:[L,F]}function $r(L){return L._rawValidators}function ni(L){return L._rawAsyncValidators}function ns(L){return L?Array.isArray(L)?L:[L]:[]}function Fi(L,F){return Array.isArray(L)?L.includes(F):L===F}function cn(L,F){const N=ns(F);return ns(L).forEach(ae=>{Fi(N,ae)||N.push(ae)}),N}function br(L,F){return ns(F).filter(N=>!Fi(L,N))}class Yr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=Zr(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=Pn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,N){return!!this.control&&this.control.hasError(F,N)}getError(F,N){return this.control?this.control.getError(F,N):null}}class Wn extends Yr{get formDirective(){return null}get path(){return null}}class fi extends Yr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rs{constructor(F){this._cd=F}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ii=(()=>{class L extends rs{constructor(N){super(N)}}return L.\u0275fac=function(N){return new(N||L)(w.Y36(fi,2))},L.\u0275dir=w.lG2({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(N,Z){2&N&&w.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)},features:[w.qOj]}),L})(),dn=(()=>{class L extends rs{constructor(N){super(N)}}return L.\u0275fac=function(N){return new(N||L)(w.Y36(Wn,10))},L.\u0275dir=w.lG2({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(N,Z){2&N&&w.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)("ng-submitted",Z.isSubmitted)},features:[w.qOj]}),L})();function jr(L,F){return L?`with name: '${F}'`:`at index: ${F}`}const si=!1,pi="VALID",Sr="INVALID",fe="PENDING",le="DISABLED";function we(L){return(Ee(L)?L.validators:L)||null}function Oe(L,F){return(Ee(F)?F.asyncValidators:L)||null}function Ee(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}function pe(L,F,N){const Z=L.controls;if(!(F?Object.keys(Z):Z).length)throw new w.vHH(1e3,si?function Qt(L){return`\n    There are no form controls registered with this ${L?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(F):"");if(!Z[N])throw new w.vHH(1001,si?function Qr(L,F){return`Cannot find form control ${jr(L,F)}`}(F,N):"")}function ie(L,F,N){L._forEachChild((Z,ae)=>{if(void 0===N[ae])throw new w.vHH(1002,si?function sr(L,F){return`Must supply a value for form control ${jr(L,F)}`}(F,ae):"")})}class ve{constructor(F,N){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(F),this._assignAsyncValidators(N)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===pi}get invalid(){return this.status===Sr}get pending(){return this.status==fe}get disabled(){return this.status===le}get enabled(){return this.status!==le}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._assignValidators(F)}setAsyncValidators(F){this._assignAsyncValidators(F)}addValidators(F){this.setValidators(cn(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(cn(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(br(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(br(F,this._rawAsyncValidators))}hasValidator(F){return Fi(this._rawValidators,F)}hasAsyncValidator(F){return Fi(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(N=>{N.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(N=>{N.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=fe,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const N=this._parentMarkedDirty(F.onlySelf);this.status=le,this.errors=null,this._forEachChild(Z=>{Z.disable({...F,onlySelf:!0})}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...F,skipPristineCheck:N}),this._onDisabledChange.forEach(Z=>Z(!0))}enable(F={}){const N=this._parentMarkedDirty(F.onlySelf);this.status=pi,this._forEachChild(Z=>{Z.enable({...F,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors({...F,skipPristineCheck:N}),this._onDisabledChange.forEach(Z=>Z(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}getRawValue(){return this.value}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pi||this.status===fe)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(N=>N._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?le:pi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=fe,this._hasOwnPendingAsyncValidator=!0;const N=Nn(this.asyncValidator(this));this._asyncValidationSubscription=N.subscribe(Z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Z,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,N={}){this.errors=F,this._updateControlsErrors(!1!==N.emitEvent)}get(F){let N=F;return null==N||(Array.isArray(N)||(N=N.split(".")),0===N.length)?null:N.reduce((Z,ae)=>Z&&Z._find(ae),this)}getError(F,N){const Z=N?this.get(N):this;return Z&&Z.errors?Z.errors[F]:null}hasError(F,N){return!!this.getError(F,N)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new w.vpe,this.statusChanges=new w.vpe}_calculateStatus(){return this._allControlsDisabled()?le:this.errors?Sr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fe)?fe:this._anyControlsHaveStatus(Sr)?Sr:pi}_anyControlsHaveStatus(F){return this._anyControls(N=>N.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){Ee(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(F){return null}_assignValidators(F){this._rawValidators=Array.isArray(F)?F.slice():F,this._composedValidatorFn=function Ze(L){return Array.isArray(L)?Zr(L):L||null}(this._rawValidators)}_assignAsyncValidators(F){this._rawAsyncValidators=Array.isArray(F)?F.slice():F,this._composedAsyncValidatorFn=function Tt(L){return Array.isArray(L)?Pn(L):L||null}(this._rawAsyncValidators)}}class Ke extends ve{constructor(F,N,Z){super(we(N),Oe(Z,N)),this.controls=F,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,N){return this.controls[F]?this.controls[F]:(this.controls[F]=N,N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange),N)}addControl(F,N,Z={}){this.registerControl(F,N),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}removeControl(F,N={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}setControl(F,N,Z={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],N&&this.registerControl(F,N),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,N={}){ie(this,!0,F),Object.keys(F).forEach(Z=>{pe(this,!0,Z),this.controls[Z].setValue(F[Z],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(F,N={}){null!=F&&(Object.keys(F).forEach(Z=>{const ae=this.controls[Z];ae&&ae.patchValue(F[Z],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(F={},N={}){this._forEachChild((Z,ae)=>{Z.reset(F[ae],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this._reduceChildren({},(F,N,Z)=>(F[Z]=N.getRawValue(),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(N,Z)=>!!Z._syncPendingControls()||N);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(N=>{const Z=this.controls[N];Z&&F(Z,N)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const[N,Z]of Object.entries(this.controls))if(this.contains(N)&&F(Z))return!0;return!1}_reduceValue(){return this._reduceChildren({},(N,Z,ae)=>((Z.enabled||this.disabled)&&(N[ae]=Z.value),N))}_reduceChildren(F,N){let Z=F;return this._forEachChild((ae,dt)=>{Z=N(Z,ae,dt)}),Z}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(F){return this.controls.hasOwnProperty(F)?this.controls[F]:null}}class At extends Ke{}const tr=new w.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>je}),je="always";function Me(L,F){return[...F.path,L]}function ut(L,F,N=je){Un(L,F),F.valueAccessor.writeValue(L.value),(L.disabled||"always"===N)&&F.valueAccessor.setDisabledState?.(L.disabled),function Ir(L,F){F.valueAccessor.registerOnChange(N=>{L._pendingValue=N,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&On(L,F)})}(L,F),function oi(L,F){const N=(Z,ae)=>{F.valueAccessor.writeValue(Z),ae&&F.viewToModelUpdate(Z)};L.registerOnChange(N),F._registerOnDestroy(()=>{L._unregisterOnChange(N)})}(L,F),function is(L,F){F.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&On(L,F),"submit"!==L.updateOn&&L.markAsTouched()})}(L,F),function En(L,F){if(F.valueAccessor.setDisabledState){const N=Z=>{F.valueAccessor.setDisabledState(Z)};L.registerOnDisabledChange(N),F._registerOnDestroy(()=>{L._unregisterOnDisabledChange(N)})}}(L,F)}function Gt(L,F,N=!0){const Z=()=>{};F.valueAccessor&&(F.valueAccessor.registerOnChange(Z),F.valueAccessor.registerOnTouched(Z)),dr(L,F),L&&(F._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function un(L,F){L.forEach(N=>{N.registerOnValidatorChange&&N.registerOnValidatorChange(F)})}function Un(L,F){const N=$r(L);null!==F.validator?L.setValidators(Mi(N,F.validator)):"function"==typeof N&&L.setValidators([N]);const Z=ni(L);null!==F.asyncValidator?L.setAsyncValidators(Mi(Z,F.asyncValidator)):"function"==typeof Z&&L.setAsyncValidators([Z]);const ae=()=>L.updateValueAndValidity();un(F._rawValidators,ae),un(F._rawAsyncValidators,ae)}function dr(L,F){let N=!1;if(null!==L){if(null!==F.validator){const ae=$r(L);if(Array.isArray(ae)&&ae.length>0){const dt=ae.filter(nr=>nr!==F.validator);dt.length!==ae.length&&(N=!0,L.setValidators(dt))}}if(null!==F.asyncValidator){const ae=ni(L);if(Array.isArray(ae)&&ae.length>0){const dt=ae.filter(nr=>nr!==F.asyncValidator);dt.length!==ae.length&&(N=!0,L.setAsyncValidators(dt))}}}const Z=()=>{};return un(F._rawValidators,Z),un(F._rawAsyncValidators,Z),N}function On(L,F){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function zs(L,F){const N=L.indexOf(F);N>-1&&L.splice(N,1)}function Dn(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}const Qi=class extends ve{constructor(F=null,N,Z){super(we(N),Oe(Z,N)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(N),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ee(N)&&(N.nonNullable||N.initialValueIsDefault)&&(this.defaultValue=Dn(F)?F.value:F)}setValue(F,N={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==N.emitModelToViewChange&&this._onChange.forEach(Z=>Z(this.value,!1!==N.emitViewToModelChange)),this.updateValueAndValidity(N)}patchValue(F,N={}){this.setValue(F,N)}reset(F=this.defaultValue,N={}){this._applyFormState(F),this.markAsPristine(N),this.markAsUntouched(N),this.setValue(this.value,N),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){zs(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){zs(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){Dn(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}};let Ds=(()=>{class L extends Wn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Me(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return L.\u0275fac=function(){let F;return function(Z){return(F||(F=w.n5z(L)))(Z||L)}}(),L.\u0275dir=w.lG2({type:L,features:[w.qOj]}),L})(),vt=(()=>{class L{}return L.\u0275fac=function(N){return new(N||L)},L.\u0275dir=w.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})();const Di={provide:gt,useExisting:(0,w.Gpc)(()=>os),multi:!0};let os=(()=>{class L extends st{writeValue(N){this.setProperty("value",N??"")}registerOnChange(N){this.onChange=Z=>{N(""==Z?null:parseFloat(Z))}}}return L.\u0275fac=function(){let F;return function(Z){return(F||(F=w.n5z(L)))(Z||L)}}(),L.\u0275dir=w.lG2({type:L,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(N,Z){1&N&&w.NdJ("input",function(dt){return Z.onChange(dt.target.value)})("blur",function(){return Z.onTouched()})},features:[w._Bn([Di]),w.qOj]}),L})();const Pi={provide:gt,useExisting:(0,w.Gpc)(()=>Ui),multi:!0};let So=(()=>{class L{}return L.\u0275fac=function(N){return new(N||L)},L.\u0275mod=w.oAB({type:L}),L.\u0275inj=w.cJS({}),L})(),mi=(()=>{class L{constructor(){this._accessors=[]}add(N,Z){this._accessors.push([N,Z])}remove(N){for(let Z=this._accessors.length-1;Z>=0;--Z)if(this._accessors[Z][1]===N)return void this._accessors.splice(Z,1)}select(N){this._accessors.forEach(Z=>{this._isSameGroup(Z,N)&&Z[1]!==N&&Z[1].fireUncheck(N.value)})}_isSameGroup(N,Z){return!!N[0].control&&N[0]._parent===Z._control._parent&&N[1].name===Z.name}}return L.\u0275fac=function(N){return new(N||L)},L.\u0275prov=w.Yz7({token:L,factory:L.\u0275fac,providedIn:So}),L})(),Ui=(()=>{class L extends st{constructor(N,Z,ae,dt){super(N,Z),this._registry=ae,this._injector=dt,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,w.f3M)(tr,{optional:!0})??je}ngOnInit(){this._control=this._injector.get(fi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(N){this._state=N===this.value,this.setProperty("checked",this._state)}registerOnChange(N){this._fn=N,this.onChange=()=>{N(this.value),this._registry.select(this)}}setDisabledState(N){(this.setDisabledStateFired||N||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",N),this.setDisabledStateFired=!0}fireUncheck(N){this.writeValue(N)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return L.\u0275fac=function(N){return new(N||L)(w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(mi),w.Y36(w.zs3))},L.\u0275dir=w.lG2({type:L,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(N,Z){1&N&&w.NdJ("change",function(){return Z.onChange()})("blur",function(){return Z.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[w._Bn([Pi]),w.qOj]}),L})();const fs=new w.OlP("NgModelWithFormControlWarning"),fr={provide:Wn,useExisting:(0,w.Gpc)(()=>pr)};let pr=(()=>{class L extends Wn{constructor(N,Z,ae){super(),this.callSetDisabledState=ae,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new w.vpe,this._setValidators(N),this._setAsyncValidators(Z)}ngOnChanges(N){this._checkFormPresent(),N.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(dr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(N){const Z=this.form.get(N.path);return ut(Z,N,this.callSetDisabledState),Z.updateValueAndValidity({emitEvent:!1}),this.directives.push(N),Z}getControl(N){return this.form.get(N.path)}removeControl(N){Gt(N.control||null,N,!1),function Is(L,F){const N=L.indexOf(F);N>-1&&L.splice(N,1)}(this.directives,N)}addFormGroup(N){this._setUpFormContainer(N)}removeFormGroup(N){this._cleanUpFormContainer(N)}getFormGroup(N){return this.form.get(N.path)}addFormArray(N){this._setUpFormContainer(N)}removeFormArray(N){this._cleanUpFormContainer(N)}getFormArray(N){return this.form.get(N.path)}updateModel(N,Z){this.form.get(N.path).setValue(Z)}onSubmit(N){return this.submitted=!0,function Dr(L,F){L._syncPendingControls(),F.forEach(N=>{const Z=N.control;"submit"===Z.updateOn&&Z._pendingChange&&(N.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(N),"dialog"===N?.target?.method}onReset(){this.resetForm()}resetForm(N){this.form.reset(N),this.submitted=!1}_updateDomValue(){this.directives.forEach(N=>{const Z=N.control,ae=this.form.get(N.path);Z!==ae&&(Gt(Z||null,N),(L=>L instanceof Qi)(ae)&&(ut(ae,N,this.callSetDisabledState),N.control=ae))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(N){const Z=this.form.get(N.path);(function mr(L,F){Un(L,F)})(Z,N),Z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(N){if(this.form){const Z=this.form.get(N.path);Z&&function ss(L,F){return dr(L,F)}(Z,N)&&Z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Un(this.form,this),this._oldForm&&dr(this._oldForm,this)}_checkFormPresent(){}}return L.\u0275fac=function(N){return new(N||L)(w.Y36(St,10),w.Y36(yt,10),w.Y36(tr,8))},L.\u0275dir=w.lG2({type:L,selectors:[["","formGroup",""]],hostBindings:function(N,Z){1&N&&w.NdJ("submit",function(dt){return Z.onSubmit(dt)})("reset",function(){return Z.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[w._Bn([fr]),w.qOj,w.TTD]}),L})();const Ki={provide:Wn,useExisting:(0,w.Gpc)(()=>Fs)};let Fs=(()=>{class L extends Ds{constructor(N,Z,ae){super(),this._parent=N,this._setValidators(Z),this._setAsyncValidators(ae)}_checkParentType(){_i(this._parent)}}return L.\u0275fac=function(N){return new(N||L)(w.Y36(Wn,13),w.Y36(St,10),w.Y36(yt,10))},L.\u0275dir=w.lG2({type:L,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[w._Bn([Ki]),w.qOj]}),L})();const va={provide:Wn,useExisting:(0,w.Gpc)(()=>yi)};let yi=(()=>{class L extends Wn{constructor(N,Z,ae){super(),this._parent=N,this._setValidators(Z),this._setAsyncValidators(ae)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Me(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){_i(this._parent)}}return L.\u0275fac=function(N){return new(N||L)(w.Y36(Wn,13),w.Y36(St,10),w.Y36(yt,10))},L.\u0275dir=w.lG2({type:L,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[w._Bn([va]),w.qOj]}),L})();function _i(L){return!(L instanceof Fs||L instanceof pr||L instanceof yi)}const mo={provide:fi,useExisting:(0,w.Gpc)(()=>yo)};let yo=(()=>{class L extends fi{set isDisabled(N){}constructor(N,Z,ae,dt,nr){super(),this._ngModelWarningConfig=nr,this._added=!1,this.update=new w.vpe,this._ngModelWarningSent=!1,this._parent=N,this._setValidators(Z),this._setAsyncValidators(ae),this.valueAccessor=function Gr(L,F){if(!F)return null;let N,Z,ae;return Array.isArray(F),F.forEach(dt=>{dt.constructor===Fe?N=dt:function In(L){return Object.getPrototypeOf(L.constructor)===st}(dt)?Z=dt:ae=dt}),ae||Z||N||null}(0,dt)}ngOnChanges(N){this._added||this._setUpControl(),function Rt(L,F){if(!L.hasOwnProperty("model"))return!1;const N=L.model;return!!N.isFirstChange()||!Object.is(F,N.currentValue)}(N,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}get path(){return Me(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return L._ngModelWarningSentOnce=!1,L.\u0275fac=function(N){return new(N||L)(w.Y36(Wn,13),w.Y36(St,10),w.Y36(yt,10),w.Y36(gt,10),w.Y36(fs,8))},L.\u0275dir=w.lG2({type:L,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[w._Bn([mo]),w.qOj,w.TTD]}),L})(),ji=(()=>{class L{}return L.\u0275fac=function(N){return new(N||L)},L.\u0275mod=w.oAB({type:L}),L.\u0275inj=w.cJS({imports:[So]}),L})();class vi extends ve{constructor(F,N,Z){super(we(N),Oe(Z,N)),this.controls=F,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(F){return this.controls[this._adjustIndex(F)]}push(F,N={}){this.controls.push(F),this._registerControl(F),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}insert(F,N,Z={}){this.controls.splice(F,0,N),this._registerControl(N),this.updateValueAndValidity({emitEvent:Z.emitEvent})}removeAt(F,N={}){let Z=this._adjustIndex(F);Z<0&&(Z=0),this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),this.controls.splice(Z,1),this.updateValueAndValidity({emitEvent:N.emitEvent})}setControl(F,N,Z={}){let ae=this._adjustIndex(F);ae<0&&(ae=0),this.controls[ae]&&this.controls[ae]._registerOnCollectionChange(()=>{}),this.controls.splice(ae,1),N&&(this.controls.splice(ae,0,N),this._registerControl(N)),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(F,N={}){ie(this,!1,F),F.forEach((Z,ae)=>{pe(this,!1,ae),this.at(ae).setValue(Z,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(F,N={}){null!=F&&(F.forEach((Z,ae)=>{this.at(ae)&&this.at(ae).patchValue(Z,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(F=[],N={}){this._forEachChild((Z,ae)=>{Z.reset(F[ae],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this.controls.map(F=>F.getRawValue())}clear(F={}){this.controls.length<1||(this._forEachChild(N=>N._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:F.emitEvent}))}_adjustIndex(F){return F<0?F+this.length:F}_syncPendingControls(){let F=this.controls.reduce((N,Z)=>!!Z._syncPendingControls()||N,!1);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){this.controls.forEach((N,Z)=>{F(N,Z)})}_updateValue(){this.value=this.controls.filter(F=>F.enabled||this.disabled).map(F=>F.value)}_anyControls(F){return this.controls.some(N=>N.enabled&&F(N))}_setUpControls(){this._forEachChild(F=>this._registerControl(F))}_allControlsDisabled(){for(const F of this.controls)if(F.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(F){F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)}_find(F){return this.at(F)??null}}function Jo(L){return!!L&&(void 0!==L.asyncValidators||void 0!==L.validators||void 0!==L.updateOn)}let Qs=(()=>{class L{constructor(){this.useNonNullable=!1}get nonNullable(){const N=new L;return N.useNonNullable=!0,N}group(N,Z=null){const ae=this._reduceControls(N);let dt={};return Jo(Z)?dt=Z:null!==Z&&(dt.validators=Z.validator,dt.asyncValidators=Z.asyncValidator),new Ke(ae,dt)}record(N,Z=null){const ae=this._reduceControls(N);return new At(ae,Z)}control(N,Z,ae){let dt={};return this.useNonNullable?(Jo(Z)?dt=Z:(dt.validators=Z,dt.asyncValidators=ae),new Qi(N,{...dt,nonNullable:!0})):new Qi(N,Z,ae)}array(N,Z,ae){const dt=N.map(nr=>this._createControl(nr));return new vi(dt,Z,ae)}_reduceControls(N){const Z={};return Object.keys(N).forEach(ae=>{Z[ae]=this._createControl(N[ae])}),Z}_createControl(N){return N instanceof Qi||N instanceof ve?N:Array.isArray(N)?this.control(N[0],N.length>1?N[1]:null,N.length>2?N[2]:null):this.control(N)}}return L.\u0275fac=function(N){return new(N||L)},L.\u0275prov=w.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})(),en=(()=>{class L{}return L.\u0275fac=function(N){return new(N||L)},L.\u0275prov=w.Yz7({token:L,factory:function(){return(0,w.f3M)(Qs).nonNullable},providedIn:"root"}),L})(),xo=(()=>{class L{static withConfig(N){return{ngModule:L,providers:[{provide:fs,useValue:N.warnOnNgModelWithFormControl??"always"},{provide:tr,useValue:N.callSetDisabledState??je}]}}}return L.\u0275fac=function(N){return new(N||L)},L.\u0275mod=w.oAB({type:L}),L.\u0275inj=w.cJS({imports:[ji]}),L})()},1481:(sn,Ye,Y)=>{Y.d(Ye,{Dx:()=>dn,b2:()=>fi,q6:()=>cn,se:()=>ct});var w=Y(6895),re=Y(1571);class k extends w.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class De extends k{static makeCurrent(){(0,w.HT)(new De)}onAndCancel(pe,ie,ve){return pe.addEventListener(ie,ve,!1),()=>{pe.removeEventListener(ie,ve,!1)}}dispatchEvent(pe,ie){pe.dispatchEvent(ie)}remove(pe){pe.parentNode&&pe.parentNode.removeChild(pe)}createElement(pe,ie){return(ie=ie||this.getDefaultDocument()).createElement(pe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(pe){return pe.nodeType===Node.ELEMENT_NODE}isShadowRoot(pe){return pe instanceof DocumentFragment}getGlobalEventTarget(pe,ie){return"window"===ie?window:"document"===ie?pe:"body"===ie?pe.body:null}getBaseHref(pe){const ie=function Ae(){return ee=ee||document.querySelector("base"),ee?ee.getAttribute("href"):null}();return null==ie?null:function ce(Ee){Be=Be||document.createElement("a"),Be.setAttribute("href",Ee);const pe=Be.pathname;return"/"===pe.charAt(0)?pe:`/${pe}`}(ie)}resetBaseElement(){ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(pe){return(0,w.Mx)(document.cookie,pe)}}let Be,ee=null;const Le=new re.OlP("TRANSITION_ID"),me=[{provide:re.ip1,useFactory:function se(Ee,pe,ie){return()=>{ie.get(re.CZH).donePromise.then(()=>{const ve=(0,w.q)(),Ke=pe.querySelectorAll(`style[ng-transition="${Ee}"]`);for(let Re=0;Re<Ke.length;Re++)ve.remove(Ke[Re])})}},deps:[Le,w.K0,re.zs3],multi:!0}];let rt=(()=>{class Ee{build(){return new XMLHttpRequest}}return Ee.\u0275fac=function(ie){return new(ie||Ee)},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const st=new re.OlP("EventManagerPlugins");let gt=(()=>{class Ee{constructor(ie,ve){this._zone=ve,this._eventNameToPlugin=new Map,ie.forEach(Ke=>{Ke.manager=this}),this._plugins=ie.slice().reverse()}addEventListener(ie,ve,Ke){return this._findPluginFor(ve).addEventListener(ie,ve,Ke)}addGlobalEventListener(ie,ve,Ke){return this._findPluginFor(ve).addGlobalEventListener(ie,ve,Ke)}getZone(){return this._zone}_findPluginFor(ie){const ve=this._eventNameToPlugin.get(ie);if(ve)return ve;const Ke=this._plugins;for(let Re=0;Re<Ke.length;Re++){const We=Ke[Re];if(We.supports(ie))return this._eventNameToPlugin.set(ie,We),We}throw new Error(`No event manager plugin found for event ${ie}`)}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(re.LFG(st),re.LFG(re.R0b))},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class mt{constructor(pe){this._doc=pe}addGlobalEventListener(pe,ie,ve){const Ke=(0,w.q)().getGlobalEventTarget(this._doc,pe);if(!Ke)throw new Error(`Unsupported event target ${Ke} for event ${ie}`);return this.addEventListener(Ke,ie,ve)}}let fn=(()=>{class Ee{constructor(){this.usageCount=new Map}addStyles(ie){for(const ve of ie)1===this.changeUsageCount(ve,1)&&this.onStyleAdded(ve)}removeStyles(ie){for(const ve of ie)0===this.changeUsageCount(ve,-1)&&this.onStyleRemoved(ve)}onStyleRemoved(ie){}onStyleAdded(ie){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(ie,ve){const Ke=this.usageCount;let Re=Ke.get(ie)??0;return Re+=ve,Re>0?Ke.set(ie,Re):Ke.delete(ie),Re}ngOnDestroy(){for(const ie of this.getAllStyles())this.onStyleRemoved(ie);this.usageCount.clear()}}return Ee.\u0275fac=function(ie){return new(ie||Ee)},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})(),Ut=(()=>{class Ee extends fn{constructor(ie){super(),this.doc=ie,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(ie){for(const ve of this.hostNodes)this.addStyleToHost(ve,ie)}onStyleRemoved(ie){const ve=this.styleRef;ve.get(ie)?.forEach(Re=>Re.remove()),ve.delete(ie)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(ie){this.hostNodes.add(ie);for(const ve of this.getAllStyles())this.addStyleToHost(ie,ve)}removeHost(ie){this.hostNodes.delete(ie)}addStyleToHost(ie,ve){const Ke=this.doc.createElement("style");Ke.textContent=ve,ie.appendChild(Ke);const Re=this.styleRef.get(ve);Re?Re.push(Ke):this.styleRef.set(ve,[Ke])}resetHostNodes(){const ie=this.hostNodes;ie.clear(),ie.add(this.doc.head)}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(re.LFG(w.K0))},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const zn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wn=/%COMP%/g,yt=new re.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function $t(Ee,pe){return pe.flat(100).map(ie=>ie.replace(wn,Ee))}function on(Ee){return pe=>{if("__ngUnwrap__"===pe)return Ee;!1===Ee(pe)&&(pe.preventDefault(),pe.returnValue=!1)}}let ct=(()=>{class Ee{constructor(ie,ve,Ke,Re){this.eventManager=ie,this.sharedStylesHost=ve,this.appId=Ke,this.removeStylesOnCompDestory=Re,this.rendererByCompId=new Map,this.defaultRenderer=new Ge(ie)}createRenderer(ie,ve){if(!ie||!ve)return this.defaultRenderer;const Ke=this.getOrCreateRenderer(ie,ve);return Ke instanceof an?Ke.applyToHost(ie):Ke instanceof pt&&Ke.applyStyles(),Ke}getOrCreateRenderer(ie,ve){const Ke=this.rendererByCompId;let Re=Ke.get(ve.id);if(!Re){const We=this.eventManager,At=this.sharedStylesHost,Jt=this.removeStylesOnCompDestory;switch(ve.encapsulation){case re.ifc.Emulated:Re=new an(We,At,ve,this.appId,Jt);break;case re.ifc.ShadowDom:return new ft(We,At,ie,ve);default:Re=new pt(We,At,ve,Jt)}Re.onDestroy=()=>Ke.delete(ve.id),Ke.set(ve.id,Re)}return Re}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(re.LFG(gt),re.LFG(Ut),re.LFG(re.AFp),re.LFG(yt))},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class Ge{constructor(pe){this.eventManager=pe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(pe,ie){return ie?document.createElementNS(zn[ie]||ie,pe):document.createElement(pe)}createComment(pe){return document.createComment(pe)}createText(pe){return document.createTextNode(pe)}appendChild(pe,ie){(nt(pe)?pe.content:pe).appendChild(ie)}insertBefore(pe,ie,ve){pe&&(nt(pe)?pe.content:pe).insertBefore(ie,ve)}removeChild(pe,ie){pe&&pe.removeChild(ie)}selectRootElement(pe,ie){let ve="string"==typeof pe?document.querySelector(pe):pe;if(!ve)throw new Error(`The selector "${pe}" did not match any elements`);return ie||(ve.textContent=""),ve}parentNode(pe){return pe.parentNode}nextSibling(pe){return pe.nextSibling}setAttribute(pe,ie,ve,Ke){if(Ke){ie=Ke+":"+ie;const Re=zn[Ke];Re?pe.setAttributeNS(Re,ie,ve):pe.setAttribute(ie,ve)}else pe.setAttribute(ie,ve)}removeAttribute(pe,ie,ve){if(ve){const Ke=zn[ve];Ke?pe.removeAttributeNS(Ke,ie):pe.removeAttribute(`${ve}:${ie}`)}else pe.removeAttribute(ie)}addClass(pe,ie){pe.classList.add(ie)}removeClass(pe,ie){pe.classList.remove(ie)}setStyle(pe,ie,ve,Ke){Ke&(re.JOm.DashCase|re.JOm.Important)?pe.style.setProperty(ie,ve,Ke&re.JOm.Important?"important":""):pe.style[ie]=ve}removeStyle(pe,ie,ve){ve&re.JOm.DashCase?pe.style.removeProperty(ie):pe.style[ie]=""}setProperty(pe,ie,ve){pe[ie]=ve}setValue(pe,ie){pe.nodeValue=ie}listen(pe,ie,ve){return"string"==typeof pe?this.eventManager.addGlobalEventListener(pe,ie,on(ve)):this.eventManager.addEventListener(pe,ie,on(ve))}}function nt(Ee){return"TEMPLATE"===Ee.tagName&&void 0!==Ee.content}class ft extends Ge{constructor(pe,ie,ve,Ke){super(pe),this.sharedStylesHost=ie,this.hostEl=ve,this.shadowRoot=ve.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Re=$t(Ke.id,Ke.styles);for(const We of Re){const At=document.createElement("style");At.textContent=We,this.shadowRoot.appendChild(At)}}nodeOrShadowRoot(pe){return pe===this.hostEl?this.shadowRoot:pe}appendChild(pe,ie){return super.appendChild(this.nodeOrShadowRoot(pe),ie)}insertBefore(pe,ie,ve){return super.insertBefore(this.nodeOrShadowRoot(pe),ie,ve)}removeChild(pe,ie){return super.removeChild(this.nodeOrShadowRoot(pe),ie)}parentNode(pe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(pe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class pt extends Ge{constructor(pe,ie,ve,Ke,Re=ve.id){super(pe),this.sharedStylesHost=ie,this.removeStylesOnCompDestory=Ke,this.rendererUsageCount=0,this.styles=$t(Re,ve.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class an extends pt{constructor(pe,ie,ve,Ke,Re){const We=Ke+"-"+ve.id;super(pe,ie,ve,Re,We),this.contentAttr=function pn(Ee){return"_ngcontent-%COMP%".replace(wn,Ee)}(We),this.hostAttr=function bn(Ee){return"_nghost-%COMP%".replace(wn,Ee)}(We)}applyToHost(pe){this.applyStyles(),this.setAttribute(pe,this.hostAttr,"")}createElement(pe,ie){const ve=super.createElement(pe,ie);return super.setAttribute(ve,this.contentAttr,""),ve}}let Nn=(()=>{class Ee extends mt{constructor(ie){super(ie)}supports(ie){return!0}addEventListener(ie,ve,Ke){return ie.addEventListener(ve,Ke,!1),()=>this.removeEventListener(ie,ve,Ke)}removeEventListener(ie,ve,Ke){return ie.removeEventListener(ve,Ke)}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(re.LFG(w.K0))},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const kn=["alt","control","meta","shift"],Kt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jt={alt:Ee=>Ee.altKey,control:Ee=>Ee.ctrlKey,meta:Ee=>Ee.metaKey,shift:Ee=>Ee.shiftKey};let Mt=(()=>{class Ee extends mt{constructor(ie){super(ie)}supports(ie){return null!=Ee.parseEventName(ie)}addEventListener(ie,ve,Ke){const Re=Ee.parseEventName(ve),We=Ee.eventCallback(Re.fullKey,Ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.q)().onAndCancel(ie,Re.domEventName,We))}static parseEventName(ie){const ve=ie.toLowerCase().split("."),Ke=ve.shift();if(0===ve.length||"keydown"!==Ke&&"keyup"!==Ke)return null;const Re=Ee._normalizeKey(ve.pop());let We="",At=ve.indexOf("code");if(At>-1&&(ve.splice(At,1),We="code."),kn.forEach(tr=>{const je=ve.indexOf(tr);je>-1&&(ve.splice(je,1),We+=tr+".")}),We+=Re,0!=ve.length||0===Re.length)return null;const Jt={};return Jt.domEventName=Ke,Jt.fullKey=We,Jt}static matchEventFullKeyCode(ie,ve){let Ke=Kt[ie.key]||ie.key,Re="";return ve.indexOf("code.")>-1&&(Ke=ie.code,Re="code."),!(null==Ke||!Ke)&&(Ke=Ke.toLowerCase()," "===Ke?Ke="space":"."===Ke&&(Ke="dot"),kn.forEach(We=>{We!==Ke&&(0,jt[We])(ie)&&(Re+=We+".")}),Re+=Ke,Re===ve)}static eventCallback(ie,ve,Ke){return Re=>{Ee.matchEventFullKeyCode(Re,ie)&&Ke.runGuarded(()=>ve(Re))}}static _normalizeKey(ie){return"esc"===ie?"escape":ie}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(re.LFG(w.K0))},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const cn=(0,re.eFA)(re._c5,"browser",[{provide:re.Lbi,useValue:w.bD},{provide:re.g9A,useValue:function $r(){De.makeCurrent()},multi:!0},{provide:w.K0,useFactory:function ns(){return(0,re.RDi)(document),document},deps:[]}]),br=new re.OlP(""),Yr=[{provide:re.rWj,useClass:class xe{addToWindow(pe){re.dqk.getAngularTestability=(ve,Ke=!0)=>{const Re=pe.findTestabilityInTree(ve,Ke);if(null==Re)throw new Error("Could not find testability for element.");return Re},re.dqk.getAllAngularTestabilities=()=>pe.getAllTestabilities(),re.dqk.getAllAngularRootElements=()=>pe.getAllRootElements(),re.dqk.frameworkStabilizers||(re.dqk.frameworkStabilizers=[]),re.dqk.frameworkStabilizers.push(ve=>{const Ke=re.dqk.getAllAngularTestabilities();let Re=Ke.length,We=!1;const At=function(Jt){We=We||Jt,Re--,0==Re&&ve(We)};Ke.forEach(function(Jt){Jt.whenStable(At)})})}findTestabilityInTree(pe,ie,ve){return null==ie?null:pe.getTestability(ie)??(ve?(0,w.q)().isShadowRoot(ie)?this.findTestabilityInTree(pe,ie.host,!0):this.findTestabilityInTree(pe,ie.parentElement,!0):null)}},deps:[]},{provide:re.lri,useClass:re.dDg,deps:[re.R0b,re.eoX,re.rWj]},{provide:re.dDg,useClass:re.dDg,deps:[re.R0b,re.eoX,re.rWj]}],Wn=[{provide:re.zSh,useValue:"root"},{provide:re.qLn,useFactory:function ni(){return new re.qLn},deps:[]},{provide:st,useClass:Nn,multi:!0,deps:[w.K0,re.R0b,re.Lbi]},{provide:st,useClass:Mt,multi:!0,deps:[w.K0]},{provide:ct,useClass:ct,deps:[gt,Ut,re.AFp,yt]},{provide:re.FYo,useExisting:ct},{provide:fn,useExisting:Ut},{provide:Ut,useClass:Ut,deps:[w.K0]},{provide:gt,useClass:gt,deps:[st,re.R0b]},{provide:w.JF,useClass:rt,deps:[]},[]];let fi=(()=>{class Ee{constructor(ie){}static withServerTransition(ie){return{ngModule:Ee,providers:[{provide:re.AFp,useValue:ie.appId},{provide:Le,useExisting:re.AFp},me]}}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(re.LFG(br,12))},Ee.\u0275mod=re.oAB({type:Ee}),Ee.\u0275inj=re.cJS({providers:[...Wn,...Yr],imports:[w.ez,re.hGG]}),Ee})(),dn=(()=>{class Ee{constructor(ie){this._doc=ie}getTitle(){return this._doc.title}setTitle(ie){this._doc.title=ie||""}}return Ee.\u0275fac=function(ie){return new(ie||Ee)(re.LFG(w.K0))},Ee.\u0275prov=re.Yz7({token:Ee,factory:function(ie){let ve=null;return ve=ie?new ie:function Ii(){return new dn((0,re.LFG)(w.K0))}(),ve},providedIn:"root"}),Ee})();typeof window<"u"&&window},5912:(sn,Ye,Y)=>{Y.d(Ye,{F0:()=>y,rH:()=>z,Od:()=>te,Bz:()=>ys,lC:()=>bs});var w=Y(1571),re=Y(8996),k=Y(9646),De=Y(1135);const Ae=(0,Y(3888).d)(E=>function(){E(this),this.name="EmptyError",this.message="no elements in sequence"});var Be=Y(9751),ce=Y(4742),Le=Y(4671),se=Y(3268),me=Y(3269),xe=Y(1810),rt=Y(5403),st=Y(9672);function gt(...E){const D=(0,me.yG)(E),m=(0,me.jO)(E),{args:S,keys:U}=(0,ce.D)(E);if(0===S.length)return(0,re.D)([],D);const W=new Be.y(function mt(E,D,m=Le.y){return S=>{fn(D,()=>{const{length:U}=E,W=new Array(U);let J=U,be=U;for(let Je=0;Je<U;Je++)fn(D,()=>{const Bt=(0,re.D)(E[Je],D);let Ot=!1;Bt.subscribe((0,rt.x)(S,rr=>{W[Je]=rr,Ot||(Ot=!0,be--),be||S.next(m(W.slice()))},()=>{--J||S.complete()}))},S)},S)}}(S,D,U?J=>(0,xe.n)(U,J):Le.y));return m?W.pipe((0,se.Z)(m)):W}function fn(E,D,m){E?(0,st.f)(m,E,D):D()}var Ut=Y(7272),zn=Y(8421);function wn(E){return new Be.y(D=>{(0,zn.Xf)(E()).subscribe(D)})}var Fe=Y(9635),ht=Y(576);function He(E,D){const m=(0,ht.m)(E)?E:()=>E,S=U=>U.error(m());return new Be.y(D?U=>D.schedule(S,0,U):S)}var lt=Y(515),St=Y(727),yt=Y(4482);function pn(){return(0,yt.e)((E,D)=>{let m=null;E._refCount++;const S=(0,rt.x)(D,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(m=null);const U=E._connection,W=m;m=null,U&&(!W||U===W)&&U.unsubscribe(),D.unsubscribe()});E.subscribe(S),S.closed||(m=E.connect())})}class bn extends Be.y{constructor(D,m){super(),this.source=D,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,yt.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new St.w0;const m=this.getSubject();D.add(this.source.subscribe((0,rt.x)(m,void 0,()=>{this._teardown(),m.complete()},S=>{this._teardown(),m.error(S)},()=>this._teardown()))),D.closed&&(this._connection=null,D=St.w0.EMPTY)}return D}refCount(){return pn()(this)}}var $t=Y(7579),on=Y(6895),ct=Y(4004),Ge=Y(3900),Se=Y(5698),et=Y(8675),nt=Y(9300),ft=Y(5577);function pt(E){return(0,yt.e)((D,m)=>{let S=!1;D.subscribe((0,rt.x)(m,U=>{S=!0,m.next(U)},()=>{S||m.next(E),m.complete()}))})}function an(E=Nn){return(0,yt.e)((D,m)=>{let S=!1;D.subscribe((0,rt.x)(m,U=>{S=!0,m.next(U)},()=>S?m.complete():m.error(E())))})}function Nn(){return new Ae}function kn(E,D){const m=arguments.length>=2;return S=>S.pipe(E?(0,nt.h)((U,W)=>E(U,W,S)):Le.y,(0,Se.q)(1),m?pt(D):an(()=>new Ae))}function Kt(E,D){return(0,ht.m)(D)?(0,ft.z)(E,D,1):(0,ft.z)(E,1)}var jt=Y(8505);function Mt(E){return(0,yt.e)((D,m)=>{let W,S=null,U=!1;S=D.subscribe((0,rt.x)(m,void 0,void 0,J=>{W=(0,zn.Xf)(E(J,Mt(E)(D))),S?(S.unsubscribe(),S=null,W.subscribe(m)):U=!0})),U&&(S.unsubscribe(),S=null,W.subscribe(m))})}function Zr(E,D){return(0,yt.e)(function jn(E,D,m,S,U){return(W,J)=>{let be=m,Je=D,Bt=0;W.subscribe((0,rt.x)(J,Ot=>{const rr=Bt++;Je=be?E(Je,Ot,rr):(be=!0,Ot),S&&J.next(Je)},U&&(()=>{be&&J.next(Je),J.complete()})))}}(E,D,arguments.length>=2,!0))}function Rr(E){return E<=0?()=>lt.E:(0,yt.e)((D,m)=>{let S=[];D.subscribe((0,rt.x)(m,U=>{S.push(U),E<S.length&&S.shift()},()=>{for(const U of S)m.next(U);m.complete()},void 0,()=>{S=null}))})}function Pn(E,D){const m=arguments.length>=2;return S=>S.pipe(E?(0,nt.h)((U,W)=>E(U,W,S)):Le.y,Rr(1),m?pt(D):an(()=>new Ae))}function ni(E){return(0,yt.e)((D,m)=>{try{D.subscribe(m)}finally{m.add(E)}})}var ns=Y(8189),Fi=Y(1481);const cn="primary",br=Symbol("RouteTitle");class Yr{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m[0]:m}return null}getAll(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function Wn(E){return new Yr(E)}function fi(E,D,m){const S=m.path.split("/");if(S.length>E.length||"full"===m.pathMatch&&(D.hasChildren()||S.length<E.length))return null;const U={};for(let W=0;W<S.length;W++){const J=S[W],be=E[W];if(J.startsWith(":"))U[J.substring(1)]=be;else if(J!==be.path)return null}return{consumed:E.slice(0,S.length),posParams:U}}function Ht(E,D){const m=E?Object.keys(E):void 0,S=D?Object.keys(D):void 0;if(!m||!S||m.length!=S.length)return!1;let U;for(let W=0;W<m.length;W++)if(U=m[W],!zi(E[U],D[U]))return!1;return!0}function zi(E,D){if(Array.isArray(E)&&Array.isArray(D)){if(E.length!==D.length)return!1;const m=[...E].sort(),S=[...D].sort();return m.every((U,W)=>S[W]===U)}return E===D}function Ii(E){return Array.prototype.concat.apply([],E)}function dn(E){return E.length>0?E[E.length-1]:null}function kt(E,D){for(const m in E)E.hasOwnProperty(m)&&D(E[m],m)}function Hn(E){return(0,w.CqO)(E)?E:(0,w.QGY)(E)?(0,re.D)(Promise.resolve(E)):(0,k.of)(E)}const ri=!1,ii={exact:function qn(E,D,m){if(!si(E.segments,D.segments)||!er(E.segments,D.segments,m)||E.numberOfChildren!==D.numberOfChildren)return!1;for(const S in D.children)if(!E.children[S]||!qn(E.children[S],D.children[S],m))return!1;return!0},subset:Zn},Li={exact:function Vi(E,D){return Ht(E,D)},subset:function oo(E,D){return Object.keys(D).length<=Object.keys(E).length&&Object.keys(D).every(m=>zi(E[m],D[m]))},ignored:()=>!0};function wr(E,D,m){return ii[m.paths](E.root,D.root,m.matrixParams)&&Li[m.queryParams](E.queryParams,D.queryParams)&&!("exact"===m.fragment&&E.fragment!==D.fragment)}function Zn(E,D,m){return cr(E,D,D.segments,m)}function cr(E,D,m,S){if(E.segments.length>m.length){const U=E.segments.slice(0,m.length);return!(!si(U,m)||D.hasChildren()||!er(U,m,S))}if(E.segments.length===m.length){if(!si(E.segments,m)||!er(E.segments,m,S))return!1;for(const U in D.children)if(!E.children[U]||!Zn(E.children[U],D.children[U],S))return!1;return!0}{const U=m.slice(0,E.segments.length),W=m.slice(E.segments.length);return!!(si(E.segments,U)&&er(E.segments,U,S)&&E.children[cn])&&cr(E.children[cn],D,W,S)}}function er(E,D,m){return D.every((S,U)=>Li[m](E[U].parameters,S.parameters))}class jr{constructor(D=new Qt([],{}),m={},S=null){this.root=D,this.queryParams=m,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wn(this.queryParams)),this._queryParamMap}toString(){return le.serialize(this)}}class Qt{constructor(D,m){this.segments=D,this.children=m,this.parent=null,kt(m,(S,U)=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return we(this)}}class Qr{constructor(D,m){this.path=D,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=Wn(this.parameters)),this._parameterMap}toString(){return Ke(this)}}function si(E,D){return E.length===D.length&&E.every((m,S)=>m.path===D[S].path)}let Sr=(()=>{class E{}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:function(){return new fe},providedIn:"root"}),E})();class fe{parse(D){const m=new Gt(D);return new jr(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(D){const m=`/${Ze(D.root,!0)}`,S=function We(E){const D=Object.keys(E).map(m=>{const S=E[m];return Array.isArray(S)?S.map(U=>`${Tt(m)}=${Tt(U)}`).join("&"):`${Tt(m)}=${Tt(S)}`}).filter(m=>!!m);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${m}${S}${"string"==typeof D.fragment?`#${function Ee(E){return encodeURI(E)}(D.fragment)}`:""}`}}const le=new fe;function we(E){return E.segments.map(D=>Ke(D)).join("/")}function Ze(E,D){if(!E.hasChildren())return we(E);if(D){const m=E.children[cn]?Ze(E.children[cn],!1):"",S=[];return kt(E.children,(U,W)=>{W!==cn&&S.push(`${W}:${Ze(U,!1)}`)}),S.length>0?`${m}(${S.join("//")})`:m}{const m=function pi(E,D){let m=[];return kt(E.children,(S,U)=>{U===cn&&(m=m.concat(D(S,U)))}),kt(E.children,(S,U)=>{U!==cn&&(m=m.concat(D(S,U)))}),m}(E,(S,U)=>U===cn?[Ze(E.children[cn],!1)]:[`${U}:${Ze(S,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[cn]?`${we(E)}/${m[0]}`:`${we(E)}/(${m.join("//")})`}}function Oe(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tt(E){return Oe(E).replace(/%3B/gi,";")}function pe(E){return Oe(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ie(E){return decodeURIComponent(E)}function ve(E){return ie(E.replace(/\+/g,"%20"))}function Ke(E){return`${pe(E.path)}${function Re(E){return Object.keys(E).map(D=>`;${pe(D)}=${pe(E[D])}`).join("")}(E.parameters)}`}const At=/^[^\/()?;=#]+/;function Jt(E){const D=E.match(At);return D?D[0]:""}const tr=/^[^=?&#]+/,Me=/^[^&#]+/;class Gt{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(D.length>0||Object.keys(m).length>0)&&(S[cn]=new Qt(D,m)),S}parseSegment(){const D=Jt(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new w.vHH(4009,ri);return this.capture(D),new Qr(ie(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const m=Jt(this.remaining);if(!m)return;this.capture(m);let S="";if(this.consumeOptional("=")){const U=Jt(this.remaining);U&&(S=U,this.capture(S))}D[ie(m)]=ie(S)}parseQueryParam(D){const m=function je(E){const D=E.match(tr);return D?D[0]:""}(this.remaining);if(!m)return;this.capture(m);let S="";if(this.consumeOptional("=")){const J=function ut(E){const D=E.match(Me);return D?D[0]:""}(this.remaining);J&&(S=J,this.capture(S))}const U=ve(m),W=ve(S);if(D.hasOwnProperty(U)){let J=D[U];Array.isArray(J)||(J=[J],D[U]=J),J.push(W)}else D[U]=W}parseParens(D){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=Jt(this.remaining),U=this.remaining[S.length];if("/"!==U&&")"!==U&&";"!==U)throw new w.vHH(4010,ri);let W;S.indexOf(":")>-1?(W=S.slice(0,S.indexOf(":")),this.capture(W),this.capture(":")):D&&(W=cn);const J=this.parseChildren();m[W]=1===Object.keys(J).length?J[cn]:new Qt([],J),this.consumeOptional("//")}return m}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new w.vHH(4011,ri)}}function un(E){return E.segments.length>0?new Qt([],{[cn]:E}):E}function En(E){const D={};for(const S of Object.keys(E.children)){const W=En(E.children[S]);(W.segments.length>0||W.hasChildren())&&(D[S]=W)}return function Un(E){if(1===E.numberOfChildren&&E.children[cn]){const D=E.children[cn];return new Qt(E.segments.concat(D.segments),D.children)}return E}(new Qt(E.segments,D))}function dr(E){return E instanceof jr}const Ir=!1;function mr(E,D,m,S,U){if(0===m.length)return hs(D.root,D.root,D.root,S,U);const W=function ks(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new go(!0,0,E);let D=0,m=!1;const S=E.reduce((U,W,J)=>{if("object"==typeof W&&null!=W){if(W.outlets){const be={};return kt(W.outlets,(Je,Bt)=>{be[Bt]="string"==typeof Je?Je.split("/"):Je}),[...U,{outlets:be}]}if(W.segmentPath)return[...U,W.segmentPath]}return"string"!=typeof W?[...U,W]:0===J?(W.split("/").forEach((be,Je)=>{0==Je&&"."===be||(0==Je&&""===be?m=!0:".."===be?D++:""!=be&&U.push(be))}),U):[...U,W]},[]);return new go(m,D,S)}(m);return W.toRoot()?hs(D.root,D.root,new Qt([],{}),S,U):function J(Je){const Bt=function Dr(E,D,m,S){if(E.isAbsolute)return new Rt(D.root,!0,0);if(-1===S)return new Rt(m,m===D.root,0);return function Gr(E,D,m){let S=E,U=D,W=m;for(;W>U;){if(W-=U,S=S.parent,!S)throw new w.vHH(4005,Ir&&"Invalid number of '../'");U=S.segments.length}return new Rt(S,!1,U-W)}(m,S+(ss(E.commands[0])?0:1),E.numberOfDoubleDots)}(W,D,E.snapshot?._urlSegment,Je),Ot=Bt.processChildren?xi(Bt.segmentGroup,Bt.index,W.commands):Nr(Bt.segmentGroup,Bt.index,W.commands);return hs(D.root,Bt.segmentGroup,Ot,S,U)}(E.snapshot?._lastPathIndex)}function ss(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function Hr(E){return"object"==typeof E&&null!=E&&E.outlets}function hs(E,D,m,S,U){let J,W={};S&&kt(S,(Je,Bt)=>{W[Bt]=Array.isArray(Je)?Je.map(Ot=>`${Ot}`):`${Je}`}),J=E===D?m:bo(E,D,m);const be=un(En(J));return new jr(be,W,U)}function bo(E,D,m){const S={};return kt(E.children,(U,W)=>{S[W]=U===D?m:bo(U,D,m)}),new Qt(E.segments,S)}class go{constructor(D,m,S){if(this.isAbsolute=D,this.numberOfDoubleDots=m,this.commands=S,D&&S.length>0&&ss(S[0]))throw new w.vHH(4003,Ir&&"Root segment cannot have matrix parameters");const U=S.find(Hr);if(U&&U!==dn(S))throw new w.vHH(4004,Ir&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rt{constructor(D,m,S){this.segmentGroup=D,this.processChildren=m,this.index=S}}function Nr(E,D,m){if(E||(E=new Qt([],{})),0===E.segments.length&&E.hasChildren())return xi(E,D,m);const S=function hr(E,D,m){let S=0,U=D;const W={match:!1,pathIndex:0,commandIndex:0};for(;U<E.segments.length;){if(S>=m.length)return W;const J=E.segments[U],be=m[S];if(Hr(be))break;const Je=`${be}`,Bt=S<m.length-1?m[S+1]:null;if(U>0&&void 0===Je)break;if(Je&&Bt&&"object"==typeof Bt&&void 0===Bt.outlets){if(!Qi(Je,Bt,J))return W;S+=2}else{if(!Qi(Je,{},J))return W;S++}U++}return{match:!0,pathIndex:U,commandIndex:S}}(E,D,m),U=m.slice(S.commandIndex);if(S.match&&S.pathIndex<E.segments.length){const W=new Qt(E.segments.slice(0,S.pathIndex),{});return W.children[cn]=new Qt(E.segments.slice(S.pathIndex),E.children),xi(W,0,U)}return S.match&&0===U.length?new Qt(E.segments,{}):S.match&&!E.hasChildren()?Jr(E,D,m):S.match?xi(E,0,U):Jr(E,D,m)}function xi(E,D,m){if(0===m.length)return new Qt(E.segments,{});{const S=function Is(E){return Hr(E[0])?E[0].outlets:{[cn]:E}}(m),U={};if(!S[cn]&&E.children[cn]&&1===E.numberOfChildren&&0===E.children[cn].segments.length){const W=xi(E.children[cn],D,m);return new Qt(E.segments,W.children)}return kt(S,(W,J)=>{"string"==typeof W&&(W=[W]),null!==W&&(U[J]=Nr(E.children[J],D,W))}),kt(E.children,(W,J)=>{void 0===S[J]&&(U[J]=W)}),new Qt(E.segments,U)}}function Jr(E,D,m){const S=E.segments.slice(0,D);let U=0;for(;U<m.length;){const W=m[U];if(Hr(W)){const Je=zs(W.outlets);return new Qt(S,Je)}if(0===U&&ss(m[0])){S.push(new Qr(E.segments[D].path,Dn(m[0]))),U++;continue}const J=Hr(W)?W.outlets[cn]:`${W}`,be=U<m.length-1?m[U+1]:null;J&&be&&ss(be)?(S.push(new Qr(J,Dn(be))),U+=2):(S.push(new Qr(J,{})),U++)}return new Qt(S,{})}function zs(E){const D={};return kt(E,(m,S)=>{"string"==typeof m&&(m=[m]),null!==m&&(D[S]=Jr(new Qt([],{}),0,m))}),D}function Dn(E){const D={};return kt(E,(m,S)=>D[S]=`${m}`),D}function Qi(E,D,m){return E==m.path&&Ht(D,m.parameters)}const Ws="imperative";class Wi{constructor(D,m){this.id=D,this.url=m}}class Ds extends Wi{constructor(D,m,S="imperative",U=null){super(D,m),this.type=0,this.navigationTrigger=S,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xr extends Wi{constructor(D,m,S){super(D,m),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qn extends Wi{constructor(D,m,S,U){super(D,m),this.reason=S,this.code=U,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qs extends Wi{constructor(D,m,S,U){super(D,m),this.reason=S,this.code=U,this.type=16}}class yr extends Wi{constructor(D,m,S,U){super(D,m),this.error=S,this.target=U,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ei extends Wi{constructor(D,m,S,U){super(D,m),this.urlAfterRedirects=S,this.state=U,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gi extends Wi{constructor(D,m,S,U){super(D,m),this.urlAfterRedirects=S,this.state=U,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ur extends Wi{constructor(D,m,S,U,W){super(D,m),this.urlAfterRedirects=S,this.state=U,this.shouldActivate=W,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ks extends Wi{constructor(D,m,S,U){super(D,m),this.urlAfterRedirects=S,this.state=U,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Go extends Wi{constructor(D,m,S,U){super(D,m),this.urlAfterRedirects=S,this.state=U,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vt{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Di{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class os{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pi{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cr{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class So{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mi{constructor(D,m,S){this.routerEvent=D,this.position=m,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let qi=(()=>{class E{createUrlTree(m,S,U,W,J,be){return mr(m||S.root,U,W,J,be)}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac}),E})(),Or=(()=>{class E{}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:function(D){return qi.\u0275fac(D)},providedIn:"root"}),E})();class zo{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const m=this.pathFromRoot(D);return m.length>1?m[m.length-2]:null}children(D){const m=fr(D,this._root);return m?m.children.map(S=>S.value):[]}firstChild(D){const m=fr(D,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(D){const m=pr(D,this._root);return m.length<2?[]:m[m.length-2].children.map(U=>U.value).filter(U=>U!==D)}pathFromRoot(D){return pr(D,this._root).map(m=>m.value)}}function fr(E,D){if(E===D.value)return D;for(const m of D.children){const S=fr(E,m);if(S)return S}return null}function pr(E,D){if(E===D.value)return[D];for(const m of D.children){const S=pr(E,m);if(S.length)return S.unshift(D),S}return[]}class Ki{constructor(D,m){this.value=D,this.children=m}toString(){return`TreeNode(${this.value})`}}function Fs(E){const D={};return E&&E.children.forEach(m=>D[m.value.outlet]=m),D}class va extends zo{constructor(D,m){super(D),this.snapshot=m,da(this,D)}toString(){return this.snapshot.toString()}}function yi(E,D){const m=function _i(E,D){const J=new Bi([],{},{},"",{},cn,D,null,E.root,-1,{});return new _o("",new Ki(J,[]))}(E,D),S=new De.X([new Qr("",{})]),U=new De.X({}),W=new De.X({}),J=new De.X({}),be=new De.X(""),Je=new mo(S,U,J,be,W,cn,D,m.root);return Je.snapshot=m.root,new va(new Ki(Je,[]),m)}class mo{constructor(D,m,S,U,W,J,be,Je){this.url=D,this.params=m,this.queryParams=S,this.fragment=U,this.data=W,this.outlet=J,this.component=be,this.title=this.data?.pipe((0,ct.U)(Bt=>Bt[br]))??(0,k.of)(void 0),this._futureSnapshot=Je}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(D=>Wn(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(D=>Wn(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yo(E,D="emptyOnly"){const m=E.pathFromRoot;let S=0;if("always"!==D)for(S=m.length-1;S>=1;){const U=m[S],W=m[S-1];if(U.routeConfig&&""===U.routeConfig.path)S--;else{if(W.component)break;S--}}return function ai(E){return E.reduce((D,m)=>({params:{...D.params,...m.params},data:{...D.data,...m.data},resolve:{...m.data,...D.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(S))}class Bi{get title(){return this.data?.[br]}constructor(D,m,S,U,W,J,be,Je,Bt,Ot,rr){this.url=D,this.params=m,this.queryParams=S,this.fragment=U,this.data=W,this.outlet=J,this.component=be,this.routeConfig=Je,this._urlSegment=Bt,this._lastPathIndex=Ot,this._resolve=rr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _o extends zo{constructor(D,m){super(m),this.url=D,da(this,m)}toString(){return Ao(this._root)}}function da(E,D){D.value._routerState=E,D.children.forEach(m=>da(E,m))}function Ao(E){const D=E.children.length>0?` { ${E.children.map(Ao).join(", ")} } `:"";return`${E.value}${D}`}function Ea(E){if(E.snapshot){const D=E.snapshot,m=E._futureSnapshot;E.snapshot=m,Ht(D.queryParams,m.queryParams)||E.queryParams.next(m.queryParams),D.fragment!==m.fragment&&E.fragment.next(m.fragment),Ht(D.params,m.params)||E.params.next(m.params),function rs(E,D){if(E.length!==D.length)return!1;for(let m=0;m<E.length;++m)if(!Ht(E[m],D[m]))return!1;return!0}(D.url,m.url)||E.url.next(m.url),Ht(D.data,m.data)||E.data.next(m.data)}else E.snapshot=E._futureSnapshot,E.data.next(E._futureSnapshot.data)}function Cs(E,D){const m=Ht(E.params,D.params)&&function sr(E,D){return si(E,D)&&E.every((m,S)=>Ht(m.parameters,D[S].parameters))}(E.url,D.url);return m&&!(!E.parent!=!D.parent)&&(!E.parent||Cs(E.parent,D.parent))}function Wo(E,D,m){if(m&&E.shouldReuseRoute(D.value,m.value.snapshot)){const S=m.value;S._futureSnapshot=D.value;const U=function qo(E,D,m){return D.children.map(S=>{for(const U of m.children)if(E.shouldReuseRoute(S.value,U.value.snapshot))return Wo(E,S,U);return Wo(E,S)})}(E,D,m);return new Ki(S,U)}{if(E.shouldAttach(D.value)){const W=E.retrieve(D.value);if(null!==W){const J=W.route;return J.value._futureSnapshot=D.value,J.children=D.children.map(be=>Wo(E,be)),J}}const S=function Ko(E){return new mo(new De.X(E.url),new De.X(E.params),new De.X(E.queryParams),new De.X(E.fragment),new De.X(E.data),E.outlet,E.component,E)}(D.value),U=D.children.map(W=>Wo(E,W));return new Ki(S,U)}}const as="ngNavigationCancelingError";function uo(E,D){const{redirectTo:m,navigationBehaviorOptions:S}=dr(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,U=Vr(!1,0,D);return U.url=m,U.navigationBehaviorOptions=S,U}function Vr(E,D,m){const S=new Error("NavigationCancelingError: "+(E||""));return S[as]=!0,S.cancellationCode=D,m&&(S.url=m),S}function Ts(E){return lo(E)&&dr(E.url)}function lo(E){return E&&E[as]}class vo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Zi,this.attachRef=null}}let Zi=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(m,S){const U=this.getOrCreateContext(m);U.outlet=S,this.contexts.set(m,U)}onChildOutletDestroyed(m){const S=this.getContext(m);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let S=this.getContext(m);return S||(S=new vo,this.contexts.set(m,S)),S}getContext(m){return this.contexts.get(m)||null}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Zs=!1;let bs=(()=>{class E{constructor(){this.activated=null,this._activatedRoute=null,this.name=cn,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.parentContexts=(0,w.f3M)(Zi),this.location=(0,w.f3M)(w.s_b),this.changeDetector=(0,w.f3M)(w.sBO),this.environmentInjector=(0,w.f3M)(w.lqb)}ngOnChanges(m){if(m.name){const{firstChange:S,previousValue:U}=m.name;if(S)return;this.isTrackedInParentContexts(U)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(U)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.vHH(4012,Zs);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.vHH(4012,Zs);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.vHH(4012,Zs);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,S){this.activated=m,this._activatedRoute=S,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,S){if(this.isActivated)throw new w.vHH(4013,Zs);this._activatedRoute=m;const U=this.location,J=m.snapshot.component,be=this.parentContexts.getOrCreateContext(this.name).children,Je=new Ys(m,be,U.injector);if(S&&function Zo(E){return!!E.resolveComponentFactory}(S)){const Bt=S.resolveComponentFactory(J);this.activated=U.createComponent(Bt,U.length,Je)}else this.activated=U.createComponent(J,{index:U.length,injector:Je,environmentInjector:S??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275dir=w.lG2({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[w.TTD]}),E})();class Ys{constructor(D,m,S){this.route=D,this.childContexts=m,this.parent=S}get(D,m){return D===mo?this.route:D===Zi?this.childContexts:this.parent.get(D,m)}}let Tr=(()=>{class E{}return E.\u0275fac=function(m){return new(m||E)},E.\u0275cmp=w.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[w.jDz],decls:1,vars:0,template:function(m,S){1&m&&w._UZ(0,"router-outlet")},dependencies:[bs],encapsulation:2}),E})();function Mo(E,D){return E.providers&&!E._injector&&(E._injector=(0,w.MMx)(E.providers,D,`Route: ${E.path}`)),E._injector??D}function Ri(E){const D=E.children&&E.children.map(Ri),m=D?{...E,children:D}:{...E};return!m.component&&!m.loadComponent&&(D||m.loadChildren)&&m.outlet&&m.outlet!==cn&&(m.component=Tr),m}function ji(E){return E.outlet||cn}function vi(E,D){const m=E.filter(S=>ji(S)===D);return m.push(...E.filter(S=>ji(S)!==D)),m}function Ls(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let D=E.parent;D;D=D.parent){const m=D.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Jo{constructor(D,m,S,U){this.routeReuseStrategy=D,this.futureState=m,this.currState=S,this.forwardEvent=U}activate(D){const m=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,S,D),Ea(this.futureState.root),this.activateChildRoutes(m,S,D)}deactivateChildRoutes(D,m,S){const U=Fs(m);D.children.forEach(W=>{const J=W.value.outlet;this.deactivateRoutes(W,U[J],S),delete U[J]}),kt(U,(W,J)=>{this.deactivateRouteAndItsChildren(W,S)})}deactivateRoutes(D,m,S){const U=D.value,W=m?m.value:null;if(U===W)if(U.component){const J=S.getContext(U.outlet);J&&this.deactivateChildRoutes(D,m,J.children)}else this.deactivateChildRoutes(D,m,S);else W&&this.deactivateRouteAndItsChildren(m,S)}deactivateRouteAndItsChildren(D,m){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,m):this.deactivateRouteAndOutlet(D,m)}detachAndStoreRouteSubtree(D,m){const S=m.getContext(D.value.outlet),U=S&&D.value.component?S.children:m,W=Fs(D);for(const J of Object.keys(W))this.deactivateRouteAndItsChildren(W[J],U);if(S&&S.outlet){const J=S.outlet.detach(),be=S.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:J,route:D,contexts:be})}}deactivateRouteAndOutlet(D,m){const S=m.getContext(D.value.outlet),U=S&&D.value.component?S.children:m,W=Fs(D);for(const J of Object.keys(W))this.deactivateRouteAndItsChildren(W[J],U);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.resolver=null,S.route=null)}activateChildRoutes(D,m,S){const U=Fs(m);D.children.forEach(W=>{this.activateRoutes(W,U[W.value.outlet],S),this.forwardEvent(new So(W.value.snapshot))}),D.children.length&&this.forwardEvent(new Pi(D.value.snapshot))}activateRoutes(D,m,S){const U=D.value,W=m?m.value:null;if(Ea(U),U===W)if(U.component){const J=S.getOrCreateContext(U.outlet);this.activateChildRoutes(D,m,J.children)}else this.activateChildRoutes(D,m,S);else if(U.component){const J=S.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const be=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),J.children.onOutletReAttached(be.contexts),J.attachRef=be.componentRef,J.route=be.route.value,J.outlet&&J.outlet.attach(be.componentRef,be.route.value),Ea(be.route.value),this.activateChildRoutes(D,null,J.children)}else{const be=Ls(U.snapshot),Je=be?.get(w._Vd)??null;J.attachRef=null,J.route=U,J.resolver=Je,J.injector=be,J.outlet&&J.outlet.activateWith(U,J.injector),this.activateChildRoutes(D,null,J.children)}}else this.activateChildRoutes(D,null,S)}}class Qs{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class en{constructor(D,m){this.component=D,this.route=m}}function Xo(E,D,m){const S=E._root;return xo(S,D?D._root:null,m,[S.value])}function As(E,D){const m=Symbol(),S=D.get(E,m);return S===m?"function"!=typeof E||(0,w.Z0I)(E)?D.get(E):E:S}function xo(E,D,m,S,U={canDeactivateChecks:[],canActivateChecks:[]}){const W=Fs(D);return E.children.forEach(J=>{(function L(E,D,m,S,U={canDeactivateChecks:[],canActivateChecks:[]}){const W=E.value,J=D?D.value:null,be=m?m.getContext(E.value.outlet):null;if(J&&W.routeConfig===J.routeConfig){const Je=function F(E,D,m){if("function"==typeof m)return m(E,D);switch(m){case"pathParamsChange":return!si(E.url,D.url);case"pathParamsOrQueryParamsChange":return!si(E.url,D.url)||!Ht(E.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cs(E,D)||!Ht(E.queryParams,D.queryParams);default:return!Cs(E,D)}}(J,W,W.routeConfig.runGuardsAndResolvers);Je?U.canActivateChecks.push(new Qs(S)):(W.data=J.data,W._resolvedData=J._resolvedData),xo(E,D,W.component?be?be.children:null:m,S,U),Je&&be&&be.outlet&&be.outlet.isActivated&&U.canDeactivateChecks.push(new en(be.outlet.component,J))}else J&&N(D,be,U),U.canActivateChecks.push(new Qs(S)),xo(E,null,W.component?be?be.children:null:m,S,U)})(J,W[J.value.outlet],m,S.concat([J.value]),U),delete W[J.value.outlet]}),kt(W,(J,be)=>N(J,m.getContext(be),U)),U}function N(E,D,m){const S=Fs(E),U=E.value;kt(S,(W,J)=>{N(W,U.component?D?D.children.getContext(J):null:D,m)}),m.canDeactivateChecks.push(new en(U.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,U))}function Z(E){return"function"==typeof E}function us(E){return E instanceof Ae||"EmptyError"===E?.name}const Bs=Symbol("INITIAL_VALUE");function Eo(){return(0,Ge.w)(E=>gt(E.map(D=>D.pipe((0,Se.q)(1),(0,et.O)(Bs)))).pipe((0,ct.U)(D=>{for(const m of D)if(!0!==m){if(m===Bs)return Bs;if(!1===m||m instanceof jr)return m}return!0}),(0,nt.h)(D=>D!==Bs),(0,Se.q)(1)))}function Ia(E){return(0,Fe.z)((0,jt.b)(D=>{if(dr(D))throw uo(0,D)}),(0,ct.U)(D=>!0===D))}const ta={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function na(E,D,m,S,U){const W=ps(E,D,m);return W.matched?function Sn(E,D,m,S){const U=D.canMatch;if(!U||0===U.length)return(0,k.of)(!0);const W=U.map(J=>{const be=As(J,E);return Hn(function Vs(E){return E&&Z(E.canMatch)}(be)?be.canMatch(D,m):E.runInContext(()=>be(D,m)))});return(0,k.of)(W).pipe(Eo(),Ia())}(S=Mo(D,S),D,m).pipe((0,ct.U)(J=>!0===J?W:{...ta})):(0,k.of)(W)}function ps(E,D,m){if(""===D.path)return"full"===D.pathMatch&&(E.hasChildren()||m.length>0)?{...ta}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const U=(D.matcher||fi)(m,E,D);if(!U)return{...ta};const W={};kt(U.posParams,(be,Je)=>{W[Je]=be.path});const J=U.consumed.length>0?{...W,...U.consumed[U.consumed.length-1].parameters}:W;return{matched:!0,consumedSegments:U.consumed,remainingSegments:m.slice(U.consumed.length),parameters:J,positionalParamSegments:U.posParams??{}}}function Ro(E,D,m,S){if(m.length>0&&function Oo(E,D,m){return m.some(S=>gs(E,D,S)&&ji(S)!==cn)}(E,m,S)){const W=new Qt(D,function No(E,D,m,S){const U={};U[cn]=S,S._sourceSegment=E,S._segmentIndexShift=D.length;for(const W of m)if(""===W.path&&ji(W)!==cn){const J=new Qt([],{});J._sourceSegment=E,J._segmentIndexShift=D.length,U[ji(W)]=J}return U}(E,D,S,new Qt(m,E.children)));return W._sourceSegment=E,W._segmentIndexShift=D.length,{segmentGroup:W,slicedSegments:[]}}if(0===m.length&&function Qa(E,D,m){return m.some(S=>gs(E,D,S))}(E,m,S)){const W=new Qt(E.segments,function fa(E,D,m,S,U){const W={};for(const J of S)if(gs(E,m,J)&&!U[ji(J)]){const be=new Qt([],{});be._sourceSegment=E,be._segmentIndexShift=D.length,W[ji(J)]=be}return{...U,...W}}(E,D,m,S,E.children));return W._sourceSegment=E,W._segmentIndexShift=D.length,{segmentGroup:W,slicedSegments:m}}const U=new Qt(E.segments,E.children);return U._sourceSegment=E,U._segmentIndexShift=D.length,{segmentGroup:U,slicedSegments:m}}function gs(E,D,m){return(!(E.hasChildren()||D.length>0)||"full"!==m.pathMatch)&&""===m.path}function Ji(E,D,m,S){return!!(ji(E)===S||S!==cn&&gs(D,m,E))&&("**"===E.path||ps(D,E,m).matched)}function li(E,D,m){return 0===D.length&&!E.children[m]}const xs=!1;class ko{constructor(D){this.segmentGroup=D||null}}class Hi{constructor(D){this.urlTree=D}}function kr(E){return He(new ko(E))}function Xi(E){return He(new Hi(E))}class Ca{constructor(D,m,S,U,W){this.injector=D,this.configLoader=m,this.urlSerializer=S,this.urlTree=U,this.config=W,this.allowRedirects=!0}apply(){const D=Ro(this.urlTree.root,[],[],this.config).segmentGroup,m=new Qt(D.segments,D.children);return this.expandSegmentGroup(this.injector,this.config,m,cn).pipe((0,ct.U)(W=>this.createUrlTree(En(W),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Mt(W=>{if(W instanceof Hi)return this.allowRedirects=!1,this.match(W.urlTree);throw W instanceof ko?this.noMatchError(W):W}))}match(D){return this.expandSegmentGroup(this.injector,this.config,D.root,cn).pipe((0,ct.U)(U=>this.createUrlTree(En(U),D.queryParams,D.fragment))).pipe(Mt(U=>{throw U instanceof ko?this.noMatchError(U):U}))}noMatchError(D){return new w.vHH(4002,xs)}createUrlTree(D,m,S){const U=un(D);return new jr(U,m,S)}expandSegmentGroup(D,m,S,U){return 0===S.segments.length&&S.hasChildren()?this.expandChildren(D,m,S).pipe((0,ct.U)(W=>new Qt([],W))):this.expandSegment(D,S,m,S.segments,U,!0)}expandChildren(D,m,S){const U=[];for(const W of Object.keys(S.children))"primary"===W?U.unshift(W):U.push(W);return(0,re.D)(U).pipe(Kt(W=>{const J=S.children[W],be=vi(m,W);return this.expandSegmentGroup(D,be,J,W).pipe((0,ct.U)(Je=>({segment:Je,outlet:W})))}),Zr((W,J)=>(W[J.outlet]=J.segment,W),{}),Pn())}expandSegment(D,m,S,U,W,J){return(0,re.D)(S).pipe(Kt(be=>this.expandSegmentAgainstRoute(D,m,S,be,U,W,J).pipe(Mt(Bt=>{if(Bt instanceof ko)return(0,k.of)(null);throw Bt}))),kn(be=>!!be),Mt((be,Je)=>{if(us(be))return li(m,U,W)?(0,k.of)(new Qt([],{})):kr(m);throw be}))}expandSegmentAgainstRoute(D,m,S,U,W,J,be){return Ji(U,m,W,J)?void 0===U.redirectTo?this.matchSegmentAgainstRoute(D,m,U,W,J):be&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,m,S,U,W,J):kr(m):kr(m)}expandSegmentAgainstRouteUsingRedirect(D,m,S,U,W,J){return"**"===U.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,S,U,J):this.expandRegularSegmentAgainstRouteUsingRedirect(D,m,S,U,W,J)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,m,S,U){const W=this.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?Xi(W):this.lineralizeSegments(S,W).pipe((0,ft.z)(J=>{const be=new Qt(J,{});return this.expandSegment(D,be,m,J,U,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,m,S,U,W,J){const{matched:be,consumedSegments:Je,remainingSegments:Bt,positionalParamSegments:Ot}=ps(m,U,W);if(!be)return kr(m);const rr=this.applyRedirectCommands(Je,U.redirectTo,Ot);return U.redirectTo.startsWith("/")?Xi(rr):this.lineralizeSegments(U,rr).pipe((0,ft.z)(Ai=>this.expandSegment(D,m,S,Ai.concat(Bt),J,!1)))}matchSegmentAgainstRoute(D,m,S,U,W){return"**"===S.path?(D=Mo(S,D),S.loadChildren?(S._loadedRoutes?(0,k.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):this.configLoader.loadChildren(D,S)).pipe((0,ct.U)(be=>(S._loadedRoutes=be.routes,S._loadedInjector=be.injector,new Qt(U,{})))):(0,k.of)(new Qt(U,{}))):na(m,S,U,D).pipe((0,Ge.w)(({matched:J,consumedSegments:be,remainingSegments:Je})=>J?this.getChildConfig(D=S._injector??D,S,U).pipe((0,ft.z)(Ot=>{const rr=Ot.injector??D,Ai=Ot.routes,{segmentGroup:Wr,slicedSegments:jo}=Ro(m,be,Je,Ai),vs=new Qt(Wr.segments,Wr.children);if(0===jo.length&&vs.hasChildren())return this.expandChildren(rr,Ai,vs).pipe((0,ct.U)(Es=>new Qt(be,Es)));if(0===Ai.length&&0===jo.length)return(0,k.of)(new Qt(be,{}));const Io=ji(S)===W;return this.expandSegment(rr,vs,Ai,jo,Io?cn:W,!0).pipe((0,ct.U)(sa=>new Qt(be.concat(sa.segments),sa.children)))})):kr(m)))}getChildConfig(D,m,S){return m.children?(0,k.of)({routes:m.children,injector:D}):m.loadChildren?void 0!==m._loadedRoutes?(0,k.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function Ms(E,D,m,S){const U=D.canLoad;if(void 0===U||0===U.length)return(0,k.of)(!0);const W=U.map(J=>{const be=As(J,E);return Hn(function dt(E){return E&&Z(E.canLoad)}(be)?be.canLoad(D,m):E.runInContext(()=>be(D,m)))});return(0,k.of)(W).pipe(Eo(),Ia())}(D,m,S).pipe((0,ft.z)(U=>U?this.configLoader.loadChildren(D,m).pipe((0,jt.b)(W=>{m._loadedRoutes=W.routes,m._loadedInjector=W.injector})):function Da(E){return He(Vr(xs,3))}())):(0,k.of)({routes:[],injector:D})}lineralizeSegments(D,m){let S=[],U=m.root;for(;;){if(S=S.concat(U.segments),0===U.numberOfChildren)return(0,k.of)(S);if(U.numberOfChildren>1||!U.children[cn])return D.redirectTo,He(new w.vHH(4e3,xs));U=U.children[cn]}}applyRedirectCommands(D,m,S){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),D,S)}applyRedirectCreateUrlTree(D,m,S,U){const W=this.createSegmentGroup(D,m.root,S,U);return new jr(W,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(D,m){const S={};return kt(D,(U,W)=>{if("string"==typeof U&&U.startsWith(":")){const be=U.substring(1);S[W]=m[be]}else S[W]=U}),S}createSegmentGroup(D,m,S,U){const W=this.createSegments(D,m.segments,S,U);let J={};return kt(m.children,(be,Je)=>{J[Je]=this.createSegmentGroup(D,be,S,U)}),new Qt(W,J)}createSegments(D,m,S,U){return m.map(W=>W.path.startsWith(":")?this.findPosParam(D,W,U):this.findOrReturn(W,S))}findPosParam(D,m,S){const U=S[m.path.substring(1)];if(!U)throw new w.vHH(4001,xs);return U}findOrReturn(D,m){let S=0;for(const U of m){if(U.path===D.path)return m.splice(S),U;S++}return D}}class A{}class K{constructor(D,m,S,U,W,J,be){this.injector=D,this.rootComponentType=m,this.config=S,this.urlTree=U,this.url=W,this.paramsInheritanceStrategy=J,this.urlSerializer=be}recognize(){const D=Ro(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,cn).pipe((0,ct.U)(m=>{if(null===m)return null;const S=new Bi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},cn,this.rootComponentType,null,this.urlTree.root,-1,{}),U=new Ki(S,m),W=new _o(this.url,U);return this.inheritParamsAndData(W._root),W}))}inheritParamsAndData(D){const m=D.value,S=yo(m,this.paramsInheritanceStrategy);m.params=Object.freeze(S.params),m.data=Object.freeze(S.data),D.children.forEach(U=>this.inheritParamsAndData(U))}processSegmentGroup(D,m,S,U){return 0===S.segments.length&&S.hasChildren()?this.processChildren(D,m,S):this.processSegment(D,m,S,S.segments,U)}processChildren(D,m,S){return(0,re.D)(Object.keys(S.children)).pipe(Kt(U=>{const W=S.children[U],J=vi(m,U);return this.processSegmentGroup(D,J,W,U)}),Zr((U,W)=>U&&W?(U.push(...W),U):null),function Mi(E,D=!1){return(0,yt.e)((m,S)=>{let U=0;m.subscribe((0,rt.x)(S,W=>{const J=E(W,U++);(J||D)&&S.next(W),!J&&S.complete()}))})}(U=>null!==U),pt(null),Pn(),(0,ct.U)(U=>{if(null===U)return null;const W=Et(U);return function ue(E){E.sort((D,m)=>D.value.outlet===cn?-1:m.value.outlet===cn?1:D.value.outlet.localeCompare(m.value.outlet))}(W),W}))}processSegment(D,m,S,U,W){return(0,re.D)(m).pipe(Kt(J=>this.processSegmentAgainstRoute(J._injector??D,J,S,U,W)),kn(J=>!!J),Mt(J=>{if(us(J))return li(S,U,W)?(0,k.of)([]):(0,k.of)(null);throw J}))}processSegmentAgainstRoute(D,m,S,U,W){if(m.redirectTo||!Ji(m,S,U,W))return(0,k.of)(null);let J;if("**"===m.path){const be=U.length>0?dn(U).parameters:{},Je=Gn(S)+U.length,Bt=new Bi(U,be,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tt(m),ji(m),m.component??m._loadedComponent??null,m,An(S),Je,gn(m));J=(0,k.of)({snapshot:Bt,consumedSegments:[],remainingSegments:[]})}else J=na(S,m,U,D).pipe((0,ct.U)(({matched:be,consumedSegments:Je,remainingSegments:Bt,parameters:Ot})=>{if(!be)return null;const rr=Gn(S)+Je.length;return{snapshot:new Bi(Je,Ot,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tt(m),ji(m),m.component??m._loadedComponent??null,m,An(S),rr,gn(m)),consumedSegments:Je,remainingSegments:Bt}}));return J.pipe((0,Ge.w)(be=>{if(null===be)return(0,k.of)(null);const{snapshot:Je,consumedSegments:Bt,remainingSegments:Ot}=be;D=m._injector??D;const rr=m._loadedInjector??D,Ai=function ke(E){return E.children?E.children:E.loadChildren?E._loadedRoutes:[]}(m),{segmentGroup:Wr,slicedSegments:jo}=Ro(S,Bt,Ot,Ai.filter(Io=>void 0===Io.redirectTo));if(0===jo.length&&Wr.hasChildren())return this.processChildren(rr,Ai,Wr).pipe((0,ct.U)(Io=>null===Io?null:[new Ki(Je,Io)]));if(0===Ai.length&&0===jo.length)return(0,k.of)([new Ki(Je,[])]);const vs=ji(m)===W;return this.processSegment(rr,Ai,Wr,jo,vs?cn:W).pipe((0,ct.U)(Io=>null===Io?null:[new Ki(Je,Io)]))}))}}function Qe(E){const D=E.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function Et(E){const D=[],m=new Set;for(const S of E){if(!Qe(S)){D.push(S);continue}const U=D.find(W=>S.value.routeConfig===W.value.routeConfig);void 0!==U?(U.children.push(...S.children),m.add(U)):D.push(S)}for(const S of m){const U=Et(S.children);D.push(new Ki(S.value,U))}return D.filter(S=>!m.has(S))}function An(E){let D=E;for(;D._sourceSegment;)D=D._sourceSegment;return D}function Gn(E){let D=E,m=D._segmentIndexShift??0;for(;D._sourceSegment;)D=D._sourceSegment,m+=D._segmentIndexShift??0;return m-1}function tt(E){return E.data||{}}function gn(E){return E.resolve||{}}function $e(E){return"string"==typeof E.title||null===E.title}function ot(E){return(0,Ge.w)(D=>{const m=E(D);return m?(0,re.D)(m).pipe((0,ct.U)(()=>D)):(0,k.of)(D)})}const ls=new w.OlP("ROUTES");let ja=(()=>{class E{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,w.f3M)(w.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,k.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const S=Hn(m.loadComponent()).pipe((0,ct.U)(ra),(0,jt.b)(W=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=W}),ni(()=>{this.componentLoaders.delete(m)})),U=new bn(S,()=>new $t.x).pipe(pn());return this.componentLoaders.set(m,U),U}loadChildren(m,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,k.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const W=this.loadModuleFactoryOrRoutes(S.loadChildren).pipe((0,ct.U)(be=>{this.onLoadEndListener&&this.onLoadEndListener(S);let Je,Bt,Ot=!1;Array.isArray(be)?Bt=be:(Je=be.create(m).injector,Bt=Ii(Je.get(ls,[],w.XFs.Self|w.XFs.Optional)));return{routes:Bt.map(Ri),injector:Je}}),ni(()=>{this.childrenLoaders.delete(S)})),J=new bn(W,()=>new $t.x).pipe(pn());return this.childrenLoaders.set(S,J),J}loadModuleFactoryOrRoutes(m){return Hn(m()).pipe((0,ct.U)(ra),(0,ft.z)(S=>S instanceof w.YKP||Array.isArray(S)?(0,k.of)(S):(0,re.D)(this.compiler.compileModuleAsync(S))))}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function ra(E){return function xa(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let eu=(()=>{class E{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new $t.x,this.configLoader=(0,w.f3M)(ja),this.environmentInjector=(0,w.f3M)(w.lqb),this.urlSerializer=(0,w.f3M)(Sr),this.rootContexts=(0,w.f3M)(Zi),this.navigationId=0,this.afterPreactivation=()=>(0,k.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=U=>this.events.next(new Di(U)),this.configLoader.onLoadStartListener=U=>this.events.next(new vt(U))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:S})}setupNavigations(m){return this.transitions=new De.X({id:0,targetPageId:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ws,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,nt.h)(S=>0!==S.id),(0,ct.U)(S=>({...S,extractedUrl:m.urlHandlingStrategy.extract(S.rawUrl)})),(0,Ge.w)(S=>{let U=!1,W=!1;return(0,k.of)(S).pipe((0,jt.b)(J=>{this.currentNavigation={id:J.id,initialUrl:J.rawUrl,extractedUrl:J.extractedUrl,trigger:J.source,extras:J.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ge.w)(J=>{const be=m.browserUrlTree.toString(),Je=!m.navigated||J.extractedUrl.toString()!==be||be!==m.currentUrlTree.toString();if(!Je&&"reload"!==(J.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Ot="";return this.events.next(new qs(J.id,m.serializeUrl(S.rawUrl),Ot,0)),m.rawUrlTree=J.rawUrl,J.resolve(null),lt.E}if(m.urlHandlingStrategy.shouldProcessUrl(J.rawUrl))return Fo(J.source)&&(m.browserUrlTree=J.extractedUrl),(0,k.of)(J).pipe((0,Ge.w)(Ot=>{const rr=this.transitions?.getValue();return this.events.next(new Ds(Ot.id,this.urlSerializer.serialize(Ot.extractedUrl),Ot.source,Ot.restoredState)),rr!==this.transitions?.getValue()?lt.E:Promise.resolve(Ot)}),function Xa(E,D,m,S){return(0,Ge.w)(U=>function Ja(E,D,m,S,U){return new Ca(E,D,m,S,U).apply()}(E,D,m,U.extractedUrl,S).pipe((0,ct.U)(W=>({...U,urlAfterRedirects:W}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,m.config),(0,jt.b)(Ot=>{this.currentNavigation={...this.currentNavigation,finalUrl:Ot.urlAfterRedirects},S.urlAfterRedirects=Ot.urlAfterRedirects}),function xr(E,D,m,S,U){return(0,ft.z)(W=>function O(E,D,m,S,U,W,J="emptyOnly"){return new K(E,D,m,S,U,J,W).recognize().pipe((0,Ge.w)(be=>null===be?function j(E){return new Be.y(D=>D.error(E))}(new A):(0,k.of)(be)))}(E,D,m,W.urlAfterRedirects,S.serialize(W.urlAfterRedirects),S,U).pipe((0,ct.U)(J=>({...W,targetSnapshot:J}))))}(this.environmentInjector,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,jt.b)(Ot=>{if(S.targetSnapshot=Ot.targetSnapshot,"eager"===m.urlUpdateStrategy){if(!Ot.extras.skipLocationChange){const Ai=m.urlHandlingStrategy.merge(Ot.urlAfterRedirects,Ot.rawUrl);m.setBrowserUrl(Ai,Ot)}m.browserUrlTree=Ot.urlAfterRedirects}const rr=new ei(Ot.id,this.urlSerializer.serialize(Ot.extractedUrl),this.urlSerializer.serialize(Ot.urlAfterRedirects),Ot.targetSnapshot);this.events.next(rr)}));if(Je&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:Ot,extractedUrl:rr,source:Ai,restoredState:Wr,extras:jo}=J,vs=new Ds(Ot,this.urlSerializer.serialize(rr),Ai,Wr);this.events.next(vs);const Io=yi(rr,this.rootComponentType).snapshot;return S={...J,targetSnapshot:Io,urlAfterRedirects:rr,extras:{...jo,skipLocationChange:!1,replaceUrl:!1}},(0,k.of)(S)}{const Ot="";return this.events.next(new qs(J.id,m.serializeUrl(S.extractedUrl),Ot,1)),m.rawUrlTree=J.rawUrl,J.resolve(null),lt.E}}),(0,jt.b)(J=>{const be=new gi(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(J.urlAfterRedirects),J.targetSnapshot);this.events.next(be)}),(0,ct.U)(J=>S={...J,guards:Xo(J.targetSnapshot,J.currentSnapshot,this.rootContexts)}),function wo(E,D){return(0,ft.z)(m=>{const{targetSnapshot:S,currentSnapshot:U,guards:{canActivateChecks:W,canDeactivateChecks:J}}=m;return 0===J.length&&0===W.length?(0,k.of)({...m,guardsResult:!0}):function wa(E,D,m,S){return(0,re.D)(E).pipe((0,ft.z)(U=>function Ni(E,D,m,S,U){const W=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,k.of)(!0);const J=W.map(be=>{const Je=Ls(D)??U,Bt=As(be,Je);return Hn(function gr(E){return E&&Z(E.canDeactivate)}(Bt)?Bt.canDeactivate(E,D,m,S):Je.runInContext(()=>Bt(E,D,m,S))).pipe(kn())});return(0,k.of)(J).pipe(Eo())}(U.component,U.route,m,D,S)),kn(U=>!0!==U,!0))}(J,S,U,E).pipe((0,ft.z)(be=>be&&function ae(E){return"boolean"==typeof E}(be)?function bi(E,D,m,S){return(0,re.D)(D).pipe(Kt(U=>(0,Ut.z)(function ea(E,D){return null!==E&&D&&D(new os(E)),(0,k.of)(!0)}(U.route.parent,S),function zr(E,D){return null!==E&&D&&D(new Cr(E)),(0,k.of)(!0)}(U.route,S),function Si(E,D,m){const S=D[D.length-1],W=D.slice(0,D.length-1).reverse().map(J=>function ha(E){const D=E.routeConfig?E.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:E,guards:D}:null}(J)).filter(J=>null!==J).map(J=>wn(()=>{const be=J.guards.map(Je=>{const Bt=Ls(J.node)??m,Ot=As(Je,Bt);return Hn(function ui(E){return E&&Z(E.canActivateChild)}(Ot)?Ot.canActivateChild(S,E):Bt.runInContext(()=>Ot(S,E))).pipe(kn())});return(0,k.of)(be).pipe(Eo())}));return(0,k.of)(W).pipe(Eo())}(E,U.path,m),function Po(E,D,m){const S=D.routeConfig?D.routeConfig.canActivate:null;if(!S||0===S.length)return(0,k.of)(!0);const U=S.map(W=>wn(()=>{const J=Ls(D)??m,be=As(W,J);return Hn(function nr(E){return E&&Z(E.canActivate)}(be)?be.canActivate(D,E):J.runInContext(()=>be(D,E))).pipe(kn())}));return(0,k.of)(U).pipe(Eo())}(E,U.route,m))),kn(U=>!0!==U,!0))}(S,W,E,D):(0,k.of)(be)),(0,ct.U)(be=>({...m,guardsResult:be})))})}(this.environmentInjector,J=>this.events.next(J)),(0,jt.b)(J=>{if(S.guardsResult=J.guardsResult,dr(J.guardsResult))throw uo(0,J.guardsResult);const be=new ur(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(J.urlAfterRedirects),J.targetSnapshot,!!J.guardsResult);this.events.next(be)}),(0,nt.h)(J=>!!J.guardsResult||(m.restoreHistory(J),this.cancelNavigationTransition(J,"",3),!1)),ot(J=>{if(J.guards.canActivateChecks.length)return(0,k.of)(J).pipe((0,jt.b)(be=>{const Je=new Ks(be.id,this.urlSerializer.serialize(be.extractedUrl),this.urlSerializer.serialize(be.urlAfterRedirects),be.targetSnapshot);this.events.next(Je)}),(0,Ge.w)(be=>{let Je=!1;return(0,k.of)(be).pipe(function ms(E,D){return(0,ft.z)(m=>{const{targetSnapshot:S,guards:{canActivateChecks:U}}=m;if(!U.length)return(0,k.of)(m);let W=0;return(0,re.D)(U).pipe(Kt(J=>function Ft(E,D,m,S){const U=E.routeConfig,W=E._resolve;return void 0!==U?.title&&!$e(U)&&(W[br]=U.title),function zt(E,D,m,S){const U=function ho(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===U.length)return(0,k.of)({});const W={};return(0,re.D)(U).pipe((0,ft.z)(J=>function Ct(E,D,m,S){const U=Ls(D)??S,W=As(E,U);return Hn(W.resolve?W.resolve(D,m):U.runInContext(()=>W(D,m)))}(E[J],D,m,S).pipe(kn(),(0,jt.b)(be=>{W[J]=be}))),Rr(1),function $r(E){return(0,ct.U)(()=>E)}(W),Mt(J=>us(J)?lt.E:He(J)))}(W,E,D,S).pipe((0,ct.U)(J=>(E._resolvedData=J,E.data=yo(E,m).resolve,U&&$e(U)&&(E.data[br]=U.title),null)))}(J.route,S,E,D)),(0,jt.b)(()=>W++),Rr(1),(0,ft.z)(J=>W===U.length?(0,k.of)(m):lt.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,jt.b)({next:()=>Je=!0,complete:()=>{Je||(m.restoreHistory(be),this.cancelNavigationTransition(be,"",2))}}))}),(0,jt.b)(be=>{const Je=new Go(be.id,this.urlSerializer.serialize(be.extractedUrl),this.urlSerializer.serialize(be.urlAfterRedirects),be.targetSnapshot);this.events.next(Je)}))}),ot(J=>{const be=Je=>{const Bt=[];Je.routeConfig?.loadComponent&&!Je.routeConfig._loadedComponent&&Bt.push(this.configLoader.loadComponent(Je.routeConfig).pipe((0,jt.b)(Ot=>{Je.component=Ot}),(0,ct.U)(()=>{})));for(const Ot of Je.children)Bt.push(...be(Ot));return Bt};return gt(be(J.targetSnapshot.root)).pipe(pt(),(0,Se.q)(1))}),ot(()=>this.afterPreactivation()),(0,ct.U)(J=>{const be=function ao(E,D,m){const S=Wo(E,D._root,m?m._root:void 0);return new va(S,D)}(m.routeReuseStrategy,J.targetSnapshot,J.currentRouterState);return S={...J,targetRouterState:be}}),(0,jt.b)(J=>{m.currentUrlTree=J.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(J.urlAfterRedirects,J.rawUrl),m.routerState=J.targetRouterState,"deferred"===m.urlUpdateStrategy&&(J.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,J),m.browserUrlTree=J.urlAfterRedirects)}),((E,D,m)=>(0,ct.U)(S=>(new Jo(D,S.targetRouterState,S.currentRouterState,m).activate(E),S)))(this.rootContexts,m.routeReuseStrategy,J=>this.events.next(J)),(0,Se.q)(1),(0,jt.b)({next:J=>{U=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new Xr(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(J.targetRouterState.snapshot),J.resolve(!0)},complete:()=>{U=!0}}),ni(()=>{U||W||this.cancelNavigationTransition(S,"",1),this.currentNavigation?.id===S.id&&(this.currentNavigation=null)}),Mt(J=>{if(W=!0,lo(J)){Ts(J)||(m.navigated=!0,m.restoreHistory(S,!0));const be=new Qn(S.id,this.urlSerializer.serialize(S.extractedUrl),J.message,J.cancellationCode);if(this.events.next(be),Ts(J)){const Je=m.urlHandlingStrategy.merge(J.url,m.rawUrlTree),Bt={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||Fo(S.source)};m.scheduleNavigation(Je,Ws,null,Bt,{resolve:S.resolve,reject:S.reject,promise:S.promise})}else S.resolve(!1)}else{m.restoreHistory(S,!0);const be=new yr(S.id,this.urlSerializer.serialize(S.extractedUrl),J,S.targetSnapshot??void 0);this.events.next(be);try{S.resolve(m.errorHandler(J))}catch(Je){S.reject(Je)}}return lt.E}))}))}cancelNavigationTransition(m,S,U){const W=new Qn(m.id,this.urlSerializer.serialize(m.extractedUrl),S,U);this.events.next(W),m.resolve(!1)}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Fo(E){return E!==Ws}let Au=(()=>{class E{buildTitle(m){let S,U=m.root;for(;void 0!==U;)S=this.getResolvedTitleForRoute(U)??S,U=U.children.find(W=>W.outlet===cn);return S}getResolvedTitleForRoute(m){return m.data[br]}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:function(){return(0,w.f3M)(Ha)},providedIn:"root"}),E})(),Ha=(()=>{class E extends Au{constructor(m){super(),this.title=m}updateTitle(m){const S=this.buildTitle(m);void 0!==S&&this.title.setTitle(S)}}return E.\u0275fac=function(m){return new(m||E)(w.LFG(Fi.Dx))},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),ga=(()=>{class E{}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:function(){return(0,w.f3M)(vn)},providedIn:"root"}),E})();class Ju{shouldDetach(D){return!1}store(D,m){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,m){return D.routeConfig===m.routeConfig}}let vn=(()=>{class E extends Ju{}return E.\u0275fac=function(){let D;return function(S){return(D||(D=w.n5z(E)))(S||E)}}(),E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Lo=new w.OlP("",{providedIn:"root",factory:()=>({})});let di=(()=>{class E{}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:function(){return(0,w.f3M)(rn)},providedIn:"root"}),E})(),rn=(()=>{class E{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,S){return m}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function mn(E){throw E}function tu(E,D,m){return D.parse("/")}const M={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},g={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let y=(()=>{class E{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,w.f3M)(w.c2e),this.isNgZoneEnabled=!1,this.options=(0,w.f3M)(Lo,{optional:!0})||{},this.errorHandler=this.options.errorHandler||mn,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||tu,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,w.f3M)(di),this.routeReuseStrategy=(0,w.f3M)(ga),this.urlCreationStrategy=(0,w.f3M)(Or),this.titleStrategy=(0,w.f3M)(Au),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ii((0,w.f3M)(ls,{optional:!0})??[]),this.navigationTransitions=(0,w.f3M)(eu),this.urlSerializer=(0,w.f3M)(Sr),this.location=(0,w.f3M)(on.Ye),this.isNgZoneEnabled=(0,w.f3M)(w.R0b)instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new jr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=yi(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId??0},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ws,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const S="popstate"===m.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,S,m.state)},0)}))}navigateToSyncWithBrowser(m,S,U){const W={replaceUrl:!0},J=U?.navigationId?U:null;if(U){const Je={...U};delete Je.navigationId,delete Je.\u0275routerPageId,0!==Object.keys(Je).length&&(W.state=Je)}const be=this.parseUrl(m);this.scheduleNavigation(be,S,J,W)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(m){this.config=m.map(Ri),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,S={}){const{relativeTo:U,queryParams:W,fragment:J,queryParamsHandling:be,preserveFragment:Je}=S,Bt=Je?this.currentUrlTree.fragment:J;let Ot=null;switch(be){case"merge":Ot={...this.currentUrlTree.queryParams,...W};break;case"preserve":Ot=this.currentUrlTree.queryParams;break;default:Ot=W||null}return null!==Ot&&(Ot=this.removeEmptyProps(Ot)),this.urlCreationStrategy.createUrlTree(U,this.routerState,this.currentUrlTree,m,Ot,Bt??null)}navigateByUrl(m,S={skipLocationChange:!1}){const U=dr(m)?m:this.parseUrl(m),W=this.urlHandlingStrategy.merge(U,this.rawUrlTree);return this.scheduleNavigation(W,Ws,null,S)}navigate(m,S={skipLocationChange:!1}){return function x(E){for(let D=0;D<E.length;D++){const m=E[D];if(null==m)throw new w.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,S),S)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let S;try{S=this.urlSerializer.parse(m)}catch(U){S=this.malformedUriErrorHandler(U,this.urlSerializer,m)}return S}isActive(m,S){let U;if(U=!0===S?{...M}:!1===S?{...g}:S,dr(m))return wr(this.currentUrlTree,m,U);const W=this.parseUrl(m);return wr(this.currentUrlTree,W,U)}removeEmptyProps(m){return Object.keys(m).reduce((S,U)=>{const W=m[U];return null!=W&&(S[U]=W),S},{})}scheduleNavigation(m,S,U,W,J){if(this.disposed)return Promise.resolve(!1);let be,Je,Bt,Ot;return J?(be=J.resolve,Je=J.reject,Bt=J.promise):Bt=new Promise((rr,Ai)=>{be=rr,Je=Ai}),Ot="computed"===this.canceledNavigationResolution?U&&U.\u0275routerPageId?U.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Ot,source:S,restoredState:U,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:W,resolve:be,reject:Je,promise:Bt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Bt.catch(rr=>Promise.reject(rr))}setBrowserUrl(m,S){const U=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(U)||S.extras.replaceUrl){const J={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(U,"",J)}else{const W={...S.extras.state,...this.generateNgRouterState(S.id,S.targetPageId)};this.location.go(U,"",W)}}restoreHistory(m,S=!1){if("computed"===this.canceledNavigationResolution){const W=this.currentPageId-(this.browserPageId??this.currentPageId);0!==W?this.location.historyGo(W):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===W&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,S){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:S}:{navigationId:m}}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),z=(()=>{class E{constructor(m,S,U,W,J,be){this.router=m,this.route=S,this.tabIndexAttribute=U,this.renderer=W,this.el=J,this.locationStrategy=be,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new $t.x;const Je=J.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Je||"area"===Je,this.isAnchorElement?this.subscription=m.events.subscribe(Bt=>{Bt instanceof Xr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,w.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,w.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,w.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,S,U,W,J){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||S||U||W||J||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,w.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,S){const U=this.renderer,W=this.el.nativeElement;null!==S?U.setAttribute(W,m,S):U.removeAttribute(W,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return E.\u0275fac=function(m){return new(m||E)(w.Y36(y),w.Y36(mo),w.$8M("tabindex"),w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(on.S$))},E.\u0275dir=w.lG2({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,S){1&m&&w.NdJ("click",function(W){return S.onClick(W.button,W.ctrlKey,W.shiftKey,W.altKey,W.metaKey)}),2&m&&w.uIk("target",S.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[w.TTD]}),E})(),te=(()=>{class E{get isActive(){return this._isActive}constructor(m,S,U,W,J){this.router=m,this.element=S,this.renderer=U,this.cdr=W,this.link=J,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new w.vpe,this.routerEventsSubscription=m.events.subscribe(be=>{be instanceof Xr&&this.update()})}ngAfterContentInit(){(0,k.of)(this.links.changes,(0,k.of)(null)).pipe((0,ns.J)()).subscribe(m=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const m=[...this.links.toArray(),this.link].filter(S=>!!S).map(S=>S.onChanges);this.linkInputChangesSubscription=(0,re.D)(m).pipe((0,ns.J)()).subscribe(S=>{this._isActive!==this.isLinkActive(this.router)(S)&&this.update()})}set routerLinkActive(m){const S=Array.isArray(m)?m:m.split(" ");this.classes=S.filter(U=>!!U)}ngOnChanges(m){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const m=this.hasActiveLinks();this._isActive!==m&&(this._isActive=m,this.cdr.markForCheck(),this.classes.forEach(S=>{m?this.renderer.addClass(this.element.nativeElement,S):this.renderer.removeClass(this.element.nativeElement,S)}),m&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(m))})}isLinkActive(m){const S=function ge(E){return!!E.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return U=>!!U.urlTree&&m.isActive(U.urlTree,S)}hasActiveLinks(){const m=this.isLinkActive(this.router);return this.link&&m(this.link)||this.links.some(m)}}return E.\u0275fac=function(m){return new(m||E)(w.Y36(y),w.Y36(w.SBq),w.Y36(w.Qsj),w.Y36(w.sBO),w.Y36(z,8))},E.\u0275dir=w.lG2({type:E,selectors:[["","routerLinkActive",""]],contentQueries:function(m,S,U){if(1&m&&w.Suo(U,z,5),2&m){let W;w.iGM(W=w.CRH())&&(S.links=W)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[w.TTD]}),E})();class _e{}let Nt=(()=>{class E{constructor(m,S,U,W,J){this.router=m,this.injector=U,this.preloadingStrategy=W,this.loader=J}setUpPreloading(){this.subscription=this.router.events.pipe((0,nt.h)(m=>m instanceof Xr),Kt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,S){const U=[];for(const W of S){W.providers&&!W._injector&&(W._injector=(0,w.MMx)(W.providers,m,`Route: ${W.path}`));const J=W._injector??m,be=W._loadedInjector??J;(W.loadChildren&&!W._loadedRoutes&&void 0===W.canLoad||W.loadComponent&&!W._loadedComponent)&&U.push(this.preloadConfig(J,W)),(W.children||W._loadedRoutes)&&U.push(this.processRoutes(be,W.children??W._loadedRoutes))}return(0,re.D)(U).pipe((0,ns.J)())}preloadConfig(m,S){return this.preloadingStrategy.preload(S,()=>{let U;U=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(m,S):(0,k.of)(null);const W=U.pipe((0,ft.z)(J=>null===J?(0,k.of)(void 0):(S._loadedRoutes=J.routes,S._loadedInjector=J.injector,this.processRoutes(J.injector??m,J.routes))));if(S.loadComponent&&!S._loadedComponent){const J=this.loader.loadComponent(S);return(0,re.D)([W,J]).pipe((0,ns.J)())}return W})}}return E.\u0275fac=function(m){return new(m||E)(w.LFG(y),w.LFG(w.Sil),w.LFG(w.lqb),w.LFG(_e),w.LFG(ja))},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const It=new w.OlP("");let $n=(()=>{class E{constructor(m,S,U,W,J={}){this.urlSerializer=m,this.transitions=S,this.viewportScroller=U,this.zone=W,this.options=J,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},J.scrollPositionRestoration=J.scrollPositionRestoration||"disabled",J.anchorScrolling=J.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Ds?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof Xr&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof mi&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new mi(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return E.\u0275fac=function(m){w.$Z()},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac}),E})();var yn=(()=>((yn=yn||{})[yn.COMPLETE=0]="COMPLETE",yn[yn.FAILED=1]="FAILED",yn[yn.REDIRECTING=2]="REDIRECTING",yn))();const tn=!1;function _r(E,D){return{\u0275kind:E,\u0275providers:D}}const vr=new w.OlP("",{providedIn:"root",factory:()=>!1});function Ln(){const E=(0,w.f3M)(w.zs3);return D=>{const m=E.get(w.z2F);if(D!==m.components[0])return;const S=E.get(y),U=E.get(cs);1===E.get(Uo)&&S.initialNavigation(),E.get(Ei,null,w.XFs.Optional)?.setUpPreloading(),E.get(It,null,w.XFs.Optional)?.init(),S.resetRootComponentType(m.componentTypes[0]),U.closed||(U.next(),U.complete(),U.unsubscribe())}}const cs=new w.OlP(tn?"bootstrap done indicator":"",{factory:()=>new $t.x}),Uo=new w.OlP(tn?"initial navigation":"",{providedIn:"root",factory:()=>1});function Pa(){let E=[];return E=tn?[{provide:w.Xts,multi:!0,useFactory:()=>{const D=(0,w.f3M)(y);return()=>D.events.subscribe(m=>{console.group?.(`Router Event: ${m.constructor.name}`),console.log(function Ui(E){if(!("type"in E))return`Unknown Router Event: ${E.constructor.name}`;switch(E.type){case 14:return`ActivationEnd(path: '${E.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${E.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${E.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${E.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state}, shouldActivate: ${E.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 2:return`NavigationCancel(id: ${E.id}, url: '${E.url}')`;case 16:return`NavigationSkipped(id: ${E.id}, url: '${E.url}')`;case 1:return`NavigationEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${E.id}, url: '${E.url}', error: ${E.error})`;case 0:return`NavigationStart(id: ${E.id}, url: '${E.url}')`;case 6:return`ResolveEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 5:return`ResolveStart(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 10:return`RouteConfigLoadEnd(path: ${E.route.path})`;case 9:return`RouteConfigLoadStart(path: ${E.route.path})`;case 4:return`RoutesRecognized(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 15:return`Scroll(anchor: '${E.anchor}', position: '${E.position?`${E.position[0]}, ${E.position[1]}`:null}')`}}(m)),console.log(m),console.groupEnd?.()})}}]:[],_r(1,E)}const Ei=new w.OlP(tn?"router preloader":"");function Bo(E){return _r(0,[{provide:Ei,useExisting:Nt},{provide:_e,useExisting:E}])}const Wt=!1,or=new w.OlP(Wt?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Js=[on.Ye,{provide:Sr,useClass:fe},y,Zi,{provide:mo,useFactory:function Te(E){return E.routerState.root},deps:[y]},ja,Wt?{provide:vr,useValue:!0}:[]];function Pr(){return new w.PXZ("Router",y)}let ys=(()=>{class E{constructor(m){}static forRoot(m,S){return{ngModule:E,providers:[Js,Wt&&S?.enableTracing?Pa().\u0275providers:[],{provide:ls,multi:!0,useValue:m},{provide:or,useFactory:_s,deps:[[y,new w.FiY,new w.tp0]]},{provide:Lo,useValue:S||{}},S?.useHash?{provide:on.S$,useClass:on.Do}:{provide:on.S$,useClass:on.b0},{provide:It,useFactory:()=>{const E=(0,w.f3M)(on.EM),D=(0,w.f3M)(w.R0b),m=(0,w.f3M)(Lo),S=(0,w.f3M)(eu),U=(0,w.f3M)(Sr);return m.scrollOffset&&E.setOffset(m.scrollOffset),new $n(U,S,E,D,m)}},S?.preloadingStrategy?Bo(S.preloadingStrategy).\u0275providers:[],{provide:w.PXZ,multi:!0,useFactory:Pr},S?.initialNavigation?ba(S):[],[{provide:Ps,useFactory:Ln},{provide:w.tb,multi:!0,useExisting:Ps}]]}}static forChild(m){return{ngModule:E,providers:[{provide:ls,multi:!0,useValue:m}]}}}return E.\u0275fac=function(m){return new(m||E)(w.LFG(or,8))},E.\u0275mod=w.oAB({type:E}),E.\u0275inj=w.cJS({imports:[Tr]}),E})();function _s(E){if(Wt&&E)throw new w.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ba(E){return["disabled"===E.initialNavigation?_r(3,[{provide:w.ip1,multi:!0,useFactory:()=>{const D=(0,w.f3M)(y);return()=>{D.setUpLocationChangeListener()}}},{provide:Uo,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?_r(2,[{provide:Uo,useValue:0},{provide:w.ip1,multi:!0,deps:[w.zs3],useFactory:D=>{const m=D.get(on.V_,Promise.resolve());return()=>m.then(()=>new Promise(S=>{const U=D.get(y),W=D.get(cs);(function _n(E,D){E.events.pipe((0,nt.h)(m=>m instanceof Xr||m instanceof Qn||m instanceof yr||m instanceof qs),(0,ct.U)(m=>m instanceof Xr||m instanceof qs?yn.COMPLETE:m instanceof Qn&&(0===m.code||1===m.code)?yn.REDIRECTING:yn.FAILED),(0,nt.h)(m=>m!==yn.REDIRECTING),(0,Se.q)(1)).subscribe(()=>{D()})})(U,()=>{S(!0)}),D.get(eu).afterPreactivation=()=>(S(!0),W.closed?(0,k.of)(void 0):W),U.initialNavigation()}))}}]).\u0275providers:[]]}const Ps=new w.OlP(Wt?"Router Initializer":"")},6881:(sn,Ye,Y)=>{Y.d(Ye,{Jn:()=>oo,qX:()=>ri,Xd:()=>Hn,Mq:()=>cr,C6:()=>er,ZF:()=>Zn,KN:()=>Qr});var w=Y(5861),re=Y(4859),k=Y(1877),De=Y(2090);const ee=(je,Me)=>Me.some(ut=>je instanceof ut);let Ae,Be;const se=new WeakMap,me=new WeakMap,xe=new WeakMap,rt=new WeakMap,st=new WeakMap;let fn={get(je,Me,ut){if(je instanceof IDBTransaction){if("done"===Me)return me.get(je);if("objectStoreNames"===Me)return je.objectStoreNames||xe.get(je);if("store"===Me)return ut.objectStoreNames[1]?void 0:ut.objectStore(ut.objectStoreNames[0])}return Fe(je[Me])},set:(je,Me,ut)=>(je[Me]=ut,!0),has:(je,Me)=>je instanceof IDBTransaction&&("done"===Me||"store"===Me)||Me in je};function wn(je){return"function"==typeof je?function zn(je){return je!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Le(){return Be||(Be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(je)?function(...Me){return je.apply(ht(this),Me),Fe(se.get(this))}:function(...Me){return Fe(je.apply(ht(this),Me))}:function(Me,...ut){const Gt=je.call(ht(this),Me,...ut);return xe.set(Gt,Me.sort?Me.sort():[Me]),Fe(Gt)}}(je):(je instanceof IDBTransaction&&function mt(je){if(me.has(je))return;const Me=new Promise((ut,Gt)=>{const un=()=>{je.removeEventListener("complete",En),je.removeEventListener("error",Un),je.removeEventListener("abort",Un)},En=()=>{ut(),un()},Un=()=>{Gt(je.error||new DOMException("AbortError","AbortError")),un()};je.addEventListener("complete",En),je.addEventListener("error",Un),je.addEventListener("abort",Un)});me.set(je,Me)}(je),ee(je,function ce(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(je,fn):je)}function Fe(je){if(je instanceof IDBRequest)return function gt(je){const Me=new Promise((ut,Gt)=>{const un=()=>{je.removeEventListener("success",En),je.removeEventListener("error",Un)},En=()=>{ut(Fe(je.result)),un()},Un=()=>{Gt(je.error),un()};je.addEventListener("success",En),je.addEventListener("error",Un)});return Me.then(ut=>{ut instanceof IDBCursor&&se.set(ut,je)}).catch(()=>{}),st.set(Me,je),Me}(je);if(rt.has(je))return rt.get(je);const Me=wn(je);return Me!==je&&(rt.set(je,Me),st.set(Me,je)),Me}const ht=je=>st.get(je),St=["get","getKey","getAll","getAllKeys","count"],yt=["put","add","delete","clear"],pn=new Map;function bn(je,Me){if(!(je instanceof IDBDatabase)||Me in je||"string"!=typeof Me)return;if(pn.get(Me))return pn.get(Me);const ut=Me.replace(/FromIndex$/,""),Gt=Me!==ut,un=yt.includes(ut);if(!(ut in(Gt?IDBIndex:IDBObjectStore).prototype)||!un&&!St.includes(ut))return;const En=function(){var Un=(0,w.Z)(function*(dr,...Ir){const is=this.transaction(dr,un?"readwrite":"readonly");let On=is.store;return Gt&&(On=On.index(Ir.shift())),(yield Promise.all([On[ut](...Ir),un&&is.done]))[0]});return function(Ir){return Un.apply(this,arguments)}}();return pn.set(Me,En),En}!function Ut(je){fn=je(fn)}(je=>({...je,get:(Me,ut,Gt)=>bn(Me,ut)||je.get(Me,ut,Gt),has:(Me,ut)=>!!bn(Me,ut)||je.has(Me,ut)}));class $t{constructor(Me){this.container=Me}getPlatformInfoString(){return this.container.getProviders().map(ut=>{if(function on(je){return"VERSION"===je.getComponent()?.type}(ut)){const Gt=ut.getImmediate();return`${Gt.library}/${Gt.version}`}return null}).filter(ut=>ut).join(" ")}}const ct="@firebase/app",Se=new k.Yd("@firebase/app"),Ht="[DEFAULT]",zi={[ct]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ii=new Map,dn=new Map;function xt(je,Me){try{je.container.addComponent(Me)}catch(ut){Se.debug(`Component ${Me.name} failed to register with FirebaseApp ${je.name}`,ut)}}function Hn(je){const Me=je.name;if(dn.has(Me))return Se.debug(`There were multiple attempts to register component ${Me}.`),!1;dn.set(Me,je);for(const ut of Ii.values())xt(ut,je);return!0}function ri(je,Me){const ut=je.container.getProvider("heartbeat").getImmediate({optional:!0});return ut&&ut.triggerHeartbeat(),je.container.getProvider(Me)}const Vi=new De.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qn{constructor(Me,ut,Gt){this._isDeleted=!1,this._options=Object.assign({},Me),this._config=Object.assign({},ut),this._name=ut.name,this._automaticDataCollectionEnabled=ut.automaticDataCollectionEnabled,this._container=Gt,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this.checkDestroyed(),this._automaticDataCollectionEnabled=Me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Me){this._isDeleted=Me}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}const oo="9.23.0";function Zn(je,Me={}){let ut=je;"object"!=typeof Me&&(Me={name:Me});const Gt=Object.assign({name:Ht,automaticDataCollectionEnabled:!1},Me),un=Gt.name;if("string"!=typeof un||!un)throw Vi.create("bad-app-name",{appName:String(un)});if(ut||(ut=(0,De.aH)()),!ut)throw Vi.create("no-options");const En=Ii.get(un);if(En){if((0,De.vZ)(ut,En.options)&&(0,De.vZ)(Gt,En.config))return En;throw Vi.create("duplicate-app",{appName:un})}const Un=new re.H0(un);for(const Ir of dn.values())Un.addComponent(Ir);const dr=new qn(ut,Gt,Un);return Ii.set(un,dr),dr}function cr(je=Ht){const Me=Ii.get(je);if(!Me&&je===Ht&&(0,De.aH)())return Zn();if(!Me)throw Vi.create("no-app",{appName:je});return Me}function er(){return Array.from(Ii.values())}function Qr(je,Me,ut){var Gt;let un=null!==(Gt=zi[je])&&void 0!==Gt?Gt:je;ut&&(un+=`-${ut}`);const En=un.match(/\s|\//),Un=Me.match(/\s|\//);if(En||Un){const dr=[`Unable to register library "${un}" with version "${Me}":`];return En&&dr.push(`library name "${un}" contains illegal characters (whitespace or "/")`),En&&Un&&dr.push("and"),Un&&dr.push(`version name "${Me}" contains illegal characters (whitespace or "/")`),void Se.warn(dr.join(" "))}Hn(new re.wA(`${un}-version`,()=>({library:un,version:Me}),"VERSION"))}const pi="firebase-heartbeat-database",Sr=1,fe="firebase-heartbeat-store";let le=null;function we(){return le||(le=function He(je,Me,{blocked:ut,upgrade:Gt,blocking:un,terminated:En}={}){const Un=indexedDB.open(je,Me),dr=Fe(Un);return Gt&&Un.addEventListener("upgradeneeded",Ir=>{Gt(Fe(Un.result),Ir.oldVersion,Ir.newVersion,Fe(Un.transaction),Ir)}),ut&&Un.addEventListener("blocked",Ir=>ut(Ir.oldVersion,Ir.newVersion,Ir)),dr.then(Ir=>{En&&Ir.addEventListener("close",()=>En()),un&&Ir.addEventListener("versionchange",is=>un(is.oldVersion,is.newVersion,is))}).catch(()=>{}),dr}(pi,Sr,{upgrade:(je,Me)=>{0===Me&&je.createObjectStore(fe)}}).catch(je=>{throw Vi.create("idb-open",{originalErrorMessage:je.message})})),le}function Oe(){return(Oe=(0,w.Z)(function*(je){try{return yield(yield we()).transaction(fe).objectStore(fe).get(pe(je))}catch(Me){if(Me instanceof De.ZR)Se.warn(Me.message);else{const ut=Vi.create("idb-get",{originalErrorMessage:Me?.message});Se.warn(ut.message)}}})).apply(this,arguments)}function Tt(je,Me){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,w.Z)(function*(je,Me){try{const Gt=(yield we()).transaction(fe,"readwrite");yield Gt.objectStore(fe).put(Me,pe(je)),yield Gt.done}catch(ut){if(ut instanceof De.ZR)Se.warn(ut.message);else{const Gt=Vi.create("idb-set",{originalErrorMessage:ut?.message});Se.warn(Gt.message)}}})).apply(this,arguments)}function pe(je){return`${je.name}!${je.options.appId}`}class Ke{constructor(Me){this.container=Me,this._heartbeatsCache=null;const ut=this.container.getProvider("app").getImmediate();this._storage=new At(ut),this._heartbeatsCachePromise=this._storage.read().then(Gt=>(this._heartbeatsCache=Gt,Gt))}triggerHeartbeat(){var Me=this;return(0,w.Z)(function*(){const Gt=Me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),un=Re();if(null===Me._heartbeatsCache&&(Me._heartbeatsCache=yield Me._heartbeatsCachePromise),Me._heartbeatsCache.lastSentHeartbeatDate!==un&&!Me._heartbeatsCache.heartbeats.some(En=>En.date===un))return Me._heartbeatsCache.heartbeats.push({date:un,agent:Gt}),Me._heartbeatsCache.heartbeats=Me._heartbeatsCache.heartbeats.filter(En=>{const Un=new Date(En.date).valueOf();return Date.now()-Un<=2592e6}),Me._storage.overwrite(Me._heartbeatsCache)})()}getHeartbeatsHeader(){var Me=this;return(0,w.Z)(function*(){if(null===Me._heartbeatsCache&&(yield Me._heartbeatsCachePromise),null===Me._heartbeatsCache||0===Me._heartbeatsCache.heartbeats.length)return"";const ut=Re(),{heartbeatsToSend:Gt,unsentEntries:un}=function We(je,Me=1024){const ut=[];let Gt=je.slice();for(const un of je){const En=ut.find(Un=>Un.agent===un.agent);if(En){if(En.dates.push(un.date),Jt(ut)>Me){En.dates.pop();break}}else if(ut.push({agent:un.agent,dates:[un.date]}),Jt(ut)>Me){ut.pop();break}Gt=Gt.slice(1)}return{heartbeatsToSend:ut,unsentEntries:Gt}}(Me._heartbeatsCache.heartbeats),En=(0,De.L)(JSON.stringify({version:2,heartbeats:Gt}));return Me._heartbeatsCache.lastSentHeartbeatDate=ut,un.length>0?(Me._heartbeatsCache.heartbeats=un,yield Me._storage.overwrite(Me._heartbeatsCache)):(Me._heartbeatsCache.heartbeats=[],Me._storage.overwrite(Me._heartbeatsCache)),En})()}}function Re(){return(new Date).toISOString().substring(0,10)}class At{constructor(Me){this.app=Me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,De.hl)()&&(0,De.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Me=this;return(0,w.Z)(function*(){return(yield Me._canUseIndexedDBPromise)&&(yield function Ze(je){return Oe.apply(this,arguments)}(Me.app))||{heartbeats:[]}})()}overwrite(Me){var ut=this;return(0,w.Z)(function*(){var Gt;if(yield ut._canUseIndexedDBPromise){const En=yield ut.read();return Tt(ut.app,{lastSentHeartbeatDate:null!==(Gt=Me.lastSentHeartbeatDate)&&void 0!==Gt?Gt:En.lastSentHeartbeatDate,heartbeats:Me.heartbeats})}})()}add(Me){var ut=this;return(0,w.Z)(function*(){var Gt;if(yield ut._canUseIndexedDBPromise){const En=yield ut.read();return Tt(ut.app,{lastSentHeartbeatDate:null!==(Gt=Me.lastSentHeartbeatDate)&&void 0!==Gt?Gt:En.lastSentHeartbeatDate,heartbeats:[...En.heartbeats,...Me.heartbeats]})}})()}}function Jt(je){return(0,De.L)(JSON.stringify({version:2,heartbeats:je})).length}!function tr(je){Hn(new re.wA("platform-logger",Me=>new $t(Me),"PRIVATE")),Hn(new re.wA("heartbeat",Me=>new Ke(Me),"PRIVATE")),Qr(ct,"0.9.13",je),Qr(ct,"0.9.13","esm2017"),Qr("fire-js","")}("")},4859:(sn,Ye,Y)=>{Y.d(Ye,{H0:()=>ce,wA:()=>k});var w=Y(5861),re=Y(2090);class k{constructor(se,me,xe){this.name=se,this.instanceFactory=me,this.type=xe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const De="[DEFAULT]";class ee{constructor(se,me){this.name=se,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const me=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(me)){const xe=new re.BH;if(this.instancesDeferred.set(me,xe),this.isInitialized(me)||this.shouldAutoInitialize())try{const rt=this.getOrInitializeService({instanceIdentifier:me});rt&&xe.resolve(rt)}catch{}}return this.instancesDeferred.get(me).promise}getImmediate(se){var me;const xe=this.normalizeInstanceIdentifier(se?.identifier),rt=null!==(me=se?.optional)&&void 0!==me&&me;if(!this.isInitialized(xe)&&!this.shouldAutoInitialize()){if(rt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:xe})}catch(st){if(rt)return null;throw st}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function Be(Le){return"EAGER"===Le.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:De})}catch{}for(const[me,xe]of this.instancesDeferred.entries()){const rt=this.normalizeInstanceIdentifier(me);try{const st=this.getOrInitializeService({instanceIdentifier:rt});xe.resolve(st)}catch{}}}}clearInstance(se=De){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,w.Z)(function*(){const me=Array.from(se.instances.values());yield Promise.all([...me.filter(xe=>"INTERNAL"in xe).map(xe=>xe.INTERNAL.delete()),...me.filter(xe=>"_delete"in xe).map(xe=>xe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=De){return this.instances.has(se)}getOptions(se=De){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:me={}}=se,xe=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(xe))throw Error(`${this.name}(${xe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const rt=this.getOrInitializeService({instanceIdentifier:xe,options:me});for(const[st,gt]of this.instancesDeferred.entries())xe===this.normalizeInstanceIdentifier(st)&&gt.resolve(rt);return rt}onInit(se,me){var xe;const rt=this.normalizeInstanceIdentifier(me),st=null!==(xe=this.onInitCallbacks.get(rt))&&void 0!==xe?xe:new Set;st.add(se),this.onInitCallbacks.set(rt,st);const gt=this.instances.get(rt);return gt&&se(gt,rt),()=>{st.delete(se)}}invokeOnInitCallbacks(se,me){const xe=this.onInitCallbacks.get(me);if(xe)for(const rt of xe)try{rt(se,me)}catch{}}getOrInitializeService({instanceIdentifier:se,options:me={}}){let xe=this.instances.get(se);if(!xe&&this.component&&(xe=this.component.instanceFactory(this.container,{instanceIdentifier:(Le=se,Le===De?void 0:Le),options:me}),this.instances.set(se,xe),this.instancesOptions.set(se,me),this.invokeOnInitCallbacks(xe,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,xe)}catch{}var Le;return xe||null}normalizeInstanceIdentifier(se=De){return this.component?this.component.multipleInstances?se:De:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const me=this.getProvider(se.name);if(me.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);me.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const me=new ee(se,this);return this.providers.set(se,me),me}getProviders(){return Array.from(this.providers.values())}}},1877:(sn,Ye,Y)=>{Y.d(Ye,{Yd:()=>Be,in:()=>re});const w=[];var re=(()=>{return(se=re||(re={}))[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT",re;var se})();const k={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},De=re.INFO,ee={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},Ae=(se,me,...xe)=>{if(me<se.logLevel)return;const rt=(new Date).toISOString(),st=ee[me];if(!st)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[st](`[${rt}]  ${se.name}:`,...xe)};class Be{constructor(me){this.name=me,this._logLevel=De,this._logHandler=Ae,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in re))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?k[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...me),this._logHandler(this,re.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...me),this._logHandler(this,re.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,re.INFO,...me),this._logHandler(this,re.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,re.WARN,...me),this._logHandler(this,re.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...me),this._logHandler(this,re.ERROR,...me)}}},259:(sn,Ye,Y)=>{Y.d(Ye,{C6:()=>w.C6,KN:()=>w.KN,Mq:()=>w.Mq,ZF:()=>w.ZF});var w=Y(6881);(0,w.KN)("firebase","9.23.0","app")},7396:(sn,Ye,Y)=>{Y.d(Ye,{ET:()=>U_,hJ:()=>m_,JU:()=>__,Jm:()=>Xg,Yp:()=>ky,QT:()=>k_,cf:()=>Oy,IO:()=>Ay,pl:()=>uf,ar:()=>My});var ce,w=Y(5861),re=Y(6881),k=Y(4859),De=Y(1877),ee=Y(2090),Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Be={},Le=Le||{},se=Ae||self;function me(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function xe(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var st="closure_uid_"+(1e9*Math.random()>>>0),gt=0;function mt(r,e,t){return r.call.apply(r.bind,arguments)}function fn(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function Ut(r,e,t){return(Ut=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mt:fn).apply(null,arguments)}function zn(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function wn(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,c){for(var f=Array(arguments.length-2),T=2;T<arguments.length;T++)f[T-2]=arguments[T];return e.prototype[a].apply(s,f)}}function Fe(){this.s=this.s,this.o=this.o}Fe.prototype.s=!1,Fe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function rt(r){Object.prototype.hasOwnProperty.call(r,st)&&r[st]||(r[st]=++gt)}(this)},Fe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const He=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function lt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function St(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(me(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let f=0;f<c;f++)r[a+f]=s[f]}else r.push(s)}}function yt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}yt.prototype.h=function(){this.defaultPrevented=!0};var pn=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{se.addEventListener("test",()=>{},e),se.removeEventListener("test",()=>{},e)}catch{}return r}();function bn(r){return/^[\s\xa0]*$/.test(r)}function $t(){var r=se.navigator;return r&&(r=r.userAgent)?r:""}function on(r){return-1!=$t().indexOf(r)}function ct(r){return ct[" "](r),r}ct[" "]=function(){};var kn,r,Se=on("Opera"),et=on("Trident")||on("MSIE"),nt=on("Edge"),ft=nt||et,pt=on("Gecko")&&!(-1!=$t().toLowerCase().indexOf("webkit")&&!on("Edge"))&&!(on("Trident")||on("MSIE"))&&!on("Edge"),an=-1!=$t().toLowerCase().indexOf("webkit")&&!on("Edge");function Nn(){var r=se.document;return r?r.documentMode:void 0}e:{var Kt="",jt=(r=$t(),pt?/rv:([^\);]+)(\)|;)/.exec(r):nt?/Edge\/([\d\.]+)/.exec(r):et?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):an?/WebKit\/(\S+)/.exec(r):Se?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(jt&&(Kt=jt?jt[1]:""),et){var Mt=Nn();if(null!=Mt&&Mt>parseFloat(Kt)){kn=String(Mt);break e}}kn=Kt}var Rr=se.document&&et&&(Nn()||parseInt(kn,10))||void 0;function Pn(r,e){if(yt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(pt){e:{try{ct(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Mi[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Pn.$.h.call(this)}}wn(Pn,yt);var Mi={2:"touch",3:"pen",4:"mouse"};Pn.prototype.h=function(){Pn.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var $r="closure_listenable_"+(1e6*Math.random()|0),ni=0;function ns(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++ni,this.fa=this.ia=!1}function Fi(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function cn(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Yr(r){const e={};for(const t in r)e[t]=r[t];return e}const Wn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fi(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<Wn.length;c++)t=Wn[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function rs(r){this.src=r,this.g={},this.h=0}function Ht(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=He(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(Fi(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function zi(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}rs.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var f=zi(r,e,s,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new ns(e,this.src,c,!!s,a)).ia=t,r.push(e)),e};var Ii="closure_lm_"+(1e6*Math.random()|0),dn={};function xt(r,e,t,s,a){if(s&&s.once)return ri(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)xt(r,e[c],t,s,a);return null}return t=Zn(t),r&&r[$r]?r.O(e,t,xe(s)?!!s.capture:!!s,a):kt(r,e,t,!1,s,a)}function kt(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var f=xe(a)?!!a.capture:!!a,T=qn(r);if(T||(r[Ii]=T=new rs(r)),(t=T.add(e,t,s,f,c)).proxy)return t;if(s=function Hn(){const e=Vi;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)pn||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(wr(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function ri(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)ri(r,e[c],t,s,a);return null}return t=Zn(t),r&&r[$r]?r.P(e,t,xe(s)?!!s.capture:!!s,a):kt(r,e,t,!0,s,a)}function ii(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)ii(r,e[c],t,s,a);else s=xe(s)?!!s.capture:!!s,t=Zn(t),r&&r[$r]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=zi(c=r.g[e],t,s,a))&&(Fi(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=qn(r))&&(e=r.g[e.toString()],r=-1,e&&(r=zi(e,t,s,a)),(t=-1<r?e[r]:null)&&Li(t))}function Li(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[$r])Ht(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(wr(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=qn(e))?(Ht(t,r),0==t.h&&(t.src=null,e[Ii]=null)):Fi(r)}}}function wr(r){return r in dn?dn[r]:dn[r]="on"+r}function Vi(r,e){if(r.fa)r=!0;else{e=new Pn(e,this);var t=r.listener,s=r.la||r.src;r.ia&&Li(r),r=t.call(s,e)}return r}function qn(r){return(r=r[Ii])instanceof rs?r:null}var oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zn(r){return"function"==typeof r?r:(r[oo]||(r[oo]=function(e){return r.handleEvent(e)}),r[oo])}function cr(){Fe.call(this),this.i=new rs(this),this.S=this,this.J=null}function er(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new yt(e,r);else if(e instanceof yt)e.target=e.target||r;else{var a=e;fi(e=new yt(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];a=jr(f,s,!0,e)&&a}if(a=jr(f=e.g=r,s,!0,e)&&a,a=jr(f,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=jr(f=e.g=t[c],s,!1,e)&&a}function jr(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.fa&&f.capture==t){var T=f.listener,V=f.la||f.src;f.ia&&Ht(r.i,f),a=!1!==T.call(V,s)&&a}}return a&&!s.defaultPrevented}wn(cr,Fe),cr.prototype[$r]=!0,cr.prototype.removeEventListener=function(r,e,t,s){ii(this,r,e,t,s)},cr.prototype.N=function(){if(cr.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Fi(t[s]);delete r.g[e],r.h--}}this.J=null},cr.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},cr.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var Qt=se.JSON.stringify;function sr(){var r=Oe;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var pi=new class Qr{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Sr,r=>r.reset());class Sr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function fe(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function le(r){se.setTimeout(()=>{throw r},0)}let we,Ze=!1,Oe=new class si{constructor(){this.h=this.g=null}add(e,t){const s=pi.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},Tt=()=>{const r=se.Promise.resolve(void 0);we=()=>{r.then(Ee)}};var Ee=()=>{for(var r;r=sr();){try{r.h.call(r.g)}catch(t){le(t)}var e=pi;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Ze=!1};function pe(r,e){cr.call(this),this.h=r||1,this.g=e||se,this.j=Ut(this.qb,this),this.l=Date.now()}function ie(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function ve(r,e,t){if("function"==typeof r)t&&(r=Ut(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Ut(r.handleEvent,r)}return 2147483647<Number(e)?-1:se.setTimeout(r,e||0)}function Ke(r){r.g=ve(()=>{r.g=null,r.i&&(r.i=!1,Ke(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}wn(pe,cr),(ce=pe.prototype).ga=!1,ce.T=null,ce.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),er(this,"tick"),this.ga&&(ie(this),this.start()))}},ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.N=function(){pe.$.N.call(this),ie(this),delete this.g};class Re extends Fe{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ke(this)}N(){super.N(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function We(r){Fe.call(this),this.h=r,this.g={}}wn(We,Fe);var At=[];function Jt(r,e,t,s){Array.isArray(t)||(t&&(At[0]=t.toString()),t=At);for(var a=0;a<t.length;a++){var c=xt(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function tr(r){cn(r.g,function(e,t){this.g.hasOwnProperty(t)&&Li(e)},r),r.g={}}function je(){this.g=!0}function Gt(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function En(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<a.length;f++)a[f]=""}}}return Qt(t)}catch{return e}}(r,t)+(s?" "+s:"")})}We.prototype.N=function(){We.$.N.call(this),tr(this)},We.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},je.prototype.Ea=function(){this.g=!1},je.prototype.info=function(){};var Un={},dr=null;function Ir(){return dr=dr||new cr}function is(r){yt.call(this,Un.Ta,r)}function On(r){const e=Ir();er(e,new is(e))}function oi(r,e){yt.call(this,Un.STAT_EVENT,r),this.stat=e}function mr(r){const e=Ir();er(e,new oi(e,r))}function ss(r,e){yt.call(this,Un.Ua,r),this.size=e}function Hr(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){r()},e)}Un.Ta="serverreachability",wn(is,yt),Un.STAT_EVENT="statevent",wn(oi,yt),Un.Ua="timingevent",wn(ss,yt);var hs={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bo={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function go(){}function Rt(){}go.prototype.h=null;var Is,In={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Dr(){yt.call(this,"d")}function Gr(){yt.call(this,"c")}function Nr(){}function xi(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new We(this),this.P=Jr,this.V=new pe(r=ft?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hr}function hr(){this.i=null,this.g="",this.h=!1}wn(Dr,yt),wn(Gr,yt),wn(Nr,go),Nr.prototype.g=function(){return new XMLHttpRequest},Nr.prototype.i=function(){return{}},Is=new Nr;var Jr=45e3,zs={},Dn={};function Qi(r,e,t){r.L=1,r.v=qi(Cr(e)),r.s=t,r.S=!0,Ws(r,null)}function Ws(r,e){r.G=Date.now(),Qn(r),r.A=Cr(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),ai(t.i,"t",s),r.C=0,t=r.l.J,r.h=new hr,r.g=wo(r.l,t?e:null,!r.s),0<r.O&&(r.M=new Re(Ut(r.Pa,r,r.g),r.O)),Jt(r.U,r.g,"readystatechange",r.nb),e=r.I?Yr(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),On(),function Me(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var f="",T=c.split("&"),V=0;V<T.length;V++){var H=T[V].split("=");if(1<H.length){var X=H[0];H=H[1];var de=X.split("_");f=2<=de.length&&"type"==de[1]?f+(X+"=")+H+"&":f+(X+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Wi(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Ds(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=Xr(r,t),a==Dn){4==e&&(r.o=4,mr(14),s=!1),Gt(r.j,r.m,null,"[Incomplete Response]");break}if(a==zs){r.o=4,mr(15),Gt(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}Gt(r.j,r.m,a,null),ur(r,a)}Wi(r)&&a!=Dn&&a!=zs&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,mr(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ui(e),e.M=!0,mr(11))):(Gt(r.j,r.m,t,"[Invalid Chunked Response]"),gi(r),ei(r))}function Xr(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?Dn:(t=Number(e.substring(t,s)),isNaN(t)?zs:(s+=1)+t>e.length?Dn:(e=e.slice(s,s+t),r.C=s+t,e))}function Qn(r){r.Y=Date.now()+r.P,qs(r,r.P)}function qs(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Hr(Ut(r.lb,r),e)}function yr(r){r.B&&(se.clearTimeout(r.B),r.B=null)}function ei(r){0==r.l.H||r.J||Us(r.l,r)}function gi(r){yr(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,ie(r.V),tr(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function ur(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||Wo(t.i,r)))if(!r.K&&Wo(t.i,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Vs(t),As(t)}nr(t),mr(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=Hr(Ut(t.ib,t),6e3));if(1>=ao(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else us(t,11)}else if((r.K||t.g==r)&&Vs(t),!bn(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let H=a[e];if(t.V=H[0],H=H[1],2==t.H)if("c"==H[0]){t.K=H[1],t.pa=H[2];const X=H[3];null!=X&&(t.ra=X,t.l.info("VER="+t.ra));const de=H[4];null!=de&&(t.Ga=de,t.l.info("SVER="+t.Ga));const Ve=H[5];null!=Ve&&"number"==typeof Ve&&0<Ve&&(t.L=s=1.5*Ve,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const Xe=r.g;if(Xe){const Dt=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dt){var c=s.i;c.g||-1==Dt.indexOf("spdy")&&-1==Dt.indexOf("quic")&&-1==Dt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(qo(c,c.h),c.h=null))}if(s.F){const Zt=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Zt&&(s.Da=Zt,Yn(s.I,s.F,Zt))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=r;if((s=t).wa=Eo(s,s.J?s.pa:null,s.Y),f.K){Ko(s.i,f);var T=f,V=s.L;V&&T.setTimeout(V),T.B&&(yr(T),Qn(T)),s.g=f}else dt(s);0<t.j.length&&L(t)}else"stop"!=H[0]&&"close"!=H[0]||us(t,7);else 3==t.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?us(t,7):ha(t):"noop"!=H[0]&&t.h&&t.h.Aa(H),t.A=0)}On()}catch{}}function vt(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(me(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Go(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(me(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function Ks(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(me(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(ce=xi.prototype).setTimeout=function(r){this.P=r},ce.nb=function(r){r=r.target;const e=this.M;e&&3==vi(r)?e.l():this.Pa(r)},ce.Pa=function(r){try{if(r==this.g)e:{const X=vi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>X)&&(3!=X||ft||this.g&&(this.h.h||this.g.ja()||Ls(this.g)))){this.J||4!=X||7==e||On(),yr(this);var t=this.g.da();this.ca=t;t:if(Wi(this)){var s=Ls(this.g);r="";var a=s.length,c=4==vi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gi(this),ei(this);var f="";break t}this.h.i=new se.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function ut(r,e,t,s,a,c,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.W,X,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,V=this.g;if((T=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bn(T)){var H=T;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,mr(12),gi(this),ei(this);break e}Gt(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ur(this,t)}this.S?(Ds(this,X,f),ft&&this.i&&3==X&&(Jt(this.U,this.V,"tick",this.mb),this.V.start())):(Gt(this.j,this.m,f,null),ur(this,f)),4==X&&gi(this),this.i&&!this.J&&(4==X?Us(this.l,this):(this.i=!1,Qn(this)))}else(function co(r){const e={};r=(r.g&&2<=vi(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(bn(r[s]))continue;var t=fe(r[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[a]||[];e[a]=c,c.push(t)}!function br(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,mr(12)):(this.o=0,mr(13)),gi(this),ei(this)}}}catch{}},ce.mb=function(){if(this.g){var r=vi(this.g),e=this.g.ja();this.C<e.length&&(yr(this),Ds(this,r,e),this.i&&4!=r&&Qn(this))}},ce.cancel=function(){this.J=!0,gi(this)},ce.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function un(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(On(),mr(17)),gi(this),this.o=2,ei(this)):qs(this,this.Y-r)};var Di=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pi(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Pi){this.h=r.h,So(this,r.j),this.s=r.s,this.g=r.g,mi(this,r.m),this.l=r.l;var e=r.i,t=new yi;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ui(this,t),this.o=r.o}else r&&(e=String(r).match(Di))?(this.h=!1,So(this,e[1]||"",!0),this.s=fs(e[2]||""),this.g=fs(e[3]||"",!0),mi(this,e[4]),this.l=fs(e[5]||"",!0),Ui(this,e[6]||"",!0),this.o=fs(e[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}function Cr(r){return new Pi(r)}function So(r,e,t){r.j=t?fs(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function mi(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Ui(r,e,t){e instanceof yi?(r.i=e,function _o(r,e){e&&!r.j&&(_i(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(mo(this,s),ai(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Or(e,Fs)),r.i=new yi(e,r.h))}function Yn(r,e,t){r.i.set(e,t)}function qi(r){return Yn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function fs(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Or(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,zo),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function zo(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Pi.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Or(e,fr,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Or(e,fr,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Or(t,"/"==t.charAt(0)?Ki:pr,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Or(t,va)),r.join("")};var fr=/[#\/\?@]/g,pr=/[#\?:]/g,Ki=/[#\?]/g,Fs=/[#\?@]/g,va=/#/g;function yi(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function _i(r){r.g||(r.g=new Map,r.h=0,r.i&&function os(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function mo(r,e){_i(r),e=Bi(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function yo(r,e){return _i(r),e=Bi(r,e),r.g.has(e)}function ai(r,e,t){mo(r,e),0<t.length&&(r.i=null,r.g.set(Bi(r,e),lt(t)),r.h+=t.length)}function Bi(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Ao(r){this.l=r||Ea,r=se.PerformanceNavigationTiming?0<(r=se.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(se.g&&se.g.Ka&&se.g.Ka()&&se.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ce=yi.prototype).add=function(r,e){_i(this),this.i=null,r=Bi(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},ce.forEach=function(r,e){_i(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},ce.ta=function(){_i(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},ce.Z=function(r){_i(this);let e=[];if("string"==typeof r)yo(this,r)&&(e=e.concat(this.g.get(Bi(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},ce.set=function(r,e){return _i(this),this.i=null,yo(this,r=Bi(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},ce.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var a=c;""!==f[s]&&(a+="="+encodeURIComponent(String(f[s]))),r.push(a)}}return this.i=r.join("&")};var Ea=10;function Cs(r){return!!r.h||!!r.g&&r.g.size>=r.j}function ao(r){return r.h?1:r.g?r.g.size:0}function Wo(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function qo(r,e){r.g?r.g.add(e):r.h=e}function Ko(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function as(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return lt(r.i)}Ao.prototype.cancel=function(){if(this.i=as(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var uo=class{stringify(r){return se.JSON.stringify(r,void 0)}parse(r){return se.JSON.parse(r,void 0)}};function Vr(){this.g=new uo}function Ts(r,e,t){const s=t||"";try{vt(r,function(a,c){let f=a;xe(a)&&(f=Qt(a)),e.push(s+c+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function vo(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function Zi(r){this.l=r.fc||null,this.j=r.ob||!1}function Zs(r,e){cr.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=bs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wn(Zi,go),Zi.prototype.g=function(){return new Zs(this.l,this.j)},Zi.prototype.i=function(r){return function(){return r}}({}),wn(Zs,cr);var bs=0;function Ys(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function Zo(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Tr(r)}function Tr(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ce=Zs.prototype).open=function(r,e){if(this.readyState!=bs)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Tr(this)},ce.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||se).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zo(this)),this.readyState=bs},ce.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ys(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},ce.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Zo(this):Tr(this),3==this.readyState&&Ys(this)}},ce.Za=function(r){this.g&&(this.response=this.responseText=r,Zo(this))},ce.Ya=function(r){this.g&&(this.response=r,Zo(this))},ce.ka=function(){this.g&&Zo(this)},ce.setRequestHeader=function(r,e){this.v.append(r,e)},ce.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Zs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Mo=se.JSON.parse;function Ar(r){cr.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ci,this.L=this.M=!1}wn(Ar,cr);var Ci="",Yo=/^https?$/i,Ti=["POST","PUT"];function Ss(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Qo(r),Ri(r)}function Qo(r){r.F||(r.F=!0,er(r,"complete"),er(r,"error"))}function $i(r){if(r.h&&typeof Le<"u"&&(!r.C[1]||4!=vi(r)||2!=r.da()))if(r.v&&4==vi(r))ve(r.La,0,r);else if(er(r,"readystatechange"),4==vi(r)){r.h=!1;try{const f=r.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===f){var a=String(r.I).match(Di)[1]||null;!a&&se.self&&se.self.location&&(a=se.self.location.protocol.slice(0,-1)),s=!Yo.test(a?a.toLowerCase():"")}t=s}if(t)er(r,"complete"),er(r,"success");else{r.m=6;try{var c=2<vi(r)?r.g.statusText:""}catch{c=""}r.j=c+" ["+r.da()+"]",Qo(r)}}finally{Ri(r)}}}function Ri(r,e){if(r.g){ji(r);const t=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||er(r,"ready");try{t.onreadystatechange=s}catch{}}}function ji(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(se.clearTimeout(r.A),r.A=null)}function vi(r){return r.g?r.g.readyState:0}function Ls(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case Ci:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Jo(r){let e="";return cn(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Qs(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Jo(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Yn(r,e,t))}function en(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Xo(r){this.Ga=0,this.j=[],this.l=new je,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=en("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=en("baseRetryDelayMs",5e3,r),this.hb=en("retryDelaySeedMs",1e4,r),this.eb=en("forwardChannelMaxRetries",2,r),this.xa=en("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Ao(r&&r.concurrentRequestLimit),this.Ja=new Vr,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ha(r){if(xo(r),3==r.H){var e=r.W++,t=Cr(r.I);if(Yn(t,"SID",r.K),Yn(t,"RID",e),Yn(t,"TYPE","terminate"),Z(r,t),(e=new xi(r,r.l,e)).L=2,e.v=qi(Cr(t)),t=!1,se.navigator&&se.navigator.sendBeacon)try{t=se.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&se.Image&&((new Image).src=e.v,t=!0),t||(e.g=wo(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Qn(e)}Bs(r)}function As(r){r.g&&(ui(r),r.g.cancel(),r.g=null)}function xo(r){As(r),r.u&&(se.clearTimeout(r.u),r.u=null),Vs(r),r.i.cancel(),r.m&&("number"==typeof r.m&&se.clearTimeout(r.m),r.m=null)}function L(r){if(!Cs(r.i)&&!r.m){r.m=!0;var e=r.Na;we||Tt(),Ze||(we(),Ze=!0),Oe.add(e,r),r.C=0}}function N(r,e){var t;t=e?e.m:r.W++;const s=Cr(r.I);Yn(s,"SID",r.K),Yn(s,"RID",t),Yn(s,"AID",r.V),Z(r,s),r.o&&r.s&&Qs(s,r.o,r.s),t=new xi(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=ae(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),qo(r.i,t),Qi(t,s,e)}function Z(r,e){r.na&&cn(r.na,function(t,s){Yn(e,s,t)}),r.h&&vt({},function(t,s){Yn(e,s,t)})}function ae(r,e,t){t=Math.min(r.j.length,t);var s=r.h?Ut(r.h.Va,r.h,r):null;e:{var a=r.j;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=a[0].g,f.push("ofs="+c)):c=0:f.push("ofs="+c);let T=!0;for(let V=0;V<t;V++){let H=a[V].g;const X=a[V].map;if(H-=c,0>H)c=Math.max(0,a[V].g-100),T=!1;else try{Ts(X,f,"req"+H+"_")}catch{s&&s(X)}}if(T){s=f.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,s}function dt(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;we||Tt(),Ze||(we(),Ze=!0),Oe.add(e,r),r.A=0}}function nr(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Hr(Ut(r.Ma,r),ti(r,r.A)),r.A++,0))}function ui(r){null!=r.B&&(se.clearTimeout(r.B),r.B=null)}function gr(r){r.g=new xi(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Cr(r.wa);Yn(e,"RID","rpc"),Yn(e,"SID",r.K),Yn(e,"AID",r.V),Yn(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Yn(e,"TO",r.qa),Yn(e,"TYPE","xmlhttp"),Z(r,e),r.o&&r.s&&Qs(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=qi(Cr(e)),t.s=null,t.S=!0,Ws(t,r)}function Vs(r){null!=r.v&&(se.clearTimeout(r.v),r.v=null)}function Us(r,e){var t=null;if(r.g==e){Vs(r),ui(r),r.g=null;var s=2}else{if(!Wo(r.i,e))return;t=e.F,Ko(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;er(s=Ir(),new ss(s,t)),L(r)}else dt(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function F(r,e){return!(ao(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Hr(Ut(r.Na,r,e),ti(r,r.C)),r.C++,0)))}(r,e)||2==s&&nr(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:us(r,5);break;case 4:us(r,10);break;case 3:us(r,6);break;default:us(r,2)}}function ti(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function us(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var s=Ut(r.pb,r);t||(t=new Pi("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||So(t,"https"),qi(t)),function lo(r,e){const t=new je;if(se.Image){const s=new Image;s.onload=zn(vo,t,s,"TestLoadImage: loaded",!0,e),s.onerror=zn(vo,t,s,"TestLoadImage: error",!1,e),s.onabort=zn(vo,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=zn(vo,t,s,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else mr(2);r.H=0,r.h&&r.h.za(e),Bs(r),xo(r)}function Bs(r){if(r.H=0,r.ma=[],r.h){const e=as(r.i);(0!=e.length||0!=r.j.length)&&(St(r.ma,e),St(r.ma,r.j),r.i.i.length=0,lt(r.j),r.j.length=0),r.h.ya()}}function Eo(r,e,t){var s=t instanceof Pi?Cr(t):new Pi(t);if(""!=s.g)e&&(s.g=e+"."+s.g),mi(s,s.m);else{var a=se.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new Pi(null);s&&So(c,s),e&&(c.g=e),a&&mi(c,a),t&&(c.l=t),s=c}return e=r.Da,(t=r.F)&&e&&Yn(s,t,e),Yn(s,"VER",r.ra),Z(r,s),s}function wo(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ar(t&&r.Ha&&!r.va?new Zi({ob:!0}):r.va)).Oa(r.J),e}function wa(){}function bi(){if(et&&!(10<=Number(Rr)))throw Error("Environmental error: no available transport.")}function zr(r,e){cr.call(this),this.g=new Xo(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!bn(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bn(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Si(this)}function ea(r){Dr.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Po(){Gr.call(this),this.status=1}function Si(r){this.g=r}function Ms(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ia(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],f=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+s[0]+3614090360&4294967295;f=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(f<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((c=(e=t+((f=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=c+((f=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function Sn(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var c=0|r[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(ce=Ar.prototype).Oa=function(r){this.M=r},ce.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Is.g(),this.C=function ks(r){return r.h||(r.h=r.i())}(this.u?this.u:Is),this.g.onreadystatechange=Ut(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void Ss(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=se.FormData&&r instanceof se.FormData,!(0<=He(Ti,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of t)this.g.setRequestHeader(c,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ji(this),0<this.B&&((this.L=function Mr(r){return et&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ut(this.ua,this)):this.A=ve(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){Ss(this,c)}},ce.ua=function(){typeof Le<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,er(this,"timeout"),this.abort(8))},ce.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,er(this,"complete"),er(this,"abort"),Ri(this))},ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ri(this,!0)),Ar.$.N.call(this)},ce.La=function(){this.s||(this.G||this.v||this.l?$i(this):this.kb())},ce.kb=function(){$i(this)},ce.isActive=function(){return!!this.g},ce.da=function(){try{return 2<vi(this)?this.g.status:-1}catch{return-1}},ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ce.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Mo(e)}},ce.Ia=function(){return this.m},ce.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ce=Xo.prototype).ra=8,ce.H=1,ce.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new xi(this,this.l,r);let c=this.s;if(this.U&&(c?(c=Yr(c),fi(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ae(this,a,e),Yn(t=Cr(this.I),"RID",r),Yn(t,"CVER",22),this.F&&Yn(t,"X-HTTP-Session-Id",this.F),Z(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(Jo(c)))+"&"+e:this.o&&Qs(t,this.o,c)),qo(this.i,a),this.bb&&Yn(t,"TYPE","init"),this.P?(Yn(t,"$req",e),Yn(t,"SID","null"),a.aa=!0,Qi(a,t,null)):Qi(a,t,e),this.H=2}}else 3==this.H&&(r?N(this,r):0==this.j.length||Cs(this.i)||N(this))},ce.Ma=function(){if(this.u=null,gr(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=Hr(Ut(this.jb,this),r)}},ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mr(10),As(this),gr(this))},ce.ib=function(){null!=this.v&&(this.v=null,As(this),nr(this),mr(19))},ce.pb=function(r){r?(this.l.info("Successfully pinged google.com"),mr(2)):(this.l.info("Failed to ping google.com"),mr(1))},ce.isActive=function(){return!!this.h&&this.h.isActive(this)},(ce=wa.prototype).Ba=function(){},ce.Aa=function(){},ce.za=function(){},ce.ya=function(){},ce.isActive=function(){return!0},ce.Va=function(){},bi.prototype.g=function(r,e){return new zr(r,e)},wn(zr,cr),zr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;mr(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=Eo(r,null,r.Y),L(r)},zr.prototype.close=function(){ha(this.g)},zr.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Qt(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&L(e)},zr.prototype.N=function(){this.g.h=null,delete this.j,ha(this.g),delete this.g,zr.$.N.call(this)},wn(ea,Dr),wn(Po,Gr),wn(Si,wa),Si.prototype.Ba=function(){er(this.g,"a")},Si.prototype.Aa=function(r){er(this.g,new ea(r))},Si.prototype.za=function(r){er(this.g,new Po)},Si.prototype.ya=function(){er(this.g,"b")},wn(Ms,function Ni(){this.blockSize=-1}),Ms.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ms.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)Ia(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(s[a++]=r.charCodeAt(c++),a==this.blockSize){Ia(this,s),a=0;break}}else for(;c<e;)if(s[a++]=r[c++],a==this.blockSize){Ia(this,s),a=0;break}}this.h=a,this.i+=e},Ms.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var ta={};function na(r){return-128<=r&&128>r?function Ge(r,e){var t=ta;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Sn([0|e],0>e?-1:0)}):new Sn([0|r],0>r?-1:0)}function ps(r){if(isNaN(r)||!isFinite(r))return No;if(0>r)return li(ps(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=fa;return new Sn(e,0)}var fa=4294967296,No=na(0),Oo=na(1),Qa=na(16777216);function gs(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Ji(r){return-1==r.h}function li(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Sn(t,~r.h).add(Oo)}function xs(r,e){return r.add(li(e))}function ko(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Hi(r,e){this.g=r,this.h=e}function kr(r,e){if(gs(e))throw Error("division by zero");if(gs(r))return new Hi(No,No);if(Ji(r))return e=kr(li(r),e),new Hi(li(e.g),li(e.h));if(Ji(e))return e=kr(r,li(e)),new Hi(li(e.g),e.h);if(30<r.g.length){if(Ji(r)||Ji(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Oo,s=e;0>=s.X(r);)t=Xi(t),s=Xi(s);var a=lr(t,1),c=lr(s,1);for(s=lr(s,2),t=lr(t,2);!gs(s);){var f=c.add(s);0>=f.X(r)&&(a=a.add(t),c=f),s=lr(s,1),t=lr(t,1)}return e=xs(r,a.R(e)),new Hi(a,e)}for(a=No;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(c=ps(t)).R(e);Ji(f)||0<f.X(r);)f=(c=ps(t-=s)).R(e);gs(c)&&(c=Oo),a=a.add(c),r=xs(r,f)}return new Hi(a,r)}function Xi(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Sn(t,r.h)}function lr(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new Sn(a,r.h)}(ce=Sn.prototype).ea=function(){if(Ji(this))return-li(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:fa+s)*e,e*=fa}return r},ce.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(gs(this))return"0";if(Ji(this))return"-"+li(this).toString(r);for(var e=ps(Math.pow(r,6)),t=this,s="";;){var a=kr(t,e).g,c=((0<(t=xs(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(gs(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},ce.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},ce.X=function(r){return Ji(r=xs(this,r))?-1:gs(r)?0:1},ce.abs=function(){return Ji(this)?li(this):this},ce.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&r.D(a)),f=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=f>>>16,t[a]=(f&=65535)<<16|(c&=65535)}return new Sn(t,-2147483648&t[t.length-1]?-1:0)},ce.R=function(r){if(gs(this)||gs(r))return No;if(Ji(this))return Ji(r)?li(this).R(li(r)):li(li(this).R(r));if(Ji(r))return li(this.R(li(r)));if(0>this.X(Qa)&&0>r.X(Qa))return ps(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var c=this.D(s)>>>16,f=65535&this.D(s),T=r.D(a)>>>16,V=65535&r.D(a);t[2*s+2*a]+=f*V,ko(t,2*s+2*a),t[2*s+2*a+1]+=c*V,ko(t,2*s+2*a+1),t[2*s+2*a+1]+=f*T,ko(t,2*s+2*a+1),t[2*s+2*a+2]+=c*T,ko(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Sn(t,0)},ce.gb=function(r){return kr(this,r).h},ce.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Sn(t,this.h&r.h)},ce.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Sn(t,this.h|r.h)},ce.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Sn(t,this.h^r.h)},bi.prototype.createWebChannel=bi.prototype.g,zr.prototype.send=zr.prototype.u,zr.prototype.open=zr.prototype.m,zr.prototype.close=zr.prototype.close,hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,bo.COMPLETE="complete",Rt.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",cr.prototype.listen=cr.prototype.O,Ar.prototype.listenOnce=Ar.prototype.P,Ar.prototype.getLastError=Ar.prototype.Sa,Ar.prototype.getLastErrorCode=Ar.prototype.Ia,Ar.prototype.getStatus=Ar.prototype.da,Ar.prototype.getResponseJson=Ar.prototype.Wa,Ar.prototype.getResponseText=Ar.prototype.ja,Ar.prototype.send=Ar.prototype.ha,Ar.prototype.setWithCredentials=Ar.prototype.Oa,Ms.prototype.digest=Ms.prototype.l,Ms.prototype.reset=Ms.prototype.reset,Ms.prototype.update=Ms.prototype.j,Sn.prototype.add=Sn.prototype.add,Sn.prototype.multiply=Sn.prototype.R,Sn.prototype.modulo=Sn.prototype.gb,Sn.prototype.compare=Sn.prototype.X,Sn.prototype.toNumber=Sn.prototype.ea,Sn.prototype.toString=Sn.prototype.toString,Sn.prototype.getBits=Sn.prototype.D,Sn.fromNumber=ps,Sn.fromString=function Ro(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return li(Ro(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ps(Math.pow(e,8)),s=No,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+c),e);8>c?(c=ps(Math.pow(e,c)),s=s.R(c).add(ps(f))):s=(s=s.R(t)).add(ps(f))}return s};var Da=Be.createWebChannelTransport=function(){return new bi},Ja=Be.getStatEventTarget=function(){return Ir()},Ca=Be.ErrorCode=hs,Xa=Be.EventType=bo,$a=Be.Event=Un,A=Be.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},j=Be.FetchXmlHttpFactory=Zi,O=Be.WebChannel=Rt,K=Be.XhrIo=Ar,ue=Be.Md5=Ms,ke=Be.Integer=Sn;const Qe="@firebase/firestore";class Et{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");let Fn="9.23.0";const An=new De.Yd("@firebase/firestore");function Gn(){return An.logLevel}function tt(r,...e){if(An.logLevel<=De.in.DEBUG){const t=e.map(ms);An.debug(`Firestore (${Fn}): ${r}`,...t)}}function gn(r,...e){if(An.logLevel<=De.in.ERROR){const t=e.map(ms);An.error(`Firestore (${Fn}): ${r}`,...t)}}function xr(r,...e){if(An.logLevel<=De.in.WARN){const t=e.map(ms);An.warn(`Firestore (${Fn}): ${r}`,...t)}}function ms(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function Ft(r="Unexpected state"){const e=`FIRESTORE (${Fn}) INTERNAL ASSERTION FAILED: `+r;throw gn(e),new Error(e)}function zt(r,e){r||Ft()}function Ct(r,e){return r}const $e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ee.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ls{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ja{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Et.UNAUTHENTICATED))}shutdown(){}}class ra{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=H=>this.i!==a?(a=this.i,t(H)):Promise.resolve();let f=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new ci,e.enqueueRetryable(()=>c(this.currentUser))};const T=()=>{const H=f;e.enqueueRetryable((0,w.Z)(function*(){yield H.promise,yield c(s.currentUser)}))},V=H=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(H=>V(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?V(H):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new ci)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(zt("string"==typeof s.accessToken),new ls(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return zt(null===e||"string"==typeof e),new Et(e)}}class pa{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class eu{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new pa(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Au{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.T;return this.T=c.token,tt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(zt("string"==typeof t.token),this.T=t.token,new Fo(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ga(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Ju{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=ga(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function vn(r,e){return r<e?-1:r>e?1:0}function ia(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}class di{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ot($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ot($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ot($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return di.fromMillis(Date.now())}static fromDate(e){return di.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new di(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vn(this.nanoseconds,e.nanoseconds):vn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rn(e)}static min(){return new rn(new di(0,0))}static max(){return new rn(new di(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ta{constructor(e,t,s){void 0===t?t=0:t>e.length&&Ft(),void 0===s?s=e.length-t:s>e.length-t&&Ft(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Ta.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ta?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),f=t.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mn extends Ta{construct(e,t,s){return new mn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ot($e.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new mn(t)}static emptyPath(){return new mn([])}}const tu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class M extends Ta{construct(e,t,s){return new M(e,t,s)}static isValidIdentifier(e){return tu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),M.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new M(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new ot($e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const T=e[a];if("\\"===T){if(a+1===e.length)throw new ot($e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[a+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new ot($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=V,a+=2}else"`"===T?(f=!f,a++):"."!==T||f?(s+=T,a++):(c(),a++)}if(c(),f)throw new ot($e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new M(t)}static emptyPath(){return new M([])}}class g{constructor(e){this.path=e}static fromPath(e){return new g(mn.fromString(e))}static fromName(e){return new g(mn.fromString(e).popFirst(5))}static empty(){return new g(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new g(new mn(e.slice()))}}function Nt(r){return new It(r.readTime,r.key,-1)}class It{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new It(rn.min(),g.empty(),-1)}static max(){return new It(rn.max(),g.empty(),-1)}}function $n(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=g.comparator(r.documentKey,e.documentKey),0!==t?t:vn(r.largestBatchId,e.largestBatchId))}const yn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _n{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function tn(r){return Kn.apply(this,arguments)}function Kn(){return Kn=(0,w.Z)(function*(r){if(r.code!==$e.FAILED_PRECONDITION||r.message!==yn)throw r;tt("LocalStore","Unexpectedly lost primary lease")}),Kn.apply(this,arguments)}class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Te((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Te?t:Te.resolve(t)}catch(t){return Te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Te.reject(t)}static resolve(e){return new Te((t,s)=>{t(e)})}static reject(e){return new Te((t,s)=>{s(e)})}static waitFor(e){return new Te((t,s)=>{let a=0,c=0,f=!1;e.forEach(T=>{++a,T.next(()=>{++c,f&&c===a&&t()},V=>s(V))}),f=!0,c===a&&t()})}static or(e){let t=Te.resolve(!1);for(const s of e)t=t.next(a=>a?Te.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new Te((s,a)=>{const c=e.length,f=new Array(c);let T=0;for(let V=0;V<c;V++){const H=V;t(e[H]).next(X=>{f[H]=X,++T,T===c&&s(f)},X=>a(X))}})}static doWhile(e,t){return new Te((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}function Yi(r){return"IndexedDbTransactionError"===r.name}let Ei=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Bo(r){return null==r}function $o(r){return 0===r&&1/r==-1/0}function jo(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function vs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Io(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class qr{constructor(e,t){this.comparator=e,this.root=t||Es.EMPTY}insert(e,t){return new qr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Es.BLACK,null,null))}remove(e){return new qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Es.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sa(this.root,e,this.comparator,!1)}getReverseIterator(){return new sa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sa(this.root,e,this.comparator,!0)}}class sa{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Es{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??Es.RED,this.left=a??Es.EMPTY,this.right=c??Es.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new Es(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Es.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Es.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Es.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ft();const e=this.left.check();if(e!==this.right.check())throw Ft();return e+(this.isRed()?0:1)}}Es.EMPTY=null,Es.RED=!0,Es.BLACK=!1,Es.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft()}get value(){throw Ft()}get color(){throw Ft()}get left(){throw Ft()}get right(){throw Ft()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Es(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oi{constructor(e){this.comparator=e,this.data=new qr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qd(this.data.getIterator())}getIteratorFrom(e){return new qd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Oi)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Oi(this.comparator);return t.data=e,t}}class qd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $s{constructor(e){this.fields=e,e.sort(M.comparator)}static empty(){return new $s([])}unionWith(e){let t=new Oi(M.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new $s(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class xu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class eo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new xu("Invalid base64 string: "+a):a}}(e);return new eo(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new eo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}eo.EMPTY_BYTE_STRING=new eo("");const jc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ru(r){if(zt(!!r),"string"==typeof r){let e=0;const t=jc.exec(r);if(zt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:es(r.seconds),nanos:es(r.nanos)}}function es(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function iu(r){return"string"==typeof r?eo.fromBase64String(r):eo.fromUint8Array(r)}function nc(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Hc(r){const e=r.mapValue.fields.__previous_value__;return nc(e)?Hc(e):e}function fu(r){const e=ru(r.mapValue.fields.__local_write_time__.timestampValue);return new di(e.seconds,e.nanos)}class Xu{constructor(e,t,s,a,c,f,T,V,H){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=T,this.longPollingOptions=V,this.useFetchStreams=H}}class oa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new oa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oa&&e.projectId===this.projectId&&e.database===this.database}}const ya={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function za(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?nc(r)?4:sc(r)?9007199254740991:10:Ft()}function Sa(r,e){if(r===e)return!0;const t=za(r);if(t!==za(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return fu(r).isEqual(fu(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=ru(s.timestampValue),f=ru(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,iu(r.bytesValue).isEqual(iu(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return es(s.geoPointValue.latitude)===es(a.geoPointValue.latitude)&&es(s.geoPointValue.longitude)===es(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return es(s.integerValue)===es(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=es(s.doubleValue),f=es(a.doubleValue);return c===f?$o(c)===$o(f):isNaN(c)&&isNaN(f)}return!1}(r,e);case 9:return ia(r.arrayValue.values||[],e.arrayValue.values||[],Sa);case 10:return function(s,a){const c=s.mapValue.fields||{},f=a.mapValue.fields||{};if(jo(c)!==jo(f))return!1;for(const T in c)if(c.hasOwnProperty(T)&&(void 0===f[T]||!Sa(c[T],f[T])))return!1;return!0}(r,e);default:return Ft()}var a}function Pu(r,e){return void 0!==(r.values||[]).find(t=>Sa(t,e))}function Na(r,e){if(r===e)return 0;const t=za(r),s=za(e);if(t!==s)return vn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return vn(r.booleanValue,e.booleanValue);case 2:return function(a,c){const f=es(a.integerValue||a.doubleValue),T=es(c.integerValue||c.doubleValue);return f<T?-1:f>T?1:f===T?0:isNaN(f)?isNaN(T)?0:-1:1}(r,e);case 3:return Ru(r.timestampValue,e.timestampValue);case 4:return Ru(fu(r),fu(e));case 5:return vn(r.stringValue,e.stringValue);case 6:return function(a,c){const f=iu(a),T=iu(c);return f.compareTo(T)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),T=c.split("/");for(let V=0;V<f.length&&V<T.length;V++){const H=vn(f[V],T[V]);if(0!==H)return H}return vn(f.length,T.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const f=vn(es(a.latitude),es(c.latitude));return 0!==f?f:vn(es(a.longitude),es(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const f=a.values||[],T=c.values||[];for(let V=0;V<f.length&&V<T.length;++V){const H=Na(f[V],T[V]);if(H)return H}return vn(f.length,T.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===ya.mapValue&&c===ya.mapValue)return 0;if(a===ya.mapValue)return 1;if(c===ya.mapValue)return-1;const f=a.fields||{},T=Object.keys(f),V=c.fields||{},H=Object.keys(V);T.sort(),H.sort();for(let X=0;X<T.length&&X<H.length;++X){const de=vn(T[X],H[X]);if(0!==de)return de;const Ve=Na(f[T[X]],V[H[X]]);if(0!==Ve)return Ve}return vn(T.length,H.length)}(r.mapValue,e.mapValue);default:throw Ft()}}function Ru(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return vn(r,e);const t=ru(r),s=ru(e),a=vn(t.seconds,s.seconds);return 0!==a?a:vn(t.nanos,s.nanos)}function Wa(r){return Nu(r)}function Nu(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=ru(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?iu(r.bytesValue).toBase64():"referenceValue"in r?g.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const f of s.values||[])c?c=!1:a+=",",a+=Nu(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",f=!0;for(const T of a)f?f=!1:c+=",",c+=`${T}:${Nu(s.fields[T])}`;return c+"}"}(r.mapValue):Ft();var e}function su(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Gc(r){return!!r&&"integerValue"in r}function ic(r){return!!r&&"arrayValue"in r}function Kd(r){return!!r&&"nullValue"in r}function Zd(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ou(r){return!!r&&"mapValue"in r}function gu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return vs(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=gu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=gu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function sc(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class po{constructor(e){this.value=e}static empty(){return new po({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ou(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=gu(t)}setAll(e){let t=M.emptyPath(),s={},a=[];e.forEach((f,T)=>{if(!t.isImmediateParentOf(T)){const V=this.getFieldsMap(t);this.applyChanges(V,s,a),s={},a=[],t=T.popLast()}f?s[T.lastSegment()]=gu(f):a.push(T.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());ou(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];ou(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){vs(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new po(gu(this.value))}}function ws(r){const e=[];return vs(r.fields,(t,s)=>{const a=new M([t]);if(ou(s)){const c=ws(s.mapValue).fields;if(0===c.length)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new $s(e)}class ki{constructor(e,t,s,a,c,f,T){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=T}static newInvalidDocument(e){return new ki(e,0,rn.min(),rn.min(),rn.min(),po.empty(),0)}static newFoundDocument(e,t,s,a){return new ki(e,1,t,rn.min(),s,a,0)}static newNoDocument(e,t){return new ki(e,2,t,rn.min(),rn.min(),po.empty(),0)}static newUnknownDocument(e,t){return new ki(e,3,t,rn.min(),rn.min(),po.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(rn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=po.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=po.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ki&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ki(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Aa{constructor(e,t){this.position=e,this.inclusive=t}}function vl(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],f=r.position[a];if(s=c.field.isKeyField()?g.comparator(g.fromName(f.referenceValue),t.key):Na(f,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function El(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Sa(r.position[t],e.position[t]))return!1;return!0}class C{constructor(e,t="asc"){this.field=e,this.dir=t}}function P(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class G{}class ne extends G{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Ns(e,t,s):"array-contains"===t?new Oa(e,s):"in"===t?new ka(e,s):"not-in"===t?new zc(e,s):"array-contains-any"===t?new kp(e,s):new ne(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Ou(e,s):new uc(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Na(t,this.value)):null!==t&&za(this.value)===za(t)&&this.matchesComparison(Na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class he extends G{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new he(e,t)}matches(e){return Ce(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ce(r){return"and"===r.op}function Pt(r){return function bt(r){for(const e of r.filters)if(e instanceof he)return!1;return!0}(r)&&Ce(r)}function Lt(r){if(r instanceof ne)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(Pt(r))return r.filters.map(e=>Lt(e)).join(",");{const e=r.filters.map(t=>Lt(t)).join(",");return`${r.op}(${e})`}}function Tn(r,e){return r instanceof ne?(t=r,(s=e)instanceof ne&&t.op===s.op&&t.field.isEqual(s.field)&&Sa(t.value,s.value)):r instanceof he?function(t,s){return s instanceof he&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,f)=>a&&Tn(c,s.filters[f]),!0)}(r,e):void Ft();var t,s}function Ho(r){return r instanceof ne?`${(e=r).field.canonicalString()} ${e.op} ${Wa(e.value)}`:r instanceof he?function(e){return e.op.toString()+" {"+e.getFilters().map(Ho).join(" ,")+"}"}(r):"Filter";var e}class Ns extends ne{constructor(e,t,s){super(e,t,s),this.key=g.fromName(s.referenceValue)}matches(e){const t=g.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ou extends ne{constructor(e,t){super(e,"in",t),this.keys=mu(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uc extends ne{constructor(e,t){super(e,"not-in",t),this.keys=mu(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mu(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>g.fromName(s.referenceValue))}class Oa extends ne{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ic(t)&&Pu(t.arrayValue,this.value)}}class ka extends ne{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Pu(this.value.arrayValue,t)}}class zc extends ne{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Pu(this.value.arrayValue,t)}}class kp extends ne{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ic(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Pu(this.value.arrayValue,s))}}class Yd{constructor(e,t=null,s=[],a=[],c=null,f=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=T,this.dt=null}}function lc(r,e=null,t=[],s=[],a=null,c=null,f=null){return new Yd(r,e,t,s,a,c,f)}function el(r){const e=Ct(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Lt(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Bo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Wa(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Wa(s)).join(",")),e.dt=t}return e.dt}function Fa(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!P(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Tn(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!El(r.startAt,e.startAt)&&El(r.endAt,e.endAt)}function Wc(r){return g.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class uu{constructor(e,t=null,s=[],a=[],c=null,f="F",T=null,V=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=T,this.endAt=V,this.wt=null,this._t=null}}function ku(r){return new uu(r)}function Qd(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Jd(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function nl(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Xd(r){return null!==r.collectionGroup}function Il(r){const e=Ct(r);if(null===e.wt){e.wt=[];const t=nl(e),s=Jd(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new C(t)),e.wt.push(new C(M.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new C(M.keyField(),c))}}}return e.wt}function aa(r){const e=Ct(r);if(!e._t)if("F"===e.limitType)e._t=lc(e.path,e.collectionGroup,Il(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Il(e))t.push(new C(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new Aa(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Aa(e.startAt.position,e.startAt.inclusive):null;e._t=lc(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function cc(r,e){e.getFirstInequalityField(),nl(r);const t=r.filters.concat([e]);return new uu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function eh(r,e,t){return new uu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function rl(r,e){return Fa(aa(r),aa(e))&&r.limitType===e.limitType}function hf(r){return`${el(aa(r))}|lt:${r.limitType}`}function il(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Ho(s)).join(", ")}]`),Bo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Wa(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Wa(s)).join(",")),`Target(${t})`}(aa(r))}; limitType=${r.limitType})`}function dc(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):g.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of Il(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,f){const T=vl(a,c,f);return a.inclusive?T<=0:T<0}(t.startAt,Il(t),s)||t.endAt&&!function(a,c,f){const T=vl(a,c,f);return a.inclusive?T>=0:T>0}(t.endAt,Il(t),s)));var t,s}function Zc(r){return(e,t)=>{let s=!1;for(const a of Il(r)){const c=th(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function th(r,e,t){const s=r.field.isKeyField()?g.comparator(e.key,t.key):function(a,c,f){const T=c.data.field(a),V=f.data.field(a);return null!==T&&null!==V?Na(T,V):Ft()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ft()}}class yu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Io(this.inner)}size(){return this.innerSize}}const Yc=new qr(g.comparator);function to(){return Yc}const _u=new qr(g.comparator);function Fu(...r){let e=_u;for(const t of r)e=e.insert(t.key,t);return e}function ff(r){let e=_u;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function vu(){return sl()}function hc(){return sl()}function sl(){return new yu(r=>r.toString(),(r,e)=>r.isEqual(e))}const pf=new qr(g.comparator),Fp=new Oi(g.comparator);function Xn(...r){let e=Fp;for(const t of r)e=e.add(t);return e}const fc=new Oi(vn);function ol(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$o(e)?"-0":e}}function Qc(r){return{integerValue:""+r}}function pc(r,e){return function nn(r){return"number"==typeof r&&Number.isInteger(r)&&!$o(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?Qc(e):ol(r,e)}class Lu{constructor(){this._=void 0}}function rh(r,e,t){return r instanceof Tl?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&nc(a)&&(a=Hc(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof lu?Jc(r,e):r instanceof Eu?Lp(r,e):function(s,a){const c=Cl(s,a),f=Xc(c)+Xc(s.gt);return Gc(c)&&Gc(s.gt)?Qc(f):ol(s.serializer,f)}(r,e)}function al(r,e,t){return r instanceof lu?Jc(r,e):r instanceof Eu?Lp(r,e):t}function Cl(r,e){return r instanceof ul?Gc(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Tl extends Lu{}class lu extends Lu{constructor(e){super(),this.elements=e}}function Jc(r,e){const t=bl(e);for(const s of r.elements)t.some(a=>Sa(a,s))||t.push(s);return{arrayValue:{values:t}}}class Eu extends Lu{constructor(e){super(),this.elements=e}}function Lp(r,e){let t=bl(e);for(const s of r.elements)t=t.filter(a=>!Sa(a,s));return{arrayValue:{values:t}}}class ul extends Lu{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Xc(r){return es(r.integerValue||r.doubleValue)}function bl(r){return ic(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class ih{constructor(e,t){this.version=e,this.transformResults=t}}class ds{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ds}static exists(e){return new ds(void 0,e)}static updateTime(e){return new ds(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Ml{}function oh(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Pl(r.key,ds.none()):new Uu(r.key,r.data,ds.none());{const t=r.data,s=po.empty();let a=new Oi(M.comparator);for(let c of e.fields)if(!a.has(c)){let f=t.field(c);null===f&&c.length>1&&(c=c.popLast(),f=t.field(c)),null===f?s.delete(c):s.set(c,f),a=a.add(c)}return new La(r.key,s,new $s(a.toArray()),ds.none())}}function Vp(r,e,t){r instanceof Uu?function(s,a,c){const f=s.value.clone(),T=gc(s.fieldTransforms,a,c.transformResults);f.setAll(T),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(r,e,t):r instanceof La?function(s,a,c){if(!sh(s.precondition,a))return void a.convertToUnknownDocument(c.version);const f=gc(s.fieldTransforms,a,c.transformResults),T=a.data;T.setAll(ed(s)),T.setAll(f),a.convertToFoundDocument(c.version,T).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Vu(r,e,t,s){return r instanceof Uu?function(a,c,f,T){if(!sh(a.precondition,c))return f;const V=a.value.clone(),H=gf(a.fieldTransforms,T,c);return V.setAll(H),c.convertToFoundDocument(c.version,V).setHasLocalMutations(),null}(r,e,t,s):r instanceof La?function(a,c,f,T){if(!sh(a.precondition,c))return f;const V=gf(a.fieldTransforms,T,c),H=c.data;return H.setAll(ed(a)),H.setAll(V),c.convertToFoundDocument(c.version,H).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(X=>X.field))}(r,e,t,s):(f=t,sh(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f);var c,f}function ah(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=Cl(s.transform,a||null);null!=c&&(null===t&&(t=po.empty()),t.set(s.field,c))}return t||null}function xl(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&ia(t,s,(a,c)=>function Al(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof lu&&s instanceof lu||t instanceof Eu&&s instanceof Eu?ia(t.elements,s.elements,Sa):t instanceof ul&&s instanceof ul?Sa(t.gt,s.gt):t instanceof Tl&&s instanceof Tl);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Uu extends Ml{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class La extends Ml{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ed(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function gc(r,e,t){const s=new Map;zt(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],f=c.transform,T=e.data.field(c.field);s.set(c.field,al(f,T,t[a]))}return s}function gf(r,e,t){const s=new Map;for(const a of r){const c=a.transform,f=t.data.field(a.field);s.set(a.field,rh(c,f,e))}return s}class Pl extends Ml{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class td extends Ml{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nd{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&Vp(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Vu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Vu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=hc();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let T=this.applyToLocalView(f,c.mutatedFields);T=t.has(a.key)?null:T;const V=oh(f,T);null!==V&&s.set(a.key,V),f.isValidDocument()||f.convertToNoDocument(rn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xn())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(t,s)=>xl(t,s))&&ia(this.baseMutations,e.baseMutations,(t,s)=>xl(t,s))}}class uh{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){zt(e.mutations.length===s.length);let a=pf;const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new uh(e,t,s,a)}}class cu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ll{constructor(e,t,s){this.alias=e,this.yt=t,this.fieldPath=s}}class Up{constructor(e,t){this.count=e,this.unchangedNames=t}}var no,Ur;function Bp(r){if(void 0===r)return gn("GRPC error has no .code"),$e.UNKNOWN;switch(r){case no.OK:return $e.OK;case no.CANCELLED:return $e.CANCELLED;case no.UNKNOWN:return $e.UNKNOWN;case no.DEADLINE_EXCEEDED:return $e.DEADLINE_EXCEEDED;case no.RESOURCE_EXHAUSTED:return $e.RESOURCE_EXHAUSTED;case no.INTERNAL:return $e.INTERNAL;case no.UNAVAILABLE:return $e.UNAVAILABLE;case no.UNAUTHENTICATED:return $e.UNAUTHENTICATED;case no.INVALID_ARGUMENT:return $e.INVALID_ARGUMENT;case no.NOT_FOUND:return $e.NOT_FOUND;case no.ALREADY_EXISTS:return $e.ALREADY_EXISTS;case no.PERMISSION_DENIED:return $e.PERMISSION_DENIED;case no.FAILED_PRECONDITION:return $e.FAILED_PRECONDITION;case no.ABORTED:return $e.ABORTED;case no.OUT_OF_RANGE:return $e.OUT_OF_RANGE;case no.UNIMPLEMENTED:return $e.UNIMPLEMENTED;case no.DATA_LOSS:return $e.DATA_LOSS;default:return Ft()}}(Ur=no||(no={}))[Ur.OK=0]="OK",Ur[Ur.CANCELLED=1]="CANCELLED",Ur[Ur.UNKNOWN=2]="UNKNOWN",Ur[Ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ur[Ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ur[Ur.NOT_FOUND=5]="NOT_FOUND",Ur[Ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ur[Ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ur[Ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ur[Ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ur[Ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ur[Ur.ABORTED=10]="ABORTED",Ur[Ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ur[Ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ur[Ur.INTERNAL=13]="INTERNAL",Ur[Ur.UNAVAILABLE=14]="UNAVAILABLE",Ur[Ur.DATA_LOSS=15]="DATA_LOSS";class mf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Rl}static getOrCreateInstance(){return null===Rl&&(Rl=new mf),Rl}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Rl=null;const rd=new ke([4294967295,4294967295],0);function _f(r){const e=function yf(){return new TextEncoder}().encode(r),t=new ue;return t.update(e),new Uint8Array(t.digest())}function vf(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ke([t,s],0),new ke([a,c],0)]}class mc{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ma(`Invalid padding: ${t}`);if(s<0)throw new Ma(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Ma(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Ma(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=ke.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(ke.fromNumber(s)));return 1===a.compare(rd)&&(a=new ke([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=_f(e),[s,a]=vf(t);for(let c=0;c<this.hashCount;c++){const f=this.Et(s,a,c);if(!this.At(f))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new mc(c,a,t);return s.forEach(T=>f.insert(T)),f}insert(e){if(0===this.It)return;const t=_f(e),[s,a]=vf(t);for(let c=0;c<this.hashCount;c++){const f=this.Et(s,a,c);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ma extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wu{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Nl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new wu(rn.min(),a,new qr(vn),to(),Xn())}}class Nl{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Nl(s,t,Xn(),Xn(),Xn())}}class yc{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class ch{constructor(e,t){this.targetId=e,this.Vt=t}}class dh{constructor(e,t,s=eo.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class $p{constructor(){this.St=0,this.Dt=sd(),this.Ct=eo.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Xn(),t=Xn(),s=Xn();return this.Dt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Ft()}}),new Nl(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=sd()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ym{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=to(),this.zt=id(),this.Wt=new qr(vn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:Ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,c=this.se(s);if(c){const f=c.target;if(Wc(f))if(0===a){const T=new g(f.path);this.Yt(s,T,ki.newNoDocument(T,rn.min()))}else zt(1===a);else{const T=this.ie(s);if(T!==a){const V=this.re(e,T);0!==V&&(this.ee(s),this.Wt=this.Wt.insert(s,2===V?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=mf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(H,X,de){var Ve,Xe,Dt,Zt,Xt,ar;const Kr={localCacheCount:X,existenceFilterCount:de.count},Er=de.unchangedNames;return Er&&(Kr.bloomFilter={applied:0===H,hashCount:null!==(Ve=Er?.hashCount)&&void 0!==Ve?Ve:0,bitmapLength:null!==(Zt=null===(Dt=null===(Xe=Er?.bits)||void 0===Xe?void 0:Xe.bitmap)||void 0===Dt?void 0:Dt.length)&&void 0!==Zt?Zt:0,padding:null!==(ar=null===(Xt=Er?.bits)||void 0===Xt?void 0:Xt.padding)&&void 0!==ar?ar:0}),Kr}(V,T,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:f=0},hashCount:T=0}=s;let V,H;try{V=iu(c).toUint8Array()}catch(X){if(X instanceof xu)return xr("Decoding the base64 bloom filter in existence filter failed ("+X.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw X}try{H=new mc(V,f,T)}catch(X){return xr(X instanceof Ma?"BloomFilter error: ":"Applying bloom filter failed: ",X),1}return 0===H.It?1:a!==t-this.oe(e.targetId,H)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const f=this.Gt.ue(),T=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.vt(T)||(this.Yt(e,c,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((c,f)=>{const T=this.se(f);if(T){if(c.current&&Wc(T.target)){const V=new g(T.target.path);null!==this.jt.get(V)||this.ae(f,V)||this.Yt(f,V,ki.newNoDocument(V,e))}c.Mt&&(t.set(f,c.Ot()),c.Ft())}});let s=Xn();this.zt.forEach((c,f)=>{let T=!0;f.forEachWhile(V=>{const H=this.se(V);return!H||"TargetPurposeLimboResolution"===H.purpose||(T=!1,!1)}),T&&(s=s.add(c))}),this.jt.forEach((c,f)=>f.setReadTime(e));const a=new wu(e,t,this.Wt,this.jt,s);return this.jt=to(),this.zt=id(),this.Wt=new qr(vn),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new $p,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Oi(vn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||tt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new $p),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function id(){return new qr(g.comparator)}function sd(){return new qr(g.comparator)}const _m={asc:"ASCENDING",desc:"DESCENDING"},jp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ef={and:"AND",or:"OR"};class Hp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hh(r,e){return r.useProto3Json||Bo(e)?e:{value:e}}function Ol(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wf(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function fh(r,e){return Ol(r,e.toTimestamp())}function Gi(r){return zt(!!r),rn.fromTimestamp(function(e){const t=ru(e);return new di(t.seconds,t.nanos)}(r))}function ph(r,e){return(t=r,new mn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function kl(r){const e=mn.fromString(r);return zt(Af(e)),e}function _c(r,e){return ph(r.databaseId,e.path)}function wi(r,e){const t=kl(e);if(t.get(1)!==r.databaseId.projectId)throw new ot($e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ot($e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new g(Df(t))}function If(r,e){return ph(r.databaseId,e)}function vc(r){return new mn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Df(r){return zt(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function od(r,e,t){return{name:_c(r,e),fields:t.value.mapValue.fields}}function Fl(r,e){return{documents:[If(r,e.path)]}}function Ec(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=If(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=If(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(V){if(0!==V.length)return Sf(he.create(V,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(V){if(0!==V.length)return V.map(H=>{return{field:Iu((X=H).field),direction:Em(X.dir)};var X})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=hh(r,e.limit);var T,V;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(V=e.endAt).inclusive,values:V.position}),t}function yh(r){let e=function gh(r){const e=kl(r);return 4===e.length?mn.emptyPath():Df(e)}(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){zt(1===s);const X=t.from[0];X.allDescendants?a=X.collectionId:e=e.child(X.collectionId)}let c=[];t.where&&(c=function(X){const de=vh(X);return de instanceof he&&Pt(de)?de.getFilters():[de]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(X=>{return new C(dl((de=X).field),function(Ve){switch(Ve){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(de.direction));var de}));let T=null;t.limit&&(T=function(X){let de;return de="object"==typeof X?X.value:X,Bo(de)?null:de}(t.limit));let V=null;var X;t.startAt&&(V=new Aa((X=t.startAt).values||[],!!X.before));let H=null;return t.endAt&&(H=function(X){return new Aa(X.values||[],!X.before)}(t.endAt)),function tl(r,e,t,s,a,c,f,T){return new uu(r,e,t,s,a,c,f,T)}(e,a,f,c,T,"F",V,H)}function vh(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=dl(e.unaryFilter.field);return ne.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=dl(e.unaryFilter.field);return ne.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=dl(e.unaryFilter.field);return ne.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=dl(e.unaryFilter.field);return ne.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ft()}}(r):void 0!==r.fieldFilter?ne.create(dl((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ft()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return he.create(e.compositeFilter.filters.map(t=>vh(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ft()}}(e.compositeFilter.op))}(r):Ft();var e}function Em(r){return _m[r]}function Gp(r){return jp[r]}function bf(r){return Ef[r]}function Iu(r){return{fieldPath:r.canonicalString()}}function dl(r){return M.fromServerFormat(r.fieldPath)}function Sf(r){return r instanceof ne?function(e){if("=="===e.op){if(Zd(e.value))return{unaryFilter:{field:Iu(e.field),op:"IS_NAN"}};if(Kd(e.value))return{unaryFilter:{field:Iu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Zd(e.value))return{unaryFilter:{field:Iu(e.field),op:"IS_NOT_NAN"}};if(Kd(e.value))return{unaryFilter:{field:Iu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Iu(e.field),op:Gp(e.op),value:e.value}}}(r):r instanceof he?function(e){const t=e.getFilters().map(s=>Sf(s));return 1===t.length?t[0]:{compositeFilter:{op:bf(e.op),filters:t}}}(r):Ft()}function Ll(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Af(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class du{constructor(e,t,s,a,c=rn.min(),f=rn.min(),T=eo.EMPTY_BYTE_STRING,V=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=T,this.expectedCount=V}withSequenceNumber(e){return new du(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new du(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wc{constructor(e){this.fe=e}}function $u(r){const e=yh({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?eh(e,e.limit,"L"):e}class Vl{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(es(e.integerValue));else if("doubleValue"in e){const s=es(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),$o(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(iu(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?sc(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Ft()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),g.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Vl.Ve=new Vl;class Of{constructor(){this.rn=new kf}addToCollectionParentIndex(e,t){return this.rn.add(t),Te.resolve()}getCollectionParents(e,t){return Te.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Te.resolve()}deleteFieldIndex(e,t){return Te.resolve()}getDocumentsMatchingTarget(e,t){return Te.resolve(null)}getIndexType(e,t){return Te.resolve(0)}getFieldIndexes(e,t){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,t){return Te.resolve(It.min())}getMinOffsetFromCollectionGroup(e,t){return Te.resolve(It.min())}updateCollectionGroup(e,t,s){return Te.resolve()}updateIndexEntries(e,t){return Te.resolve()}}class kf{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Oi(mn.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Oi(mn.comparator)).toArray()}}new Uint8Array(0);class ua{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ua(e,ua.DEFAULT_COLLECTION_PERCENTILE,ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ua.DEFAULT_COLLECTION_PERCENTILE=10,ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ua.DEFAULT=new ua(41943040,ua.DEFAULT_COLLECTION_PERCENTILE,ua.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ua.DISABLED=new ua(-1,0,0);class bc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new bc(0)}static Mn(){return new bc(-1)}}class Pe{constructor(){this.changes=new yu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ki.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yd{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ah{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&Vu(s.mutation,a,$s.empty(),di.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Xn()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Xn()){const a=vu();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let f=Fu();return c.forEach((T,V)=>{f=f.insert(T,V.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=vu();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Xn()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,T)=>{t.set(f,T)})})}computeViews(e,t,s,a){let c=to();const f=sl(),T=sl();return t.forEach((V,H)=>{const X=s.get(H.key);a.has(H.key)&&(void 0===X||X.mutation instanceof La)?c=c.insert(H.key,H):void 0!==X?(f.set(H.key,X.mutation.getFieldMask()),Vu(X.mutation,H,X.mutation.getFieldMask(),di.now())):f.set(H.key,$s.empty())}),this.recalculateAndSaveOverlays(e,c).next(V=>(V.forEach((H,X)=>f.set(H,X)),t.forEach((H,X)=>{var de;return T.set(H,new yd(X,null!==(de=f.get(H))&&void 0!==de?de:null))}),T))}recalculateAndSaveOverlays(e,t){const s=sl();let a=new qr((f,T)=>f-T),c=Xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const T of f)T.keys().forEach(V=>{const H=t.get(V);if(null===H)return;let X=s.get(V)||$s.empty();X=T.applyToLocalView(H,X),s.set(V,X);const de=(a.get(T.batchId)||Xn()).add(V);a=a.insert(T.batchId,de)})}).next(()=>{const f=[],T=a.getReverseIterator();for(;T.hasNext();){const V=T.getNext(),H=V.key,X=V.value,de=hc();X.forEach(Ve=>{if(!c.has(Ve)){const Xe=oh(t.get(Ve),s.get(Ve));null!==Xe&&de.set(Ve,Xe),c=c.add(Ve)}}),f.push(this.documentOverlayCache.saveOverlays(e,H,de))}return Te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return g.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Xd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):Te.resolve(vu());let T=-1,V=c;return f.next(H=>Te.forEach(H,(X,de)=>(T<de.largestBatchId&&(T=de.largestBatchId),c.get(X)?Te.resolve():this.remoteDocumentCache.getEntry(e,X).next(Ve=>{V=V.insert(X,Ve)}))).next(()=>this.populateOverlays(e,H,c)).next(()=>this.computeViews(e,V,H,Xn())).next(X=>({batchId:T,changes:ff(X)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new g(t)).next(s=>{let a=Fu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=Fu();return this.indexManager.getCollectionParents(e,a).next(f=>Te.forEach(f,T=>{const V=(H=t,X=T.child(a),new uu(X,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,X;return this.getDocumentsMatchingCollectionQuery(e,V,s).next(H=>{H.forEach((X,de)=>{c=c.insert(X,de)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((T,V)=>{const H=V.getKey();null===c.get(H)&&(c=c.insert(H,ki.newInvalidDocument(H)))});let f=Fu();return c.forEach((T,V)=>{const H=a.get(T);void 0!==H&&Vu(H.mutation,V,$s.empty(),di.now()),dc(t,V)&&(f=f.insert(T,V))}),f})}}class Vf{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Te.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Gi(s.createTime)}),Te.resolve()}getNamedQuery(e,t){return Te.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:$u(s.bundledQuery),readTime:Gi(s.readTime)}),Te.resolve();var s}}class _d{constructor(){this.overlays=new qr(g.comparator),this.ls=new Map}getOverlay(e,t){return Te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=vu();return Te.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.we(e,t,c)}),Te.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(s)),Te.resolve()}getOverlaysForCollection(e,t,s){const a=vu(),c=t.length+1,f=new g(t.child("")),T=this.overlays.getIteratorFrom(f);for(;T.hasNext();){const V=T.getNext().value,H=V.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===c&&V.largestBatchId>s&&a.set(V.getKey(),V)}return Te.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new qr((H,X)=>H-X);const f=this.overlays.getIterator();for(;f.hasNext();){const H=f.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>s){let X=c.get(H.largestBatchId);null===X&&(X=vu(),c=c.insert(H.largestBatchId,X)),X.set(H.getKey(),H)}}const T=vu(),V=c.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((H,X)=>T.set(H,X)),!(T.size()>=a)););return Te.resolve(T)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const f=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new cu(t,s));let c=this.ls.get(t);void 0===c&&(c=Xn(),this.ls.set(t,c)),this.ls.set(t,c.add(s.key))}}class vd{constructor(){this.fs=new Oi(Hs.ds),this.ws=new Oi(Hs._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new Hs(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new Hs(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new g(new mn([])),s=new Hs(t,e),a=new Hs(t,e+1),c=[];return this.ws.forEachInRange([s,a],f=>{this.ys(f),c.push(f.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new g(new mn([])),s=new Hs(t,e),a=new Hs(t,e+1);let c=Xn();return this.ws.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new Hs(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Hs{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return g.comparator(e.key,t.key)||vn(e.As,t.As)}static _s(e,t){return vn(e.As,t.As)||g.comparator(e.key,t.key)}}class Mh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Oi(Hs.ds)}checkEmpty(e){return Te.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.vs;this.vs++;const f=new nd(c,t,s,a);this.mutationQueue.push(f);for(const T of a)this.Rs=this.Rs.add(new Hs(T.key,c)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Te.resolve(f)}lookupMutationBatch(e,t){return Te.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),c=a<0?0:a;return Te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Hs(t,0),a=new Hs(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],f=>{const T=this.Ps(f.As);c.push(T)}),Te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Oi(vn);return t.forEach(a=>{const c=new Hs(a,0),f=new Hs(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,f],T=>{s=s.add(T.As)})}),Te.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;g.isDocumentKey(c)||(c=c.child(""));const f=new Hs(new g(c),0);let T=new Oi(vn);return this.Rs.forEachWhile(V=>{const H=V.key.path;return!!s.isPrefixOf(H)&&(H.length===a&&(T=T.add(V.As)),!0)},f),Te.resolve(this.Vs(T))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){zt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Te.forEach(t.mutations,a=>{const c=new Hs(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new Hs(t,0),a=this.Rs.firstAfterOrEqual(s);return Te.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Te.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Uf{constructor(e){this.Ds=e,this.docs=new qr(g.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,f=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Te.resolve(s?s.document.mutableCopy():ki.newInvalidDocument(t))}getEntries(e,t){let s=to();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():ki.newInvalidDocument(a))}),Te.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=to();const f=t.path,T=new g(f.child("")),V=this.docs.getIteratorFrom(T);for(;V.hasNext();){const{key:H,value:{document:X}}=V.getNext();if(!f.isPrefixOf(H.path))break;H.path.length>f.length+1||$n(Nt(X),s)<=0||(a.has(X.key)||dc(t,X))&&(c=c.insert(X.key,X.mutableCopy()))}return Te.resolve(c)}getAllFromCollectionGroup(e,t,s,a){Ft()}Cs(e,t){return Te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Cm(this)}getSize(e){return Te.resolve(this.size)}}class Cm extends Pe{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),Te.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Ed{constructor(e){this.persistence=e,this.xs=new yu(t=>el(t),Fa),this.lastRemoteSnapshotVersion=rn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new vd,this.targetCount=0,this.Ms=bc.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),Te.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new bc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Te.resolve()}updateTargetData(e,t){return this.Fn(t),Te.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.xs.forEach((f,T)=>{T.sequenceNumber<=t&&null===s.get(T.targetId)&&(this.xs.delete(f),c.push(this.removeMatchingKeysForTargetId(e,T.targetId)),a++)}),Te.waitFor(c).next(()=>a)}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return Te.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),Te.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),Te.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return Te.resolve(s)}containsKey(e,t){return Te.resolve(this.ks.containsKey(t))}}class wd{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ei(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Ed(this),this.indexManager=new Of,this.remoteDocumentCache=new Uf(s=>this.referenceDelegate.Ls(s)),this.serializer=new wc(t),this.qs=new Vf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _d,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new Mh(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){tt("MemoryPersistence","Starting transaction:",e);const a=new Sc(this.Os.next());return this.referenceDelegate.Us(),s(a).next(c=>this.referenceDelegate.Ks(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Gs(e,t){return Te.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class Sc extends _n{constructor(e){super(),this.currentSequenceNumber=e}}class Bf{constructor(e){this.persistence=e,this.Qs=new vd,this.js=null}static zs(e){return new Bf(e)}get Ws(){if(this.js)return this.js;throw Ft()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),Te.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),Te.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Te.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Ws.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.Ws,s=>{const a=g.fromPath(s);return this.Hs(e,a).next(c=>{c||t.removeEntry(a,rn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Te.or([()=>Te.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Am{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=Xn(),a=Xn();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Am(e,t.fromCache,s,a)}}class Mm{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(c=>c||this.Gi(e,t,a,s)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(Qd(t))return Te.resolve(null);let s=aa(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=eh(t,null,"F"),s=aa(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Xn(...c);return this.Ui.getDocuments(e,f).next(T=>this.indexManager.getMinOffset(e,s).next(V=>{const H=this.ji(t,T);return this.zi(t,H,f,V.readTime)?this.Ki(e,eh(t,null,"F")):this.Wi(e,H,t,V)}))})))}Gi(e,t,s,a){return Qd(t)||a.isEqual(rn.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(c=>{const f=this.ji(t,c);return this.zi(t,f,s,a)?this.Qi(e,t):(Gn()<=De.in.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),il(t)),this.Wi(e,f,t,function qe(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=rn.fromTimestamp(1e9===s?new di(t+1,0):new di(t,s));return new It(a,g.empty(),e)}(a,-1)))})}ji(e,t){let s=new Oi(Zc(e));return t.forEach((a,c)=>{dc(e,c)&&(s=s.add(c))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Qi(e,t){return Gn()<=De.in.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",il(t)),this.Ui.getDocumentsMatchingQuery(e,t,It.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(f=>{c=c.insert(f.key,f)}),c))}}class Dd{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new qr(vn),this.Yi=new yu(c=>el(c),Fa),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ah(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function rg(r,e){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,w.Z)(function*(r,e){const t=Ct(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],T=[];let V=Xn();for(const H of a){f.push(H.batchId);for(const X of H.mutations)V=V.add(X.key)}for(const H of c){T.push(H.batchId);for(const X of H.mutations)V=V.add(X.key)}return t.localDocuments.getDocuments(s,V).next(H=>({er:H,removedBatchIds:f,addedBatchIds:T}))})})}),Cd.apply(this,arguments)}function ig(r){const e=Ct(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Zy(r,e){const t=Ct(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function bd(r,e,t){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,w.Z)(function*(r,e,t){const s=Ct(r),a=s.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!Yi(f))throw f;tt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),Gf.apply(this,arguments)}function zf(r,e,t){const s=Ct(r);let a=rn.min(),c=Xn();return s.persistence.runTransaction("Execute query","readonly",f=>function(T,V,H){const X=Ct(T),de=X.Yi.get(H);return void 0!==de?Te.resolve(X.Ji.get(de)):X.Bs.getTargetData(V,H)}(s,f,aa(e)).next(T=>{if(T)return a=T.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(f,T.targetId).next(V=>{c=V})}).next(()=>s.Hi.getDocumentsMatchingQuery(f,e,t?a:rn.min(),t?c:Xn())).next(T=>(function Wf(r,e,t){let s=r.Xi.get(e)||rn.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Xi.set(e,s)}(s,function Dl(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),T),{documents:T,ir:c})))}class Gl{constructor(){this.activeTargetIds=function nh(){return fc}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ad{constructor(){this.Hr=new Gl,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Gl,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lg{Yr(e){}shutdown(){}}class Oh{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kh=null;function Fh(){return null===kh?kh=268435456+Math.round(2147483648*Math.random()):kh++,"0x"+kh.toString(16)}const cg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dg{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const la="WebChannelConnection";class hg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,c){const f=Fh(),T=this.To(e,t);tt("RestConnection",`Sending RPC '${e}' ${f}:`,T,s);const V={};return this.Eo(V,a,c),this.Ao(e,T,V,s).then(H=>(tt("RestConnection",`Received RPC '${e}' ${f}: `,H),H),H=>{throw xr("RestConnection",`RPC '${e}' ${f} failed with error: `,H,"url: ",T,"request:",s),H})}vo(e,t,s,a,c,f){return this.Io(e,t,s,a,c)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fn,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}To(e,t){return`${this.mo}/v1/${t}:${cg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const c=Fh();return new Promise((f,T)=>{const V=new K;V.setWithCredentials(!0),V.listenOnce(Xa.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case Ca.NO_ERROR:const X=V.getResponseJson();tt(la,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(X)),f(X);break;case Ca.TIMEOUT:tt(la,`RPC '${e}' ${c} timed out`),T(new ot($e.DEADLINE_EXCEEDED,"Request time out"));break;case Ca.HTTP_ERROR:const de=V.getStatus();if(tt(la,`RPC '${e}' ${c} failed with status:`,de,"response text:",V.getResponseText()),de>0){let Ve=V.getResponseJson();Array.isArray(Ve)&&(Ve=Ve[0]);const Xe=Ve?.error;if(Xe&&Xe.status&&Xe.message){const Dt=function(Zt){const Xt=Zt.toLowerCase().replace(/_/g,"-");return Object.values($e).indexOf(Xt)>=0?Xt:$e.UNKNOWN}(Xe.status);T(new ot(Dt,Xe.message))}else T(new ot($e.UNKNOWN,"Server responded with status "+V.getStatus()))}else T(new ot($e.UNAVAILABLE,"Connection failed."));break;default:Ft()}}finally{tt(la,`RPC '${e}' ${c} completed.`)}});const H=JSON.stringify(a);tt(la,`RPC '${e}' ${c} sending request:`,a),V.send(t,"POST",H,s,15)})}Ro(e,t,s){const a=Fh(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Da(),T=Ja(),V={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(V.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(V.xmlHttpFactory=new j({})),this.Eo(V.initMessageHeaders,t,s),V.encodeInitMessageHeaders=!0;const X=c.join("");tt(la,`Creating RPC '${e}' stream ${a}: ${X}`,V);const de=f.createWebChannel(X,V);let Ve=!1,Xe=!1;const Dt=new dg({ro:Xt=>{Xe?tt(la,`Not sending because RPC '${e}' stream ${a} is closed:`,Xt):(Ve||(tt(la,`Opening RPC '${e}' stream ${a} transport.`),de.open(),Ve=!0),tt(la,`RPC '${e}' stream ${a} sending:`,Xt),de.send(Xt))},oo:()=>de.close()}),Zt=(Xt,ar,Kr)=>{Xt.listen(ar,Er=>{try{Kr(Er)}catch(Co){setTimeout(()=>{throw Co},0)}})};return Zt(de,O.EventType.OPEN,()=>{Xe||tt(la,`RPC '${e}' stream ${a} transport opened.`)}),Zt(de,O.EventType.CLOSE,()=>{Xe||(Xe=!0,tt(la,`RPC '${e}' stream ${a} transport closed`),Dt.wo())}),Zt(de,O.EventType.ERROR,Xt=>{Xe||(Xe=!0,xr(la,`RPC '${e}' stream ${a} transport errored:`,Xt),Dt.wo(new ot($e.UNAVAILABLE,"The operation could not be completed")))}),Zt(de,O.EventType.MESSAGE,Xt=>{var ar;if(!Xe){const Kr=Xt.data[0];zt(!!Kr);const Co=Kr.error||(null===(ar=Kr[0])||void 0===ar?void 0:ar.error);if(Co){tt(la,`RPC '${e}' stream ${a} received error:`,Co);const so=Co.status;let ts=function(Bc){const hm=no[Bc];if(void 0!==hm)return Bp(hm)}(so),Ba=Co.message;void 0===ts&&(ts=$e.INTERNAL,Ba="Unknown error status: "+so+" with message "+Co.message),Xe=!0,Dt.wo(new ot(ts,Ba)),de.close()}else tt(la,`RPC '${e}' stream ${a} received:`,Kr),Dt._o(Kr)}}),Zt(T,$a.STAT_EVENT,Xt=>{Xt.stat===A.PROXY?tt(la,`RPC '${e}' stream ${a} detected buffering proxy`):Xt.stat===A.NOPROXY&&tt(la,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Dt.fo()},0),Dt}}function Kf(){return typeof document<"u"?document:null}function Md(r){return new Hp(r,!0)}class fg{constructor(e,t,s=1e3,a=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&tt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class pg{constructor(e,t,s,a,c,f,T,V){this.ii=e,this.$o=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=T,this.listener=V,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new fg(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,w.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,w.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,w.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===$e.RESOURCE_EXHAUSTED?(gn(t.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===$e.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new ot($e.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,w.Z)(function*(){e.state=0,e.start()}))}tu(e){return tt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Om extends pg{constructor(e,t,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Cf(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(V=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:Ft(),a=e.targetChange.targetIds||[],c=function(V,H){return V.useProto3Json?(zt(void 0===H||"string"==typeof H),eo.fromBase64String(H||"")):(zt(void 0===H||H instanceof Uint8Array),eo.fromUint8Array(H||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,T=f&&function(V){const H=void 0===V.code?$e.UNKNOWN:Bp(V.code);return new ot(H,V.message||"")}(f);t=new dh(s,a,c,T||null)}else if("documentChange"in e){const s=e.documentChange,a=wi(r,s.document.name),c=Gi(s.document.updateTime),f=s.document.createTime?Gi(s.document.createTime):rn.min(),T=new po({mapValue:{fields:s.document.fields}}),V=ki.newFoundDocument(a,c,f,T);t=new yc(s.targetIds||[],s.removedTargetIds||[],V.key,V)}else if("documentDelete"in e){const s=e.documentDelete,a=wi(r,s.document),c=s.readTime?Gi(s.readTime):rn.min(),f=ki.newNoDocument(a,c);t=new yc([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=wi(r,s.document);t=new yc([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Ft();{const s=e.filter,{count:a=0,unchangedNames:c}=s,f=new Up(a,c);t=new ch(s.targetId,f)}}var V;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return rn.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?rn.min():c.readTime?Gi(c.readTime):rn.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=vc(this.serializer),t.addTarget=function(a,c){let f;const T=c.target;if(f=Wc(T)?{documents:Fl(a,T)}:{query:Ec(a,T)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=wf(a,c.resumeToken);const V=hh(a,c.expectedCount);null!==V&&(f.expectedCount=V)}else if(c.snapshotVersion.compareTo(rn.min())>0){f.readTime=Ol(a,c.snapshotVersion.toTimestamp());const V=hh(a,c.expectedCount);null!==V&&(f.expectedCount=V)}return f}(this.serializer,e);const s=function _h(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=vc(this.serializer),t.removeTarget=e,this.Wo(t)}}class Qy extends pg{constructor(e,t,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function vm(r,e){return r&&r.length>0?(zt(void 0!==e),r.map(t=>function(s,a){let c=Gi(s.updateTime?s.updateTime:a);return c.isEqual(rn.min())&&(c=Gi(a)),new ih(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Gi(e.commitTime);return this.listener.cu(s,t)}return zt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=vc(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>function cl(r,e){let t;if(e instanceof Uu)t={update:od(r,e.key,e.value)};else if(e instanceof Pl)t={delete:_c(r,e.key)};else if(e instanceof La)t={update:od(r,e.key,e.data),updateMask:Ll(e.fieldMask)};else{if(!(e instanceof td))return Ft();t={verify:_c(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const f=c.transform;if(f instanceof Tl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof lu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Eu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ul)return{fieldPath:c.field.canonicalString(),increment:f.gt};throw Ft()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:fh(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Ft()),t;var a}(this.serializer,s))};this.Wo(t)}}class Jy extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new ot($e.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Io(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ot($e.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.vo(e,t,s,c,f,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot($e.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}function gg(){return gg=(0,w.Z)(function*(r,e,t){var s;const a=Ct(r),{request:c,du:f}=function(X,de,Ve){const Xe=Ec(X,de),Dt={},Zt=[];let Xt=0;return Ve.forEach(ar=>{const Kr="aggregate_"+Xt++;Dt[Kr]=ar.alias,"count"===ar.yt?Zt.push({alias:Kr,count:{}}):"avg"===ar.yt?Zt.push({alias:Kr,avg:{field:Iu(ar.fieldPath)}}):"sum"===ar.yt&&Zt.push({alias:Kr,sum:{field:Iu(ar.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:Zt,structuredQuery:Xe.structuredQuery},parent:Xe.parent},du:Dt}}(a.serializer,aa(e),t),T=c.parent;a.connection.po||delete c.parent;const V=(yield a.vo("RunAggregationQuery",T,c,1)).filter(X=>!!X.result);zt(1===V.length);const H=null===(s=V[0].result)||void 0===s?void 0:s.aggregateFields;return Object.keys(H).reduce((X,de)=>(X[f[de]]=H[de],X),{})}),gg.apply(this,arguments)}class Xy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(gn(t),this.mu=!1):tt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Mv{constructor(e,t,s,a,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(T=>{s.enqueueAndForget((0,w.Z)(function*(){var V;zl(f)&&(tt("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,w.Z)(function*(H){const X=Ct(H);X.vu.add(4),yield xd(X),X.bu.set("Unknown"),X.vu.delete(4),yield Mc(X)}),function(H){return V.apply(this,arguments)})(f))}))}),this.bu=new Xy(s,a)}}function Mc(r){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,w.Z)(function*(r){if(zl(r))for(const e of r.Ru)yield e(!0)}),Zf.apply(this,arguments)}function xd(r){return mg.apply(this,arguments)}function mg(){return mg=(0,w.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),mg.apply(this,arguments)}function Yf(r,e){const t=Ct(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),_g(t)?Lh(t):Gu(t).Ko()&&yg(t,e))}function Pd(r,e){const t=Ct(r),s=Gu(t);t.Au.delete(e),s.Ko()&&km(t,e),0===t.Au.size&&(s.Ko()?s.jo():zl(t)&&t.bu.set("Unknown"))}function yg(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Gu(r).su(e)}function km(r,e){r.Vu.qt(e),Gu(r).iu(e)}function Lh(r){r.Vu=new ym({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),Gu(r).start(),r.bu.gu()}function _g(r){return zl(r)&&!Gu(r).Uo()&&r.Au.size>0}function zl(r){return 0===Ct(r).vu.size}function Fm(r){r.Vu=void 0}function e_(r){return vg.apply(this,arguments)}function vg(){return vg=(0,w.Z)(function*(r){r.Au.forEach((e,t)=>{yg(r,e)})}),vg.apply(this,arguments)}function Hu(r,e){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,w.Z)(function*(r,e){Fm(r),_g(r)?(r.bu.Iu(e),Lh(r)):r.bu.set("Unknown")}),Vh.apply(this,arguments)}function t_(r,e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,w.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof dh&&2===e.state&&e.cause)try{yield(s=(0,w.Z)(function*(a,c){const f=c.cause;for(const T of c.targetIds)a.Au.has(T)&&(yield a.remoteSyncer.rejectListen(T,f),a.Au.delete(T),a.Vu.removeTarget(T))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Uh(r,s)}else if(e instanceof yc?r.Vu.Ht(e):e instanceof ch?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(rn.min()))try{const s=yield ig(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const f=a.Vu.ce(c);return f.targetChanges.forEach((T,V)=>{if(T.resumeToken.approximateByteSize()>0){const H=a.Au.get(V);H&&a.Au.set(V,H.withResumeToken(T.resumeToken,c))}}),f.targetMismatches.forEach((T,V)=>{const H=a.Au.get(T);if(!H)return;a.Au.set(T,H.withResumeToken(eo.EMPTY_BYTE_STRING,H.snapshotVersion)),km(a,T);const X=new du(H.target,T,V,H.sequenceNumber);yg(a,X)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(s){tt("RemoteStore","Failed to raise snapshot:",s),yield Uh(r,s)}var s}),Eg.apply(this,arguments)}function Uh(r,e,t){return wg.apply(this,arguments)}function wg(){return wg=(0,w.Z)(function*(r,e,t){if(!Yi(e))throw e;r.vu.add(1),yield xd(r),r.bu.set("Offline"),t||(t=()=>ig(r.localStore)),r.asyncQueue.enqueueRetryable((0,w.Z)(function*(){tt("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield Mc(r)}))}),wg.apply(this,arguments)}function Lm(r,e){return e().catch(t=>Uh(r,t,e))}function Rd(r){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,w.Z)(function*(r){const e=Ct(r),t=Wl(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;n_(e);)try{const a=yield Zy(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,r_(e,a)}catch(a){yield Uh(e,a)}$h(e)&&jh(e)}),Bh.apply(this,arguments)}function n_(r){return zl(r)&&r.Eu.length<10}function r_(r,e){r.Eu.push(e);const t=Wl(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function $h(r){return zl(r)&&!Wl(r).Uo()&&r.Eu.length>0}function jh(r){Wl(r).start()}function Qf(r){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,w.Z)(function*(r){Wl(r).hu()}),Vm.apply(this,arguments)}function Ig(r){return Um.apply(this,arguments)}function Um(){return Um=(0,w.Z)(function*(r){const e=Wl(r);for(const t of r.Eu)e.uu(t.mutations)}),Um.apply(this,arguments)}function Bm(r,e,t){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,w.Z)(function*(r,e,t){const s=r.Eu.shift(),a=uh.from(s,e,t);yield Lm(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Rd(r)}),Jf.apply(this,arguments)}function $m(r,e){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,w.Z)(function*(r,e){var t;e&&Wl(r).ou&&(yield(t=(0,w.Z)(function*(s,a){if(function lh(r){switch(r){default:return Ft();case $e.CANCELLED:case $e.UNKNOWN:case $e.DEADLINE_EXCEEDED:case $e.RESOURCE_EXHAUSTED:case $e.INTERNAL:case $e.UNAVAILABLE:case $e.UNAUTHENTICATED:return!1;case $e.INVALID_ARGUMENT:case $e.NOT_FOUND:case $e.ALREADY_EXISTS:case $e.PERMISSION_DENIED:case $e.FAILED_PRECONDITION:case $e.ABORTED:case $e.OUT_OF_RANGE:case $e.UNIMPLEMENTED:case $e.DATA_LOSS:return!0}}(c=a.code)&&c!==$e.ABORTED){const f=s.Eu.shift();Wl(s).Qo(),yield Lm(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield Rd(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),$h(r)&&jh(r)}),Xf.apply(this,arguments)}function ep(r,e){return Cu.apply(this,arguments)}function Cu(){return Cu=(0,w.Z)(function*(r,e){const t=Ct(r);t.asyncQueue.verifyOperationInProgress(),tt("RemoteStore","RemoteStore received new credentials");const s=zl(t);t.vu.add(3),yield xd(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Mc(t)}),Cu.apply(this,arguments)}function Od(){return Od=(0,w.Z)(function*(r,e){const t=Ct(r);e?(t.vu.delete(2),yield Mc(t)):e||(t.vu.add(2),yield xd(t),t.bu.set("Unknown"))}),Od.apply(this,arguments)}function Gu(r){return r.Su||(r.Su=function(e,t,s){const a=Ct(e);return a.fu(),new Om(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:e_.bind(null,r),ao:Hu.bind(null,r),nu:t_.bind(null,r)}),r.Ru.push(function(){var e=(0,w.Z)(function*(t){t?(r.Su.Qo(),_g(r)?Lh(r):r.bu.set("Unknown")):(yield r.Su.stop(),Fm(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function Wl(r){return r.Du||(r.Du=function(e,t,s){const a=Ct(e);return a.fu(),new Qy(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:Qf.bind(null,r),ao:$m.bind(null,r),au:Ig.bind(null,r),cu:Bm.bind(null,r)}),r.Ru.push(function(){var e=(0,w.Z)(function*(t){t?(r.Du.Qo(),yield Rd(r)):(yield r.Du.stop(),r.Eu.length>0&&(tt("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class tp{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,c){const f=Date.now()+s,T=new tp(e,t,f,a,c);return T.start(s),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ot($e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xc(r,e){if(gn("AsyncQueue",`${e}: ${r}`),Yi(r))return new ot($e.UNAVAILABLE,`${e}: ${r}`);throw r}class kd{constructor(e){this.comparator=e?(t,s)=>e(t,s)||g.comparator(t.key,s.key):(t,s)=>g.comparator(t.key,s.key),this.keyedMap=Fu(),this.sortedSet=new qr(this.comparator)}static emptySet(e){return new kd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new kd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class jm{constructor(){this.Cu=new qr(g.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Ft():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class zu{constructor(e,t,s,a,c,f,T,V,H){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=T,this.excludesMetadataChanges=V,this.hasCachedResults=H}static fromInitialDocuments(e,t,s,a,c){const f=[];return t.forEach(T=>{f.push({type:0,doc:T})}),new zu(e,t,kd.emptySet(t),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class i_{constructor(){this.Nu=void 0,this.listeners=[]}}class xv{constructor(){this.queries=new yu(e=>hf(e),rl),this.onlineState="Unknown",this.ku=new Set}}function Dg(r,e){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,w.Z)(function*(r,e){const t=Ct(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new i_),a)try{c.Nu=yield t.onListen(s)}catch(f){const T=xc(f,`Initialization of query '${il(e.query)}' failed`);return void e.onError(T)}t.queries.set(s,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&Sg(t)}),Cg.apply(this,arguments)}function Tg(r,e){return bg.apply(this,arguments)}function bg(){return bg=(0,w.Z)(function*(r,e){const t=Ct(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),bg.apply(this,arguments)}function s_(r,e){const t=Ct(r);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const T of f.listeners)T.$u(a)&&(s=!0);f.Nu=a}}s&&Sg(t)}function o_(r,e,t){const s=Ct(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function Sg(r){r.ku.forEach(e=>{e.next()})}class np{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new zu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=zu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class zm{constructor(e){this.key=e}}class Wm{constructor(e){this.key=e}}class qm{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Xn(),this.mutatedKeys=Xn(),this.tc=Zc(e),this.ec=new kd(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new jm,a=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,f=a,T=!1;const V="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,H="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((X,de)=>{const Ve=a.get(X),Xe=dc(this.query,de)?de:null,Dt=!!Ve&&this.mutatedKeys.has(Ve.key),Zt=!!Xe&&(Xe.hasLocalMutations||this.mutatedKeys.has(Xe.key)&&Xe.hasCommittedMutations);let Xt=!1;Ve&&Xe?Ve.data.isEqual(Xe.data)?Dt!==Zt&&(s.track({type:3,doc:Xe}),Xt=!0):this.rc(Ve,Xe)||(s.track({type:2,doc:Xe}),Xt=!0,(V&&this.tc(Xe,V)>0||H&&this.tc(Xe,H)<0)&&(T=!0)):!Ve&&Xe?(s.track({type:0,doc:Xe}),Xt=!0):Ve&&!Xe&&(s.track({type:1,doc:Ve}),Xt=!0,(V||H)&&(T=!0)),Xt&&(Xe?(f=f.add(Xe),c=Zt?c.add(X):c.delete(X)):(f=f.delete(X),c=c.delete(X)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const X="F"===this.query.limitType?f.last():f.first();f=f.delete(X.key),c=c.delete(X.key),s.track({type:1,doc:X})}return{ec:f,ic:s,zi:T,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((H,X)=>function(de,Ve){const Xe=Dt=>{switch(Dt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft()}};return Xe(de)-Xe(Ve)}(H.type,X.type)||this.tc(H.doc,X.doc)),this.oc(s);const f=t?this.uc():[],T=0===this.Zu.size&&this.current?1:0,V=T!==this.Xu;return this.Xu=T,0!==c.length||V?{snapshot:new zu(this.query,e.ec,a,c,e.mutatedKeys,0===T,V,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new jm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Xn(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new Wm(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new zm(s))}),t}hc(e){this.Yu=e.ir,this.Zu=Xn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return zu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class a_{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class u_{constructor(e){this.key=e,this.fc=!1}}class l_{constructor(e,t,s,a,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new yu(T=>hf(T),rl),this._c=new Map,this.mc=new Set,this.gc=new qr(g.comparator),this.yc=new Map,this.Ic=new vd,this.Tc={},this.Ec=new Map,this.Ac=bc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Km(r,e){return rp.apply(this,arguments)}function rp(){return rp=(0,w.Z)(function*(r,e){const t=function kg(r){const e=Ct(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ty.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wu.bind(null,e),e.dc.nu=s_.bind(null,e.eventManager),e.dc.Pc=o_.bind(null,e.eventManager),e}(r);let s,a;const c=t.wc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.lc();else{const f=yield function Td(r,e){const t=Ct(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(c=>c?(a=c,Te.resolve(a)):t.Bs.allocateTargetId(s).next(f=>(a=new du(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}(t.localStore,aa(e)),T=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield function xg(r,e,t,s,a){return Zm.apply(this,arguments)}(t,e,s,"current"===T,f.resumeToken),t.isPrimaryClient&&Yf(t.remoteStore,f)}return a}),rp.apply(this,arguments)}function Zm(){return Zm=(0,w.Z)(function*(r,e,t,s,a){r.Rc=(de,Ve,Xe)=>{return(Dt=(0,w.Z)(function*(Zt,Xt,ar,Kr){let Er=Xt.view.sc(ar);Er.zi&&(Er=yield zf(Zt.localStore,Xt.query,!1).then(({documents:ts})=>Xt.view.sc(ts,Er)));const Co=Kr&&Kr.targetChanges.get(Xt.targetId),so=Xt.view.applyChanges(Er,Zt.isPrimaryClient,Co);return Yl(Zt,Xt.targetId,so.cc),so.snapshot}),function(Zt,Xt,ar,Kr){return Dt.apply(this,arguments)})(r,de,Ve,Xe);var Dt};const c=yield zf(r.localStore,e,!0),f=new qm(e,c.ir),T=f.sc(c.documents),V=Nl.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),H=f.applyChanges(T,r.isPrimaryClient,V);Yl(r,t,H.cc);const X=new a_(e,t,f);return r.wc.set(e,X),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),H.snapshot}),Zm.apply(this,arguments)}function Ym(r,e){return Qm.apply(this,arguments)}function Qm(){return Qm=(0,w.Z)(function*(r,e){const t=Ct(r),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!rl(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield bd(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Pd(t.remoteStore,s.targetId),Tu(t,s.targetId)}).catch(tn))):(Tu(t,s.targetId),yield bd(t.localStore,s.targetId,!0))}),Qm.apply(this,arguments)}function Pg(){return Pg=(0,w.Z)(function*(r,e,t){const s=function Vd(r){const e=Ct(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_a.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sp.bind(null,e),e}(r);try{const a=yield function(c,f){const T=Ct(c),V=di.now(),H=f.reduce((Ve,Xe)=>Ve.add(Xe.key),Xn());let X,de;return T.persistence.runTransaction("Locally write mutations","readwrite",Ve=>{let Xe=to(),Dt=Xn();return T.Zi.getEntries(Ve,H).next(Zt=>{Xe=Zt,Xe.forEach((Xt,ar)=>{ar.isValidDocument()||(Dt=Dt.add(Xt))})}).next(()=>T.localDocuments.getOverlayedDocuments(Ve,Xe)).next(Zt=>{X=Zt;const Xt=[];for(const ar of f){const Kr=ah(ar,X.get(ar.key).overlayedDocument);null!=Kr&&Xt.push(new La(ar.key,Kr,ws(Kr.value.mapValue),ds.exists(!0)))}return T.mutationQueue.addMutationBatch(Ve,V,Xt,f)}).next(Zt=>{de=Zt;const Xt=Zt.applyToLocalDocumentSet(X,Dt);return T.documentOverlayCache.saveOverlays(Ve,Zt.batchId,Xt)})}).then(()=>({batchId:de.batchId,changes:ff(X)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,f,T){let V=c.Tc[c.currentUser.toKey()];V||(V=new qr(vn)),V=V.insert(f,T),c.Tc[c.currentUser.toKey()]=V}(s,a.batchId,t),yield Ua(s,a.changes),yield Rd(s.remoteStore)}catch(a){const c=xc(a,"Failed to persist write");t.reject(c)}}),Pg.apply(this,arguments)}function Jm(r,e){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,w.Z)(function*(r,e){const t=Ct(r);try{const s=yield function Ky(r,e){const t=Ct(r),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const T=[];e.targetChanges.forEach((X,de)=>{const Ve=a.get(de);if(!Ve)return;T.push(t.Bs.removeMatchingKeys(c,X.removedDocuments,de).next(()=>t.Bs.addMatchingKeys(c,X.addedDocuments,de)));let Xe=Ve.withSequenceNumber(c.currentSequenceNumber);var Dt,Zt,Xt;null!==e.targetMismatches.get(de)?Xe=Xe.withResumeToken(eo.EMPTY_BYTE_STRING,rn.min()).withLastLimboFreeSnapshotVersion(rn.min()):X.resumeToken.approximateByteSize()>0&&(Xe=Xe.withResumeToken(X.resumeToken,s)),a=a.insert(de,Xe),Zt=Xe,Xt=X,(0===(Dt=Ve).resumeToken.approximateByteSize()||Zt.snapshotVersion.toMicroseconds()-Dt.snapshotVersion.toMicroseconds()>=3e8||Xt.addedDocuments.size+Xt.modifiedDocuments.size+Xt.removedDocuments.size>0)&&T.push(t.Bs.updateTargetData(c,Xe))});let V=to(),H=Xn();if(e.documentUpdates.forEach(X=>{e.resolvedLimboDocuments.has(X)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(c,X))}),T.push(function Pm(r,e,t){let s=Xn(),a=Xn();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=to();return t.forEach((T,V)=>{const H=c.get(T);V.isFoundDocument()!==H.isFoundDocument()&&(a=a.add(T)),V.isNoDocument()&&V.version.isEqual(rn.min())?(e.removeEntry(T,V.readTime),f=f.insert(T,V)):!H.isValidDocument()||V.version.compareTo(H.version)>0||0===V.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(V),f=f.insert(T,V)):tt("LocalStore","Ignoring outdated watch update for ",T,". Current version:",H.version," Watch version:",V.version)}),{nr:f,sr:a}})}(c,f,e.documentUpdates).next(X=>{V=X.nr,H=X.sr})),!s.isEqual(rn.min())){const X=t.Bs.getLastRemoteSnapshotVersion(c).next(de=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,s));T.push(X)}return Te.waitFor(T).next(()=>f.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,V,H)).next(()=>V)}).then(c=>(t.Ji=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const f=t.yc.get(c);f&&(zt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.fc=!0:a.modifiedDocuments.size>0?zt(f.fc):a.removedDocuments.size>0&&(zt(f.fc),f.fc=!1))}),yield Ua(t,s,e)}catch(s){yield tn(s)}}),Hh.apply(this,arguments)}function Xm(r,e,t){const s=Ct(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((c,f)=>{const T=f.view.Mu(e);T.snapshot&&a.push(T.snapshot)}),function(c,f){const T=Ct(c);T.onlineState=f;let V=!1;T.queries.forEach((H,X)=>{for(const de of X.listeners)de.Mu(f)&&(V=!0)}),V&&Sg(T)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Wu(r,e,t){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,w.Z)(function*(r,e,t){const s=Ct(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),c=a&&a.key;if(c){let f=new qr(g.comparator);f=f.insert(c,ki.newNoDocument(c,rn.min()));const T=Xn().add(c),V=new wu(rn.min(),new Map,new qr(vn),f,T);yield Jm(s,V),s.gc=s.gc.remove(c),s.yc.delete(e),Ql(s)}else yield bd(s.localStore,e,!1).then(()=>Tu(s,e,t)).catch(tn)}),Pc.apply(this,arguments)}function _a(r,e){return gl.apply(this,arguments)}function gl(){return gl=(0,w.Z)(function*(r,e){const t=Ct(r),s=e.batch.batchId;try{const a=yield function qy(r,e){const t=Ct(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(f,T,V,H){const X=V.batch,de=X.keys();let Ve=Te.resolve();return de.forEach(Xe=>{Ve=Ve.next(()=>H.getEntry(T,Xe)).next(Dt=>{const Zt=V.docVersions.get(Xe);zt(null!==Zt),Dt.version.compareTo(Zt)<0&&(X.applyToRemoteDocument(Dt,V),Dt.isValidDocument()&&(Dt.setReadTime(V.commitVersion),H.addEntry(Dt)))})}),Ve.next(()=>f.mutationQueue.removeMutationBatch(T,X))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let T=Xn();for(let V=0;V<f.mutationResults.length;++V)f.mutationResults[V].transformResults.length>0&&(T=T.add(f.batch.mutations[V].key));return T}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);Zl(t,s,null),Kl(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Ua(t,a)}catch(a){yield tn(a)}}),gl.apply(this,arguments)}function sp(r,e,t){return Va.apply(this,arguments)}function Va(){return Va=(0,w.Z)(function*(r,e,t){const s=Ct(r);try{const a=yield function(c,f){const T=Ct(c);return T.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let H;return T.mutationQueue.lookupMutationBatch(V,f).next(X=>(zt(null!==X),H=X.keys(),T.mutationQueue.removeMutationBatch(V,X))).next(()=>T.mutationQueue.performConsistencyCheck(V)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(V,H,f)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(V,H)).next(()=>T.localDocuments.getDocuments(V,H))})}(s.localStore,e);Zl(s,e,t),Kl(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Ua(s,a)}catch(a){yield tn(a)}}),Va.apply(this,arguments)}function Kl(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function Zl(r,e,t){const s=Ct(r);let a=s.Tc[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function Tu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.wc.delete(s),t&&r.dc.Pc(s,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(s=>{r.Ic.containsKey(s)||Rc(r,s)})}function Rc(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(Pd(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),Ql(r))}function Yl(r,e,t){for(const s of t)s instanceof zm?(r.Ic.addReference(s.key,e),Fd(r,s)):s instanceof Wm?(tt("SyncEngine","Document no longer in limbo: "+s.key),r.Ic.removeReference(s.key,e),r.Ic.containsKey(s.key)||Rc(r,s.key)):Ft()}function Fd(r,e){const t=e.key,s=t.path.canonicalString();r.gc.get(t)||r.mc.has(s)||(tt("SyncEngine","New document in limbo: "+t),r.mc.add(s),Ql(r))}function Ql(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new g(mn.fromString(e)),s=r.Ac.next();r.yc.set(s,new u_(t)),r.gc=r.gc.insert(t,s),Yf(r.remoteStore,new du(aa(ku(t.path)),s,"TargetPurposeLimboResolution",Ei.ct))}}function Ua(r,e,t){return op.apply(this,arguments)}function op(){return op=(0,w.Z)(function*(r,e,t){const s=Ct(r),a=[],c=[],f=[];var T;s.wc.isEmpty()||(s.wc.forEach((T,V)=>{f.push(s.Rc(V,e,t).then(H=>{if((H||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(V.targetId,H?.fromCache?"not-current":"current"),H){a.push(H);const X=Am.Li(V.targetId,H);c.push(X)}}))}),yield Promise.all(f),s.dc.nu(a),yield(T=(0,w.Z)(function*(V,H){const X=Ct(V);try{yield X.persistence.runTransaction("notifyLocalViewChanges","readwrite",de=>Te.forEach(H,Ve=>Te.forEach(Ve.Fi,Xe=>X.persistence.referenceDelegate.addReference(de,Ve.targetId,Xe)).next(()=>Te.forEach(Ve.Bi,Xe=>X.persistence.referenceDelegate.removeReference(de,Ve.targetId,Xe)))))}catch(de){if(!Yi(de))throw de;tt("LocalStore","Failed to update sequence numbers: "+de)}for(const de of H){const Ve=de.targetId;if(!de.fromCache){const Xe=X.Ji.get(Ve),Zt=Xe.withLastLimboFreeSnapshotVersion(Xe.snapshotVersion);X.Ji=X.Ji.insert(Ve,Zt)}}}),function(V,H){return T.apply(this,arguments)})(s.localStore,c))}),op.apply(this,arguments)}function ey(r,e){return ap.apply(this,arguments)}function ap(){return ap=(0,w.Z)(function*(r,e){const t=Ct(r);if(!t.currentUser.isEqual(e)){tt("SyncEngine","User change. New user:",e.toKey());const s=yield rg(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(f=>{f.forEach(T=>{T.reject(new ot($e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Ua(t,s.er)}var a}),ap.apply(this,arguments)}function ty(r,e){const t=Ct(r),s=t.yc.get(e);if(s&&s.fc)return Xn().add(s.key);{let a=Xn();const c=t._c.get(e);if(!c)return a;for(const f of c){const T=t.wc.get(f);a=a.unionWith(T.view.nc)}return a}}class zh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,w.Z)(function*(){t.serializer=Md(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function xm(r,e,t,s){return new Dd(r,e,t,s)}(this.persistence,new Mm,e.initialUser,this.serializer)}createPersistence(e){return new wd(Bf.zs,this.serializer)}createSharedClientState(e){return new Ad}terminate(){var e=this;return(0,w.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Nc{initialize(e,t){var s=this;return(0,w.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>Xm(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=ey.bind(null,s.syncEngine),yield function Nd(r,e){return Od.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new xv}createDatastore(e){const t=Md(e.databaseInfo.databaseId),s=new hg(e.databaseInfo);return new Jy(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=T=>Xm(this.syncEngine,T,0),f=Oh.D()?new Oh:new lg,new Mv(t,s,a,c,f);var t,s,a,c,f}createSyncEngine(e,t){return function(s,a,c,f,T,V,H){const X=new l_(s,a,c,f,T,V);return H&&(X.vc=!0),X}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,w.Z)(function*(t){const s=Ct(t);tt("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield xd(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Wh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):gn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ly{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Et.UNAUTHENTICATED,this.clientId=Ju.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,w.Z)(function*(T){tt("FirestoreClient","Received user=",T.uid),yield c.authCredentialListener(T),c.user=T});return function(T){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(tt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,w.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ot($e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,w.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=xc(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function qh(r,e){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,w.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),tt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,w.Z)(function*(c){s.isEqual(c)||(yield rg(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Lg.apply(this,arguments)}function Vg(r,e){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,w.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield function Ud(r){return Kh.apply(this,arguments)}(r);tt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>ep(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>ep(e.remoteStore,c)),r._onlineComponents=e}),Ug.apply(this,arguments)}function Kh(){return Kh=(0,w.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){tt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield qh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Bg(r){return"FirebaseError"===r.name?r.code===$e.FAILED_PRECONDITION||r.code===$e.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}(t))throw t;xr("Error using user provided cache. Falling back to memory cache: "+t),yield qh(r,new zh)}}else tt("FirestoreClient","Using default OfflineComponentProvider"),yield qh(r,new zh);return r._offlineComponents}),Kh.apply(this,arguments)}function Zh(r){return yp.apply(this,arguments)}function yp(){return yp=(0,w.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(tt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Vg(r,r._uninitializedComponentsProvider._online)):(tt("FirestoreClient","Using default OnlineComponentProvider"),yield Vg(r,new Nc))),r._onlineComponents}),yp.apply(this,arguments)}function ml(r){return qu.apply(this,arguments)}function qu(){return qu=(0,w.Z)(function*(r){const e=yield Zh(r),t=e.eventManager;return t.onListen=Km.bind(null,e.syncEngine),t.onUnlisten=Ym.bind(null,e.syncEngine),t}),qu.apply(this,arguments)}function dy(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const qg=new Map;function Kg(r,e,t){if(!t)throw new ot($e.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Zg(r){if(!g.isDocumentKey(r))throw new ot($e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function hy(r){if(g.isDocumentKey(r))throw new ot($e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function vp(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Ft()}function Lr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ot($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vp(r);throw new ot($e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class Yg{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new ot($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ot($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Do(r,e,t,s){if(!0===e&&!0===s)throw new ot($e.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=dy(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new ot($e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot($e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot($e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ot($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ot($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yg(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ja;switch(t.type){case"firstParty":return new eu(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ot($e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=qg.get(e);t&&(tt("ComponentProvider","Removing Datastore"),qg.delete(e),t.terminate())}(this),Promise.resolve()}}class ro{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ro(this.firestore,e,this._key)}}class ca{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ca(this.firestore,e,this._query)}}class bu extends ca{constructor(e,t,s){super(e,t,ku(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ro(this.firestore,null,new g(e))}withConverter(e){return new bu(this.firestore,e,this._path)}}function m_(r,e,...t){if(r=(0,ee.m9)(r),Kg("collection","path",e),r instanceof Bd){const s=mn.fromString(e,...t);return hy(s),new bu(r,null,s)}{if(!(r instanceof ro||r instanceof bu))throw new ot($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(mn.fromString(e,...t));return hy(s),new bu(r.firestore,null,s)}}function __(r,e,...t){if(r=(0,ee.m9)(r),1===arguments.length&&(e=Ju.A()),Kg("doc","path",e),r instanceof Bd){const s=mn.fromString(e,...t);return Zg(s),new ro(r,null,new g(s))}{if(!(r instanceof ro||r instanceof bu))throw new ot($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(mn.fromString(e,...t));return Zg(s),new ro(r.firestore,r instanceof bu?r.converter:null,new g(s))}}class Ku{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new fg(this,"async_queue_retry"),this.Xc=()=>{const t=Kf();t&&tt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Kf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Kf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ci;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,w.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Yi(t))throw t;tt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,gn("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=tp.createAndSchedule(this,e,t,s,c=>this.na(c));return this.zc.push(a),a}Zc(){this.Wc&&Ft()}verifyOperationInProgress(){}sa(){var e=this;return(0,w.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Qg(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Br extends Bd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Ku,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||py(this),this._firestoreClient.terminate()}}function io(r){return r._firestoreClient||py(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function py(r){var e,t,s;const a=r._freezeSettings(),c=(T=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Xu(r._databaseId,T,r._persistenceKey,(H=a).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,dy(H.experimentalLongPollingOptions),H.useFetchStreams));var T,H;r._firestoreClient=new ly(r._authCredentials,r._appCheckCredentials,r._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class Xl{constructor(e="count",t){this._aggregateType=e,this._internalFieldPath=t,this.type="AggregateField"}}class C_{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class ec{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ec(eo.fromBase64String(e))}catch(t){throw new ot($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ec(eo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Oc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ot($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new M(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function Xg(){return new Oc("__name__")}class Qh{constructor(e){this._methodName=e}}class Ip{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ot($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ot($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vn(this._lat,e._lat)||vn(this._long,e._long)}}const yy=/^__.*__$/;class _y{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new La(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uu(e,this.data,t,this.fieldTransforms)}}function tm(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft()}}class Jh{constructor(e,t,s,a,c,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Jh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Cp(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(tm(this.ca)&&yy.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class vy{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Md(e)}ya(e,t,s,a=!1){return new Jh({ca:e,methodName:t,ga:s,path:M.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kc(r){const e=r._freezeSettings(),t=Md(r._databaseId);return new vy(r._databaseId,!!e.ignoreUndefinedProperties,t)}function nm(r,e,t,s,a,c={}){const f=r.ya(c.merge||c.mergeFields?2:0,e,t,a);im("Data must be an object, but it was:",f,s);const T=Cy(s,f);let V,H;if(c.merge)V=new $s(f.fieldMask),H=f.fieldTransforms;else if(c.mergeFields){const X=[];for(const de of c.mergeFields){const Ve=ef(e,de,t);if(!f.contains(Ve))throw new ot($e.INVALID_ARGUMENT,`Field '${Ve}' is specified in your field mask but missing from your input data.`);sm(X,Ve)||X.push(Ve)}V=new $s(X),H=f.fieldTransforms.filter(de=>V.covers(de.field))}else V=null,H=f.fieldTransforms;return new _y(new po(T),V,H)}function Fc(r,e){if(Ty(r=(0,ee.m9)(r)))return im("Unsupported field value:",e,r),Cy(r,e);if(r instanceof Qh)return function(t,s){if(!tm(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const f of t){let T=Fc(f,s.wa(c));null==T&&(T={nullValue:"NULL_VALUE"}),a.push(T),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,ee.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return pc(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=di.fromDate(t);return{timestampValue:Ol(s.serializer,a)}}if(t instanceof di){const a=new di(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ol(s.serializer,a)}}if(t instanceof Ip)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ec)return{bytesValue:wf(s.serializer,t._byteString)};if(t instanceof ro){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ph(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${vp(t)}`)}(r,e)}function Cy(r,e){const t={};return Io(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(r,(s,a)=>{const c=Fc(a,e.ha(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function Ty(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof di||r instanceof Ip||r instanceof ec||r instanceof ro||r instanceof Qh)}function im(r,e,t){if(!Ty(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=vp(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function ef(r,e,t){if((e=(0,ee.m9)(e))instanceof Oc)return e._internalPath;if("string"==typeof e)return Dp(r,e);throw Cp("Field path arguments must be of type string or ",r,!1,void 0,t)}const A_=new RegExp("[~\\*/\\[\\]]");function Dp(r,e,t){if(e.search(A_)>=0)throw Cp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Oc(...e.split("."))._internalPath}catch{throw Cp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Cp(r,e,t,s,a){const c=s&&!s.isEmpty(),f=void 0!==a;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let V="";return(c||f)&&(V+=" (found",c&&(V+=` in field ${s}`),f&&(V+=` in document ${a}`),V+=")"),new ot($e.INVALID_ARGUMENT,T+r+V)}function sm(r,e){return r.some(t=>t.isEqual(e))}class Tp{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ro(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new by(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class by extends Tp{data(){return super.data()}}function tf(r,e){return"string"==typeof e?Dp(r,e):e instanceof Oc?e._internalPath:e._delegate._internalPath}class bp{}class Sy extends bp{}function Ay(r,e,...t){let s=[];e instanceof bp&&s.push(e),s=s.concat(t),function(a){const c=a.filter(T=>T instanceof Lc).length,f=a.filter(T=>T instanceof jd).length;if(c>1||c>0&&f>0)throw new ot($e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class jd extends Sy{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new jd(e,t,s)}_apply(e){const t=this._parse(e);return sf(e._query,t),new ca(e.firestore,e.converter,cc(e._query,t))}_parse(e){const t=kc(e.firestore);return function(a,c,f,T,V,H,X){let de;if(V.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new ot($e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){Ry(X,H);const Ve=[];for(const Xe of X)Ve.push(Vc(T,a,Xe));de={arrayValue:{values:Ve}}}else de=Vc(T,a,X)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||Ry(X,H),de=function Dy(r,e,t,s=!1){return Fc(t,r.ya(s?4:3,e))}(f,"where",X,"in"===H||"not-in"===H);return ne.create(V,H,de)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function My(r,e,t){const s=e,a=tf("where",r);return jd._create(a,s,t)}class Lc extends bp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Lc(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:he.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const f=a.getFlattenedFilters();for(const T of f)sf(c,T),c=cc(c,T)}(e._query,t),new ca(e.firestore,e.converter,cc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Vc(r,e,t){if("string"==typeof(t=(0,ee.m9)(t))){if(""===t)throw new ot($e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xd(e)&&-1!==t.indexOf("/"))throw new ot($e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(mn.fromString(t));if(!g.isDocumentKey(s))throw new ot($e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return su(r,new g(s))}if(t instanceof ro)return su(r,t._key);throw new ot($e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vp(t)}.`)}function Ry(r,e){if(!Array.isArray(r)||0===r.length)throw new ot($e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sf(r,e){if(e.isInequality()){const s=nl(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new ot($e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=Jd(r);null!==c&&function af(r,e,t){if(!t.isEqual(e))throw new ot($e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,a,c)}const t=function(s,a){for(const c of s)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ot($e.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class $v{convertValue(e,t="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return es(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(iu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ft()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return vs(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new Ip(es(e.latitude),es(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Hc(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){const t=ru(e);return new di(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=mn.fromString(e);zt(Af(s));const a=new oa(s.get(1),s.get(3)),c=new g(s.popFirst(5));return a.isEqual(t)||gn(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Sp(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Uc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gd extends Tp{constructor(e,t,s,a,c,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(tf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Ap extends Gd{data(e={}){return super.data(e)}}class Yu{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Uc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Ap(this._firestore,this._userDataWriter,s.key,s,new Uc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ot($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new Ap(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Uc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const T=new Ap(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Uc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let V=-1,H=-1;return 0!==f.type&&(V=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),H=c.indexOf(f.doc.key)),{type:O_(f.type),doc:T,oldIndex:V,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function O_(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft()}}function k_(r){r=Lr(r,ro);const e=Lr(r.firestore,Br);return function Jl(r,e,t={}){const s=new ci;return r.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function(a,c,f,T,V){const H=new Wh({next:de=>{c.enqueueAndForget(()=>Tg(a,X));const Ve=de.docs.has(f);!Ve&&de.fromCache?V.reject(new ot($e.UNAVAILABLE,"Failed to get document because the client is offline.")):Ve&&de.fromCache&&T&&"server"===T.source?V.reject(new ot($e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):V.resolve(de)},error:de=>V.reject(de)}),X=new np(ku(f.path),H,{includeMetadataChanges:!0,Ku:!0});return Dg(a,X)}(yield ml(r),r.asyncQueue,e,t,s)})),s.promise}(io(e),r._key).then(t=>lm(e,r,t))}class Su extends $v{constructor(e){super(),this.firestore=e}convertBytes(e){return new ec(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ro(this.firestore,null,t)}}function uf(r,e,t){r=Lr(r,ro);const s=Lr(r.firestore,Br),a=Sp(r.converter,e,t);return zd(s,[nm(kc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,ds.none())])}function U_(r,e){const t=Lr(r.firestore,Br),s=__(r),a=Sp(r.converter,e);return zd(t,[nm(kc(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,ds.exists(!1))]).then(()=>s)}function Oy(r,...e){var t,s,a;r=(0,ee.m9)(r);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Qg(e[f])||(c=e[f],f++);const T={includeMetadataChanges:c.includeMetadataChanges};if(Qg(e[f])){const de=e[f];e[f]=null===(t=de.next)||void 0===t?void 0:t.bind(de),e[f+1]=null===(s=de.error)||void 0===s?void 0:s.bind(de),e[f+2]=null===(a=de.complete)||void 0===a?void 0:a.bind(de)}let V,H,X;if(r instanceof ro)H=Lr(r.firestore,Br),X=ku(r._key.path),V={next:de=>{e[f]&&e[f](lm(H,r,de))},error:e[f+1],complete:e[f+2]};else{const de=Lr(r,ca);H=Lr(de.firestore,Br),X=de._query;const Ve=new Su(H);V={next:Xe=>{e[f]&&e[f](new Yu(H,Ve,de,Xe))},error:e[f+1],complete:e[f+2]},function om(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new ot($e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(r._query)}return function(de,Ve,Xe,Dt){const Zt=new Wh(Dt),Xt=new np(Ve,Zt,Xe);return de.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return Dg(yield ml(de),Xt)})),()=>{Zt.Dc(),de.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return Tg(yield ml(de),Xt)}))}}(io(H),X,T,V)}function zd(r,e){return function(t,s){const a=new ci;return t.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function ip(r,e,t){return Pg.apply(this,arguments)}(yield function _p(r){return Zh(r).then(e=>e.syncEngine)}(t),s,a)})),a.promise}(io(r),e)}function lm(r,e,t){const s=t.docs.get(e._key),a=new Su(r);return new Gd(r,a,e._key,s,new Uc(t.hasPendingWrites,t.fromCache),e.converter)}function ky(r){return function $_(r,e){const t=Lr(r.firestore,Br),s=io(t),a=function(c,f){const T=[];for(const V in c)Object.prototype.hasOwnProperty.call(c,V)&&T.push(f(c[V],V));return T}(e,(c,f)=>new ll(f,c._aggregateType,c._internalFieldPath));return function(c,f,T){const V=new ci;return c.asyncQueue.enqueueAndForget((0,w.Z)(function*(){try{const H=yield function Hg(r){return Zh(r).then(e=>e.datastore)}(c);V.resolve(function Za(r,e,t){return gg.apply(this,arguments)}(H,f,T))}catch(H){V.reject(H)}})),V.promise}(s,r._query,a).then(c=>function(f,T,V){const H=new Su(f);return new C_(T,H,V)}(t,r,c))}(r,{count:new Xl("count")})}!function(r,e=!0){Fn=re.Jn,(0,re.Xd)(new k.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),f=new Br(new ra(t.getProvider("auth-internal")),new Au(t.getProvider("app-check-internal")),function(T,V){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new ot($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oa(T.options.projectId,V)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,re.KN)(Qe,"3.13.0",r),(0,re.KN)(Qe,"3.13.0","esm2017")}()},5861:(sn,Ye,Y)=>{function w(k,De,ee,Ae,Be,ce,Le){try{var se=k[ce](Le),me=se.value}catch(xe){return void ee(xe)}se.done?De(me):Promise.resolve(me).then(Ae,Be)}function re(k){return function(){var De=this,ee=arguments;return new Promise(function(Ae,Be){var ce=k.apply(De,ee);function Le(me){w(ce,Ae,Be,Le,se,"next",me)}function se(me){w(ce,Ae,Be,Le,se,"throw",me)}Le(void 0)})}}Y.d(Ye,{Z:()=>re})}},sn=>{sn(sn.s=5963)}]);