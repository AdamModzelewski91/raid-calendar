"use strict";(self.webpackChunkguild_raiding_app=self.webpackChunkguild_raiding_app||[]).push([[179],{3692:(nn,Qe,Y)=>{Y.d(Qe,{Ot:()=>Ce,ZF:()=>fn,hX:()=>rt,z6:()=>ee});var w=Y(259),re=Y(1571),k=Y(4976);class Ce{constructor(ht){return ht}}class ee{constructor(){return(0,w.C6)()}}const ce=new re.OlP("angularfire2._apps"),Be={provide:Ce,useFactory:function Ve(Oe){return Oe&&1===Oe.length?Oe[0]:new Ce((0,w.Mq)())},deps:[[new re.FiY,ce]]},ie={provide:ee,deps:[[new re.FiY,ce]]};function ye(Oe){return(ht,He)=>{const ct=ht.runOutsideAngular(()=>Oe(He));return new Ce(ct)}}let xe=(()=>{class Oe{constructor(He){(0,w.KN)("angularfire",k.q4.full,"core"),(0,w.KN)("angularfire",k.q4.full,"app"),(0,w.KN)("angular",re.q4F.full,He.toString())}}return Oe.\u0275fac=function(He){return new(He||Oe)(re.LFG(re.Lbi))},Oe.\u0275mod=re.oAB({type:Oe}),Oe.\u0275inj=re.cJS({providers:[Be,ie]}),Oe})();function rt(Oe,...ht){return{ngModule:xe,providers:[{provide:ce,useFactory:ye(Oe),multi:!0,deps:[re.R0b,re.zs3,k.HU,...ht]}]}}const fn=(0,k.u3)(w.ZF,!0)},5465:(nn,Qe,Y)=>{Y.d(Qe,{gx:()=>Ll,fD:()=>hl,Xb:()=>fl,v0:()=>Ch,Aj:()=>dd,AR:()=>dl,e5:()=>Ff});var w=Y(4976),re=Y(1571),k=Y(3692),Ce=Y(259),ee=Y(5861),Se=Y(6881),Ve=Y(4859),ce=Y(2090),Be=Y(1877);const ie=new Map,ye={activated:!1,tokenObservers:[]},xe={initialized:!1,enabled:!1};function rt(_){return ie.get(_)||Object.assign({},ye)}function gt(){return xe}const mt="https://content-firebaseappcheck.googleapis.com/v1",Wn="exchangeDebugToken",wn={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ht{constructor(d,p,I,B,q){if(this.operation=d,this.retryPolicy=p,this.getWaitDuration=I,this.lowerBound=B,this.upperBound=q,this.pending=null,this.nextErrorWaitInterval=B,B>q)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(d){var p=this;return(0,ee.Z)(function*(){p.stop();try{p.pending=new ce.BH,yield function He(_){return new Promise(d=>{setTimeout(d,_)})}(p.getNextRun(d)),p.pending.resolve(),yield p.pending.promise,p.pending=new ce.BH,yield p.operation(),p.pending.resolve(),yield p.pending.promise,p.process(!0).catch(()=>{})}catch(I){p.retryPolicy(I)?p.process(!1).catch(()=>{}):p.stop()}})()}getNextRun(d){if(d)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const p=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),p}}}const At=new ce.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function pn(_){if(!rt(_).activated)throw At.create("use-before-activation",{appName:_.name})}function rn(_,d){return dt.apply(this,arguments)}function dt(){return(dt=(0,ee.Z)(function*({url:_,body:d},p){const I={"Content-Type":"application/json"},B=p.getImmediate({optional:!0});if(B){const Bn=yield B.getHeartbeatsHeader();Bn&&(I["X-Firebase-Client"]=Bn)}const q={method:"POST",body:JSON.stringify(d),headers:I};let _e,Pe;try{_e=yield fetch(_,q)}catch(Bn){throw At.create("fetch-network-error",{originalErrorMessage:Bn?.message})}if(200!==_e.status)throw At.create("fetch-status-error",{httpStatus:_e.status});try{Pe=yield _e.json()}catch(Bn){throw At.create("fetch-parse-error",{originalErrorMessage:Bn?.message})}const at=Pe.ttl.match(/^([\d.]+)(s)$/);if(!at||!at[2]||isNaN(Number(at[1])))throw At.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Pe.ttl}`});const Lt=1e3*Number(at[1]),hn=Date.now();return{token:Pe.token,expireTimeMillis:hn+Lt,issuedAtTimeMillis:hn}})).apply(this,arguments)}function et(_,d){const{projectId:p,appId:I,apiKey:B}=_.options;return{url:`${mt}/projects/${p}/apps/${I}:${Wn}?key=${B}`,body:{debug_token:d}}}const nt="firebase-app-check-database",ft=1,pt="firebase-app-check-store";let kn=null;function Kr(_,d){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,ee.Z)(function*(_,d){const I=(yield function Vn(){return kn||(kn=new Promise((_,d)=>{try{const p=indexedDB.open(nt,ft);p.onsuccess=I=>{_(I.target.result)},p.onerror=I=>{var B;d(At.create("storage-open",{originalErrorMessage:null===(B=I.target.error)||void 0===B?void 0:B.message}))},p.onupgradeneeded=I=>{0===I.oldVersion&&I.target.result.createObjectStore(pt,{keyPath:"compositeKey"})}}catch(p){d(At.create("storage-open",{originalErrorMessage:p?.message}))}}),kn)}()).transaction(pt,"readwrite"),q=I.objectStore(pt).put({compositeKey:_,value:d});return new Promise((_e,Pe)=>{q.onsuccess=at=>{_e()},I.onerror=at=>{var Lt;Pe(At.create("storage-set",{originalErrorMessage:null===(Lt=at.target.error)||void 0===Lt?void 0:Lt.message}))}})})).apply(this,arguments)}const Xr=new Be.Yd("@firebase/app-check");function cn(_,d){return(0,ce.hl)()?function Ht(_,d){return Kr(function Pr(_){return`${_.options.appId}-${_.name}`}(_),d)}(_,d).catch(p=>{Xr.warn(`Failed to write token to IndexedDB. Error: ${p}`)}):Promise.resolve()}function qn(){return gt().enabled}function di(){return ss.apply(this,arguments)}function ss(){return(ss=(0,ee.Z)(function*(){const _=gt();if(_.enabled&&_.token)return _.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const qi={error:"UNKNOWN_ERROR"};function Ti(_){return ce.US.encodeString(JSON.stringify(_),!1)}function un(_){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,ee.Z)(function*(_,d=!1){const p=_.app;pn(p);const I=rt(p);let q,B=I.token;if(B&&!Kn(B)&&(I.token=void 0,B=void 0),!B){const at=yield I.cachedTokenPromise;at&&(Kn(at)?B=at:yield cn(p,void 0))}if(!d&&B&&Kn(B))return{token:B.token};let Pe,_e=!1;if(qn()){I.exchangeTokenPromise||(I.exchangeTokenPromise=rn(et(p,yield di()),_.heartbeatServiceProvider).finally(()=>{I.exchangeTokenPromise=void 0}),_e=!0);const at=yield I.exchangeTokenPromise;return yield cn(p,at),I.token=at,{token:at.token}}try{I.exchangeTokenPromise||(I.exchangeTokenPromise=I.provider.getToken().finally(()=>{I.exchangeTokenPromise=void 0}),_e=!0),B=yield rt(p).exchangeTokenPromise}catch(at){"appCheck/throttled"===at.code?Xr.warn(at.message):Xr.error(at),q=at}return B?q?Pe=Kn(B)?{token:B.token,internalError:q}:po(q):(Pe={token:B.token},I.token=B,yield cn(p,B)):Pe=po(q),_e&&function Hi(_,d){const p=rt(_).tokenObservers;for(const I of p)try{"EXTERNAL"===I.type&&null!=d.error?I.error(d.error):I.next(d)}catch{}}(p,Pe),Pe})).apply(this,arguments)}function Ct(_){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,ee.Z)(function*(_){const d=_.app;pn(d);const{provider:p}=rt(d);if(qn()){const I=yield di(),{token:B}=yield rn(et(d,I),_.heartbeatServiceProvider);return{token:B}}{const{token:I}=yield p.getToken();return{token:I}}})).apply(this,arguments)}function hi(_,d){const p=rt(_),I=p.tokenObservers.filter(B=>B.next!==d);0===I.length&&p.tokenRefresher&&p.tokenRefresher.isRunning()&&p.tokenRefresher.stop(),p.tokenObservers=I}function ji(_){const{app:d}=_,p=rt(d);let I=p.tokenRefresher;I||(I=function cr(_){const{app:d}=_;return new ht((0,ee.Z)(function*(){let I;if(I=rt(d).token?yield un(_,!0):yield un(_),I.error)throw I.error;if(I.internalError)throw I.internalError}),()=>!0,()=>{const p=rt(d);if(p.token){let I=p.token.issuedAtTimeMillis+.5*(p.token.expireTimeMillis-p.token.issuedAtTimeMillis)+3e5;return I=Math.min(I,p.token.expireTimeMillis-3e5),Math.max(0,I-Date.now())}return 0},wn.RETRIAL_MIN_WAIT,wn.RETRIAL_MAX_WAIT)}(_),p.tokenRefresher=I),!I.isRunning()&&p.isTokenAutoRefreshEnabled&&I.start()}function Kn(_){return _.expireTimeMillis-Date.now()>0}function po(_){return{token:Ti(qi),error:_}}class Qn{constructor(d,p){this.app=d,this.heartbeatServiceProvider=p}_delete(){const{tokenObservers:d}=rt(this.app);for(const p of d)hi(this.app,p.next);return Promise.resolve()}}const zt="app-check-internal";!function on(){(0,Se.Xd)(new Ve.wA("app-check",_=>function dr(_,d){return new Qn(_,d)}(_.getProvider("app").getImmediate(),_.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,d,p)=>{_.getProvider(zt).initialize()})),(0,Se.Xd)(new Ve.wA(zt,_=>function nr(_){return{getToken:d=>un(_,d),getLimitedUseToken:()=>Ct(_),addTokenListener:d=>function ei(_,d,p,I){const{app:B}=_,q=rt(B);if(q.tokenObservers=[...q.tokenObservers,{next:p,error:I,type:d}],q.token&&Kn(q.token)){const Pe=q.token;Promise.resolve().then(()=>{p({token:Pe.token}),ji(_)}).catch(()=>{})}q.cachedTokenPromise.then(()=>ji(_))}(_,"INTERNAL",d),removeTokenListener:d=>hi(_.app,d)}}(_.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Se.KN)("@firebase/app-check","0.8.0")}();class hr{constructor(){return(0,w.vb)("app-check")}}typeof window<"u"&&window;var Si=Y(655);const Yi=function Ki(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Qi=new ce.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Cr=new Be.Yd("@firebase/auth");function pr(_,...d){Cr.logLevel<=Be.in.ERROR&&Cr.error(`Auth (${Se.Jn}): ${_}`,...d)}function Br(_,...d){throw bo(_,...d)}function pi(_,...d){return bo(_,...d)}function bo(_,...d){if("string"!=typeof _){const p=d[0],I=[...d.slice(1)];return I[0]&&(I[0].appName=_.name),_._errorFactory.create(p,...I)}return Qi.create(_,...d)}function wt(_,d,...p){if(!_)throw bo(d,...p)}function Mi(_){const d="INTERNAL ASSERTION FAILED: "+_;throw pr(d),new Error(d)}function Zi(_,d){_||Mi(d)}function Gi(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function ca(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Xn{constructor(d,p){this.shortDelay=d,this.longDelay=p,Zi(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,ce.uI)()||(0,ce.b$)()}get(){return function gi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function _r(){return"http:"===ca()||"https:"===ca()}()||(0,ce.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xi(_,d){Zi(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class Cs{static initialize(d,p,I){this.fetchImpl=d,p&&(this.headersImpl=p),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ts=new Xn(3e4,6e4);function vr(_,d){return _.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:_.tenantId}):d}function ir(_,d,p,I){return bs.apply(this,arguments)}function bs(){return(bs=(0,ee.Z)(function*(_,d,p,I,B={}){return us(_,B,(0,ee.Z)(function*(){let q={},_e={};I&&("GET"===d?_e=I:q={body:JSON.stringify(I)});const Pe=(0,ce.xO)(Object.assign({key:_.config.apiKey},_e)).slice(1),at=yield _._getAdditionalHeaders();return at["Content-Type"]="application/json",_.languageCode&&(at["X-Firebase-Locale"]=_.languageCode),Cs.fetch()(cs(_,_.config.apiHost,p,Pe),Object.assign({method:d,headers:at,referrerPolicy:"no-referrer"},q))}))})).apply(this,arguments)}function us(_,d,p){return da.apply(this,arguments)}function da(){return(da=(0,ee.Z)(function*(_,d,p){_._canInitEmulator=!1;const I=Object.assign(Object.assign({},mi),d);try{const B=new So(_),q=yield Promise.race([p(),B.promise]);B.clearNetworkTimeout();const _e=yield q.json();if("needConfirmation"in _e)throw ms(_,"account-exists-with-different-credential",_e);if(q.ok&&!("errorMessage"in _e))return _e;{const Pe=q.ok?_e.errorMessage:_e.error.message,[at,Lt]=Pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===at)throw ms(_,"credential-already-in-use",_e);if("EMAIL_EXISTS"===at)throw ms(_,"email-already-in-use",_e);if("USER_DISABLED"===at)throw ms(_,"user-disabled",_e);const hn=I[at]||at.toLowerCase().replace(/[_\s]+/g,"-");if(Lt)throw function gr(_,d,p){const I=Object.assign(Object.assign({},Yi()),{[d]:p});return new ce.LL("auth","Firebase",I).create(d,{appName:_.name})}(_,hn,Lt);Br(_,hn)}}catch(B){if(B instanceof ce.ZR)throw B;Br(_,"network-request-failed",{message:String(B)})}})).apply(this,arguments)}function yi(_,d,p,I){return ls.apply(this,arguments)}function ls(){return(ls=(0,ee.Z)(function*(_,d,p,I,B={}){const q=yield ir(_,d,p,I,B);return"mfaPendingCredential"in q&&Br(_,"multi-factor-auth-required",{_serverResponse:q}),q})).apply(this,arguments)}function cs(_,d,p,I){const B=`${d}${p}?${I}`;return _.config.emulator?xi(_.config,B):`${_.config.apiScheme}://${B}`}class So{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,I)=>{this.timer=setTimeout(()=>I(pi(this.auth,"network-request-failed")),Ts.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ms(_,d,p){const I={appName:_.name};p.email&&(I.email=p.email),p.phoneNumber&&(I.phoneNumber=p.phoneNumber);const B=pi(_,d,I);return B.customData._tokenResponse=p,B}function Qs(){return(Qs=(0,ee.Z)(function*(_,d){return ir(_,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function yo(){return(yo=(0,ee.Z)(function*(_,d){return ir(_,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Js(_){if(_)try{const d=new Date(Number(_));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Ao(){return(Ao=(0,ee.Z)(function*(_,d=!1){const p=(0,ce.m9)(_),I=yield p.getIdToken(d),B=vo(I);wt(B&&B.exp&&B.auth_time&&B.iat,p.auth,"internal-error");const q="object"==typeof B.firebase?B.firebase:void 0,_e=q?.sign_in_provider;return{claims:B,token:I,authTime:Js(ds(B.auth_time)),issuedAtTime:Js(ds(B.iat)),expirationTime:Js(ds(B.exp)),signInProvider:_e||null,signInSecondFactor:q?.sign_in_second_factor||null}})).apply(this,arguments)}function ds(_){return 1e3*Number(_)}function vo(_){const[d,p,I]=_.split(".");if(void 0===d||void 0===p||void 0===I)return pr("JWT malformed, contained fewer than 3 sections"),null;try{const B=(0,ce.tV)(p);return B?JSON.parse(B):(pr("Failed to decode base64 JWT payload"),null)}catch(B){return pr("Caught error parsing JWT payload as JSON",B?.toString()),null}}function $r(_,d){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,ee.Z)(function*(_,d,p=!1){if(p)return d;try{return yield d}catch(I){throw I instanceof ce.ZR&&function Mo({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(I)&&_.auth.currentUser===_&&(yield _.auth.signOut()),I}})).apply(this,arguments)}class _i{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const B=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,B)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const I=this.getInterval(d);this.timerId=setTimeout((0,ee.Z)(function*(){yield p.iteration()}),I)}iteration(){var d=this;return(0,ee.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&d.schedule(!0))}d.schedule()})()}}class Xs{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Js(this.lastLoginAt),this.creationTime=Js(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function As(_){return Ls.apply(this,arguments)}function Ls(){return Ls=(0,ee.Z)(function*(_){var d;const p=_.auth,I=yield _.getIdToken(),B=yield $r(_,function fa(_,d){return yo.apply(this,arguments)}(p,{idToken:I}));wt(B?.users.length,p,"internal-error");const q=B.users[0];_._notifyReloadListener(q);const _e=null!==(d=q.providerUserInfo)&&void 0!==d&&d.length?function br(_){return _.map(d=>{var{providerId:p}=d,I=(0,Si._T)(d,["providerId"]);return{providerId:p,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(q.providerUserInfo):[],Pe=function eo(_,d){return[..._.filter(I=>!d.some(B=>B.providerId===I.providerId)),...d]}(_.providerData,_e),hn=!!_.isAnonymous&&!(_.email&&q.passwordHash||Pe?.length),Bn={uid:q.localId,displayName:q.displayName||null,photoURL:q.photoUrl||null,email:q.email||null,emailVerified:q.emailVerified||!1,phoneNumber:q.phoneNumber||null,tenantId:q.tenantId||null,providerData:Pe,metadata:new Xs(q.createdAt,q.lastLoginAt),isAnonymous:hn};Object.assign(_,Bn)}),Ls.apply(this,arguments)}function jr(){return(jr=(0,ee.Z)(function*(_){const d=(0,ce.m9)(_);yield As(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Pa(){return(Pa=(0,ee.Z)(function*(_,d){const p=yield us(_,{},(0,ee.Z)(function*(){const I=(0,ce.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:B,apiKey:q}=_.config,_e=cs(_,B,"/v1/token",`key=${q}`),Pe=yield _._getAdditionalHeaders();return Pe["Content-Type"]="application/x-www-form-urlencoded",Cs.fetch()(_e,{method:"POST",headers:Pe,body:I})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Ei{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){wt(d.idToken,"internal-error"),wt(typeof d.idToken<"u","internal-error"),wt(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Ss(_){const d=vo(_);return wt(d,"internal-error"),wt(typeof d.exp<"u","internal-error"),wt(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var I=this;return(0,ee.Z)(function*(){return wt(!I.accessToken||I.refreshToken,d,"user-token-expired"),p||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(d,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var I=this;return(0,ee.Z)(function*(){const{accessToken:B,refreshToken:q,expiresIn:_e}=yield function vi(_,d){return Pa.apply(this,arguments)}(d,p);I.updateTokensAndExpiration(B,q,Number(_e))})()}updateTokensAndExpiration(d,p,I){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(d,p){const{refreshToken:I,accessToken:B,expirationTime:q}=p,_e=new Ei;return I&&(wt("string"==typeof I,"internal-error",{appName:d}),_e.refreshToken=I),B&&(wt("string"==typeof B,"internal-error",{appName:d}),_e.accessToken=B),q&&(wt("number"==typeof q,"internal-error",{appName:d}),_e.expirationTime=q),_e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Ei,this.toJSON())}_performRefresh(){return Mi("not implemented")}}function Er(_,d){wt("string"==typeof _||typeof _>"u","internal-error",{appName:d})}class Ms{constructor(d){var{uid:p,auth:I,stsTokenManager:B}=d,q=(0,Si._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _i(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=I,this.stsTokenManager=B,this.accessToken=B.accessToken,this.displayName=q.displayName||null,this.email=q.email||null,this.emailVerified=q.emailVerified||!1,this.phoneNumber=q.phoneNumber||null,this.photoURL=q.photoURL||null,this.isAnonymous=q.isAnonymous||!1,this.tenantId=q.tenantId||null,this.providerData=q.providerData?[...q.providerData]:[],this.metadata=new Xs(q.createdAt||void 0,q.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,ee.Z)(function*(){const I=yield $r(p,p.stsTokenManager.getToken(p.auth,d));return wt(I,p.auth,"internal-error"),p.accessToken!==I&&(p.accessToken=I,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),I})()}getIdTokenResult(d){return function wa(_){return Ao.apply(this,arguments)}(this,d)}reload(){return function Qo(_){return jr.apply(this,arguments)}(this)}_assign(d){this!==d&&(wt(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new Ms(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var I=this;return(0,ee.Z)(function*(){let B=!1;d.idToken&&d.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(d),B=!0),p&&(yield As(I)),yield I.auth._persistUserIfCurrent(I),B&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var d=this;return(0,ee.Z)(function*(){const p=yield d.getIdToken();return yield $r(d,function oi(_,d){return Qs.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var I,B,q,_e,Pe,at,Lt,hn;const Bn=null!==(I=p.displayName)&&void 0!==I?I:void 0,zs=null!==(B=p.email)&&void 0!==B?B:void 0,Tn=null!==(q=p.phoneNumber)&&void 0!==q?q:void 0,Hl=null!==(_e=p.photoURL)&&void 0!==_e?_e:void 0,md=null!==(Pe=p.tenantId)&&void 0!==Pe?Pe:void 0,yd=null!==(at=p._redirectEventId)&&void 0!==at?at:void 0,Mh=null!==(Lt=p.createdAt)&&void 0!==Lt?Lt:void 0,Vf=null!==(hn=p.lastLoginAt)&&void 0!==hn?hn:void 0,{uid:_d,emailVerified:vd,isAnonymous:Ws,providerData:xh,stsTokenManager:Uf}=p;wt(_d&&Uf,d,"internal-error");const Cm=Ei.fromJSON(this.name,Uf);wt("string"==typeof _d,d,"internal-error"),Er(Bn,d.name),Er(zs,d.name),wt("boolean"==typeof vd,d,"internal-error"),wt("boolean"==typeof Ws,d,"internal-error"),Er(Tn,d.name),Er(Hl,d.name),Er(md,d.name),Er(yd,d.name),Er(Mh,d.name),Er(Vf,d.name);const Ed=new Ms({uid:_d,auth:d,email:zs,emailVerified:vd,displayName:Bn,isAnonymous:Ws,photoURL:Hl,phoneNumber:Tn,tenantId:md,stsTokenManager:Cm,createdAt:Mh,lastLoginAt:Vf});return xh&&Array.isArray(xh)&&(Ed.providerData=xh.map(wd=>Object.assign({},wd))),yd&&(Ed._redirectEventId=yd),Ed}static _fromIdTokenResponse(d,p,I=!1){return(0,ee.Z)(function*(){const B=new Ei;B.updateFromServerResponse(p);const q=new Ms({uid:p.localId,auth:d,stsTokenManager:B,isAnonymous:I});return yield As(q),q})()}}const Bo=new Map;function Xi(_){Zi(_ instanceof Function,"Expected a class definition");let d=Bo.get(_);return d?(Zi(d instanceof _,"Instance stored in cache mismatched with class"),d):(d=new _,Bo.set(_,d),d)}const Pi=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ee.Z)(function*(){return!0})()}_set(p,I){var B=this;return(0,ee.Z)(function*(){B.storage[p]=I})()}_get(p){var I=this;return(0,ee.Z)(function*(){const B=I.storage[p];return void 0===B?null:B})()}_remove(p){var I=this;return(0,ee.Z)(function*(){delete I.storage[p]})()}_addListener(p,I){}_removeListener(p,I){}}return _.type="NONE",_})();function ai(_,d,p){return`firebase:${_}:${d}:${p}`}class Vs{constructor(d,p,I){this.persistence=d,this.auth=p,this.userKey=I;const{config:B,name:q}=this.auth;this.fullUserKey=ai(this.userKey,B.apiKey,q),this.fullPersistenceKey=ai("persistence",B.apiKey,q),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,ee.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?Ms._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,ee.Z)(function*(){if(p.persistence===d)return;const I=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,I?p.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,I="authUser"){return(0,ee.Z)(function*(){if(!p.length)return new Vs(Xi(Pi),d,I);const B=(yield Promise.all(p.map(function(){var Lt=(0,ee.Z)(function*(hn){if(yield hn._isAvailable())return hn});return function(hn){return Lt.apply(this,arguments)}}()))).filter(Lt=>Lt);let q=B[0]||Xi(Pi);const _e=ai(I,d.config.apiKey,d.name);let Pe=null;for(const Lt of p)try{const hn=yield Lt._get(_e);if(hn){const Bn=Ms._fromJSON(d,hn);Lt!==q&&(Pe=Bn),q=Lt;break}}catch{}const at=B.filter(Lt=>Lt._shouldAllowMigration);return q._shouldAllowMigration&&at.length?(q=at[0],Pe&&(yield q._set(_e,Pe.toJSON())),yield Promise.all(p.map(function(){var Lt=(0,ee.Z)(function*(hn){if(hn!==q)try{yield hn._remove(_e)}catch{}});return function(hn){return Lt.apply(this,arguments)}}())),new Vs(q,d,I)):new Vs(q,d,I)})()}}function Eo(_){const d=_.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(no(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Jo(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Us(d))return"Blackberry";if(ro(d))return"Webos";if(to(d))return"Safari";if((d.includes("chrome/")||dn(d))&&!d.includes("edge/"))return"Chrome";if(pa(d))return"Android";{const I=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function Jo(_=(0,ce.z$)()){return/firefox\//i.test(_)}function to(_=(0,ce.z$)()){const d=_.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function dn(_=(0,ce.z$)()){return/crios\//i.test(_)}function no(_=(0,ce.z$)()){return/iemobile/i.test(_)}function pa(_=(0,ce.z$)()){return/android/i.test(_)}function Us(_=(0,ce.z$)()){return/blackberry/i.test(_)}function ro(_=(0,ce.z$)()){return/webos/i.test(_)}function L(_=(0,ce.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function ae(_=(0,ce.z$)()){return L(_)||pa(_)||ro(_)||Us(_)||/windows phone/i.test(_)||no(_)}function mr(_,d=[]){let p;switch(_){case"Browser":p=Eo((0,ce.z$)());break;case"Worker":p=`${Eo((0,ce.z$)())}-${_}`;break;default:p=_}const I=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${Se.Jn}/${I}`}function hs(_,d){return io.apply(this,arguments)}function io(){return(io=(0,ee.Z)(function*(_,d){return ir(_,"GET","/v2/recaptchaConfig",vr(_,d))})).apply(this,arguments)}function es(_){return void 0!==_&&void 0!==_.enterprise}class xo{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function $o(_){return new Promise((d,p)=>{const I=document.createElement("script");I.setAttribute("src",_),I.onload=d,I.onerror=B=>{const q=pi("internal-error");q.customData=B,p(q)},I.type="text/javascript",I.charset="UTF-8",function Bs(){var _,d;return null!==(d=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==d?d:document}().appendChild(I)})}function Ia(_){return`__${_}${Math.floor(1e6*Math.random())}`}const jo="NO_RECAPTCHA";class wo{constructor(d){this.type="recaptcha-enterprise",this.auth=An(d)}verify(d="verify",p=!1){var I=this;return(0,ee.Z)(function*(){function q(){return q=(0,ee.Z)(function*(Pe){if(!p){if(null==Pe.tenantId&&null!=Pe._agentRecaptchaConfig)return Pe._agentRecaptchaConfig.siteKey;if(null!=Pe.tenantId&&void 0!==Pe._tenantRecaptchaConfigs[Pe.tenantId])return Pe._tenantRecaptchaConfigs[Pe.tenantId].siteKey}return new Promise(function(){var at=(0,ee.Z)(function*(Lt,hn){hs(Pe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Bn=>{if(void 0!==Bn.recaptchaKey){const zs=new xo(Bn);return null==Pe.tenantId?Pe._agentRecaptchaConfig=zs:Pe._tenantRecaptchaConfigs[Pe.tenantId]=zs,Lt(zs.siteKey)}hn(new Error("recaptcha Enterprise site key undefined"))}).catch(Bn=>{hn(Bn)})});return function(Lt,hn){return at.apply(this,arguments)}}())}),q.apply(this,arguments)}function _e(Pe,at,Lt){const hn=window.grecaptcha;es(hn)?hn.enterprise.ready(()=>{hn.enterprise.execute(Pe,{action:d}).then(Bn=>{at(Bn)}).catch(()=>{at(jo)})}):Lt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Pe,at)=>{(function B(Pe){return q.apply(this,arguments)})(I.auth).then(Lt=>{if(!p&&es(window.grecaptcha))_e(Lt,Pe,at);else{if(typeof window>"u")return void at(new Error("RecaptchaVerifier is only supported in browser"));$o("https://www.google.com/recaptcha/enterprise.js?render="+Lt).then(()=>{_e(Lt,Pe,at)}).catch(hn=>{at(hn)})}}).catch(Lt=>{at(Lt)})})})()}}function Ri(_,d,p){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,ee.Z)(function*(_,d,p,I=!1){const B=new wo(_);let q;try{q=yield B.verify(p)}catch{q=yield B.verify(p,!0)}const _e=Object.assign({},d);return Object.assign(_e,I?{captchaResp:q}:{captchaResponse:q}),Object.assign(_e,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(_e,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),_e})).apply(this,arguments)}class xs{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const I=q=>new Promise((_e,Pe)=>{try{_e(d(q))}catch(at){Pe(at)}});I.onAbort=p,this.queue.push(I);const B=this.queue.length-1;return()=>{this.queue[B]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,ee.Z)(function*(){if(p.auth.currentUser===d)return;const I=[];try{for(const B of p.queue)yield B(d),B.onAbort&&I.push(B.onAbort)}catch(B){I.reverse();for(const q of I)try{q()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:B?.message})}})()}}class Da{constructor(d,p,I,B){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=I,this.config=B,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xo(this),this.idTokenSubscription=new Xo(this),this.beforeStateQueue=new xs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=B.sdkClientVersion}_initializeWithPersistence(d,p){var I=this;return p&&(this._popupRedirectResolver=Xi(p)),this._initializationPromise=this.queue((0,ee.Z)(function*(){var B,q;if(!I._deleted&&(I.persistenceManager=yield Vs.create(I,d),!I._deleted)){if(null!==(B=I._popupRedirectResolver)&&void 0!==B&&B._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(p),I.lastNotifiedUid=(null===(q=I.currentUser)||void 0===q?void 0:q.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,ee.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUser(d){var p=this;return(0,ee.Z)(function*(){var I;const B=yield p.assertedPersistence.getCurrentUser();let q=B,_e=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Pe=null===(I=p.redirectUser)||void 0===I?void 0:I._redirectEventId,at=q?._redirectEventId,Lt=yield p.tryRedirectSignIn(d);(!Pe||Pe===at)&&Lt?.user&&(q=Lt.user,_e=!0)}if(!q)return p.directlySetCurrentUser(null);if(!q._redirectEventId){if(_e)try{yield p.beforeStateQueue.runMiddleware(q)}catch(Pe){q=B,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Pe))}return q?p.reloadAndSetCurrentUserOrClear(q):p.directlySetCurrentUser(null)}return wt(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===q._redirectEventId?p.directlySetCurrentUser(q):p.reloadAndSetCurrentUserOrClear(q)})()}tryRedirectSignIn(d){var p=this;return(0,ee.Z)(function*(){let I=null;try{I=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,ee.Z)(function*(){try{yield As(d)}catch(I){if("auth/network-request-failed"!==I?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function zi(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var d=this;return(0,ee.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,ee.Z)(function*(){const I=d?(0,ce.m9)(d):null;return I&&wt(I.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(I&&I._clone(p))})()}_updateCurrentUser(d,p=!1){var I=this;return(0,ee.Z)(function*(){if(!I._deleted)return d&&wt(I.tenantId===d.tenantId,I,"tenant-id-mismatch"),p||(yield I.beforeStateQueue.runMiddleware(d)),I.queue((0,ee.Z)(function*(){yield I.directlySetCurrentUser(d),I.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,ee.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var p=this;return this.queue((0,ee.Z)(function*(){yield p.assertedPersistence.setPersistence(Xi(d))}))}initializeRecaptchaConfig(){var d=this;return(0,ee.Z)(function*(){const p=yield hs(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new xo(p);null==d.tenantId?d._agentRecaptchaConfig=I:d._tenantRecaptchaConfigs[d.tenantId]=I,I.emailPasswordEnabled&&new wo(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new ce.LL("auth","Firebase",d())}onAuthStateChanged(d,p,I){return this.registerStateListener(this.authStateSubscription,d,p,I)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,I){return this.registerStateListener(this.idTokenSubscription,d,p,I)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var I=this;return(0,ee.Z)(function*(){const B=yield I.getOrInitRedirectPersistenceManager(p);return null===d?B.removeCurrentUser():B.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,ee.Z)(function*(){if(!p.redirectPersistenceManager){const I=d&&Xi(d)||p._popupRedirectResolver;wt(I,p,"argument-error"),p.redirectPersistenceManager=yield Vs.create(p,[Xi(I._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,ee.Z)(function*(){var I,B;return p._isInitialized&&(yield p.queue((0,ee.Z)(function*(){}))),(null===(I=p._currentUser)||void 0===I?void 0:I._redirectEventId)===d?p._currentUser:(null===(B=p.redirectUser)||void 0===B?void 0:B._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,ee.Z)(function*(){if(d===p.currentUser)return p.queue((0,ee.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,I,B){if(this._deleted)return()=>{};const q="function"==typeof p?p:p.next.bind(p),_e=this._isInitialized?Promise.resolve():this._initializationPromise;return wt(_e,this,"internal-error"),_e.then(()=>q(this.currentUser)),"function"==typeof p?d.addObserver(p,I,B):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,ee.Z)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=mr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,ee.Z)(function*(){var p;const I={"X-Client-Version":d.clientVersion};d.app.options.appId&&(I["X-Firebase-gmpid"]=d.app.options.appId);const B=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();B&&(I["X-Firebase-Client"]=B);const q=yield d._getAppCheckToken();return q&&(I["X-Firebase-AppCheck"]=q),I})()}_getAppCheckToken(){var d=this;return(0,ee.Z)(function*(){var p;const I=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return I?.error&&function Ji(_,...d){Cr.logLevel<=Be.in.WARN&&Cr.warn(`Auth (${Se.Jn}): ${_}`,...d)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function An(_){return(0,ce.m9)(_)}class Xo{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,ce.ne)(p=>this.observer=p)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ca(_){const d=_.indexOf(":");return d<0?"":_.substr(0,d+1)}function ma(_){if(!_)return null;const d=Number(_);return isNaN(d)?null:d}class ys{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return Mi("not implemented")}_getIdTokenResponse(d){return Mi("not implemented")}_linkToIdToken(d,p){return Mi("not implemented")}_getReauthenticationResolver(d){return Mi("not implemented")}}function $s(_,d){return No.apply(this,arguments)}function No(){return(No=(0,ee.Z)(function*(_,d){return ir(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function _s(_,d){return sr.apply(this,arguments)}function sr(){return(sr=(0,ee.Z)(function*(_,d){return yi(_,"POST","/v1/accounts:signInWithPassword",vr(_,d))})).apply(this,arguments)}function Ke(){return(Ke=(0,ee.Z)(function*(_,d){return yi(_,"POST","/v1/accounts:signInWithEmailLink",vr(_,d))})).apply(this,arguments)}function Un(){return(Un=(0,ee.Z)(function*(_,d){return yi(_,"POST","/v1/accounts:signInWithEmailLink",vr(_,d))})).apply(this,arguments)}class Nn extends ys{constructor(d,p,I,B=null){super("password",I),this._email=d,this._password=p,this._tenantId=B}static _fromEmailAndPassword(d,p){return new Nn(d,p,"password")}static _fromEmailAndCode(d,p,I=null){return new Nn(d,p,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,ee.Z)(function*(){var I;switch(p.signInMethod){case"password":const B={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=d._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const q=yield Ri(d,B,"signInWithPassword");return _s(d,q)}return _s(d,B).catch(function(){var q=(0,ee.Z)(function*(_e){if("auth/missing-recaptcha-token"===_e.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Pe=yield Ri(d,B,"signInWithPassword");return _s(d,Pe)}return Promise.reject(_e)});return function(_e){return q.apply(this,arguments)}}());case"emailLink":return function je(_,d){return Ke.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:Br(d,"internal-error")}})()}_linkToIdToken(d,p){var I=this;return(0,ee.Z)(function*(){switch(I.signInMethod){case"password":return $s(d,{idToken:p,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function _t(_,d){return Un.apply(this,arguments)}(d,{idToken:p,email:I._email,oobCode:I._password});default:Br(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function jn(_,d){return zn.apply(this,arguments)}function zn(){return(zn=(0,ee.Z)(function*(_,d){return yi(_,"POST","/v1/accounts:signInWithIdp",vr(_,d))})).apply(this,arguments)}class ya{constructor(d){var p,I,B,q,_e,Pe;const at=(0,ce.zd)((0,ce.pd)(d)),Lt=null!==(p=at.apiKey)&&void 0!==p?p:null,hn=null!==(I=at.oobCode)&&void 0!==I?I:null,Bn=function Ta(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(B=at.mode)&&void 0!==B?B:null);wt(Lt&&hn&&Bn,"argument-error"),this.apiKey=Lt,this.operation=Bn,this.code=hn,this.continueUrl=null!==(q=at.continueUrl)&&void 0!==q?q:null,this.languageCode=null!==(_e=at.languageCode)&&void 0!==_e?_e:null,this.tenantId=null!==(Pe=at.tenantId)&&void 0!==Pe?Pe:null}static parseLink(d){const p=function ba(_){const d=(0,ce.zd)((0,ce.pd)(_)).link,p=d?(0,ce.zd)((0,ce.pd)(d)).deep_link_id:null,I=(0,ce.zd)((0,ce.pd)(_)).deep_link_id;return(I?(0,ce.zd)((0,ce.pd)(I)).link:null)||I||p||d||_}(d);try{return new ya(p)}catch{return null}}}let Ja=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,I){return Nn._fromEmailAndPassword(p,I)}static credentialWithLink(p,I){const B=ya.parseLink(I);return wt(B,"argument-error"),Nn._fromEmailAndCode(p,B.code,B.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Go{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Su extends Go{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}function mn(_,d){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,ee.Z)(function*(_,d){return yi(_,"POST","/v1/accounts:signUp",vr(_,d))})).apply(this,arguments)}class Mn{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,I,B=!1){return(0,ee.Z)(function*(){const q=yield Ms._fromIdTokenResponse(d,I,B),_e=S(I);return new Mn({user:q,providerId:_e,_tokenResponse:I,operationType:p})})()}static _forOperation(d,p,I){return(0,ee.Z)(function*(){yield d._updateTokensIfNecessary(I,!0);const B=S(I);return new Mn({user:d,providerId:B,_tokenResponse:I,operationType:p})})()}}function S(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}class x extends ce.ZR{constructor(d,p,I,B){var q;super(p.code,p.message),this.operationType=I,this.user=B,Object.setPrototypeOf(this,x.prototype),this.customData={appName:d.name,tenantId:null!==(q=d.tenantId)&&void 0!==q?q:void 0,_serverResponse:p.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(d,p,I,B){return new x(d,p,I,B)}}function z(_,d,p,I){return("reauthenticate"===d?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(q=>{throw"auth/multi-factor-auth-required"===q.code?x._fromErrorAndOperation(_,q,d,I):q})}function ke(_,d){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,ee.Z)(function*(_,d,p=!1){const I=yield $r(_,d._linkToIdToken(_.auth,yield _.getIdToken()),p);return Mn._forOperation(_,"link",I)})).apply(this,arguments)}function gn(_,d){return xn.apply(this,arguments)}function xn(){return(xn=(0,ee.Z)(function*(_,d,p=!1){const{auth:I}=_,B="reauthenticate";try{const q=yield $r(_,z(I,B,d,_),p);wt(q.idToken,I,"internal-error");const _e=vo(q.idToken);wt(_e,I,"internal-error");const{sub:Pe}=_e;return wt(_.uid===Pe,I,"user-mismatch"),Mn._forOperation(_,B,q)}catch(q){throw"auth/user-not-found"===q?.code&&Br(I,"user-mismatch"),q}})).apply(this,arguments)}function Yt(_,d){return yn.apply(this,arguments)}function yn(){return(yn=(0,ee.Z)(function*(_,d,p=!1){const I="signIn",B=yield z(_,I,d),q=yield Mn._fromIdTokenResponse(_,I,B);return p||(yield _._updateCurrentUser(q.user)),q})).apply(this,arguments)}function De(_,d){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,ee.Z)(function*(_,d){return Yt(An(_),d)})).apply(this,arguments)}function Or(_,d,p){return ra.apply(this,arguments)}function ra(){return ra=(0,ee.Z)(function*(_,d,p){var I;const B=An(_),q={returnSecureToken:!0,email:d,password:p,clientType:"CLIENT_TYPE_WEB"};let _e;if(null!==(I=B._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Lt=yield Ri(B,q,"signUpPassword");_e=mn(B,Lt)}else _e=mn(B,q).catch(function(){var Lt=(0,ee.Z)(function*(hn){if("auth/missing-recaptcha-token"===hn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Bn=yield Ri(B,q,"signUpPassword");return mn(B,Bn)}return Promise.reject(hn)});return function(hn){return Lt.apply(this,arguments)}}());const Pe=yield _e.catch(Lt=>Promise.reject(Lt)),at=yield Mn._fromIdTokenResponse(B,"signIn",Pe);return yield B._updateCurrentUser(at.user),at}),ra.apply(this,arguments)}function Qu(_,d,p){return De((0,ce.m9)(_),Ja.credential(d,p))}function ns(_,d,p,I){return(0,ce.m9)(_).onAuthStateChanged(d,p,I)}const nu="__sak";class Gc{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(nu,"1"),this.storage.removeItem(nu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const pu=(()=>{class _ extends Gc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,I)=>this.onStorageEvent(p,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ic(){const _=(0,ce.z$)();return to(_)||L(_)}()&&function lt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ae(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const I of Object.keys(this.listeners)){const B=this.storage.getItem(I),q=this.localCache[I];B!==q&&p(I,q,B)}}onStorageEvent(p,I=!1){if(!p.key)return void this.forAllChangedKeys((Pe,at,Lt)=>{this.notifyListeners(Pe,Lt)});const B=p.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Pe=this.storage.getItem(B);if(p.newValue!==Pe)null!==p.newValue?this.storage.setItem(B,p.newValue):this.storage.removeItem(B);else if(this.localCache[B]===p.newValue&&!I)return}const q=()=>{const Pe=this.storage.getItem(B);!I&&this.localCache[B]===Pe||this.notifyListeners(B,Pe)},_e=this.storage.getItem(B);!function Z(){return(0,ce.w1)()&&10===document.documentMode}()||_e===p.newValue||p.newValue===p.oldValue?q():setTimeout(q,10)}notifyListeners(p,I){this.localCache[p]=I;const B=this.listeners[p];if(B)for(const q of Array.from(B))q(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,I,B)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:I,newValue:B}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,I){var B=()=>super._set,q=this;return(0,ee.Z)(function*(){yield B().call(q,p,I),q.localCache[p]=JSON.stringify(I)})()}_get(p){var I=()=>super._get,B=this;return(0,ee.Z)(function*(){const q=yield I().call(B,p);return B.localCache[p]=JSON.stringify(q),q})()}_remove(p){var I=()=>super._remove,B=this;return(0,ee.Z)(function*(){yield I().call(B,p),delete B.localCache[p]})()}}return _.type="LOCAL",_})(),oc=(()=>{class _ extends Gc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,I){}_removeListener(p,I){}}return _.type="SESSION",_})();let ac=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const I=this.receivers.find(q=>q.isListeningto(p));if(I)return I;const B=new _(p);return this.receivers.push(B),B}isListeningto(p){return this.eventTarget===p}handleEvent(p){var I=this;return(0,ee.Z)(function*(){const B=p,{eventId:q,eventType:_e,data:Pe}=B.data,at=I.handlersMap[_e];if(!at?.size)return;B.ports[0].postMessage({status:"ack",eventId:q,eventType:_e});const Lt=Array.from(at).map(function(){var Bn=(0,ee.Z)(function*(zs){return zs(B.origin,Pe)});return function(zs){return Bn.apply(this,arguments)}}()),hn=yield function iu(_){return Promise.all(_.map(function(){var d=(0,ee.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(I){return{fulfilled:!1,reason:I}}});return function(p){return d.apply(this,arguments)}}()))}(Lt);B.ports[0].postMessage({status:"done",eventId:q,eventType:_e,response:hn})})()}_subscribe(p,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(I)}_unsubscribe(p,I){this.handlersMap[p]&&I&&this.handlersMap[p].delete(I),(!I||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Os(_="",d=10){let p="";for(let I=0;I<d;I++)p+=Math.floor(10*Math.random());return _+p}class To{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,I=50){var B=this;return(0,ee.Z)(function*(){const q=typeof MessageChannel<"u"?new MessageChannel:null;if(!q)throw new Error("connection_unavailable");let _e,Pe;return new Promise((at,Lt)=>{const hn=Os("",20);q.port1.start();const Bn=setTimeout(()=>{Lt(new Error("unsupported_event"))},I);Pe={messageChannel:q,onMessage(zs){const Tn=zs;if(Tn.data.eventId===hn)switch(Tn.data.status){case"ack":clearTimeout(Bn),_e=setTimeout(()=>{Lt(new Error("timeout"))},3e3);break;case"done":clearTimeout(_e),at(Tn.data.response);break;default:clearTimeout(Bn),clearTimeout(_e),Lt(new Error("invalid_response"))}}},B.handlers.add(Pe),q.port1.addEventListener("message",Pe.onMessage),B.target.postMessage({eventType:d,eventId:hn,data:p},[q.port2])}).finally(()=>{Pe&&B.removeMessageHandler(Pe)})})()}}function Is(){return window}function Ma(){return typeof Is().WorkerGlobalScope<"u"&&"function"==typeof Is().importScripts}function El(){return(El=(0,ee.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const G="firebaseLocalStorageDb",ne=1,he="firebaseLocalStorage",Te="fbase_key";class ze{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Pt(_,d){return _.transaction([he],d?"readwrite":"readonly").objectStore(he)}function Ft(){const _=indexedDB.open(G,ne);return new Promise((d,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const I=_.result;try{I.createObjectStore(he,{keyPath:Te})}catch(B){p(B)}}),_.addEventListener("success",(0,ee.Z)(function*(){const I=_.result;I.objectStoreNames.contains(he)?d(I):(I.close(),yield function St(){const _=indexedDB.deleteDatabase(G);return new ze(_).toPromise()}(),d(yield Ft()))}))})}function bn(_,d,p){return On.apply(this,arguments)}function On(){return(On=(0,ee.Z)(function*(_,d,p){const I=Pt(_,!0).put({[Te]:d,value:p});return new ze(I).toPromise()})).apply(this,arguments)}function ks(){return(ks=(0,ee.Z)(function*(_,d){const p=Pt(_,!1).get(d),I=yield new ze(p).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Ru(_,d){const p=Pt(_,!0).delete(d);return new ze(p).toPromise()}const Fa=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,ee.Z)(function*(){return p.db||(p.db=yield Ft()),p.db})()}_withRetries(p){var I=this;return(0,ee.Z)(function*(){let B=0;for(;;)try{const q=yield I._openDb();return yield p(q)}catch(q){if(B++>3)throw q;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,ee.Z)(function*(){return Ma()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,ee.Z)(function*(){p.receiver=ac._getInstance(function P(){return Ma()?self:null}()),p.receiver._subscribe("keyChanged",function(){var I=(0,ee.Z)(function*(B,q){return{keyProcessed:(yield p._poll()).includes(q.key)}});return function(B,q){return I.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var I=(0,ee.Z)(function*(B,q){return["keyChanged"]});return function(B,q){return I.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,ee.Z)(function*(){var I,B;if(p.activeServiceWorker=yield function vl(){return El.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new To(p.activeServiceWorker);const q=yield p.sender._send("ping",{},800);q&&null!==(I=q[0])&&void 0!==I&&I.fulfilled&&null!==(B=q[0])&&void 0!==B&&B.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var I=this;return(0,ee.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function C(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:p},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ee.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Ft();return yield bn(p,nu,"1"),yield Ru(p,nu),!0}catch{}return!1})()}_withPendingWrite(p){var I=this;return(0,ee.Z)(function*(){I.pendingWrites++;try{yield p()}finally{I.pendingWrites--}})()}_set(p,I){var B=this;return(0,ee.Z)(function*(){return B._withPendingWrite((0,ee.Z)(function*(){return yield B._withRetries(q=>bn(q,p,I)),B.localCache[p]=I,B.notifyServiceWorker(p)}))})()}_get(p){var I=this;return(0,ee.Z)(function*(){const B=yield I._withRetries(q=>function Yo(_,d){return ks.apply(this,arguments)}(q,p));return I.localCache[p]=B,B})()}_remove(p){var I=this;return(0,ee.Z)(function*(){return I._withPendingWrite((0,ee.Z)(function*(){return yield I._withRetries(B=>Ru(B,p)),delete I.localCache[p],I.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,ee.Z)(function*(){const I=yield p._withRetries(_e=>{const Pe=Pt(_e,!1).getAll();return new ze(Pe).toPromise()});if(!I)return[];if(0!==p.pendingWrites)return[];const B=[],q=new Set;for(const{fbase_key:_e,value:Pe}of I)q.add(_e),JSON.stringify(p.localCache[_e])!==JSON.stringify(Pe)&&(p.notifyListeners(_e,Pe),B.push(_e));for(const _e of Object.keys(p.localCache))p.localCache[_e]&&!q.has(_e)&&(p.notifyListeners(_e,null),B.push(_e));return B})()}notifyListeners(p,I){this.localCache[p]=I;const B=this.listeners[p];if(B)for(const q of Array.from(B))q(I)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,ee.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();Ia("rcb"),new Xn(3e4,6e4);class ku extends ys{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return jn(d,this._buildIdpRequest())}_linkToIdToken(d,p){return jn(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return jn(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function ff(_){return Yt(_.auth,new ku(_),_.bypassAuthState)}function _u(_){const{auth:d,user:p}=_;return wt(p,d,"internal-error"),gn(p,new ku(_),_.bypassAuthState)}function hc(_){return il.apply(this,arguments)}function il(){return(il=(0,ee.Z)(function*(_){const{auth:d,user:p}=_;return wt(p,d,"internal-error"),ke(p,new ku(_),_.bypassAuthState)})).apply(this,arguments)}class pf{constructor(d,p,I,B,q=!1){this.auth=d,this.resolver=I,this.user=B,this.bypassAuthState=q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,ee.Z)(function*(I,B){d.pendingPromise={resolve:I,reject:B};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(q){d.reject(q)}});return function(I,B){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,ee.Z)(function*(){const{urlResponse:I,sessionId:B,postBody:q,tenantId:_e,error:Pe,type:at}=d;if(Pe)return void p.reject(Pe);const Lt={auth:p.auth,requestUri:I,sessionId:B,tenantId:_e||void 0,postBody:q||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(at)(Lt))}catch(hn){p.reject(hn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return ff;case"linkViaPopup":case"linkViaRedirect":return hc;case"reauthViaPopup":case"reauthViaRedirect":return _u;default:Br(this.auth,"internal-error")}}resolve(d){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Xn(2e3,1e4);const ih="pendingRedirect",ol=new Map;class Cl extends pf{constructor(d,p,I=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,I),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,ee.Z)(function*(){let I=ol.get(p.auth._key());if(!I){try{const q=(yield function Tl(_,d){return ou.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;I=()=>Promise.resolve(q)}catch(B){I=()=>Promise.reject(B)}ol.set(p.auth._key(),I)}return p.bypassAuthState||ol.set(p.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,I=this;return(0,ee.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(I,d);if("unknown"!==d.type){if(d.eventId){const B=yield I.auth._redirectUserForId(d.eventId);if(B)return I.user=B,p().call(I,d);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,ee.Z)(function*(){})()}cleanUp(){}}function ou(){return(ou=(0,ee.Z)(function*(_,d){const p=function bl(_){return ai(ih,_.config.apiKey,_.name)}(d),I=function Xc(_){return Xi(_._redirectPersistence)}(_);if(!(yield I._isAvailable()))return!1;const B="true"===(yield I._get(p));return yield I._remove(p),B})).apply(this,arguments)}function al(_,d){ol.set(_._key(),d)}function Vu(_,d){return Va.apply(this,arguments)}function Va(){return(Va=(0,ee.Z)(function*(_,d,p=!1){const I=An(_),B=function yu(_,d){return d?Xi(d):(wt(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}(I,d),_e=yield new Cl(I,B,p).execute();return _e&&!p&&(delete _e.user._redirectEventId,yield I._persistUserIfCurrent(_e.user),yield I._setRedirectUser(null,d)),_e})).apply(this,arguments)}class Pl{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(d,I)&&(p=!0,this.sendToConsumer(d,I),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function lh(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nd(_);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var I;if(d.error&&!nd(d)){const B=(null===(I=d.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";p.onError(pi(this.auth,B))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const I=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&I}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(td(d))}saveEventToCache(d){this.cachedEventUids.add(td(d)),this.lastProcessedEventTime=Date.now()}}function td(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(d=>d).join("-")}function nd({type:_,error:d}){return"unknown"===_&&"auth/no-auth-event"===d?.code}function ul(){return(ul=(0,ee.Z)(function*(_,d={}){return ir(_,"GET","/v1/projects",d)})).apply(this,arguments)}const Up=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lo=/^https?/;function ch(){return ch=(0,ee.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:d}=yield function au(_){return ul.apply(this,arguments)}(_);for(const p of d)try{if(Bp(p))return}catch{}Br(_,"unauthorized-domain")}),ch.apply(this,arguments)}function Bp(_){const d=Gi(),{protocol:p,hostname:I}=new URL(d);if(_.startsWith("chrome-extension://")){const _e=new URL(_);return""===_e.hostname&&""===I?"chrome-extension:"===p&&_.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&_e.hostname===I}if(!lo.test(p))return!1;if(Up.test(_))return I===_;const B=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+B+"|"+B+")$","i").test(I)}const mf=new Xn(3e4,6e4);function Nl(){const _=Is().___jsl;if(_?.H)for(const d of Object.keys(_.H))if(_.H[d].r=_.H[d].r||[],_.H[d].L=_.H[d].L||[],_.H[d].r=[..._.H[d].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let rd=null;const vf=new Xn(5e3,15e3),mc="__/auth/iframe",xa="emulator/auth/iframe",Eu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yc(_){const d=_.config;wt(d.authDomain,_,"auth-domain-config-required");const p=d.emulator?xi(d,xa):`https://${_.config.authDomain}/${mc}`,I={apiKey:d.apiKey,appName:_.name,v:Se.Jn},B=Rl.get(_.config.apiHost);B&&(I.eid=B);const q=_._getFrameworks();return q.length&&(I.fw=q.join(",")),`${p}?${(0,ce.xO)(I).slice(1)}`}function hh(){return hh=(0,ee.Z)(function*(_){const d=yield function _f(_){return rd=rd||function yf(_){return new Promise((d,p)=>{var I,B,q;function _e(){Nl(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Nl(),p(pi(_,"network-request-failed"))},timeout:mf.get()})}if(null!==(B=null===(I=Is().gapi)||void 0===I?void 0:I.iframes)&&void 0!==B&&B.Iframe)d(gapi.iframes.getContext());else{if(null===(q=Is().gapi)||void 0===q||!q.load){const Pe=Ia("iframefcb");return Is()[Pe]=()=>{gapi.load?_e():p(pi(_,"network-request-failed"))},$o(`https://apis.google.com/js/api.js?onload=${Pe}`).catch(at=>p(at))}_e()}}).catch(d=>{throw rd=null,d})}(_),rd}(_),p=Is().gapi;return wt(p,_,"internal-error"),d.open({where:document.body,url:yc(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Eu,dontclear:!0},I=>new Promise(function(){var B=(0,ee.Z)(function*(q,_e){yield I.restyle({setHideOnLeave:!1});const Pe=pi(_,"network-request-failed"),at=Is().setTimeout(()=>{_e(Pe)},vf.get());function Lt(){Is().clearTimeout(at),q(I)}I.ping(Lt).then(Lt,()=>{_e(Pe)})});return function(q,_e){return B.apply(this,arguments)}}()))}),hh.apply(this,arguments)}const $p={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ym=500,id=600,sd="_blank",_m="http://localhost";class jp{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const fh="__/auth/handler",Ol="emulator/auth/handler",wf=encodeURIComponent("fac");function ph(_,d,p,I,B,q){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,ee.Z)(function*(_,d,p,I,B,q){wt(_.config.authDomain,_,"auth-domain-config-required"),wt(_.config.apiKey,_,"invalid-api-key");const _e={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:I,v:Se.Jn,eventId:B};if(d instanceof Go){d.setDefaultLanguage(_.languageCode),_e.providerId=d.providerId||"",(0,ce.xb)(d.getCustomParameters())||(_e.customParameters=JSON.stringify(d.getCustomParameters()));for(const[hn,Bn]of Object.entries(q||{}))_e[hn]=Bn}if(d instanceof Su){const hn=d.getScopes().filter(Bn=>""!==Bn);hn.length>0&&(_e.scopes=hn.join(","))}_.tenantId&&(_e.tid=_.tenantId);const Pe=_e;for(const hn of Object.keys(Pe))void 0===Pe[hn]&&delete Pe[hn];const at=yield _._getAppCheckToken(),Lt=at?`#${wf}=${encodeURIComponent(at)}`:"";return`${function gh({config:_}){return _.emulator?xi(_,Ol):`https://${_.authDomain}/${fh}`}(_)}?${(0,ce.xO)(Pe).slice(1)}${Lt}`})).apply(this,arguments)}const kl="webStorageSupport",ci=class _c{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oc,this._completeRedirectFn=Vu,this._overrideRedirectResult=al}_openPopup(d,p,I,B){var q=this;return(0,ee.Z)(function*(){var _e;Zi(null===(_e=q.eventManagers[d._key()])||void 0===_e?void 0:_e.manager,"_initialize() not called before _openPopup()");const Pe=yield ph(d,p,I,Gi(),B);return function Ef(_,d,p,I=ym,B=id){const q=Math.max((window.screen.availHeight-B)/2,0).toString(),_e=Math.max((window.screen.availWidth-I)/2,0).toString();let Pe="";const at=Object.assign(Object.assign({},$p),{width:I.toString(),height:B.toString(),top:q,left:_e}),Lt=(0,ce.z$)().toLowerCase();p&&(Pe=dn(Lt)?sd:p),Jo(Lt)&&(d=d||_m,at.scrollbars="yes");const hn=Object.entries(at).reduce((zs,[Tn,Hl])=>`${zs}${Tn}=${Hl},`,"");if(function R(_=(0,ce.z$)()){var d;return L(_)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Lt)&&"_self"!==Pe)return function Hp(_,d){const p=document.createElement("a");p.href=_,p.target=d;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(I)}(d||"",Pe),new jp(null);const Bn=window.open(d||"",Pe,hn);wt(Bn,_,"popup-blocked");try{Bn.focus()}catch{}return new jp(Bn)}(d,Pe,Os())})()}_openRedirect(d,p,I,B){var q=this;return(0,ee.Z)(function*(){return yield q._originValidation(d),function Bi(_){Is().location.href=_}(yield ph(d,p,I,Gi(),B)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:B,promise:q}=this.eventManagers[p];return B?Promise.resolve(B):(Zi(q,"If manager is not set, promise should be"),q)}const I=this.initAndGetManager(d);return this.eventManagers[p]={promise:I},I.catch(()=>{delete this.eventManagers[p]}),I}initAndGetManager(d){var p=this;return(0,ee.Z)(function*(){const I=yield function dh(_){return hh.apply(this,arguments)}(d),B=new Pl(d);return I.register("authEvent",q=>(wt(q?.authEvent,d,"invalid-auth-event"),{status:B.onEvent(q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:B},p.iframes[d._key()]=I,B})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(kl,{type:kl},B=>{var q;const _e=null===(q=B?.[0])||void 0===q?void 0:q[kl];void 0!==_e&&p(!!_e),Br(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function kr(_){return ch.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return ae()||to()||L()}};var Cf="@firebase/auth";class Tf{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,ee.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(I=>{d(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);p&&(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const _h=(0,ce.Pz)("authIdTokenMaxAge")||300;let vh=null;const Eh=_=>function(){var d=(0,ee.Z)(function*(p){const I=p&&(yield p.getIdTokenResult()),B=I&&((new Date).getTime()-Date.parse(I.issuedAtTime))/1e3;if(B&&B>_h)return;const q=I?.token;vh!==q&&(vh=q,yield fetch(_,{method:q?"POST":"DELETE",headers:q?{Authorization:`Bearer ${q}`}:{}}))});return function(p){return d.apply(this,arguments)}}();function Em(_=(0,Se.Mq)()){const d=(0,Se.qX)(_,"auth");if(d.isInitialized())return d.getImmediate();const p=function ga(_,d){const p=(0,Se.qX)(_,"auth");if(p.isInitialized()){const B=p.getImmediate(),q=p.getOptions();if((0,ce.vZ)(q,d??{}))return B;Br(B,"already-initialized")}return p.initialize({options:d})}(_,{popupRedirectResolver:ci,persistence:[Fa,pu,oc]}),I=(0,ce.Pz)("authTokenSyncURL");if(I){const q=Eh(I);(function eu(_,d,p){(0,ce.m9)(_).beforeAuthStateChanged(d,p)})(p,q,()=>q(p.currentUser)),function jc(_,d,p,I){(0,ce.m9)(_).onIdTokenChanged(d,p,I)}(p,_e=>q(_e))}const B=(0,ce.q4)("auth");return B&&function Ho(_,d,p){const I=An(_);wt(I._canInitEmulator,I,"emulator-config-failed"),wt(/^https?:\/\//.test(d),I,"invalid-emulator-scheme");const B=!!p?.disableWarnings,q=Ca(d),{host:_e,port:Pe}=function Po(_){const d=Ca(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(d.length));if(!p)return{host:"",port:null};const I=p[2].split("@").pop()||"",B=/^(\[[^\]]+\])(:|$)/.exec(I);if(B){const q=B[1];return{host:q,port:ma(I.substr(q.length+1))}}{const[q,_e]=I.split(":");return{host:q,port:ma(_e)}}}(d);I.config.emulator={url:`${q}//${_e}${null===Pe?"":`:${Pe}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:_e,port:Pe,protocol:q.replace(":",""),options:Object.freeze({disableWarnings:B})}),B||function Na(){function _(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(p,`http://${B}`),p}!function Fl(_){(0,Se.Xd)(new Ve.wA("auth",(d,{options:p})=>{const I=d.getProvider("app").getImmediate(),B=d.getProvider("heartbeat"),q=d.getProvider("app-check-internal"),{apiKey:_e,authDomain:Pe}=I.options;wt(_e&&!_e.includes(":"),"invalid-api-key",{appName:I.name});const at={apiKey:_e,authDomain:Pe,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mr(_)},Lt=new Da(I,B,q,at);return function fs(_,d){const p=d?.persistence||[],I=(Array.isArray(p)?p:[p]).map(Xi);d?.errorMap&&_._updateErrorMap(d.errorMap),_._initializeWithPersistence(I,d?.popupRedirectResolver)}(Lt,p),Lt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,I)=>{d.getProvider("auth-internal").initialize()})),(0,Se.Xd)(new Ve.wA("auth-internal",d=>{const p=An(d.getProvider("auth").getImmediate());return new Tf(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Se.KN)(Cf,"0.23.2",function vm(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,Se.KN)(Cf,"0.23.2","esm2017")}("Browser");var Gp=Y(9751);function bf(_){return new Gp.y(function(d){return{unsubscribe:ns(_,d.next.bind(d),d.error.bind(d),d.complete.bind(d))}})}class Ll{constructor(d){return d}}const wc=new re.OlP("angularfire2.auth-instances");function Uu(_){return(d,p)=>{const I=d.runOutsideAngular(()=>_(p));return new Ll(I)}}const ud={provide:class Af{constructor(){return(0,w.vb)("auth")}},deps:[[new re.FiY,wc]]},Iu={provide:Ll,useFactory:function Mf(_,d){const p=(0,w.JM)("auth",_,d);return p&&new Ll(p)},deps:[[new re.FiY,wc],k.Ot]};let lu=(()=>{class _{constructor(){(0,Ce.KN)("angularfire",w.q4.full,"auth")}}return _.\u0275fac=function(p){return new(p||_)},_.\u0275mod=re.oAB({type:_}),_.\u0275inj=re.cJS({providers:[Iu,ud]}),_})();function dl(_,...d){return{ngModule:lu,providers:[{provide:wc,useFactory:Uu(_),multi:!0,deps:[re.R0b,re.zs3,w.HU,k.z6,[new re.FiY,hr],...d]}]}}const hl=(0,w.u3)(bf,!0),fl=(0,w.u3)(Or,!0),Ch=(0,w.u3)(Em,!0),dd=(0,w.u3)(ns,!0),Ff=(0,w.u3)(Qu,!0)},3562:(nn,Qe,Y)=>{Y.d(Qe,{gg:()=>vt,Um:()=>nt,ET:()=>Tr,hJ:()=>Xr,BS:()=>Zt,JU:()=>qn,Jm:()=>di,QT:()=>Wt,IO:()=>Jn,pl:()=>le,r7:()=>pe,ar:()=>ve});var w=Y(4976),re=Y(1571),k=Y(3692),Ce=Y(259),ee=Y(7396),Se=Y(9751),Ve=Y(4004),ce={includeMetadataChanges:!1};function At(Ne,We){return void 0===We&&(We={}),function ht(Ne){return function Be(Ne,We){return void 0===We&&(We=ce),new Se.y(function(Mt){return{unsubscribe:(0,ee.cf)(Ne,We,{next:Mt.next.bind(Mt),error:Mt.error.bind(Mt),complete:Mt.complete.bind(Mt)})}})}(Ne,{includeMetadataChanges:!0}).pipe((0,Ve.U)(function(We){return We.docs}))}(Ne).pipe((0,Ve.U)(function(Mt){return Mt.map(function(Jt){return function xe(Ne,We){void 0===We&&(We={});var Mt=Ne.data();return!Ne.exists()||"object"!=typeof Mt||null===Mt||We.idField&&(Mt[We.idField]=Ne.id),Mt}(Jt,We)})}))}class vt{constructor(We){return We}}const pn="firestore",rn=new re.OlP("angularfire2.firestore-instances"),Ae={provide:class Sn{constructor(){return(0,w.vb)(pn)}},deps:[[new re.FiY,rn]]},et={provide:vt,useFactory:function dt(Ne,We){const Mt=(0,w.JM)(pn,Ne,We);return Mt&&new vt(Mt)},deps:[[new re.FiY,rn],k.Ot]};let nt=(()=>{class Ne{constructor(){(0,Ce.KN)("angularfire",w.q4.full,"fst")}}return Ne.\u0275fac=function(Mt){return new(Mt||Ne)},Ne.\u0275mod=re.oAB({type:Ne}),Ne.\u0275inj=re.cJS({providers:[et,Ae]}),Ne})();const Zt=(0,w.u3)(At,!0),Tr=(0,w.u3)(ee.ET,!0),Xr=(0,w.u3)(ee.hJ,!0),qn=(0,w.u3)(ee.JU,!0),di=(0,w.u3)(ee.Jm,!0),Wt=(0,w.u3)(ee.QT,!0),Jn=(0,w.u3)(ee.IO,!0),le=(0,w.u3)(ee.pl,!0),pe=(0,w.u3)(ee.r7,!0),ve=(0,w.u3)(ee.ar,!0)},4976:(nn,Qe,Y)=>{Y.d(Qe,{q4:()=>za,HU:()=>oc,vb:()=>Yd,JM:()=>Zd,u3:()=>El});var w=Y(1571),re=Y(259),k=Y(5861),Ce=Y(6881),ee=Y(2090),Se=Y(4859),Ve=Y(1877);const ce=(C,P)=>P.some(G=>C instanceof G);let Be,ie;const rt=new WeakMap,st=new WeakMap,gt=new WeakMap,mt=new WeakMap,fn=new WeakMap;let wn={get(C,P,G){if(C instanceof IDBTransaction){if("done"===P)return st.get(C);if("objectStoreNames"===P)return C.objectStoreNames||gt.get(C);if("store"===P)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return ct(C[P])},set:(C,P,G)=>(C[P]=G,!0),has:(C,P)=>C instanceof IDBTransaction&&("done"===P||"store"===P)||P in C};function He(C){return"function"==typeof C?function ht(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xe(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...P){return C.apply(At(this),P),ct(rt.get(this))}:function(...P){return ct(C.apply(At(this),P))}:function(P,...G){const ne=C.call(At(this),P,...G);return gt.set(ne,P.sort?P.sort():[P]),ct(ne)}}(C):(C instanceof IDBTransaction&&function Wn(C){if(st.has(C))return;const P=new Promise((G,ne)=>{const he=()=>{C.removeEventListener("complete",Te),C.removeEventListener("error",ze),C.removeEventListener("abort",ze)},Te=()=>{G(),he()},ze=()=>{ne(C.error||new DOMException("AbortError","AbortError")),he()};C.addEventListener("complete",Te),C.addEventListener("error",ze),C.addEventListener("abort",ze)});st.set(C,P)}(C),ce(C,function ye(){return Be||(Be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,wn):C)}function ct(C){if(C instanceof IDBRequest)return function Vt(C){const P=new Promise((G,ne)=>{const he=()=>{C.removeEventListener("success",Te),C.removeEventListener("error",ze)},Te=()=>{G(ct(C.result)),he()},ze=()=>{ne(C.error),he()};C.addEventListener("success",Te),C.addEventListener("error",ze)});return P.then(G=>{G instanceof IDBCursor&&rt.set(G,C)}).catch(()=>{}),fn.set(P,C),P}(C);if(mt.has(C))return mt.get(C);const P=He(C);return P!==C&&(mt.set(C,P),fn.set(P,C)),P}const At=C=>fn.get(C),Sn=["get","getKey","getAll","getAllKeys","count"],jt=["put","add","delete","clear"],rn=new Map;function dt(C,P){if(!(C instanceof IDBDatabase)||P in C||"string"!=typeof P)return;if(rn.get(P))return rn.get(P);const G=P.replace(/FromIndex$/,""),ne=P!==G,he=jt.includes(G);if(!(G in(ne?IDBIndex:IDBObjectStore).prototype)||!he&&!Sn.includes(G))return;const Te=function(){var ze=(0,k.Z)(function*(Pt,...St){const Ft=this.transaction(Pt,he?"readwrite":"readonly");let bn=Ft.store;return ne&&(bn=bn.index(St.shift())),(yield Promise.all([bn[G](...St),he&&Ft.done]))[0]});return function(St){return ze.apply(this,arguments)}}();return rn.set(P,Te),Te}!function Oe(C){wn=C(wn)}(C=>({...C,get:(P,G,ne)=>dt(P,G)||C.get(P,G,ne),has:(P,G)=>!!dt(P,G)||C.has(P,G)}));const Ge="@firebase/installations",Ae="0.6.4",et=1e4,nt=`w:${Ae}`,ft="FIS_v2",pt="https://firebaseinstallations.googleapis.com/v1",sn=36e5,Ht=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xt(C){return C instanceof ee.ZR&&C.code.includes("request-failed")}function Hn({projectId:C}){return`${pt}/projects/${C}/installations`}function Kr(C){return{token:C.token,requestStatus:2,expiresIn:$i(C.expiresIn),creationTime:Date.now()}}function Tr(C,P){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,k.Z)(function*(C,P){const ne=(yield P.json()).error;return Ht.create("request-failed",{requestName:C,serverCode:ne.code,serverMessage:ne.message,serverStatus:ne.status})})).apply(this,arguments)}function Ci({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Xr(C){return is.apply(this,arguments)}function is(){return(is=(0,k.Z)(function*(C){const P=yield C();return P.status>=500&&P.status<600?C():P})).apply(this,arguments)}function $i(C){return Number(C.replace("s","000"))}function Zr(){return(Zr=(0,k.Z)(function*({appConfig:C,heartbeatServiceProvider:P},{fid:G}){const ne=Hn(C),he=Ci(C),Te=P.getImmediate({optional:!0});if(Te){const Ft=yield Te.getHeartbeatsHeader();Ft&&he.append("x-firebase-client",Ft)}const Pt={method:"POST",headers:he,body:JSON.stringify({fid:G,authVersion:ft,appId:C.appId,sdkVersion:nt})},St=yield Xr(()=>fetch(ne,Pt));if(St.ok){const Ft=yield St.json();return{fid:Ft.fid||G,registrationStatus:2,refreshToken:Ft.refreshToken,authToken:Kr(Ft.authToken)}}throw yield Tr("Create Installation",St)})).apply(this,arguments)}function qn(C){return new Promise(P=>{setTimeout(P,C)})}const ss=/^[cdef][\w-]{21}$/,Gt="";function qi(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const G=function Ti(C){return function di(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return ss.test(G)?G:Gt}catch{return Gt}}function un(C){return`${C.appName}!${C.appId}`}const Wt=new Map;function Ct(C,P){const G=un(C);hi(G,P),function ji(C,P){const G=function Hi(){return!cr&&"BroadcastChannel"in self&&(cr=new BroadcastChannel("[Firebase] FID Change"),cr.onmessage=C=>{hi(C.data.key,C.data.fid)}),cr}();G&&G.postMessage({key:C,fid:P}),function Kn(){0===Wt.size&&cr&&(cr.close(),cr=null)}()}(G,P)}function hi(C,P){const G=Wt.get(C);if(G)for(const ne of G)ne(P)}let cr=null;const po="firebase-installations-database",Qn=1,dr="firebase-installations-store";let nr=null;function Lr(){return nr||(nr=function vt(C,P,{blocked:G,upgrade:ne,blocking:he,terminated:Te}={}){const ze=indexedDB.open(C,P),Pt=ct(ze);return ne&&ze.addEventListener("upgradeneeded",St=>{ne(ct(ze.result),St.oldVersion,St.newVersion,ct(ze.transaction))}),G&&ze.addEventListener("blocked",()=>G()),Pt.then(St=>{Te&&St.addEventListener("close",()=>Te()),he&&St.addEventListener("versionchange",()=>he())}).catch(()=>{}),Pt}(po,Qn,{upgrade:(C,P)=>{0===P&&C.createObjectStore(dr)}})),nr}function en(C,P){return fi.apply(this,arguments)}function fi(){return(fi=(0,k.Z)(function*(C,P){const G=un(C),he=(yield Lr()).transaction(dr,"readwrite"),Te=he.objectStore(dr),ze=yield Te.get(G);return yield Te.put(P,G),yield he.done,(!ze||ze.fid!==P.fid)&&Ct(C,P.fid),P})).apply(this,arguments)}function Jn(C){return si.apply(this,arguments)}function si(){return(si=(0,k.Z)(function*(C){const P=un(C),ne=(yield Lr()).transaction(dr,"readwrite");yield ne.objectStore(dr).delete(P),yield ne.done})).apply(this,arguments)}function Vr(C,P){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,k.Z)(function*(C,P){const G=un(C),he=(yield Lr()).transaction(dr,"readwrite"),Te=he.objectStore(dr),ze=yield Te.get(G),Pt=P(ze);return void 0===Pt?yield Te.delete(G):yield Te.put(Pt,G),yield he.done,Pt&&(!ze||ze.fid!==Pt.fid)&&Ct(C,Pt.fid),Pt})).apply(this,arguments)}function fe(C){return le.apply(this,arguments)}function le(){return le=(0,k.Z)(function*(C){let P;const G=yield Vr(C.appConfig,ne=>{const he=function we(C){return ve(C||{fid:qi(),registrationStatus:0})}(ne),Te=function Ye(C,P){if(0===P.registrationStatus){if(!navigator.onLine)return{installationEntry:P,registrationPromise:Promise.reject(Ht.create("app-offline"))};const G={fid:P.fid,registrationStatus:1,registrationTime:Date.now()},ne=function Re(C,P){return bt.apply(this,arguments)}(C,G);return{installationEntry:G,registrationPromise:ne}}return 1===P.registrationStatus?{installationEntry:P,registrationPromise:Ee(C)}:{installationEntry:P}}(C,he);return P=Te.registrationPromise,Te.installationEntry});return G.fid===Gt?{installationEntry:yield P}:{installationEntry:G,registrationPromise:P}}),le.apply(this,arguments)}function bt(){return bt=(0,k.Z)(function*(C,P){try{const G=yield function Ar(C,P){return Zr.apply(this,arguments)}(C,P);return en(C.appConfig,G)}catch(G){throw xt(G)&&409===G.customData.serverCode?yield Jn(C.appConfig):yield en(C.appConfig,{fid:P.fid,registrationStatus:0}),G}}),bt.apply(this,arguments)}function Ee(C){return pe.apply(this,arguments)}function pe(){return(pe=(0,k.Z)(function*(C){let P=yield se(C.appConfig);for(;1===P.registrationStatus;)yield qn(100),P=yield se(C.appConfig);if(0===P.registrationStatus){const{installationEntry:G,registrationPromise:ne}=yield fe(C);return ne||G}return P})).apply(this,arguments)}function se(C){return Vr(C,P=>{if(!P)throw Ht.create("installation-not-found");return ve(P)})}function ve(C){return function qe(C){return 1===C.registrationStatus&&C.registrationTime+et<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function We(){return(We=(0,k.Z)(function*({appConfig:C,heartbeatServiceProvider:P},G){const ne=function Mt(C,{fid:P}){return`${Hn(C)}/${P}/authTokens:generate`}(C,G),he=function Pr(C,{refreshToken:P}){const G=Ci(C);return G.append("Authorization",function cn(C){return`${ft} ${C}`}(P)),G}(C,G),Te=P.getImmediate({optional:!0});if(Te){const Ft=yield Te.getHeartbeatsHeader();Ft&&he.append("x-firebase-client",Ft)}const Pt={method:"POST",headers:he,body:JSON.stringify({installation:{sdkVersion:nt,appId:C.appId}})},St=yield Xr(()=>fetch(ne,Pt));if(St.ok)return Kr(yield St.json());throw yield Tr("Generate Auth Token",St)})).apply(this,arguments)}function Jt(C){return rr.apply(this,arguments)}function rr(){return rr=(0,k.Z)(function*(C,P=!1){let G;const ne=yield Vr(C.appConfig,Te=>{if(!_n(Te))throw Ht.create("not-registered");const ze=Te.authToken;if(!P&&function $n(C){return 2===C.requestStatus&&!function hr(C){const P=Date.now();return P<C.creationTime||C.creationTime+C.expiresIn<P+sn}(C)}(ze))return Te;if(1===ze.requestStatus)return G=function $e(C,P){return Me.apply(this,arguments)}(C,P),Te;{if(!navigator.onLine)throw Ht.create("app-offline");const Pt=function Dr(C){const P={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:P})}(Te);return G=function zt(C,P){return on.apply(this,arguments)}(C,Pt),Pt}});return G?yield G:ne.authToken}),rr.apply(this,arguments)}function Me(){return(Me=(0,k.Z)(function*(C,P){let G=yield ut(C.appConfig);for(;1===G.authToken.requestStatus;)yield qn(100),G=yield ut(C.appConfig);const ne=G.authToken;return 0===ne.requestStatus?Jt(C,P):ne})).apply(this,arguments)}function ut(C){return Vr(C,P=>{if(!_n(P))throw Ht.create("not-registered");return function os(C){return 1===C.requestStatus&&C.requestTime+et<Date.now()}(P.authToken)?Object.assign(Object.assign({},P),{authToken:{requestStatus:0}}):P})}function on(){return on=(0,k.Z)(function*(C,P){try{const G=yield function Ne(C,P){return We.apply(this,arguments)}(C,P),ne=Object.assign(Object.assign({},P),{authToken:G});return yield en(C.appConfig,ne),G}catch(G){if(!xt(G)||401!==G.customData.serverCode&&404!==G.customData.serverCode){const ne=Object.assign(Object.assign({},P),{authToken:{requestStatus:0}});yield en(C.appConfig,ne)}else yield Jn(C.appConfig);throw G}}),on.apply(this,arguments)}function _n(C){return void 0!==C&&2===C.registrationStatus}function ti(){return(ti=(0,k.Z)(function*(C){const P=C,{installationEntry:G,registrationPromise:ne}=yield fe(P);return ne?ne.catch(console.error):Jt(P).catch(console.error),G.fid})).apply(this,arguments)}function as(){return as=(0,k.Z)(function*(C,P=!1){const G=C;return yield function Ur(C){return gs.apply(this,arguments)}(G),(yield Jt(G,P)).token}),as.apply(this,arguments)}function gs(){return(gs=(0,k.Z)(function*(C){const{registrationPromise:P}=yield fe(C);P&&(yield P)})).apply(this,arguments)}function Rr(C){return Ht.create("missing-app-config-values",{valueName:C})}const Ai="installations",Ds=C=>{const P=C.getProvider("app").getImmediate(),G=function Si(C){if(!C||!C.options)throw Rr("App Configuration");if(!C.name)throw Rr("App Name");const P=["projectId","apiKey","appId"];for(const G of P)if(!C.options[G])throw Rr(G);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(P);return{app:P,appConfig:G,heartbeatServiceProvider:(0,Ce.qX)(P,"heartbeat"),_delete:()=>Promise.resolve()}},ni=C=>{const P=C.getProvider("app").getImmediate(),G=(0,Ce.qX)(P,Ai).getImmediate();return{getId:()=>function Ln(C){return ti.apply(this,arguments)}(G),getToken:he=>function yr(C){return as.apply(this,arguments)}(G,he)}};(function Dn(){(0,Ce.Xd)(new Se.wA(Ai,Ds,"PUBLIC")),(0,Ce.Xd)(new Se.wA("installations-internal",ni,"PRIVATE"))})(),(0,Ce.KN)(Ge,Ae),(0,Ce.KN)(Ge,Ae,"esm2017");const Ki="@firebase/remote-config",Cr=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ts{constructor(P,G,ne,he){this.client=P,this.storage=G,this.storageCache=ne,this.logger=he}isCachedDataFresh(P,G){if(!G)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ne=Date.now()-G,he=ne<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ne}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${he}.`),he}fetch(P){var G=this;return(0,k.Z)(function*(){const[ne,he]=yield Promise.all([G.storage.getLastSuccessfulFetchTimestampMillis(),G.storage.getLastSuccessfulFetchResponse()]);if(he&&G.isCachedDataFresh(P.cacheMaxAgeMillis,ne))return he;P.eTag=he&&he.eTag;const Te=yield G.client.fetch(P),ze=[G.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Te.status&&ze.push(G.storage.setLastSuccessfulFetchResponse(Te)),yield Promise.all(ze),Te})()}}function vr(C=navigator){return C.languages&&C.languages[0]||C.language}class ir{constructor(P,G,ne,he,Te,ze){this.firebaseInstallations=P,this.sdkVersion=G,this.namespace=ne,this.projectId=he,this.apiKey=Te,this.appId=ze}fetch(P){var G=this;return(0,k.Z)(function*(){const[ne,he]=yield Promise.all([G.firebaseInstallations.getId(),G.firebaseInstallations.getToken()]),ze=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${G.projectId}/namespaces/${G.namespace}:fetch?key=${G.apiKey}`,Pt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},St={sdk_version:G.sdkVersion,app_instance_id:ne,app_instance_id_token:he,app_id:G.appId,language_code:vr()},Ft={method:"POST",headers:Pt,body:JSON.stringify(St)},bn=fetch(ze,Ft),On=new Promise((ka,Fa)=>{P.signal.addEventListener(()=>{const zc=new Error("The operation was aborted.");zc.name="AbortError",Fa(zc)})});let Yo;try{yield Promise.race([bn,On]),Yo=yield bn}catch(ka){let Fa="fetch-client-network";throw"AbortError"===ka?.name&&(Fa="fetch-timeout"),Cr.create(Fa,{originalErrorMessage:ka?.message})}let ks=Yo.status;const Ru=Yo.headers.get("ETag")||void 0;let uc,gu;if(200===Yo.status){let ka;try{ka=yield Yo.json()}catch(Fa){throw Cr.create("fetch-client-parse",{originalErrorMessage:Fa?.message})}uc=ka.entries,gu=ka.state}if("INSTANCE_STATE_UNSPECIFIED"===gu?ks=500:"NO_CHANGE"===gu?ks=304:("NO_TEMPLATE"===gu||"EMPTY_CONFIG"===gu)&&(uc={}),304!==ks&&200!==ks)throw Cr.create("fetch-status",{httpStatus:ks});return{status:ks,eTag:Ru,config:uc}})()}}class da{constructor(P,G){this.client=P,this.storage=G}fetch(P){var G=this;return(0,k.Z)(function*(){const ne=(yield G.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return G.attemptFetch(P,ne)})()}attemptFetch(P,{throttleEndTimeMillis:G,backoffCount:ne}){var he=this;return(0,k.Z)(function*(){yield function bs(C,P){return new Promise((G,ne)=>{const he=Math.max(P-Date.now(),0),Te=setTimeout(G,he);C.addEventListener(()=>{clearTimeout(Te),ne(Cr.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,G);try{const Te=yield he.client.fetch(P);return yield he.storage.deleteThrottleMetadata(),Te}catch(Te){if(!function us(C){if(!(C instanceof ee.ZR&&C.customData))return!1;const P=Number(C.customData.httpStatus);return 429===P||500===P||503===P||504===P}(Te))throw Te;const ze={throttleEndTimeMillis:Date.now()+(0,ee.$s)(ne),backoffCount:ne+1};return yield he.storage.setThrottleMetadata(ze),he.attemptFetch(P,ze)}})()}}class cs{constructor(P,G,ne,he,Te){this.app=P,this._client=G,this._storageCache=ne,this._storage=he,this._logger=Te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function So(C,P){const G=C.target.error||void 0;return Cr.create(P,{originalErrorMessage:G&&G?.message})}const ms="app_namespace_store";class ha{constructor(P,G,ne,he=function mo(){return new Promise((C,P)=>{try{const G=indexedDB.open("firebase_remote_config",1);G.onerror=ne=>{P(So(ne,"storage-open"))},G.onsuccess=ne=>{C(ne.target.result)},G.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(ms,{keyPath:"compositeKey"})}}catch(G){P(Cr.create("storage-open",{originalErrorMessage:G?.message}))}})}()){this.appId=P,this.appName=G,this.namespace=ne,this.openDbPromise=he}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var G=this;return(0,k.Z)(function*(){const ne=yield G.openDbPromise;return new Promise((he,Te)=>{const Pt=ne.transaction([ms],"readonly").objectStore(ms),St=G.createCompositeKey(P);try{const Ft=Pt.get(St);Ft.onerror=bn=>{Te(So(bn,"storage-get"))},Ft.onsuccess=bn=>{const On=bn.target.result;he(On?On.value:void 0)}}catch(Ft){Te(Cr.create("storage-get",{originalErrorMessage:Ft?.message}))}})})()}set(P,G){var ne=this;return(0,k.Z)(function*(){const he=yield ne.openDbPromise;return new Promise((Te,ze)=>{const St=he.transaction([ms],"readwrite").objectStore(ms),Ft=ne.createCompositeKey(P);try{const bn=St.put({compositeKey:Ft,value:G});bn.onerror=On=>{ze(So(On,"storage-set"))},bn.onsuccess=()=>{Te()}}catch(bn){ze(Cr.create("storage-set",{originalErrorMessage:bn?.message}))}})})()}delete(P){var G=this;return(0,k.Z)(function*(){const ne=yield G.openDbPromise;return new Promise((he,Te)=>{const Pt=ne.transaction([ms],"readwrite").objectStore(ms),St=G.createCompositeKey(P);try{const Ft=Pt.delete(St);Ft.onerror=bn=>{Te(So(bn,"storage-delete"))},Ft.onsuccess=()=>{he()}}catch(Ft){Te(Cr.create("storage-delete",{originalErrorMessage:Ft?.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class fa{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,k.Z)(function*(){const G=P.storage.getLastFetchStatus(),ne=P.storage.getLastSuccessfulFetchTimestampMillis(),he=P.storage.getActiveConfig(),Te=yield G;Te&&(P.lastFetchStatus=Te);const ze=yield ne;ze&&(P.lastSuccessfulFetchTimestampMillis=ze);const Pt=yield he;Pt&&(P.activeConfig=Pt)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function wa(){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,k.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}!function yo(){(0,Ce.Xd)(new Se.wA("remote-config",function C(P,{instanceIdentifier:G}){const ne=P.getProvider("app").getImmediate(),he=P.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Cr.create("registration-window");if(!(0,ee.hl)())throw Cr.create("indexed-db-unavailable");const{projectId:Te,apiKey:ze,appId:Pt}=ne.options;if(!Te)throw Cr.create("registration-project-id");if(!ze)throw Cr.create("registration-api-key");if(!Pt)throw Cr.create("registration-app-id");const St=new ha(Pt,ne.name,G=G||"firebase"),Ft=new fa(St),bn=new Ve.Yd(Ki);bn.logLevel=Ve.in.ERROR;const On=new ir(he,Ce.Jn,G,Te,ze,Pt),Yo=new da(On,St),ks=new Ts(Yo,St,Ft,bn),Ru=new cs(ne,ks,Ft,St,bn);return function Zi(C){const P=(0,ee.m9)(C);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(Ru),Ru},"PUBLIC").setMultipleInstances(!0)),(0,Ce.KN)(Ki,"0.4.4"),(0,Ce.KN)(Ki,"0.4.4","esm2017")}();const ds=(C,P)=>P.some(G=>C instanceof G);let vo,Ss;const Mo=new WeakMap,_i=new WeakMap,Xs=new WeakMap,As=new WeakMap,Ls=new WeakMap;let eo={get(C,P,G){if(C instanceof IDBTransaction){if("done"===P)return _i.get(C);if("objectStoreNames"===P)return C.objectStoreNames||Xs.get(C);if("store"===P)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return Ei(C[P])},set:(C,P,G)=>(C[P]=G,!0),has:(C,P)=>C instanceof IDBTransaction&&("done"===P||"store"===P)||P in C};function Pa(C){return"function"==typeof C?function vi(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Uo(){return Ss||(Ss=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...P){return C.apply(Er(this),P),Ei(Mo.get(this))}:function(...P){return Ei(C.apply(Er(this),P))}:function(P,...G){const ne=C.call(Er(this),P,...G);return Xs.set(ne,P.sort?P.sort():[P]),Ei(ne)}}(C):(C instanceof IDBTransaction&&function jr(C){if(_i.has(C))return;const P=new Promise((G,ne)=>{const he=()=>{C.removeEventListener("complete",Te),C.removeEventListener("error",ze),C.removeEventListener("abort",ze)},Te=()=>{G(),he()},ze=()=>{ne(C.error||new DOMException("AbortError","AbortError")),he()};C.addEventListener("complete",Te),C.addEventListener("error",ze),C.addEventListener("abort",ze)});_i.set(C,P)}(C),ds(C,function $r(){return vo||(vo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,eo):C)}function Ei(C){if(C instanceof IDBRequest)return function Qo(C){const P=new Promise((G,ne)=>{const he=()=>{C.removeEventListener("success",Te),C.removeEventListener("error",ze)},Te=()=>{G(Ei(C.result)),he()},ze=()=>{ne(C.error),he()};C.addEventListener("success",Te),C.addEventListener("error",ze)});return P.then(G=>{G instanceof IDBCursor&&Mo.set(G,C)}).catch(()=>{}),Ls.set(P,C),P}(C);if(As.has(C))return As.get(C);const P=Pa(C);return P!==C&&(As.set(C,P),Ls.set(P,C)),P}const Er=C=>Ls.get(C);function Ms(C,P,{blocked:G,upgrade:ne,blocking:he,terminated:Te}={}){const ze=indexedDB.open(C,P),Pt=Ei(ze);return ne&&ze.addEventListener("upgradeneeded",St=>{ne(Ei(ze.result),St.oldVersion,St.newVersion,Ei(ze.transaction))}),G&&ze.addEventListener("blocked",()=>G()),Pt.then(St=>{Te&&St.addEventListener("close",()=>Te()),he&&St.addEventListener("versionchange",()=>he())}).catch(()=>{}),Pt}function Bo(C,{blocked:P}={}){const G=indexedDB.deleteDatabase(C);return P&&G.addEventListener("blocked",()=>P()),Ei(G).then(()=>{})}const Xi=["get","getKey","getAll","getAllKeys","count"],wi=["put","add","delete","clear"],Pi=new Map;function ai(C,P){if(!(C instanceof IDBDatabase)||P in C||"string"!=typeof P)return;if(Pi.get(P))return Pi.get(P);const G=P.replace(/FromIndex$/,""),ne=P!==G,he=wi.includes(G);if(!(G in(ne?IDBIndex:IDBObjectStore).prototype)||!he&&!Xi.includes(G))return;const Te=function(){var ze=(0,k.Z)(function*(Pt,...St){const Ft=this.transaction(Pt,he?"readwrite":"readonly");let bn=Ft.store;return ne&&(bn=bn.index(St.shift())),(yield Promise.all([bn[G](...St),he&&Ft.done]))[0]});return function(St){return ze.apply(this,arguments)}}();return Pi.set(P,Te),Te}!function br(C){eo=C(eo)}(C=>({...C,get:(P,G,ne)=>ai(P,G)||C.get(P,G,ne),has:(P,G)=>!!ai(P,G)||C.has(P,G)}));const Vs="/firebase-messaging-sw.js",Eo="/firebase-cloud-messaging-push-scope",Jo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",to="https://fcmregistrations.googleapis.com/v1",dn="google.c.a.c_id",no="google.c.a.c_l",pa="google.c.a.ts",Us="google.c.a.e";var L=(()=>{return(C=L||(L={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",L;var C})();function F(C){const P=new Uint8Array(C);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function R(C){const G=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ne=atob(G),he=new Uint8Array(ne.length);for(let Te=0;Te<ne.length;++Te)he[Te]=ne.charCodeAt(Te);return he}const Z="fcm_token_details_db",ae=5,lt="fcm_token_object_Store";function Yr(){return Yr=(0,k.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Te=>Te.name).includes(Z))return null;let P=null;return(yield Ms(Z,ae,{upgrade:(ne=(0,k.Z)(function*(he,Te,ze,Pt){var St;if(Te<2||!he.objectStoreNames.contains(lt))return;const Ft=Pt.objectStore(lt),bn=yield Ft.index("fcmSenderId").get(C);if(yield Ft.clear(),bn)if(2===Te){const On=bn;if(!On.auth||!On.p256dh||!On.endpoint)return;P={token:On.fcmToken,createTime:null!==(St=On.createTime)&&void 0!==St?St:Date.now(),subscriptionOptions:{auth:On.auth,p256dh:On.p256dh,endpoint:On.endpoint,swScope:On.swScope,vapidKey:"string"==typeof On.vapidKey?On.vapidKey:F(On.vapidKey)}}}else if(3===Te){const On=bn;P={token:On.fcmToken,createTime:On.createTime,subscriptionOptions:{auth:F(On.auth),p256dh:F(On.p256dh),endpoint:On.endpoint,swScope:On.swScope,vapidKey:F(On.vapidKey)}}}else if(4===Te){const On=bn;P={token:On.fcmToken,createTime:On.createTime,subscriptionOptions:{auth:F(On.auth),p256dh:F(On.p256dh),endpoint:On.endpoint,swScope:On.swScope,vapidKey:F(On.vapidKey)}}}}),function(Te,ze,Pt,St){return ne.apply(this,arguments)})})).close(),yield Bo(Z),yield Bo("fcm_vapid_details_db"),yield Bo("undefined"),function wr(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:P}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}(P)?P:null;var ne}),Yr.apply(this,arguments)}const hs="firebase-messaging-database",io=1,Hr="firebase-messaging-store";let es=null;function xo(){return es||(es=Ms(hs,io,{upgrade:(C,P)=>{0===P&&C.createObjectStore(Hr)}})),es}function Bs(C){return $o.apply(this,arguments)}function $o(){return $o=(0,k.Z)(function*(C){const P=wo(C),ne=yield(yield xo()).transaction(Hr).objectStore(Hr).get(P);if(ne)return ne;{const he=yield function mr(C){return Yr.apply(this,arguments)}(C.appConfig.senderId);if(he)return yield Ia(C,he),he}}),$o.apply(this,arguments)}function Ia(C,P){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,k.Z)(function*(C,P){const G=wo(C),he=(yield xo()).transaction(Hr,"readwrite");return yield he.objectStore(Hr).put(P,G),yield he.done,P})).apply(this,arguments)}function jo(){return(jo=(0,k.Z)(function*(C){const P=wo(C),ne=(yield xo()).transaction(Hr,"readwrite");yield ne.objectStore(Hr).delete(P),yield ne.done})).apply(this,arguments)}function wo({appConfig:C}){return C.appId}const Oi=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xs(C,P){return Da.apply(this,arguments)}function Da(){return(Da=(0,k.Z)(function*(C,P){const G=yield Ca(C),ne=ma(P),he={method:"POST",headers:G,body:JSON.stringify(ne)};let Te;try{Te=yield(yield fetch(Ho(C.appConfig),he)).json()}catch(ze){throw Oi.create("token-subscribe-failed",{errorInfo:ze?.toString()})}if(Te.error)throw Oi.create("token-subscribe-failed",{errorInfo:Te.error.message});if(!Te.token)throw Oi.create("token-subscribe-no-token");return Te.token})).apply(this,arguments)}function Xo(){return(Xo=(0,k.Z)(function*(C,P){const G=yield Ca(C),ne=ma(P.subscriptionOptions),he={method:"PATCH",headers:G,body:JSON.stringify(ne)};let Te;try{Te=yield(yield fetch(`${Ho(C.appConfig)}/${P.token}`,he)).json()}catch(ze){throw Oi.create("token-update-failed",{errorInfo:ze?.toString()})}if(Te.error)throw Oi.create("token-update-failed",{errorInfo:Te.error.message});if(!Te.token)throw Oi.create("token-update-no-token");return Te.token})).apply(this,arguments)}function ga(C,P){return fs.apply(this,arguments)}function fs(){return(fs=(0,k.Z)(function*(C,P){const ne={method:"DELETE",headers:yield Ca(C)};try{const Te=yield(yield fetch(`${Ho(C.appConfig)}/${P}`,ne)).json();if(Te.error)throw Oi.create("token-unsubscribe-failed",{errorInfo:Te.error.message})}catch(he){throw Oi.create("token-unsubscribe-failed",{errorInfo:he?.toString()})}})).apply(this,arguments)}function Ho({projectId:C}){return`${to}/projects/${C}/registrations`}function Ca(C){return Po.apply(this,arguments)}function Po(){return(Po=(0,k.Z)(function*({appConfig:C,installations:P}){const G=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${G}`})})).apply(this,arguments)}function ma({p256dh:C,auth:P,endpoint:G,vapidKey:ne}){const he={web:{endpoint:G,auth:P,p256dh:C}};return ne!==Jo&&(he.web.applicationPubKey=ne),he}const Na=6048e5;function ts(){return ts=(0,k.Z)(function*(C){const P=yield function sr(C,P){return ta.apply(this,arguments)}(C.swRegistration,C.vapidKey),G={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:P.endpoint,auth:F(P.getKey("auth")),p256dh:F(P.getKey("p256dh"))},ne=yield Bs(C.firebaseDependencies);if(ne){if(function Qa(C,P){return P.vapidKey===C.vapidKey&&P.endpoint===C.endpoint&&P.auth===C.auth&&P.p256dh===C.p256dh}(ne.subscriptionOptions,G))return Date.now()>=ne.createTime+Na?function No(C,P){return ea.apply(this,arguments)}(C,{token:ne.token,createTime:Date.now(),subscriptionOptions:G}):ne.token;try{yield ga(C.firebaseDependencies,ne.token)}catch(he){console.warn(he)}return er(C.firebaseDependencies,G)}return er(C.firebaseDependencies,G)}),ts.apply(this,arguments)}function $s(){return $s=(0,k.Z)(function*(C){const P=yield Bs(C.firebaseDependencies);P&&(yield ga(C.firebaseDependencies,P.token),yield function Qr(C){return jo.apply(this,arguments)}(C.firebaseDependencies));const G=yield C.swRegistration.pushManager.getSubscription();return!G||G.unsubscribe()}),$s.apply(this,arguments)}function ea(){return ea=(0,k.Z)(function*(C,P){try{const G=yield function An(C,P){return Xo.apply(this,arguments)}(C.firebaseDependencies,P),ne=Object.assign(Object.assign({},P),{token:G,createTime:Date.now()});return yield Ia(C.firebaseDependencies,ne),G}catch(G){throw yield function ii(C){return $s.apply(this,arguments)}(C),G}}),ea.apply(this,arguments)}function er(C,P){return _s.apply(this,arguments)}function _s(){return(_s=(0,k.Z)(function*(C,P){const ne={token:yield xs(C,P),createTime:Date.now(),subscriptionOptions:P};return yield Ia(C,ne),ne.token})).apply(this,arguments)}function ta(){return(ta=(0,k.Z)(function*(C,P){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:R(P)})})).apply(this,arguments)}function ja(C){const P={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Ra(C,P){if(!P.notification)return;C.notification={};const G=P.notification.title;G&&(C.notification.title=G);const ne=P.notification.body;ne&&(C.notification.body=ne);const he=P.notification.image;he&&(C.notification.image=he);const Te=P.notification.icon;Te&&(C.notification.icon=Te)}(P,C),function Ha(C,P){P.data&&(C.data=P.data)}(P,C),function M(C,P){var G,ne,he,Te,ze;if(!(P.fcmOptions||null!==(G=P.notification)&&void 0!==G&&G.click_action))return;C.fcmOptions={};const Pt=null!==(he=null===(ne=P.fcmOptions)||void 0===ne?void 0:ne.link)&&void 0!==he?he:null===(Te=P.notification)||void 0===Te?void 0:Te.click_action;Pt&&(C.fcmOptions.link=Pt);const St=null===(ze=P.fcmOptions)||void 0===ze?void 0:ze.analytics_label;St&&(C.fcmOptions.analyticsLabel=St)}(P,C),P}function O(C,P){const G=[];for(let ne=0;ne<C.length;ne++)G.push(C.charAt(ne)),ne<P.length&&G.push(P.charAt(ne));return G.join("")}function ue(C){return Oi.create("missing-app-config-values",{valueName:C})}O("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),O("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class je{constructor(P,G,ne){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const he=function K(C){if(!C||!C.options)throw ue("App Configuration Object");if(!C.name)throw ue("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:G}=C;for(const ne of P)if(!G[ne])throw ue(ne);return{appName:C.name,projectId:G.projectId,apiKey:G.apiKey,appId:G.appId,senderId:G.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:he,installations:G,analyticsProvider:ne}}_delete(){return Promise.resolve()}}function Ke(C){return _t.apply(this,arguments)}function _t(){return(_t=(0,k.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Vs,{scope:Eo}),C.swRegistration.update().catch(()=>{})}catch(P){throw Oi.create("failed-service-worker-registration",{browserErrorMessage:P?.message})}})).apply(this,arguments)}function Nn(){return(Nn=(0,k.Z)(function*(C,P){if(!P&&!C.swRegistration&&(yield Ke(C)),P||!C.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw Oi.create("invalid-sw-registration");C.swRegistration=P}})).apply(this,arguments)}function zn(){return(zn=(0,k.Z)(function*(C,P){P?C.vapidKey=P:C.vapidKey||(C.vapidKey=Jo)})).apply(this,arguments)}function ln(){return ln=(0,k.Z)(function*(C,P){if(!navigator)throw Oi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Oi.create("permission-blocked");return yield function jn(C,P){return zn.apply(this,arguments)}(C,P?.vapidKey),yield function Un(C,P){return Nn.apply(this,arguments)}(C,P?.serviceWorkerRegistration),function ys(C){return ts.apply(this,arguments)}(C)}),ln.apply(this,arguments)}function js(){return(js=(0,k.Z)(function*(C,P,G){const ne=function Rt(C){switch(C){case L.NOTIFICATION_CLICKED:return"notification_open";case L.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(P);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(ne,{message_id:G[dn],message_name:G[no],message_time:G[pa],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function so(){return so=(0,k.Z)(function*(C,P){const G=P.data;if(!G.isFirebaseMessaging)return;C.onMessageHandler&&G.messageType===L.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ja(G)):C.onMessageHandler.next(ja(G)));const ne=G.data;(function $(C){return"object"==typeof C&&!!C&&dn in C})(ne)&&"1"===ne[Us]&&(yield function Sr(C,P,G){return js.apply(this,arguments)}(C,G.messageType,ne))}),so.apply(this,arguments)}const Tt="@firebase/messaging",ot=C=>{const P=new je(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",G=>function qt(C,P){return so.apply(this,arguments)}(P,G)),P},ui=C=>{const P=C.getProvider("messaging").getImmediate();return{getToken:ne=>function tt(C,P){return ln.apply(this,arguments)}(P,ne)}};function Ta(){return ba.apply(this,arguments)}function ba(){return(ba=(0,k.Z)(function*(){try{yield(0,ee.eu)()}catch{return!1}return typeof window<"u"&&(0,ee.hl)()&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ps(){(0,Ce.Xd)(new Se.wA("messaging",ot,"PUBLIC")),(0,Ce.Xd)(new Se.wA("messaging-internal",ui,"PRIVATE")),(0,Ce.KN)(Tt,"0.12.4"),(0,Ce.KN)(Tt,"0.12.4","esm2017")}();const vn="analytics",zo="firebase_id",Ro="origin",Jr=6e4,tn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sa="https://www.googletagmanager.com/gtag/js",mn=new Ve.Yd("@firebase/analytics"),Mn=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function S(C){if(!C.startsWith(Sa)){const P=Mn.create("invalid-gtag-resource",{gtagURL:C});return mn.warn(P.message),""}return C}function g(C){return Promise.all(C.map(P=>P.catch(G=>G)))}function ge(){return(ge=(0,k.Z)(function*(C,P,G,ne,he,Te){const ze=ne[he];try{if(ze)yield P[ze];else{const St=(yield g(G)).find(Ft=>Ft.measurementId===he);St&&(yield P[St.appId])}}catch(Pt){mn.error(Pt)}C("config",he,Te)})).apply(this,arguments)}function ke(){return(ke=(0,k.Z)(function*(C,P,G,ne,he){try{let Te=[];if(he&&he.send_to){let ze=he.send_to;Array.isArray(ze)||(ze=[ze]);const Pt=yield g(G);for(const St of ze){const Ft=Pt.find(On=>On.measurementId===St),bn=Ft&&P[Ft.appId];if(!bn){Te=[];break}Te.push(bn)}}0===Te.length&&(Te=Object.values(P)),yield Promise.all(Te),C("event",ne,he||{})}catch(Te){mn.error(Te)}})).apply(this,arguments)}const gn=30,yn=new class Yt{constructor(P={},G=1e3){this.throttleMetadata=P,this.intervalMillis=G}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,G){this.throttleMetadata[P]=G}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function De(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function ur(){return(ur=(0,k.Z)(function*(C){var P;const{appId:G,apiKey:ne}=C,he={method:"GET",headers:De(ne)},Te=tn.replace("{app-id}",G),ze=yield fetch(Te,he);if(200!==ze.status&&304!==ze.status){let Pt="";try{const St=yield ze.json();null!==(P=St.error)&&void 0!==P&&P.message&&(Pt=St.error.message)}catch{}throw Mn.create("config-fetch-failed",{httpStatus:ze.status,responseMessage:Pt})}return ze.json()})).apply(this,arguments)}function ki(){return(ki=(0,k.Z)(function*(C,P=yn,G){const{appId:ne,apiKey:he,measurementId:Te}=C.options;if(!ne)throw Mn.create("no-app-id");if(!he){if(Te)return{measurementId:Te,appId:ne};throw Mn.create("no-api-key")}const ze=P.getThrottleMetadata(ne)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Pt=new Io;return setTimeout((0,k.Z)(function*(){Pt.abort()}),void 0!==G?G:Jr),Ns({appId:ne,apiKey:he,measurementId:Te},ze,Pt,P)})).apply(this,arguments)}function Ns(C,P,G){return Yn.apply(this,arguments)}function Yn(){return Yn=(0,k.Z)(function*(C,{throttleEndTimeMillis:P,backoffCount:G},ne,he=yn){var Te;const{appId:ze,measurementId:Pt}=C;try{yield function li(C,P){return new Promise((G,ne)=>{const he=Math.max(P-Date.now(),0),Te=setTimeout(G,he);C.addEventListener(()=>{clearTimeout(Te),ne(Mn.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(ne,P)}catch(St){if(Pt)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pt} provided in the "measurementId" field in the local Firebase config. [${St?.message}]`),{appId:ze,measurementId:Pt};throw St}try{const St=yield function Zn(C){return ur.apply(this,arguments)}(C);return he.deleteThrottleMetadata(ze),St}catch(St){const Ft=St;if(!function Wo(C){if(!(C instanceof ee.ZR&&C.customData))return!1;const P=Number(C.customData.httpStatus);return 429===P||500===P||503===P||504===P}(Ft)){if(he.deleteThrottleMetadata(ze),Pt)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pt} provided in the "measurementId" field in the local Firebase config. [${Ft?.message}]`),{appId:ze,measurementId:Pt};throw St}const bn=503===Number(null===(Te=Ft?.customData)||void 0===Te?void 0:Te.httpStatus)?(0,ee.$s)(G,he.intervalMillis,gn):(0,ee.$s)(G,he.intervalMillis),On={throttleEndTimeMillis:Date.now()+bn,backoffCount:G+1};return he.setThrottleMetadata(ze,On),mn.debug(`Calling attemptFetch again in ${bn} millis`),Ns(C,On,ne,he)}}),Yn.apply(this,arguments)}class Io{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}let Do,oo;function Fi(){return(Fi=(0,k.Z)(function*(C,P,G,ne,he){if(he&&he.global)C("event",G,ne);else{const Te=yield P;C("event",G,Object.assign(Object.assign({},ne),{send_to:Te}))}})).apply(this,arguments)}function vs(){return(vs=(0,k.Z)(function*(){if(!(0,ee.hl)())return mn.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(C){return mn.warn(Mn.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function Co(){return Co=(0,k.Z)(function*(C,P,G,ne,he,Te,ze){var Pt;const St=function Ii(C){return ki.apply(this,arguments)}(C);St.then(ks=>{G[ks.measurementId]=ks.appId,C.options.measurementId&&ks.measurementId!==C.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${ks.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ks=>mn.error(ks)),P.push(St);const Ft=function Qu(){return vs.apply(this,arguments)}().then(ks=>{if(ks)return ne.getId()}),[bn,On]=yield Promise.all([St,Ft]);(function Ut(C){const P=window.document.getElementsByTagName("script");for(const G of Object.values(P))if(G.src&&G.src.includes(Sa)&&G.src.includes(C))return G;return null})(Te)||function x(C,P){const G=function y(C,P){let G;return window.trustedTypes&&(G=window.trustedTypes.createPolicy(C,P)),G}("firebase-js-sdk-policy",{createScriptURL:S}),ne=document.createElement("script"),he=`${Sa}?l=${C}&id=${P}`;ne.src=G?G?.createScriptURL(he):he,ne.async=!0,document.head.appendChild(ne)}(Te,bn.measurementId),oo&&(he("consent","default",oo),function Or(C){oo=C}(void 0)),he("js",new Date);const Yo=null!==(Pt=ze?.config)&&void 0!==Pt?Pt:{};return Yo[Ro]="firebase",Yo.update=!0,null!=On&&(Yo[zo]=On),he("config",bn.measurementId,Yo),Do&&(he("set",Do),function ra(C){Do=C}(void 0)),bn.measurementId}),Co.apply(this,arguments)}class Hs{constructor(P){this.app=P}_delete(){return delete E[this.app.options.appId],Promise.resolve()}}let E={},D=[];const m={};let W,J,A="dataLayer",U="gtag",be=!1;function Ot(C,P,G){!function $t(){const C=[];if((0,ee.ru)()&&C.push("This is a browser extension environment."),(0,ee.zI)()||C.push("Cookies are not available."),C.length>0){const P=C.map((ne,he)=>`(${he+1}) ${ne}`).join(" "),G=Mn.create("invalid-analytics-context",{errorInfo:P});mn.warn(G.message)}}();const ne=C.options.appId;if(!ne)throw Mn.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Mn.create("no-api-key");mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=E[ne])throw Mn.create("already-exists",{id:ne});if(!be){!function z(C){let P=[];Array.isArray(window[C])?P=window[C]:window[C]=P}(A);const{wrappedGtag:Te,gtagCore:ze}=function yt(C,P,G,ne,he){let Te=function(...ze){window[ne].push(arguments)};return window[he]&&"function"==typeof window[he]&&(Te=window[he]),window[he]=function Ze(C,P,G,ne){function Te(){return Te=(0,k.Z)(function*(ze,...Pt){try{if("event"===ze){const[St,Ft]=Pt;yield function me(C,P,G,ne,he){return ke.apply(this,arguments)}(C,P,G,St,Ft)}else if("config"===ze){const[St,Ft]=Pt;yield function te(C,P,G,ne,he,Te){return ge.apply(this,arguments)}(C,P,G,ne,St,Ft)}else if("consent"===ze){const[St]=Pt;C("consent","update",St)}else if("get"===ze){const[St,Ft,bn]=Pt;C("get",St,Ft,bn)}else if("set"===ze){const[St]=Pt;C("set",St)}else C(ze,...Pt)}catch(St){mn.error(St)}}),Te.apply(this,arguments)}return function he(ze){return Te.apply(this,arguments)}}(Te,C,P,G),{gtagCore:Te,wrappedGtag:window[he]}}(E,D,m,A,U);J=Te,W=ze,be=!0}return E[ne]=function Ko(C,P,G,ne,he,Te,ze){return Co.apply(this,arguments)}(C,D,m,P,W,A,G),new Hs(C)}function zr(){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,k.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}const Mu="@firebase/analytics";!function ao(){(0,Ce.Xd)(new Se.wA(vn,(P,{options:G})=>Ot(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),G),"PUBLIC")),(0,Ce.Xd)(new Se.wA("analytics-internal",function C(P){try{const G=P.getProvider(vn).getImmediate();return{logEvent:(ne,he,Te)=>function Au(C,P,G,ne){C=(0,ee.m9)(C),function cu(C,P,G,ne,he){return Fi.apply(this,arguments)}(J,E[C.app.options.appId],P,G,ne).catch(he=>mn.error(he))}(G,ne,he,Te)}}catch(G){throw Mn.create("interop-component-reg-failed",{reason:G})}},"PRIVATE")),(0,Ce.KN)(Mu,"0.10.0"),(0,Ce.KN)(Mu,"0.10.0","esm2017")}();var jc=Y(4408),ns=Y(640);const nc=new class tu extends ns.v{}(class eu extends jc.o{constructor(P,G){super(P,G),this.scheduler=P,this.work=G}schedule(P,G=0){return G>0?super.schedule(P,G):(this.delay=G,this.state=P,this.scheduler.flush(this),this)}execute(P,G){return G>0||this.closed?super.execute(P,G):this._execute(P,G)}requestAsyncId(P,G,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(P,G,ne):(P.flush(this),0)}});var hu=Y(4986),Ju=Y(9751),sa=Y(8505),va=Y(9468),rc=Y(5363);const za=new w.GfV("7.6.1"),Aa="__angularfire_symbol__analyticsIsSupportedValue",xu="__angularfire_symbol__analyticsIsSupported",Oa="__angularfire_symbol__remoteConfigIsSupportedValue",Pu="__angularfire_symbol__remoteConfigIsSupported",Wa="__angularfire_symbol__messagingIsSupportedValue",Nu="__angularfire_symbol__messagingIsSupported";function Zd(C,P,G){if(P){if(1===P.length)return P[0];const Te=P.filter(ze=>ze.app===G);if(1===Te.length)return Te[0]}return G.container.getProvider(C).getImmediate({optional:!0})}globalThis[xu]||(globalThis[xu]=zr().then(C=>globalThis[Aa]=C).catch(()=>globalThis[Aa]=!1)),globalThis[Nu]||(globalThis[Nu]=Ta().then(C=>globalThis[Wa]=C).catch(()=>globalThis[Wa]=!1)),globalThis[Pu]||(globalThis[Pu]=wa().then(C=>globalThis[Oa]=C).catch(()=>globalThis[Oa]=!1));const Yd=(C,P)=>{const G=P?[P]:(0,re.C6)(),ne=[];return G.forEach(he=>{he.container.getProvider(C).instances.forEach(ze=>{ne.includes(ze)||ne.push(ze)})}),ne};function ru(){}class pu{constructor(P,G=nc){this.zone=P,this.delegate=G}now(){return this.delegate.now()}schedule(P,G,ne){const he=this.zone;return this.delegate.schedule(function(ze){he.runGuarded(()=>{P.apply(this,[ze])})},G,ne)}}class sc{constructor(P){this.zone=P,this.task=null}call(P,G){const ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ru,{},ru,ru)),G.pipe((0,sa.b)({next:ne,complete:ne,error:ne})).subscribe(P).add(ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let oc=(()=>{class C{constructor(G){this.ngZone=G,this.outsideAngular=G.runOutsideAngular(()=>new pu(Zone.current)),this.insideAngular=G.run(()=>new pu(Zone.current,hu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(G){return new(G||C)(w.LFG(w.R0b))},C.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function iu(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Os(C){return iu().ngZone.run(()=>C())}function Bi(C){return iu(),function Ma(C){return function(G){return(G=G.lift(new sc(C.ngZone))).pipe((0,va.R)(C.outsideAngular),(0,rc.Q)(C.insideAngular))}}(iu())(C)}const vl=(C,P)=>function(){const ne=arguments;return P&&setTimeout(()=>{"scheduled"===P.state&&P.invoke()},10),Os(()=>C.apply(void 0,ne))},El=(C,P)=>function(){let G;const ne=arguments;for(let Te=0;Te<arguments.length;Te++)"function"==typeof ne[Te]&&(P&&(G||(G=Os(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ru,{},ru,ru)))),ne[Te]=vl(ne[Te],G));const he=function ac(C){return iu().ngZone.runOutsideAngular(()=>C())}(()=>C.apply(this,ne));if(!P){if(he instanceof Ju.y){const Te=iu();return he.pipe((0,va.R)(Te.outsideAngular),(0,rc.Q)(Te.insideAngular))}return Os(()=>he)}return he instanceof Ju.y?he.pipe(Bi):he instanceof Promise?Os(()=>new Promise((Te,ze)=>he.then(Pt=>Os(()=>Te(Pt)),Pt=>Os(()=>ze(Pt))))):"function"==typeof he&&G?function(){return setTimeout(()=>{G&&"scheduled"===G.state&&G.invoke()},10),he.apply(this,arguments)}:Os(()=>he)}},2090:(nn,Qe,Y)=>{Y.d(Qe,{$s:()=>Jn,BH:()=>He,L:()=>Be,LL:()=>Zt,Pz:()=>ht,US:()=>Se,ZR:()=>Vn,aH:()=>Oe,b$:()=>rn,eu:()=>pt,hl:()=>ft,m9:()=>Nr,ne:()=>un,pd:()=>qi,q4:()=>Wn,ru:()=>jt,tV:()=>ie,uI:()=>vt,vZ:()=>Zr,w1:()=>Ge,xO:()=>ss,xb:()=>cn,z$:()=>At,zI:()=>sn,zd:()=>Gt});const Ce=function(fe){const le=[];let we=0;for(let Ye=0;Ye<fe.length;Ye++){let Re=fe.charCodeAt(Ye);Re<128?le[we++]=Re:Re<2048?(le[we++]=Re>>6|192,le[we++]=63&Re|128):55296==(64512&Re)&&Ye+1<fe.length&&56320==(64512&fe.charCodeAt(Ye+1))?(Re=65536+((1023&Re)<<10)+(1023&fe.charCodeAt(++Ye)),le[we++]=Re>>18|240,le[we++]=Re>>12&63|128,le[we++]=Re>>6&63|128,le[we++]=63&Re|128):(le[we++]=Re>>12|224,le[we++]=Re>>6&63|128,le[we++]=63&Re|128)}return le},Se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(fe,le){if(!Array.isArray(fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const we=le?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ye=[];for(let Re=0;Re<fe.length;Re+=3){const bt=fe[Re],Ee=Re+1<fe.length,pe=Ee?fe[Re+1]:0,se=Re+2<fe.length,ve=se?fe[Re+2]:0;let We=(15&pe)<<2|ve>>6,Mt=63&ve;se||(Mt=64,Ee||(We=64)),Ye.push(we[bt>>2],we[(3&bt)<<4|pe>>4],we[We],we[Mt])}return Ye.join("")},encodeString(fe,le){return this.HAS_NATIVE_SUPPORT&&!le?btoa(fe):this.encodeByteArray(Ce(fe),le)},decodeString(fe,le){return this.HAS_NATIVE_SUPPORT&&!le?atob(fe):function(fe){const le=[];let we=0,Ye=0;for(;we<fe.length;){const Re=fe[we++];if(Re<128)le[Ye++]=String.fromCharCode(Re);else if(Re>191&&Re<224){const bt=fe[we++];le[Ye++]=String.fromCharCode((31&Re)<<6|63&bt)}else if(Re>239&&Re<365){const se=((7&Re)<<18|(63&fe[we++])<<12|(63&fe[we++])<<6|63&fe[we++])-65536;le[Ye++]=String.fromCharCode(55296+(se>>10)),le[Ye++]=String.fromCharCode(56320+(1023&se))}else{const bt=fe[we++],Ee=fe[we++];le[Ye++]=String.fromCharCode((15&Re)<<12|(63&bt)<<6|63&Ee)}}return le.join("")}(this.decodeStringToByteArray(fe,le))},decodeStringToByteArray(fe,le){this.init_();const we=le?this.charToByteMapWebSafe_:this.charToByteMap_,Ye=[];for(let Re=0;Re<fe.length;){const bt=we[fe.charAt(Re++)],pe=Re<fe.length?we[fe.charAt(Re)]:0;++Re;const ve=Re<fe.length?we[fe.charAt(Re)]:64;++Re;const Ne=Re<fe.length?we[fe.charAt(Re)]:64;if(++Re,null==bt||null==pe||null==ve||null==Ne)throw new Ve;Ye.push(bt<<2|pe>>4),64!==ve&&(Ye.push(pe<<4&240|ve>>2),64!==Ne&&Ye.push(ve<<6&192|Ne))}return Ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let fe=0;fe<this.ENCODED_VALS.length;fe++)this.byteToCharMap_[fe]=this.ENCODED_VALS.charAt(fe),this.charToByteMap_[this.byteToCharMap_[fe]]=fe,this.byteToCharMapWebSafe_[fe]=this.ENCODED_VALS_WEBSAFE.charAt(fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fe]]=fe,fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fe)]=fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fe)]=fe)}}};class Ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Be=function(fe){return function(fe){const le=Ce(fe);return Se.encodeByteArray(le,!0)}(fe).replace(/\./g,"")},ie=function(fe){try{return Se.decodeString(fe,!0)}catch(le){console.error("base64Decode failed: ",le)}return null},Vt=()=>{try{return function st(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const fe=process.env.__FIREBASE_DEFAULTS__;return fe?JSON.parse(fe):void 0})()||(()=>{if(typeof document>"u")return;let fe;try{fe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const le=fe&&ie(fe[1]);return le&&JSON.parse(le)})()}catch(fe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${fe}`)}},Wn=fe=>{var le,we;return null===(we=null===(le=Vt())||void 0===le?void 0:le.emulatorHosts)||void 0===we?void 0:we[fe]},Oe=()=>{var fe;return null===(fe=Vt())||void 0===fe?void 0:fe.config},ht=fe=>{var le;return null===(le=Vt())||void 0===le?void 0:le[`_${fe}`]};class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((le,we)=>{this.resolve=le,this.reject=we})}wrapCallback(le){return(we,Ye)=>{we?this.reject(we):this.resolve(Ye),"function"==typeof le&&(this.promise.catch(()=>{}),1===le.length?le(we):le(we,Ye))}}}function At(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function vt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function jt(){const fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fe&&void 0!==fe.id}function rn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ge(){const fe=At();return fe.indexOf("MSIE ")>=0||fe.indexOf("Trident/")>=0}function ft(){try{return"object"==typeof indexedDB}catch{return!1}}function pt(){return new Promise((fe,le)=>{try{let we=!0;const Ye="validate-browser-context-for-indexeddb-analytics-module",Re=self.indexedDB.open(Ye);Re.onsuccess=()=>{Re.result.close(),we||self.indexedDB.deleteDatabase(Ye),fe(!0)},Re.onupgradeneeded=()=>{we=!1},Re.onerror=()=>{var bt;le((null===(bt=Re.error)||void 0===bt?void 0:bt.message)||"")}}catch(we){le(we)}})}function sn(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Vn extends Error{constructor(le,we,Ye){super(we),this.code=le,this.customData=Ye,this.name="FirebaseError",Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zt.prototype.create)}}class Zt{constructor(le,we,Ye){this.service=le,this.serviceName=we,this.errors=Ye}create(le,...we){const Ye=we[0]||{},Re=`${this.service}/${le}`,bt=this.errors[le],Ee=bt?function Ht(fe,le){return fe.replace(xt,(we,Ye)=>{const Re=le[Ye];return null!=Re?String(Re):`<${Ye}?>`})}(bt,Ye):"Error";return new Vn(Re,`${this.serviceName}: ${Ee} (${Re}).`,Ye)}}const xt=/\{\$([^}]+)}/g;function cn(fe){for(const le in fe)if(Object.prototype.hasOwnProperty.call(fe,le))return!1;return!0}function Zr(fe,le){if(fe===le)return!0;const we=Object.keys(fe),Ye=Object.keys(le);for(const Re of we){if(!Ye.includes(Re))return!1;const bt=fe[Re],Ee=le[Re];if(qn(bt)&&qn(Ee)){if(!Zr(bt,Ee))return!1}else if(bt!==Ee)return!1}for(const Re of Ye)if(!we.includes(Re))return!1;return!0}function qn(fe){return null!==fe&&"object"==typeof fe}function ss(fe){const le=[];for(const[we,Ye]of Object.entries(fe))Array.isArray(Ye)?Ye.forEach(Re=>{le.push(encodeURIComponent(we)+"="+encodeURIComponent(Re))}):le.push(encodeURIComponent(we)+"="+encodeURIComponent(Ye));return le.length?"&"+le.join("&"):""}function Gt(fe){const le={};return fe.replace(/^\?/,"").split("&").forEach(Ye=>{if(Ye){const[Re,bt]=Ye.split("=");le[decodeURIComponent(Re)]=decodeURIComponent(bt)}}),le}function qi(fe){const le=fe.indexOf("?");if(!le)return"";const we=fe.indexOf("#",le);return fe.substring(le,we>0?we:void 0)}function un(fe,le){const we=new Wt(fe,le);return we.subscribe.bind(we)}class Wt{constructor(le,we){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=we,this.task.then(()=>{le(this)}).catch(Ye=>{this.error(Ye)})}next(le){this.forEachObserver(we=>{we.next(le)})}error(le){this.forEachObserver(we=>{we.error(le)}),this.close(le)}complete(){this.forEachObserver(le=>{le.complete()}),this.close()}subscribe(le,we,Ye){let Re;if(void 0===le&&void 0===we&&void 0===Ye)throw new Error("Missing Observer.");Re=function Gn(fe,le){if("object"!=typeof fe||null===fe)return!1;for(const we of le)if(we in fe&&"function"==typeof fe[we])return!0;return!1}(le,["next","error","complete"])?le:{next:le,error:we,complete:Ye},void 0===Re.next&&(Re.next=ei),void 0===Re.error&&(Re.error=ei),void 0===Re.complete&&(Re.complete=ei);const bt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Re.error(this.finalError):Re.complete()}catch{}}),this.observers.push(Re),bt}unsubscribeOne(le){void 0===this.observers||void 0===this.observers[le]||(delete this.observers[le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(le){if(!this.finalized)for(let we=0;we<this.observers.length;we++)this.sendOne(we,le)}sendOne(le,we){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[le])try{we(this.observers[le])}catch(Ye){typeof console<"u"&&console.error&&console.error(Ye)}})}close(le){this.finalized||(this.finalized=!0,void 0!==le&&(this.finalError=le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ei(){}const nr=1e3,Lr=2,en=144e5,fi=.5;function Jn(fe,le=nr,we=Lr){const Ye=le*Math.pow(we,fe),Re=Math.round(fi*Ye*(Math.random()-.5)*2);return Math.min(en,Ye+Re)}function Nr(fe){return fe&&fe._delegate?fe._delegate:fe}},5963:(nn,Qe,Y)=>{var w=Y(1481),re=Y(5912),k=Y(1571),Ce=Y(5861),ee=Y(5465),Se=Y(3562),Ve=Y(1135),ce=Y(5698);let Be=(()=>{class S{constructor(y,x,z){this.auth=y,this.router=x,this.fs=z,this.logged$=new Ve.X(!1),this.guildName$=new Ve.X("")}login(y,x){var z=this;return(0,Ce.Z)(function*(){const te=yield(0,ee.e5)(z.auth,y,x);return z.logged$.next(!!te.user.uid),z.router.navigateByUrl("/administration/raid-settings"),te})()}register(y){var x=this;return(0,Ce.Z)(function*(){const{email:z,password:te,guildMaster:ge,guildName:me,nick:ke}=y,Ze=yield(0,ee.Xb)(x.auth,z,te),yt=Ze.user.uid;let Ut;return ge?(Ut=yield x.createGuild(yt,me),x.addNewUser(yt,ge,ke,Ut.id)):x.joinGuild(me).pipe((0,ce.q)(1)).subscribe(gn=>{const xn=gn[0].documentId;x.addNewUser(yt,ge,ke,xn),(0,Se.r7)((0,Se.JU)(x.fs,"guilds",xn),{members:[...gn[0].members,yt]})}),x.login(z,te).then(()=>{x.guildName$.next(me)}),Ze})()}createGuild(y,x){var z=this;return(0,Ce.Z)(function*(){return(0,Se.ET)((0,Se.hJ)(z.fs,"guilds"),{createdAt:new Date,guildMaster:y,guildName:x,members:[y]})})()}joinGuild(y){return(0,Se.BS)((0,Se.IO)((0,Se.hJ)(this.fs,"guilds"),(0,Se.ar)("guildName","==",y)))}addNewUser(y,x,z,te){return(0,Se.pl)((0,Se.JU)(this.fs,"users",y),{guildMaster:x,nick:z,guildId:te})}isLogged(){return(0,ee.Aj)(this.auth,y=>{y&&(this.logged$.next(!0),this.guildName(y.uid)),this.router.getCurrentNavigation()||this.router.navigateByUrl("/dashboard")}),this.logged$}guildName(y){return(0,Se.QT)((0,Se.JU)(this.fs,"guilds",y)).then(x=>{console.log(x)})}logout(){this.auth.signOut(),this.router.navigateByUrl("/login")}}return S.\u0275fac=function(y){return new(y||S)(k.LFG(ee.gx),k.LFG(re.F0),k.LFG(Se.gg))},S.\u0275prov=k.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();var ie=Y(6895),ye=Y(4004);const xe=[{name:"Dashboard",visible:!0,path:"dashboard",expanded:!1,active:!0},{name:"Progress",visible:!0,path:"progress",expanded:!1,active:!1,submenus:[{name:"Individual",path:"individual",visible:!0},{name:"Global",path:"global",visible:!0}]},{name:"Raids",visible:!0,path:"raids",expanded:!1,active:!0},{name:"Administration",visible:!0,path:"administration",expanded:!0,active:!1,submenus:[{name:"Raid settings",path:"raid-settings",visible:!0},{name:"Game specification",path:"game-specification",visible:!0},{name:"Member list",path:"member-list",visible:!0}]}],rt=[{name:"Dashboard",visible:!0,path:"dashboard",expanded:!1,active:!0},{name:"Progress",visible:!0,path:"progress",expanded:!1,active:!1,submenus:[{name:"Individual",path:"individual",visible:!0},{name:"Global",path:"global",visible:!0}]},{name:"Raids",visible:!0,path:"raids",expanded:!1,active:!0},{name:"Administration",visible:!1,path:"administration",expanded:!0,active:!1,submenus:[{name:"Raid settings",path:"raid-settings",visible:!0},{name:"Game specification",path:"game-specification",visible:!0},{name:"Member list",path:"member-list",visible:!0}]}];function st(S,g){if(1&S){const y=k.EpF();k.ynx(0),k.TgZ(1,"button",7),k.NdJ("click",function(){k.CHM(y);const z=k.oxw(2).$implicit;return k.KtG(z.expanded=!z.expanded)}),k._uU(2),k.qZA(),k.BQk()}if(2&S){const y=k.oxw(2).$implicit;k.xp6(1),k.MGl("routerLink","/",y.path,""),k.xp6(1),k.Oqu(y.name)}}function gt(S,g){if(1&S){const y=k.EpF();k.TgZ(0,"button",8),k.NdJ("click",function(){k.CHM(y);const z=k.oxw(2).$implicit;return k.KtG(z.expanded=!z.expanded)}),k._uU(1),k.qZA()}if(2&S){const y=k.oxw(2).$implicit;k.xp6(1),k.Oqu(y.name)}}function mt(S,g){if(1&S&&(k.TgZ(0,"li",11)(1,"a",12),k._uU(2),k.qZA()()),2&S){const y=k.oxw().$implicit,x=k.oxw(2).$implicit;k.xp6(1),k.hYB("routerLink","/",x.path,"/",y.path,""),k.xp6(1),k.hij(" ",y.name," ")}}const fn=function(S){return{display:S}};function Vt(S,g){if(1&S&&(k.TgZ(0,"div",9),k.YNc(1,mt,3,3,"li",10),k.qZA()),2&S){const y=g.$implicit,x=k.oxw(2).$implicit;k.Q6J("ngStyle",k.VKq(2,fn,x.expanded?"":"none")),k.xp6(1),k.Q6J("ngIf",y.visible)}}function Wn(S,g){if(1&S&&(k.TgZ(0,"div",3),k.YNc(1,st,3,2,"ng-container",4),k.YNc(2,gt,2,1,"ng-template",null,5,k.W1O),k.YNc(4,Vt,2,4,"div",6),k.qZA()),2&S){const y=k.MAs(3),x=k.oxw().$implicit;k.xp6(1),k.Q6J("ngIf",x.active)("ngIfElse",y),k.xp6(3),k.Q6J("ngForOf",x.submenus)}}function wn(S,g){if(1&S&&(k.TgZ(0,"ul",1),k.YNc(1,Wn,5,3,"div",2),k.qZA()),2&S){const y=g.$implicit;k.xp6(1),k.Q6J("ngIf",y.visible)}}let Oe=(()=>{class S{constructor(y,x){this.auth=y,this.fs=x,this.activeLinks=rt,this.getUser()}getUser(){(0,Se.BS)((0,Se.IO)((0,Se.hJ)(this.fs,"users"),(0,Se.ar)((0,Se.Jm)(),"==",this.auth.currentUser?.uid))).pipe((0,ce.q)(1),(0,ye.U)(y=>y[0])).subscribe(y=>{console.log(y),y.guildMaster&&(this.activeLinks=xe)})}}return S.\u0275fac=function(y){return new(y||S)(k.Y36(ee.gx),k.Y36(Se.gg))},S.\u0275cmp=k.Xpm({type:S,selectors:[["app-nav"]],decls:1,vars:1,consts:[["class","nav",4,"ngFor","ngForOf"],[1,"nav"],["class","nav__link",4,"ngIf"],[1,"nav__link"],[4,"ngIf","ngIfElse"],["noActive",""],[3,"ngStyle",4,"ngFor","ngForOf"],[1,"nav__main_menu",3,"routerLink","click"],[1,"nav__main_menu",3,"click"],[3,"ngStyle"],["class","nav__link_submenu",4,"ngIf"],[1,"nav__link_submenu"],["routerLinkActive","active",1,"nav__link_submenu_link",3,"routerLink"]],template:function(y,x){1&y&&k.YNc(0,wn,2,1,"ul",0),2&y&&k.Q6J("ngForOf",x.activeLinks)},dependencies:[ie.sg,ie.O5,ie.PC,re.rH,re.Od],styles:[".nav[_ngcontent-%COMP%]{background-color:#00517c;padding:0 5px 1px;min-width:250px}.nav__main_menu[_ngcontent-%COMP%]{text-align:left;width:100%;padding:5px 10px;background-color:#00517c;color:#fff;cursor:pointer}.nav__link_submenu[_ngcontent-%COMP%]{margin-bottom:5px}.nav__link_submenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;background-color:#009df1;padding:5px 10px}.nav__link_submenu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#0072af}.nav__link_submenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0275b3}.nav__link_submenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:checked{background-color:#00f}button[_ngcontent-%COMP%]{border-style:none}"]}),S})(),ht=(()=>{class S{constructor(y){this.authService=y,this.userName="test"}logout(){this.authService.logout()}}return S.\u0275fac=function(y){return new(y||S)(k.Y36(Be))},S.\u0275cmp=k.Xpm({type:S,selectors:[["app-my-profile"]],decls:9,vars:1,consts:[[1,"my-profile"],["routerLink","add-character"],["routerLink","character-list"],[3,"click"]],template:function(y,x){1&y&&(k.TgZ(0,"div",0)(1,"h2"),k._uU(2),k.qZA(),k.TgZ(3,"button",1),k._uU(4,"Add Character"),k.qZA(),k.TgZ(5,"button",2),k._uU(6,"Character List"),k.qZA(),k.TgZ(7,"button",3),k.NdJ("click",function(){return x.logout()}),k._uU(8,"Logout"),k.qZA()()),2&y&&(k.xp6(2),k.Oqu(x.userName))},dependencies:[re.rH],styles:[".my-profile[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:150px;background-color:#00517c;padding:5px;gap:5px}.my-profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff}.my-profile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-style:none;cursor:pointer;display:block;color:#fff;background-color:#009df1;padding:5px 10px}.my-profile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0275b3}"]}),S})();function He(S,g){1&S&&k._UZ(0,"app-nav")}function ct(S,g){1&S&&(k.TgZ(0,"div",2)(1,"h1"),k._uU(2,"Guild Raiding App"),k.qZA(),k.TgZ(3,"div",3)(4,"button",4),k._uU(5,"Login"),k.qZA(),k.TgZ(6,"button",5),k._uU(7,"Register"),k.qZA()()())}function At(S,g){1&S&&k._UZ(0,"app-my-profile")}let vt=(()=>{class S{constructor(y){this.auth=y,this.isLogged$=this.auth.isLogged()}}return S.\u0275fac=function(y){return new(y||S)(k.Y36(Be))},S.\u0275cmp=k.Xpm({type:S,selectors:[["app-root"]],decls:7,vars:9,consts:[[4,"ngIf"],["class","my-profile",4,"ngIf"],[1,"my-profile"],[1,"buttons"],["routerLink","login","routerLinkActive","active"],["routerLink","register","routerLinkActive","active"]],template:function(y,x){1&y&&(k.YNc(0,He,1,0,"app-nav",0),k.ALo(1,"async"),k._UZ(2,"router-outlet"),k.YNc(3,ct,8,0,"div",1),k.ALo(4,"async"),k.YNc(5,At,1,0,"app-my-profile",0),k.ALo(6,"async")),2&y&&(k.Q6J("ngIf",k.lcZ(1,3,x.isLogged$)),k.xp6(3),k.Q6J("ngIf",!k.lcZ(4,5,x.isLogged$)),k.xp6(2),k.Q6J("ngIf",k.lcZ(6,7,x.isLogged$)))},dependencies:[ie.O5,Oe,ht,re.lC,re.rH,re.Od,ie.Ov],styles:["[_nghost-%COMP%]{display:flex}.my-profile[_ngcontent-%COMP%]{position:absolute;right:0;display:flex;width:100%;justify-content:center;align-items:center;min-width:150px;background-color:#00517c;padding:5px;gap:5px}.my-profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff}.my-profile[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:5px;position:absolute;right:10px}.my-profile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff}.my-profile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-style:none;cursor:pointer;display:block;color:#fff;background-color:#009df1;padding:5px 10px}.my-profile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0275b3}"]}),S})(),pn=(()=>{class S{constructor(y,x){this.router=y,this.auth=x}canActivate(y,x){return(0,ee.fD)(this.auth).pipe((0,ye.U)(z=>!!z||(this.router.navigate(["/login"]),!1)))}}return S.\u0275fac=function(y){return new(y||S)(k.LFG(re.F0),k.LFG(ee.gx))},S.\u0275prov=k.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const Sn=[{path:"administration",children:[{path:"game-specification",loadChildren:()=>Y.e(469).then(Y.bind(Y,3469)).then(S=>S.GameSpecificationModule)},{path:"member-list",loadChildren:()=>Y.e(401).then(Y.bind(Y,7401)).then(S=>S.MemberListnModule)},{path:"raid-settings",loadChildren:()=>Y.e(496).then(Y.bind(Y,3496)).then(S=>S.RaidSettingsModule)},{path:"",pathMatch:"full",redirectTo:"member-list"},{path:"**",redirectTo:"member-list"}],canActivate:[pn]}];let jt=(()=>{class S{}return S.\u0275fac=function(y){return new(y||S)},S.\u0275mod=k.oAB({type:S}),S.\u0275inj=k.cJS({imports:[re.Bz.forChild(Sn)]}),S})();const rn_firebase={projectId:"guild-raid-app",appId:"1:385457201811:web:5ea1522a00f0976d16e366",databaseURL:"https://guild-raid-app-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"guild-raid-app.appspot.com",apiKey:"AIzaSyBz1Sjy3FGfhGL45XcKOd4UNF5eXAkdNrA",authDomain:"guild-raid-app.firebaseapp.com",messagingSenderId:"385457201811",measurementId:"G-T8Y3VKCKGL"};var dt=Y(3692);let Ge=(()=>{class S{constructor(y){this.authService=y}ngOnInit(){}}return S.\u0275fac=function(y){return new(y||S)(k.Y36(Be))},S.\u0275cmp=k.Xpm({type:S,selectors:[["app-auth"]],decls:1,vars:0,template:function(y,x){1&y&&k._UZ(0,"router-outlet")},dependencies:[re.lC]}),S})();var Ae=Y(433);function nt(S,g){1&S&&(k.TgZ(0,"p",12),k._uU(1,"Nick is taken! Try other."),k.qZA())}function ft(S,g){1&S&&(k.TgZ(0,"p",12),k._uU(1,"Nick is to short! At leat 3 chars."),k.qZA())}function pt(S,g){if(1&S&&(k.ynx(0),k.YNc(1,nt,2,0,"p",4),k.YNc(2,ft,2,0,"p",4),k.BQk()),2&S){const y=k.oxw();k.xp6(1),k.Q6J("ngIf",y.registerFormControl.nick.hasError("required")),k.xp6(1),k.Q6J("ngIf",y.registerFormControl.nick.touched&&y.registerFormControl.nick.hasError("minlength"))}}function sn(S,g){1&S&&(k.TgZ(0,"p",12),k._uU(1,"Email required!"),k.qZA())}function kn(S,g){1&S&&(k.TgZ(0,"p",12),k._uU(1,"Wrong format!"),k.qZA())}function Vn(S,g){if(1&S&&(k.ynx(0),k.YNc(1,sn,2,0,"p",4),k.YNc(2,kn,2,0,"p",4),k.BQk()),2&S){const y=k.oxw();k.xp6(1),k.Q6J("ngIf",y.registerFormControl.email.hasError("required")),k.xp6(1),k.Q6J("ngIf",y.registerFormControl.email.hasError("pattern")&&y.registerFormControl.email.touched)}}function Zt(S,g){1&S&&(k.TgZ(0,"p",12),k._uU(1,"Email is already used! Try other."),k.qZA())}function Ht(S,g){1&S&&(k.TgZ(0,"p",12),k._uU(1,"Type password!"),k.qZA())}function xt(S,g){1&S&&(k.TgZ(0,"p",12),k._uU(1,"Password is to short! At leat 6 chars."),k.qZA())}function Hn(S,g){if(1&S&&(k.ynx(0),k.YNc(1,Ht,2,0,"p",4),k.YNc(2,xt,2,0,"p",4),k.BQk()),2&S){const y=k.oxw();k.xp6(1),k.Q6J("ngIf",y.registerFormControl.password.hasError("required")),k.xp6(1),k.Q6J("ngIf",y.registerFormControl.password.hasError("minlength"))}}function Kr(S,g){1&S&&(k.TgZ(0,"p",12),k._uU(1,"Type guild name!"),k.qZA())}function Tr(S,g){if(1&S&&(k.ynx(0),k.YNc(1,Kr,2,0,"p",4),k.BQk()),2&S){const y=k.oxw();k.xp6(1),k.Q6J("ngIf",y.registerFormControl.guildName.hasError("required"))}}const Ci=[{path:"",component:Ge,children:[{path:"login",component:(()=>{class S{constructor(y,x){this.authService=y,this.fb=x,this.form=this.fb.group({email:["",Ae.kI.required],password:["",Ae.kI.required]})}login(){if(this.form.valid){const{email:y,password:x}=this.form.getRawValue();this.authService.login(y,x)}}}return S.\u0275fac=function(y){return new(y||S)(k.Y36(Be),k.Y36(Ae.j3))},S.\u0275cmp=k.Xpm({type:S,selectors:[["app-login"]],decls:5,vars:1,consts:[[3,"formGroup","ngSubmit"],["type","email","placeholder","Enter your email","formControlName","email"],["type","password","placeholder","Enter your password","formControlName","password"],["type","submit"]],template:function(y,x){1&y&&(k.TgZ(0,"form",0),k.NdJ("ngSubmit",function(){return x.login()}),k._UZ(1,"input",1)(2,"input",2),k.TgZ(3,"button",3),k._uU(4,"Login"),k.qZA()()),2&y&&k.Q6J("formGroup",x.form)},dependencies:[Ae._Y,Ae.Fj,Ae.JJ,Ae.JL,Ae.sg,Ae.u],styles:["form[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;min-width:150px;background-color:#00517c;padding:5px;gap:5px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-style:none;cursor:pointer;display:block;color:#fff;background-color:#009df1;padding:5px 10px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0275b3}"]}),S})()},{path:"register",component:(()=>{class S{constructor(y,x){this.fb=y,this.authService=x,this.form=this.fb.group({nick:["",[Ae.kI.required,Ae.kI.minLength(3)]],email:["",[Ae.kI.required,Ae.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",[Ae.kI.required,Ae.kI.minLength(6)]],guildMaster:!0,guildName:["",[Ae.kI.required]]}),this.showPassword=!1,this.emailAlreadyExist=!1,console.log(this.registerFormControl.email)}get registerFormControl(){return this.form.controls}onSubmit(){this.form.valid&&this.authService.register(this.form.getRawValue()).then(y=>{}).catch(()=>{this.emailAlreadyExist=!0;const y=setTimeout(()=>{this.emailAlreadyExist=!1,this.form.get("email")?.setValue(""),clearTimeout(y)},3e3)})}}return S.\u0275fac=function(y){return new(y||S)(k.Y36(Ae.j3),k.Y36(Be))},S.\u0275cmp=k.Xpm({type:S,selectors:[["app-register"]],decls:24,vars:11,consts:[[3,"formGroup","ngSubmit"],["type","text","placeholder","Nick","formControlName","nick"],[4,"ngIf"],["type","email","placeholder","Email","formControlName","email"],["class","text-danger",4,"ngIf"],["placeholder","Password","formControlName","password",3,"type"],[1,"show-pw"],["type","checkbox",3,"value","change"],[1,"master-check"],["type","radio","name","guildMaster","formControlName","guildMaster",3,"value"],["type","text","placeholder","Guild name","formControlName","guildName"],["type","submit",3,"disabled"],[1,"text-danger"]],template:function(y,x){1&y&&(k.TgZ(0,"form",0),k.NdJ("ngSubmit",function(){return x.onSubmit()}),k._UZ(1,"input",1),k.YNc(2,pt,3,2,"ng-container",2),k._UZ(3,"input",3),k.YNc(4,Vn,3,2,"ng-container",2),k.YNc(5,Zt,2,0,"p",4),k._UZ(6,"input",5),k.YNc(7,Hn,3,2,"ng-container",2),k.TgZ(8,"label",6),k._uU(9,"Show password "),k.TgZ(10,"input",7),k.NdJ("change",function(){return x.showPassword=!x.showPassword}),k.qZA()(),k.TgZ(11,"div",8)(12,"label"),k._UZ(13,"input",9),k.TgZ(14,"span"),k._uU(15,"Create Guild"),k.qZA()(),k.TgZ(16,"label"),k._UZ(17,"input",9),k.TgZ(18,"span"),k._uU(19,"Join Guild"),k.qZA()()(),k._UZ(20,"input",10),k.YNc(21,Tr,2,1,"ng-container",2),k.TgZ(22,"button",11),k._uU(23,"Register"),k.qZA()()),2&y&&(k.Q6J("formGroup",x.form),k.xp6(2),k.Q6J("ngIf",x.registerFormControl.nick.invalid&&x.registerFormControl.nick.touched||x.registerFormControl.nick.dirty),k.xp6(2),k.Q6J("ngIf",x.registerFormControl.email.invalid&&x.registerFormControl.email.touched||x.registerFormControl.email.dirty),k.xp6(1),k.Q6J("ngIf",x.emailAlreadyExist),k.xp6(1),k.Q6J("type",x.showPassword?"text":"password"),k.xp6(1),k.Q6J("ngIf",x.registerFormControl.password.invalid&&x.registerFormControl.password.touched||x.registerFormControl.password.dirty),k.xp6(3),k.Q6J("value",x.showPassword),k.xp6(3),k.Q6J("value",!0),k.xp6(4),k.Q6J("value",!1),k.xp6(4),k.Q6J("ngIf",x.registerFormControl.guildName.invalid&&x.registerFormControl.guildName.touched||x.registerFormControl.guildName.dirty),k.xp6(1),k.Q6J("disabled",!x.form.valid))},dependencies:[Ae._Y,Ae.Fj,Ae._,Ae.JJ,Ae.JL,Ae.sg,Ae.u,ie.O5],styles:["form[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;min-width:150px;background-color:#00517c;padding:5px;gap:5px}form[_ngcontent-%COMP%]   .master-check[_ngcontent-%COMP%]{display:flex;gap:5px}form[_ngcontent-%COMP%]   .master-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}form[_ngcontent-%COMP%]   .master-check[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{color:#fff;background-color:#009df1}form[_ngcontent-%COMP%]   .master-check[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:hover{background-color:#0275b3}form[_ngcontent-%COMP%]   .master-check[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:checked{background-color:#00a6ff}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;display:block;text-align:center;background-color:#0072af;cursor:pointer}form[_ngcontent-%COMP%]   .show-pw[_ngcontent-%COMP%]{text-align:center;color:#fff}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-style:none;cursor:pointer;display:block;color:#fff;background-color:#009df1;padding:5px 10px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0275b3}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#0275b3;cursor:inherit}form[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:red;font-size:small}"]}),S})()}]}];let Pr=(()=>{class S{}return S.\u0275fac=function(y){return new(y||S)},S.\u0275mod=k.oAB({type:S}),S.\u0275inj=k.cJS({providers:[Be],imports:[re.Bz.forChild(Ci),Ae.UX,ie.ez]}),S})();const Zr=[{path:"add-character",component:(()=>{class S{}return S.\u0275fac=function(y){return new(y||S)},S.\u0275cmp=k.Xpm({type:S,selectors:[["app-add-character"]],decls:6,vars:0,consts:[["type","text","placeholder","Character name"],["type","text","placeholder","Level"],["type","text","placeholder","Gear score"],["type","text","placeholder","Role"],["type","text","placeholder","Specyfication"]],template:function(y,x){1&y&&(k.TgZ(0,"form"),k._UZ(1,"input",0)(2,"input",1)(3,"input",2)(4,"input",3)(5,"input",4),k.qZA())},styles:["[_nghost-%COMP%]{width:100%;margin:0 20px}"]}),S})(),canActivate:[pn]},{path:"character-list",component:(()=>{class S{}return S.\u0275fac=function(y){return new(y||S)},S.\u0275cmp=k.Xpm({type:S,selectors:[["app-character-list"]],decls:2,vars:0,template:function(y,x){1&y&&(k.TgZ(0,"p"),k._uU(1,"character-list works!"),k.qZA())}}),S})(),canActivate:[pn]},{path:"dashboard",component:(()=>{class S{}return S.\u0275fac=function(y){return new(y||S)},S.\u0275cmp=k.Xpm({type:S,selectors:[["app-dashboard"]],decls:6,vars:0,consts:[["routerLink","user-panel","routerLinkActive","active"],["routerLink","guild-panel","routerLinkActive","active"]],template:function(y,x){1&y&&(k.TgZ(0,"div")(1,"button",0),k._uU(2,"User Panel"),k.qZA(),k.TgZ(3,"button",1),k._uU(4,"Guild Panel"),k.qZA()(),k._UZ(5,"router-outlet"))},dependencies:[re.lC,re.rH,re.Od],styles:["[_nghost-%COMP%]{width:100%}"]}),S})(),children:[{path:"user-panel",component:(()=>{class S{}return S.\u0275fac=function(y){return new(y||S)},S.\u0275cmp=k.Xpm({type:S,selectors:[["app-user-panel"]],decls:2,vars:0,template:function(y,x){1&y&&(k.TgZ(0,"p"),k._uU(1,"user-panel works!"),k.qZA())}}),S})()},{path:"guild-panel",component:(()=>{class S{}return S.\u0275fac=function(y){return new(y||S)},S.\u0275cmp=k.Xpm({type:S,selectors:[["app-guild-panel"]],decls:2,vars:0,template:function(y,x){1&y&&(k.TgZ(0,"p"),k._uU(1,"guild-panel works!"),k.qZA())}}),S})()},{path:"",pathMatch:"full",redirectTo:"user-panel"}],canActivate:[pn]}];let qn=(()=>{class S{}return S.\u0275fac=function(y){return new(y||S)},S.\u0275mod=k.oAB({type:S}),S.\u0275inj=k.cJS({providers:[pn],imports:[ie.ez,re.Bz.forChild(Zr)]}),S})();const ss=[{path:"raids",component:(()=>{class S{}return S.\u0275fac=function(y){return new(y||S)},S.\u0275cmp=k.Xpm({type:S,selectors:[["app-raids"]],decls:2,vars:0,template:function(y,x){1&y&&(k.TgZ(0,"p"),k._uU(1,"raids works!"),k.qZA())}}),S})()}];let Gt=(()=>{class S{}return S.\u0275fac=function(y){return new(y||S)},S.\u0275mod=k.oAB({type:S}),S.\u0275inj=k.cJS({imports:[ie.ez,re.Bz.forChild(ss)]}),S})();const qi=[{path:"progress",children:[{path:"individual",loadChildren:()=>Y.e(754).then(Y.bind(Y,3754)).then(S=>S.IndividualModule)},{path:"global",loadChildren:()=>Y.e(91).then(Y.bind(Y,7091)).then(S=>S.GlobalModule)}],canActivate:[pn]}];let Ti=(()=>{class S{}return S.\u0275fac=function(y){return new(y||S)},S.\u0275mod=k.oAB({type:S}),S.\u0275inj=k.cJS({imports:[ie.ez,re.Bz.forChild(qi)]}),S})();class un{}class Wt{}const Ct="*";function ji(S,g=null){return{type:2,steps:S,options:g}}function cr(S){return{type:6,styles:S,offset:null}}function fi(S){Promise.resolve().then(S)}class Jn{constructor(g=0,y=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=g+y}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){fi(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(g=>g()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(g){this._position=this.totalTime?g*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(g){const y="start"==g?this._onStartFns:this._onDoneFns;y.forEach(x=>x()),y.length=0}}class si{constructor(g){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=g;let y=0,x=0,z=0;const te=this.players.length;0==te?fi(()=>this._onFinish()):this.players.forEach(ge=>{ge.onDone(()=>{++y==te&&this._onFinish()}),ge.onDestroy(()=>{++x==te&&this._onDestroy()}),ge.onStart(()=>{++z==te&&this._onStart()})}),this.totalTime=this.players.reduce((ge,me)=>Math.max(ge,me.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this.players.forEach(g=>g.init())}onStart(g){this._onStartFns.push(g)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(g=>g()),this._onStartFns=[])}onDone(g){this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(g=>g.play())}pause(){this.players.forEach(g=>g.pause())}restart(){this.players.forEach(g=>g.restart())}finish(){this._onFinish(),this.players.forEach(g=>g.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(g=>g.destroy()),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}reset(){this.players.forEach(g=>g.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(g){const y=g*this.totalTime;this.players.forEach(x=>{const z=x.totalTime?Math.min(1,y/x.totalTime):1;x.setPosition(z)})}getPosition(){const g=this.players.reduce((y,x)=>null===y||x.totalTime>y.totalTime?x:y,null);return null!=g?g.getPosition():0}beforeDestroy(){this.players.forEach(g=>{g.beforeDestroy&&g.beforeDestroy()})}triggerCallback(g){const y="start"==g?this._onStartFns:this._onDoneFns;y.forEach(x=>x()),y.length=0}}const Vr="!";function fe(S){return new k.vHH(3e3,!1)}function Mr(){return typeof window<"u"&&typeof window.document<"u"}function bi(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Si(S){switch(S.length){case 0:return new Jn;case 1:return S[0];default:return new si(S)}}function Rr(S,g,y,x,z=new Map,te=new Map){const ge=[],me=[];let ke=-1,Ze=null;if(x.forEach(yt=>{const Ut=yt.get("offset"),gn=Ut==ke,xn=gn&&Ze||new Map;yt.forEach((Yt,yn)=>{let De=yn,Zn=Yt;if("offset"!==yn)switch(De=g.normalizePropertyName(De,ge),Zn){case Vr:Zn=z.get(yn);break;case Ct:Zn=te.get(yn);break;default:Zn=g.normalizeStyleValue(yn,De,Zn,ge)}xn.set(De,Zn)}),gn||me.push(xn),Ze=xn,ke=Ut}),ge.length)throw function Dr(S){return new k.vHH(3502,!1)}();return me}function Ai(S,g,y,x){switch(g){case"start":S.onStart(()=>x(y&&fr(y,"start",S)));break;case"done":S.onDone(()=>x(y&&fr(y,"done",S)));break;case"destroy":S.onDestroy(()=>x(y&&fr(y,"destroy",S)))}}function fr(S,g,y){const te=Ds(S.element,S.triggerName,S.fromState,S.toState,g||S.phaseName,y.totalTime??S.totalTime,!!y.disabled),ge=S._data;return null!=ge&&(te._data=ge),te}function Ds(S,g,y,x,z="",te=0,ge){return{element:S,triggerName:g,fromState:y,toState:x,phaseName:z,totalTime:te,disabled:!!ge}}function ni(S,g,y){let x=S.get(g);return x||S.set(g,x=y),x}function Dn(S){const g=S.indexOf(":");return[S.substring(1,g),S.slice(g+1)]}let Ki=(S,g)=>!1,Zs=(S,g,y)=>[],Yi=null;function Qi(S){const g=S.parentNode||S.host;return g===Yi?null:g}(bi()||typeof Element<"u")&&(Mr()?(Yi=(()=>document.documentElement)(),Ki=(S,g)=>{for(;g;){if(g===S)return!0;g=Qi(g)}return!1}):Ki=(S,g)=>S.contains(g),Zs=(S,g,y)=>{if(y)return Array.from(S.querySelectorAll(g));const x=S.querySelector(g);return x?[x]:[]});let Ji=null,pr=!1;const Ys=Ki,bo=Zs;let Mi=(()=>{class S{validateStyleProperty(y){return function Br(S){Ji||(Ji=function gr(){return typeof document<"u"?document.body:null}()||{},pr=!!Ji.style&&"WebkitAppearance"in Ji.style);let g=!0;return Ji.style&&!function Cr(S){return"ebkit"==S.substring(1,6)}(S)&&(g=S in Ji.style,!g&&pr&&(g="Webkit"+S.charAt(0).toUpperCase()+S.slice(1)in Ji.style)),g}(y)}matchesElement(y,x){return!1}containsElement(y,x){return Ys(y,x)}getParentElement(y){return Qi(y)}query(y,x,z){return bo(y,x,z)}computeStyle(y,x,z){return z||""}animate(y,x,z,te,ge,me=[],ke){return new Jn(z,te)}}return S.\u0275fac=function(y){return new(y||S)},S.\u0275prov=k.Yz7({token:S,factory:S.\u0275fac}),S})(),Zi=(()=>{class S{}return S.NOOP=new Mi,S})();const Gi=1e3,gi="ng-enter",zi="ng-leave",Xn="ng-trigger",xi=".ng-trigger",Cs="ng-animating",mi=".ng-animating";function Ts(S){if("number"==typeof S)return S;const g=S.match(/^(-?[\.\d]+)(m?s)/);return!g||g.length<2?0:vr(parseFloat(g[1]),g[2])}function vr(S,g){return"s"===g?S*Gi:S}function ir(S,g,y){return S.hasOwnProperty("duration")?S:function bs(S,g,y){let z,te=0,ge="";if("string"==typeof S){const me=S.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===me)return g.push(fe()),{duration:0,delay:0,easing:""};z=vr(parseFloat(me[1]),me[2]);const ke=me[3];null!=ke&&(te=vr(parseFloat(ke),me[4]));const Ze=me[5];Ze&&(ge=Ze)}else z=S;if(!y){let me=!1,ke=g.length;z<0&&(g.push(function le(){return new k.vHH(3100,!1)}()),me=!0),te<0&&(g.push(function we(){return new k.vHH(3101,!1)}()),me=!0),me&&g.splice(ke,0,fe())}return{duration:z,delay:te,easing:ge}}(S,g,y)}function us(S,g={}){return Object.keys(S).forEach(y=>{g[y]=S[y]}),g}function da(S){const g=new Map;return Object.keys(S).forEach(y=>{g.set(y,S[y])}),g}function cs(S,g=new Map,y){if(y)for(let[x,z]of y)g.set(x,z);for(let[x,z]of S)g.set(x,z);return g}function So(S,g,y){return y?g+":"+y+";":""}function ms(S){let g="";for(let y=0;y<S.style.length;y++){const x=S.style.item(y);g+=So(0,x,S.style.getPropertyValue(x))}for(const y in S.style)S.style.hasOwnProperty(y)&&!y.startsWith("_")&&(g+=So(0,ds(y),S.style[y]));S.setAttribute("style",g)}function oi(S,g,y){S.style&&(g.forEach((x,z)=>{const te=Ao(z);y&&!y.has(z)&&y.set(z,S.style[te]),S.style[te]=x}),bi()&&ms(S))}function Qs(S,g){S.style&&(g.forEach((y,x)=>{const z=Ao(x);S.style[z]=""}),bi()&&ms(S))}function mo(S){return Array.isArray(S)?1==S.length?S[0]:ji(S):S}const fa=new RegExp("{{\\s*(.+?)\\s*}}","g");function yo(S){let g=[];if("string"==typeof S){let y;for(;y=fa.exec(S);)g.push(y[1]);fa.lastIndex=0}return g}function Js(S,g,y){const x=S.toString(),z=x.replace(fa,(te,ge)=>{let me=g[ge];return null==me&&(y.push(function Re(S){return new k.vHH(3003,!1)}()),me=""),me.toString()});return z==x?S:z}function _o(S){const g=[];let y=S.next();for(;!y.done;)g.push(y.value),y=S.next();return g}const wa=/-+([a-z0-9])/g;function Ao(S){return S.replace(wa,(...g)=>g[1].toUpperCase())}function ds(S){return S.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function $r(S,g,y){switch(g.type){case 7:return S.visitTrigger(g,y);case 0:return S.visitState(g,y);case 1:return S.visitTransition(g,y);case 2:return S.visitSequence(g,y);case 3:return S.visitGroup(g,y);case 4:return S.visitAnimate(g,y);case 5:return S.visitKeyframes(g,y);case 6:return S.visitStyle(g,y);case 8:return S.visitReference(g,y);case 9:return S.visitAnimateChild(g,y);case 10:return S.visitAnimateRef(g,y);case 11:return S.visitQuery(g,y);case 12:return S.visitStagger(g,y);default:throw function bt(S){return new k.vHH(3004,!1)}()}}function Uo(S,g){return window.getComputedStyle(S)[g]}const eo="*";function br(S,g){const y=[];return"string"==typeof S?S.split(/\s*,\s*/).forEach(x=>function vi(S,g,y){if(":"==S[0]){const ke=function Pa(S,g){switch(S){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(y,x)=>parseFloat(x)>parseFloat(y);case":decrement":return(y,x)=>parseFloat(x)<parseFloat(y);default:return g.push(function on(S){return new k.vHH(3016,!1)}()),"* => *"}}(S,y);if("function"==typeof ke)return void g.push(ke);S=ke}const x=S.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==x||x.length<4)return y.push(function zt(S){return new k.vHH(3015,!1)}()),g;const z=x[1],te=x[2],ge=x[3];g.push(Ms(z,ge));"<"==te[0]&&!(z==eo&&ge==eo)&&g.push(Ms(ge,z))}(x,y,g)):y.push(S),y}const Ei=new Set(["true","1"]),Er=new Set(["false","0"]);function Ms(S,g){const y=Ei.has(S)||Er.has(S),x=Ei.has(g)||Er.has(g);return(z,te)=>{let ge=S==eo||S==z,me=g==eo||g==te;return!ge&&y&&"boolean"==typeof z&&(ge=z?Ei.has(S):Er.has(S)),!me&&x&&"boolean"==typeof te&&(me=te?Ei.has(g):Er.has(g)),ge&&me}}const Xi=new RegExp("s*:selfs*,?","g");function wi(S,g,y,x){return new ai(S).build(g,y,x)}class ai{constructor(g){this._driver=g}build(g,y,x){const z=new Jo(y);return this._resetContextStyleTimingState(z),$r(this,mo(g),z)}_resetContextStyleTimingState(g){g.currentQuerySelector="",g.collectedStyles=new Map,g.collectedStyles.set("",new Map),g.currentTime=0}visitTrigger(g,y){let x=y.queryCount=0,z=y.depCount=0;const te=[],ge=[];return"@"==g.name.charAt(0)&&y.errors.push(function pe(){return new k.vHH(3006,!1)}()),g.definitions.forEach(me=>{if(this._resetContextStyleTimingState(y),0==me.type){const ke=me,Ze=ke.name;Ze.toString().split(/\s*,\s*/).forEach(yt=>{ke.name=yt,te.push(this.visitState(ke,y))}),ke.name=Ze}else if(1==me.type){const ke=this.visitTransition(me,y);x+=ke.queryCount,z+=ke.depCount,ge.push(ke)}else y.errors.push(function se(){return new k.vHH(3007,!1)}())}),{type:7,name:g.name,states:te,transitions:ge,queryCount:x,depCount:z,options:null}}visitState(g,y){const x=this.visitStyle(g.styles,y),z=g.options&&g.options.params||null;if(x.containsDynamicStyles){const te=new Set,ge=z||{};x.styles.forEach(me=>{me instanceof Map&&me.forEach(ke=>{yo(ke).forEach(Ze=>{ge.hasOwnProperty(Ze)||te.add(Ze)})})}),te.size&&(_o(te.values()),y.errors.push(function ve(S,g){return new k.vHH(3008,!1)}()))}return{type:0,name:g.name,style:x,options:z?{params:z}:null}}visitTransition(g,y){y.queryCount=0,y.depCount=0;const x=$r(this,mo(g.animation),y);return{type:1,matchers:br(g.expr,y.errors),animation:x,queryCount:y.queryCount,depCount:y.depCount,options:no(g.options)}}visitSequence(g,y){return{type:2,steps:g.steps.map(x=>$r(this,x,y)),options:no(g.options)}}visitGroup(g,y){const x=y.currentTime;let z=0;const te=g.steps.map(ge=>{y.currentTime=x;const me=$r(this,ge,y);return z=Math.max(z,y.currentTime),me});return y.currentTime=z,{type:3,steps:te,options:no(g.options)}}visitAnimate(g,y){const x=function dn(S,g){if(S.hasOwnProperty("duration"))return S;if("number"==typeof S)return pa(ir(S,g).duration,0,"");const y=S;if(y.split(/\s+/).some(te=>"{"==te.charAt(0)&&"{"==te.charAt(1))){const te=pa(0,0,"");return te.dynamic=!0,te.strValue=y,te}const z=ir(y,g);return pa(z.duration,z.delay,z.easing)}(g.timings,y.errors);y.currentAnimateTimings=x;let z,te=g.styles?g.styles:cr({});if(5==te.type)z=this.visitKeyframes(te,y);else{let ge=g.styles,me=!1;if(!ge){me=!0;const Ze={};x.easing&&(Ze.easing=x.easing),ge=cr(Ze)}y.currentTime+=x.duration+x.delay;const ke=this.visitStyle(ge,y);ke.isEmptyStep=me,z=ke}return y.currentAnimateTimings=null,{type:4,timings:x,style:z,options:null}}visitStyle(g,y){const x=this._makeStyleAst(g,y);return this._validateStyleAst(x,y),x}_makeStyleAst(g,y){const x=[],z=Array.isArray(g.styles)?g.styles:[g.styles];for(let me of z)"string"==typeof me?me===Ct?x.push(me):y.errors.push(new k.vHH(3002,!1)):x.push(da(me));let te=!1,ge=null;return x.forEach(me=>{if(me instanceof Map&&(me.has("easing")&&(ge=me.get("easing"),me.delete("easing")),!te))for(let ke of me.values())if(ke.toString().indexOf("{{")>=0){te=!0;break}}),{type:6,styles:x,easing:ge,offset:g.offset,containsDynamicStyles:te,options:null}}_validateStyleAst(g,y){const x=y.currentAnimateTimings;let z=y.currentTime,te=y.currentTime;x&&te>0&&(te-=x.duration+x.delay),g.styles.forEach(ge=>{"string"!=typeof ge&&ge.forEach((me,ke)=>{const Ze=y.collectedStyles.get(y.currentQuerySelector),yt=Ze.get(ke);let Ut=!0;yt&&(te!=z&&te>=yt.startTime&&z<=yt.endTime&&(y.errors.push(function We(S,g,y,x,z){return new k.vHH(3010,!1)}()),Ut=!1),te=yt.startTime),Ut&&Ze.set(ke,{startTime:te,endTime:z}),y.options&&function ha(S,g,y){const x=g.params||{},z=yo(S);z.length&&z.forEach(te=>{x.hasOwnProperty(te)||y.push(function Ye(S){return new k.vHH(3001,!1)}())})}(me,y.options,y.errors)})})}visitKeyframes(g,y){const x={type:5,styles:[],options:null};if(!y.currentAnimateTimings)return y.errors.push(function Mt(){return new k.vHH(3011,!1)}()),x;let te=0;const ge=[];let me=!1,ke=!1,Ze=0;const yt=g.steps.map(Zn=>{const ur=this._makeStyleAst(Zn,y);let Ii=null!=ur.offset?ur.offset:function to(S){if("string"==typeof S)return null;let g=null;if(Array.isArray(S))S.forEach(y=>{if(y instanceof Map&&y.has("offset")){const x=y;g=parseFloat(x.get("offset")),x.delete("offset")}});else if(S instanceof Map&&S.has("offset")){const y=S;g=parseFloat(y.get("offset")),y.delete("offset")}return g}(ur.styles),ki=0;return null!=Ii&&(te++,ki=ur.offset=Ii),ke=ke||ki<0||ki>1,me=me||ki<Ze,Ze=ki,ge.push(ki),ur});ke&&y.errors.push(function Jt(){return new k.vHH(3012,!1)}()),me&&y.errors.push(function rr(){return new k.vHH(3200,!1)}());const Ut=g.steps.length;let gn=0;te>0&&te<Ut?y.errors.push(function $e(){return new k.vHH(3202,!1)}()):0==te&&(gn=1/(Ut-1));const xn=Ut-1,Yt=y.currentTime,yn=y.currentAnimateTimings,De=yn.duration;return yt.forEach((Zn,ur)=>{const Ii=gn>0?ur==xn?1:gn*ur:ge[ur],ki=Ii*De;y.currentTime=Yt+yn.delay+ki,yn.duration=ki,this._validateStyleAst(Zn,y),Zn.offset=Ii,x.styles.push(Zn)}),x}visitReference(g,y){return{type:8,animation:$r(this,mo(g.animation),y),options:no(g.options)}}visitAnimateChild(g,y){return y.depCount++,{type:9,options:no(g.options)}}visitAnimateRef(g,y){return{type:10,animation:this.visitReference(g.animation,y),options:no(g.options)}}visitQuery(g,y){const x=y.currentQuerySelector,z=g.options||{};y.queryCount++,y.currentQuery=g;const[te,ge]=function Vs(S){const g=!!S.split(/\s*,\s*/).find(y=>":self"==y);return g&&(S=S.replace(Xi,"")),S=S.replace(/@\*/g,xi).replace(/@\w+/g,y=>xi+"-"+y.slice(1)).replace(/:animating/g,mi),[S,g]}(g.selector);y.currentQuerySelector=x.length?x+" "+te:te,ni(y.collectedStyles,y.currentQuerySelector,new Map);const me=$r(this,mo(g.animation),y);return y.currentQuery=null,y.currentQuerySelector=x,{type:11,selector:te,limit:z.limit||0,optional:!!z.optional,includeSelf:ge,animation:me,originalSelector:g.selector,options:no(g.options)}}visitStagger(g,y){y.currentQuery||y.errors.push(function Me(){return new k.vHH(3013,!1)}());const x="full"===g.timings?{duration:0,delay:0,easing:"full"}:ir(g.timings,y.errors,!0);return{type:12,animation:$r(this,mo(g.animation),y),timings:x,options:null}}}class Jo{constructor(g){this.errors=g,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function no(S){return S?(S=us(S)).params&&(S.params=function Eo(S){return S?us(S):null}(S.params)):S={},S}function pa(S,g,y){return{duration:S,delay:g,easing:y}}function Us(S,g,y,x,z,te,ge=null,me=!1){return{type:1,element:S,keyframes:g,preStyleProps:y,postStyleProps:x,duration:z,delay:te,totalTime:z+te,easing:ge,subTimeline:me}}class ro{constructor(){this._map=new Map}get(g){return this._map.get(g)||[]}append(g,y){let x=this._map.get(g);x||this._map.set(g,x=[]),x.push(...y)}has(g){return this._map.has(g)}clear(){this._map.clear()}}const R=new RegExp(":enter","g"),ae=new RegExp(":leave","g");function lt(S,g,y,x,z,te=new Map,ge=new Map,me,ke,Ze=[]){return(new mr).buildKeyframes(S,g,y,x,z,te,ge,me,ke,Ze)}class mr{buildKeyframes(g,y,x,z,te,ge,me,ke,Ze,yt=[]){Ze=Ze||new ro;const Ut=new wr(g,y,Ze,z,te,yt,[]);Ut.options=ke;const gn=ke.delay?Ts(ke.delay):0;Ut.currentTimeline.delayNextStep(gn),Ut.currentTimeline.setStyles([ge],null,Ut.errors,ke),$r(this,x,Ut);const xn=Ut.timelines.filter(Yt=>Yt.containsAnimation());if(xn.length&&me.size){let Yt;for(let yn=xn.length-1;yn>=0;yn--){const De=xn[yn];if(De.element===y){Yt=De;break}}Yt&&!Yt.allowOnlyTimelineStyles()&&Yt.setStyles([me],null,Ut.errors,ke)}return xn.length?xn.map(Yt=>Yt.buildKeyframes()):[Us(y,[],[],[],0,gn,"",!1)]}visitTrigger(g,y){}visitState(g,y){}visitTransition(g,y){}visitAnimateChild(g,y){const x=y.subInstructions.get(y.element);if(x){const z=y.createSubContext(g.options),te=y.currentTimeline.currentTime,ge=this._visitSubInstructions(x,z,z.options);te!=ge&&y.transformIntoNewTimeline(ge)}y.previousNode=g}visitAnimateRef(g,y){const x=y.createSubContext(g.options);x.transformIntoNewTimeline(),this._applyAnimationRefDelays([g.options,g.animation.options],y,x),this.visitReference(g.animation,x),y.transformIntoNewTimeline(x.currentTimeline.currentTime),y.previousNode=g}_applyAnimationRefDelays(g,y,x){for(const z of g){const te=z?.delay;if(te){const ge="number"==typeof te?te:Ts(Js(te,z?.params??{},y.errors));x.delayNextStep(ge)}}}_visitSubInstructions(g,y,x){let te=y.currentTimeline.currentTime;const ge=null!=x.duration?Ts(x.duration):null,me=null!=x.delay?Ts(x.delay):null;return 0!==ge&&g.forEach(ke=>{const Ze=y.appendInstructionToTimeline(ke,ge,me);te=Math.max(te,Ze.duration+Ze.delay)}),te}visitReference(g,y){y.updateOptions(g.options,!0),$r(this,g.animation,y),y.previousNode=g}visitSequence(g,y){const x=y.subContextCount;let z=y;const te=g.options;if(te&&(te.params||te.delay)&&(z=y.createSubContext(te),z.transformIntoNewTimeline(),null!=te.delay)){6==z.previousNode.type&&(z.currentTimeline.snapshotCurrentStyles(),z.previousNode=Yr);const ge=Ts(te.delay);z.delayNextStep(ge)}g.steps.length&&(g.steps.forEach(ge=>$r(this,ge,z)),z.currentTimeline.applyStylesToKeyframe(),z.subContextCount>x&&z.transformIntoNewTimeline()),y.previousNode=g}visitGroup(g,y){const x=[];let z=y.currentTimeline.currentTime;const te=g.options&&g.options.delay?Ts(g.options.delay):0;g.steps.forEach(ge=>{const me=y.createSubContext(g.options);te&&me.delayNextStep(te),$r(this,ge,me),z=Math.max(z,me.currentTimeline.currentTime),x.push(me.currentTimeline)}),x.forEach(ge=>y.currentTimeline.mergeTimelineCollectedStyles(ge)),y.transformIntoNewTimeline(z),y.previousNode=g}_visitTiming(g,y){if(g.dynamic){const x=g.strValue;return ir(y.params?Js(x,y.params,y.errors):x,y.errors)}return{duration:g.duration,delay:g.delay,easing:g.easing}}visitAnimate(g,y){const x=y.currentAnimateTimings=this._visitTiming(g.timings,y),z=y.currentTimeline;x.delay&&(y.incrementTime(x.delay),z.snapshotCurrentStyles());const te=g.style;5==te.type?this.visitKeyframes(te,y):(y.incrementTime(x.duration),this.visitStyle(te,y),z.applyStylesToKeyframe()),y.currentAnimateTimings=null,y.previousNode=g}visitStyle(g,y){const x=y.currentTimeline,z=y.currentAnimateTimings;!z&&x.hasCurrentStyleProperties()&&x.forwardFrame();const te=z&&z.easing||g.easing;g.isEmptyStep?x.applyEmptyStep(te):x.setStyles(g.styles,te,y.errors,y.options),y.previousNode=g}visitKeyframes(g,y){const x=y.currentAnimateTimings,z=y.currentTimeline.duration,te=x.duration,me=y.createSubContext().currentTimeline;me.easing=x.easing,g.styles.forEach(ke=>{me.forwardTime((ke.offset||0)*te),me.setStyles(ke.styles,ke.easing,y.errors,y.options),me.applyStylesToKeyframe()}),y.currentTimeline.mergeTimelineCollectedStyles(me),y.transformIntoNewTimeline(z+te),y.previousNode=g}visitQuery(g,y){const x=y.currentTimeline.currentTime,z=g.options||{},te=z.delay?Ts(z.delay):0;te&&(6===y.previousNode.type||0==x&&y.currentTimeline.hasCurrentStyleProperties())&&(y.currentTimeline.snapshotCurrentStyles(),y.previousNode=Yr);let ge=x;const me=y.invokeQuery(g.selector,g.originalSelector,g.limit,g.includeSelf,!!z.optional,y.errors);y.currentQueryTotal=me.length;let ke=null;me.forEach((Ze,yt)=>{y.currentQueryIndex=yt;const Ut=y.createSubContext(g.options,Ze);te&&Ut.delayNextStep(te),Ze===y.element&&(ke=Ut.currentTimeline),$r(this,g.animation,Ut),Ut.currentTimeline.applyStylesToKeyframe(),ge=Math.max(ge,Ut.currentTimeline.currentTime)}),y.currentQueryIndex=0,y.currentQueryTotal=0,y.transformIntoNewTimeline(ge),ke&&(y.currentTimeline.mergeTimelineCollectedStyles(ke),y.currentTimeline.snapshotCurrentStyles()),y.previousNode=g}visitStagger(g,y){const x=y.parentContext,z=y.currentTimeline,te=g.timings,ge=Math.abs(te.duration),me=ge*(y.currentQueryTotal-1);let ke=ge*y.currentQueryIndex;switch(te.duration<0?"reverse":te.easing){case"reverse":ke=me-ke;break;case"full":ke=x.currentStaggerTime}const yt=y.currentTimeline;ke&&yt.delayNextStep(ke);const Ut=yt.currentTime;$r(this,g.animation,y),y.previousNode=g,x.currentStaggerTime=z.currentTime-Ut+(z.startTime-x.currentTimeline.startTime)}}const Yr={};class wr{constructor(g,y,x,z,te,ge,me,ke){this._driver=g,this.element=y,this.subInstructions=x,this._enterClassName=z,this._leaveClassName=te,this.errors=ge,this.timelines=me,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Yr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ke||new hs(this._driver,y,0),me.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(g,y){if(!g)return;const x=g;let z=this.options;null!=x.duration&&(z.duration=Ts(x.duration)),null!=x.delay&&(z.delay=Ts(x.delay));const te=x.params;if(te){let ge=z.params;ge||(ge=this.options.params={}),Object.keys(te).forEach(me=>{(!y||!ge.hasOwnProperty(me))&&(ge[me]=Js(te[me],ge,this.errors))})}}_copyOptions(){const g={};if(this.options){const y=this.options.params;if(y){const x=g.params={};Object.keys(y).forEach(z=>{x[z]=y[z]})}}return g}createSubContext(g=null,y,x){const z=y||this.element,te=new wr(this._driver,z,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(z,x||0));return te.previousNode=this.previousNode,te.currentAnimateTimings=this.currentAnimateTimings,te.options=this._copyOptions(),te.updateOptions(g),te.currentQueryIndex=this.currentQueryIndex,te.currentQueryTotal=this.currentQueryTotal,te.parentContext=this,this.subContextCount++,te}transformIntoNewTimeline(g){return this.previousNode=Yr,this.currentTimeline=this.currentTimeline.fork(this.element,g),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(g,y,x){const z={duration:y??g.duration,delay:this.currentTimeline.currentTime+(x??0)+g.delay,easing:""},te=new io(this._driver,g.element,g.keyframes,g.preStyleProps,g.postStyleProps,z,g.stretchStartingKeyframe);return this.timelines.push(te),z}incrementTime(g){this.currentTimeline.forwardTime(this.currentTimeline.duration+g)}delayNextStep(g){g>0&&this.currentTimeline.delayNextStep(g)}invokeQuery(g,y,x,z,te,ge){let me=[];if(z&&me.push(this.element),g.length>0){g=(g=g.replace(R,"."+this._enterClassName)).replace(ae,"."+this._leaveClassName);let Ze=this._driver.query(this.element,g,1!=x);0!==x&&(Ze=x<0?Ze.slice(Ze.length+x,Ze.length):Ze.slice(0,x)),me.push(...Ze)}return!te&&0==me.length&&ge.push(function ut(S){return new k.vHH(3014,!1)}()),me}}class hs{constructor(g,y,x,z){this._driver=g,this.element=y,this.startTime=x,this._elementTimelineStylesLookup=z,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(y),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(y,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(g){const y=1===this._keyframes.size&&this._pendingStyles.size;this.duration||y?(this.forwardTime(this.currentTime+g),y&&this.snapshotCurrentStyles()):this.startTime+=g}fork(g,y){return this.applyStylesToKeyframe(),new hs(this._driver,g,y||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(g){this.applyStylesToKeyframe(),this.duration=g,this._loadKeyframe()}_updateStyle(g,y){this._localTimelineStyles.set(g,y),this._globalTimelineStyles.set(g,y),this._styleSummary.set(g,{time:this.currentTime,value:y})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(g){g&&this._previousKeyframe.set("easing",g);for(let[y,x]of this._globalTimelineStyles)this._backFill.set(y,x||Ct),this._currentKeyframe.set(y,Ct);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(g,y,x,z){y&&this._previousKeyframe.set("easing",y);const te=z&&z.params||{},ge=function es(S,g){const y=new Map;let x;return S.forEach(z=>{if("*"===z){x=x||g.keys();for(let te of x)y.set(te,Ct)}else cs(z,y)}),y}(g,this._globalTimelineStyles);for(let[me,ke]of ge){const Ze=Js(ke,te,x);this._pendingStyles.set(me,Ze),this._localTimelineStyles.has(me)||this._backFill.set(me,this._globalTimelineStyles.get(me)??Ct),this._updateStyle(me,Ze)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((g,y)=>{this._currentKeyframe.set(y,g)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((g,y)=>{this._currentKeyframe.has(y)||this._currentKeyframe.set(y,g)}))}snapshotCurrentStyles(){for(let[g,y]of this._localTimelineStyles)this._pendingStyles.set(g,y),this._updateStyle(g,y)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const g=[];for(let y in this._currentKeyframe)g.push(y);return g}mergeTimelineCollectedStyles(g){g._styleSummary.forEach((y,x)=>{const z=this._styleSummary.get(x);(!z||y.time>z.time)&&this._updateStyle(x,y.value)})}buildKeyframes(){this.applyStylesToKeyframe();const g=new Set,y=new Set,x=1===this._keyframes.size&&0===this.duration;let z=[];this._keyframes.forEach((me,ke)=>{const Ze=cs(me,new Map,this._backFill);Ze.forEach((yt,Ut)=>{yt===Vr?g.add(Ut):yt===Ct&&y.add(Ut)}),x||Ze.set("offset",ke/this.duration),z.push(Ze)});const te=g.size?_o(g.values()):[],ge=y.size?_o(y.values()):[];if(x){const me=z[0],ke=new Map(me);me.set("offset",0),ke.set("offset",1),z=[me,ke]}return Us(this.element,z,te,ge,this.duration,this.startTime,this.easing,!1)}}class io extends hs{constructor(g,y,x,z,te,ge,me=!1){super(g,y,ge.delay),this.keyframes=x,this.preStyleProps=z,this.postStyleProps=te,this._stretchStartingKeyframe=me,this.timings={duration:ge.duration,delay:ge.delay,easing:ge.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let g=this.keyframes,{delay:y,duration:x,easing:z}=this.timings;if(this._stretchStartingKeyframe&&y){const te=[],ge=x+y,me=y/ge,ke=cs(g[0]);ke.set("offset",0),te.push(ke);const Ze=cs(g[0]);Ze.set("offset",Hr(me)),te.push(Ze);const yt=g.length-1;for(let Ut=1;Ut<=yt;Ut++){let gn=cs(g[Ut]);const xn=gn.get("offset");gn.set("offset",Hr((y+xn*x)/ge)),te.push(gn)}x=ge,y=0,z="",g=te}return Us(this.element,g,this.preStyleProps,this.postStyleProps,x,y,z,!0)}}function Hr(S,g=3){const y=Math.pow(10,g-1);return Math.round(S*y)/y}class Bs{}const Ia=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ni extends Bs{normalizePropertyName(g,y){return Ao(g)}normalizeStyleValue(g,y,x,z){let te="";const ge=x.toString().trim();if(Ia.has(y)&&0!==x&&"0"!==x)if("number"==typeof x)te="px";else{const me=x.match(/^[+-]?[\d\.]+([a-z]*)$/);me&&0==me[1].length&&z.push(function Ee(S,g){return new k.vHH(3005,!1)}())}return ge+te}}function Qr(S,g,y,x,z,te,ge,me,ke,Ze,yt,Ut,gn){return{type:0,element:S,triggerName:g,isRemovalTransition:z,fromState:y,fromStyles:te,toState:x,toStyles:ge,timelines:me,queriedElements:ke,preStyleProps:Ze,postStyleProps:yt,totalTime:Ut,errors:gn}}const jo={};class wo{constructor(g,y,x){this._triggerName=g,this.ast=y,this._stateStyles=x}match(g,y,x,z){return function Oi(S,g,y,x,z){return S.some(te=>te(g,y,x,z))}(this.ast.matchers,g,y,x,z)}buildStyles(g,y,x){let z=this._stateStyles.get("*");return void 0!==g&&(z=this._stateStyles.get(g?.toString())||z),z?z.buildStyles(y,x):new Map}build(g,y,x,z,te,ge,me,ke,Ze,yt){const Ut=[],gn=this.ast.options&&this.ast.options.params||jo,Yt=this.buildStyles(x,me&&me.params||jo,Ut),yn=ke&&ke.params||jo,De=this.buildStyles(z,yn,Ut),Zn=new Set,ur=new Map,Ii=new Map,ki="void"===z,Ns={params:xs(yn,gn),delay:this.ast.options?.delay},Yn=yt?[]:lt(g,y,this.ast.animation,te,ge,Yt,De,Ns,Ze,Ut);let li=0;if(Yn.forEach(Io=>{li=Math.max(Io.duration+Io.delay,li)}),Ut.length)return Qr(y,this._triggerName,x,z,ki,Yt,De,[],[],ur,Ii,li,Ut);Yn.forEach(Io=>{const Do=Io.element,cu=ni(ur,Do,new Set);Io.preStyleProps.forEach(Rs=>cu.add(Rs));const Fi=ni(Ii,Do,new Set);Io.postStyleProps.forEach(Rs=>Fi.add(Rs)),Do!==y&&Zn.add(Do)});const Wo=_o(Zn.values());return Qr(y,this._triggerName,x,z,ki,Yt,De,Yn,Wo,ur,Ii,li)}}function xs(S,g){const y=us(g);for(const x in S)S.hasOwnProperty(x)&&null!=S[x]&&(y[x]=S[x]);return y}class Da{constructor(g,y,x){this.styles=g,this.defaultParams=y,this.normalizer=x}buildStyles(g,y){const x=new Map,z=us(this.defaultParams);return Object.keys(g).forEach(te=>{const ge=g[te];null!==ge&&(z[te]=ge)}),this.styles.styles.forEach(te=>{"string"!=typeof te&&te.forEach((ge,me)=>{ge&&(ge=Js(ge,z,y));const ke=this.normalizer.normalizePropertyName(me,y);ge=this.normalizer.normalizeStyleValue(me,ke,ge,y),x.set(me,ge)})}),x}}class Xo{constructor(g,y,x){this.name=g,this.ast=y,this._normalizer=x,this.transitionFactories=[],this.states=new Map,y.states.forEach(z=>{this.states.set(z.name,new Da(z.style,z.options&&z.options.params||{},x))}),fs(this.states,"true","1"),fs(this.states,"false","0"),y.transitions.forEach(z=>{this.transitionFactories.push(new wo(g,z,this.states))}),this.fallbackTransition=function ga(S,g,y){return new wo(S,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ge,me)=>!0],options:null,queryCount:0,depCount:0},g)}(g,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(g,y,x,z){return this.transitionFactories.find(ge=>ge.match(g,y,x,z))||null}matchStyles(g,y,x){return this.fallbackTransition.buildStyles(g,y,x)}}function fs(S,g,y){S.has(g)?S.has(y)||S.set(y,S.get(g)):S.has(y)&&S.set(g,S.get(y))}const Ho=new ro;class Ca{constructor(g,y,x){this.bodyNode=g,this._driver=y,this._normalizer=x,this._animations=new Map,this._playersById=new Map,this.players=[]}register(g,y){const x=[],z=[],te=wi(this._driver,y,x,z);if(x.length)throw function os(S){return new k.vHH(3503,!1)}();this._animations.set(g,te)}_buildPlayer(g,y,x){const z=g.element,te=Rr(0,this._normalizer,0,g.keyframes,y,x);return this._driver.animate(z,te,g.duration,g.delay,g.easing,[],!0)}create(g,y,x={}){const z=[],te=this._animations.get(g);let ge;const me=new Map;if(te?(ge=lt(this._driver,y,te,gi,zi,new Map,new Map,x,Ho,z),ge.forEach(yt=>{const Ut=ni(me,yt.element,new Map);yt.postStyleProps.forEach(gn=>Ut.set(gn,null))})):(z.push(function Ln(){return new k.vHH(3300,!1)}()),ge=[]),z.length)throw function ti(S){return new k.vHH(3504,!1)}();me.forEach((yt,Ut)=>{yt.forEach((gn,xn)=>{yt.set(xn,this._driver.computeStyle(Ut,xn,Ct))})});const Ze=Si(ge.map(yt=>{const Ut=me.get(yt.element);return this._buildPlayer(yt,new Map,Ut)}));return this._playersById.set(g,Ze),Ze.onDestroy(()=>this.destroy(g)),this.players.push(Ze),Ze}destroy(g){const y=this._getPlayer(g);y.destroy(),this._playersById.delete(g);const x=this.players.indexOf(y);x>=0&&this.players.splice(x,1)}_getPlayer(g){const y=this._playersById.get(g);if(!y)throw function yr(S){return new k.vHH(3301,!1)}();return y}listen(g,y,x,z){const te=Ds(y,"","","");return Ai(this._getPlayer(g),x,te,z),()=>{}}command(g,y,x,z){if("register"==x)return void this.register(g,z[0]);if("create"==x)return void this.create(g,y,z[0]||{});const te=this._getPlayer(g);switch(x){case"play":te.play();break;case"pause":te.pause();break;case"reset":te.reset();break;case"restart":te.restart();break;case"finish":te.finish();break;case"init":te.init();break;case"setPosition":te.setPosition(parseFloat(z[0]));break;case"destroy":this.destroy(g)}}}const Po="ng-animate-queued",Na="ng-animate-disabled",$s=[],No={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ea={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},er="__ng_removed";class _s{get params(){return this.options.params}constructor(g,y=""){this.namespaceId=y;const x=g&&g.hasOwnProperty("value");if(this.value=function M(S){return S??null}(x?g.value:g),x){const te=us(g);delete te.value,this.options=te}else this.options={};this.options.params||(this.options.params={})}absorbOptions(g){const y=g.params;if(y){const x=this.options.params;Object.keys(y).forEach(z=>{null==x[z]&&(x[z]=y[z])})}}}const sr="void",ta=new _s(sr);class Qa{constructor(g,y,x){this.id=g,this.hostElement=y,this._engine=x,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+g,Ke(y,this._hostClassName)}listen(g,y,x,z){if(!this._triggers.has(y))throw function as(S,g){return new k.vHH(3302,!1)}();if(null==x||0==x.length)throw function Ur(S){return new k.vHH(3303,!1)}();if(!function O(S){return"start"==S||"done"==S}(x))throw function gs(S,g){return new k.vHH(3400,!1)}();const te=ni(this._elementListeners,g,[]),ge={name:y,phase:x,callback:z};te.push(ge);const me=ni(this._engine.statesByElement,g,new Map);return me.has(y)||(Ke(g,Xn),Ke(g,Xn+"-"+y),me.set(y,ta)),()=>{this._engine.afterFlush(()=>{const ke=te.indexOf(ge);ke>=0&&te.splice(ke,1),this._triggers.has(y)||me.delete(y)})}}register(g,y){return!this._triggers.has(g)&&(this._triggers.set(g,y),!0)}_getTrigger(g){const y=this._triggers.get(g);if(!y)throw function Vo(S){return new k.vHH(3401,!1)}();return y}trigger(g,y,x,z=!0){const te=this._getTrigger(y),ge=new Ra(this.id,y,g);let me=this._engine.statesByElement.get(g);me||(Ke(g,Xn),Ke(g,Xn+"-"+y),this._engine.statesByElement.set(g,me=new Map));let ke=me.get(y);const Ze=new _s(x,this.id);if(!(x&&x.hasOwnProperty("value"))&&ke&&Ze.absorbOptions(ke.options),me.set(y,Ze),ke||(ke=ta),Ze.value!==sr&&ke.value===Ze.value){if(!function zn(S,g){const y=Object.keys(S),x=Object.keys(g);if(y.length!=x.length)return!1;for(let z=0;z<y.length;z++){const te=y[z];if(!g.hasOwnProperty(te)||S[te]!==g[te])return!1}return!0}(ke.params,Ze.params)){const yn=[],De=te.matchStyles(ke.value,ke.params,yn),Zn=te.matchStyles(Ze.value,Ze.params,yn);yn.length?this._engine.reportError(yn):this._engine.afterFlush(()=>{Qs(g,De),oi(g,Zn)})}return}const gn=ni(this._engine.playersByElement,g,[]);gn.forEach(yn=>{yn.namespaceId==this.id&&yn.triggerName==y&&yn.queued&&yn.destroy()});let xn=te.matchTransition(ke.value,Ze.value,g,Ze.params),Yt=!1;if(!xn){if(!z)return;xn=te.fallbackTransition,Yt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:y,transition:xn,fromState:ke,toState:Ze,player:ge,isFallbackTransition:Yt}),Yt||(Ke(g,Po),ge.onStart(()=>{_t(g,Po)})),ge.onDone(()=>{let yn=this.players.indexOf(ge);yn>=0&&this.players.splice(yn,1);const De=this._engine.playersByElement.get(g);if(De){let Zn=De.indexOf(ge);Zn>=0&&De.splice(Zn,1)}}),this.players.push(ge),gn.push(ge),ge}deregister(g){this._triggers.delete(g),this._engine.statesByElement.forEach(y=>y.delete(g)),this._elementListeners.forEach((y,x)=>{this._elementListeners.set(x,y.filter(z=>z.name!=g))})}clearElementCache(g){this._engine.statesByElement.delete(g),this._elementListeners.delete(g);const y=this._engine.playersByElement.get(g);y&&(y.forEach(x=>x.destroy()),this._engine.playersByElement.delete(g))}_signalRemovalForInnerTriggers(g,y){const x=this._engine.driver.query(g,xi,!0);x.forEach(z=>{if(z[er])return;const te=this._engine.fetchNamespacesByElement(z);te.size?te.forEach(ge=>ge.triggerLeaveAnimation(z,y,!1,!0)):this.clearElementCache(z)}),this._engine.afterFlushAnimationsDone(()=>x.forEach(z=>this.clearElementCache(z)))}triggerLeaveAnimation(g,y,x,z){const te=this._engine.statesByElement.get(g),ge=new Map;if(te){const me=[];if(te.forEach((ke,Ze)=>{if(ge.set(Ze,ke.value),this._triggers.has(Ze)){const yt=this.trigger(g,Ze,sr,z);yt&&me.push(yt)}}),me.length)return this._engine.markElementAsRemoved(this.id,g,!0,y,ge),x&&Si(me).onDone(()=>this._engine.processLeaveNode(g)),!0}return!1}prepareLeaveAnimationListeners(g){const y=this._elementListeners.get(g),x=this._engine.statesByElement.get(g);if(y&&x){const z=new Set;y.forEach(te=>{const ge=te.name;if(z.has(ge))return;z.add(ge);const ke=this._triggers.get(ge).fallbackTransition,Ze=x.get(ge)||ta,yt=new _s(sr),Ut=new Ra(this.id,ge,g);this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:ge,transition:ke,fromState:Ze,toState:yt,player:Ut,isFallbackTransition:!0})})}}removeNode(g,y){const x=this._engine;if(g.childElementCount&&this._signalRemovalForInnerTriggers(g,y),this.triggerLeaveAnimation(g,y,!0))return;let z=!1;if(x.totalAnimations){const te=x.players.length?x.playersByQueriedElement.get(g):[];if(te&&te.length)z=!0;else{let ge=g;for(;ge=ge.parentNode;)if(x.statesByElement.get(ge)){z=!0;break}}}if(this.prepareLeaveAnimationListeners(g),z)x.markElementAsRemoved(this.id,g,!1,y);else{const te=g[er];(!te||te===No)&&(x.afterFlush(()=>this.clearElementCache(g)),x.destroyInnerAnimations(g),x._onRemovalComplete(g,y))}}insertNode(g,y){Ke(g,this._hostClassName)}drainQueuedTransitions(g){const y=[];return this._queue.forEach(x=>{const z=x.player;if(z.destroyed)return;const te=x.element,ge=this._elementListeners.get(te);ge&&ge.forEach(me=>{if(me.name==x.triggerName){const ke=Ds(te,x.triggerName,x.fromState.value,x.toState.value);ke._data=g,Ai(x.player,me.phase,ke,me.callback)}}),z.markedForDestroy?this._engine.afterFlush(()=>{z.destroy()}):y.push(x)}),this._queue=[],y.sort((x,z)=>{const te=x.transition.ast.depCount,ge=z.transition.ast.depCount;return 0==te||0==ge?te-ge:this._engine.driver.containsElement(x.element,z.element)?1:-1})}destroy(g){this.players.forEach(y=>y.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,g)}elementContainsData(g){let y=!1;return this._elementListeners.has(g)&&(y=!0),y=!!this._queue.find(x=>x.element===g)||y,y}}class ja{_onRemovalComplete(g,y){this.onRemovalComplete(g,y)}constructor(g,y,x){this.bodyNode=g,this.driver=y,this._normalizer=x,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(z,te)=>{}}get queuedPlayers(){const g=[];return this._namespaceList.forEach(y=>{y.players.forEach(x=>{x.queued&&g.push(x)})}),g}createNamespace(g,y){const x=new Qa(g,y,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,y)?this._balanceNamespaceList(x,y):(this.newHostElements.set(y,x),this.collectEnterElement(y)),this._namespaceLookup[g]=x}_balanceNamespaceList(g,y){const x=this._namespaceList,z=this.namespacesByHostElement;if(x.length-1>=0){let ge=!1,me=this.driver.getParentElement(y);for(;me;){const ke=z.get(me);if(ke){const Ze=x.indexOf(ke);x.splice(Ze+1,0,g),ge=!0;break}me=this.driver.getParentElement(me)}ge||x.unshift(g)}else x.push(g);return z.set(y,g),g}register(g,y){let x=this._namespaceLookup[g];return x||(x=this.createNamespace(g,y)),x}registerTrigger(g,y,x){let z=this._namespaceLookup[g];z&&z.register(y,x)&&this.totalAnimations++}destroy(g,y){if(!g)return;const x=this._fetchNamespace(g);this.afterFlush(()=>{this.namespacesByHostElement.delete(x.hostElement),delete this._namespaceLookup[g];const z=this._namespaceList.indexOf(x);z>=0&&this._namespaceList.splice(z,1)}),this.afterFlushAnimationsDone(()=>x.destroy(y))}_fetchNamespace(g){return this._namespaceLookup[g]}fetchNamespacesByElement(g){const y=new Set,x=this.statesByElement.get(g);if(x)for(let z of x.values())if(z.namespaceId){const te=this._fetchNamespace(z.namespaceId);te&&y.add(te)}return y}trigger(g,y,x,z){if($(y)){const te=this._fetchNamespace(g);if(te)return te.trigger(y,x,z),!0}return!1}insertNode(g,y,x,z){if(!$(y))return;const te=y[er];if(te&&te.setForRemoval){te.setForRemoval=!1,te.setForMove=!0;const ge=this.collectedLeaveElements.indexOf(y);ge>=0&&this.collectedLeaveElements.splice(ge,1)}if(g){const ge=this._fetchNamespace(g);ge&&ge.insertNode(y,x)}z&&this.collectEnterElement(y)}collectEnterElement(g){this.collectedEnterElements.push(g)}markElementAsDisabled(g,y){y?this.disabledNodes.has(g)||(this.disabledNodes.add(g),Ke(g,Na)):this.disabledNodes.has(g)&&(this.disabledNodes.delete(g),_t(g,Na))}removeNode(g,y,x,z){if($(y)){const te=g?this._fetchNamespace(g):null;if(te?te.removeNode(y,z):this.markElementAsRemoved(g,y,!1,z),x){const ge=this.namespacesByHostElement.get(y);ge&&ge.id!==g&&ge.removeNode(y,z)}}else this._onRemovalComplete(y,z)}markElementAsRemoved(g,y,x,z,te){this.collectedLeaveElements.push(y),y[er]={namespaceId:g,setForRemoval:z,hasAnimation:x,removedBeforeQueried:!1,previousTriggersValues:te}}listen(g,y,x,z,te){return $(y)?this._fetchNamespace(g).listen(y,x,z,te):()=>{}}_buildInstruction(g,y,x,z,te){return g.transition.build(this.driver,g.element,g.fromState.value,g.toState.value,x,z,g.fromState.options,g.toState.options,y,te)}destroyInnerAnimations(g){let y=this.driver.query(g,xi,!0);y.forEach(x=>this.destroyActiveAnimationsForElement(x)),0!=this.playersByQueriedElement.size&&(y=this.driver.query(g,mi,!0),y.forEach(x=>this.finishActiveQueriedAnimationOnElement(x)))}destroyActiveAnimationsForElement(g){const y=this.playersByElement.get(g);y&&y.forEach(x=>{x.queued?x.markedForDestroy=!0:x.destroy()})}finishActiveQueriedAnimationOnElement(g){const y=this.playersByQueriedElement.get(g);y&&y.forEach(x=>x.finish())}whenRenderingDone(){return new Promise(g=>{if(this.players.length)return Si(this.players).onDone(()=>g());g()})}processLeaveNode(g){const y=g[er];if(y&&y.setForRemoval){if(g[er]=No,y.namespaceId){this.destroyInnerAnimations(g);const x=this._fetchNamespace(y.namespaceId);x&&x.clearElementCache(g)}this._onRemovalComplete(g,y.setForRemoval)}g.classList?.contains(Na)&&this.markElementAsDisabled(g,!1),this.driver.query(g,".ng-animate-disabled",!0).forEach(x=>{this.markElementAsDisabled(x,!1)})}flush(g=-1){let y=[];if(this.newHostElements.size&&(this.newHostElements.forEach((x,z)=>this._balanceNamespaceList(x,z)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let x=0;x<this.collectedEnterElements.length;x++)Ke(this.collectedEnterElements[x],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const x=[];try{y=this._flushAnimations(x,g)}finally{for(let z=0;z<x.length;z++)x[z]()}}else for(let x=0;x<this.collectedLeaveElements.length;x++)this.processLeaveNode(this.collectedLeaveElements[x]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(x=>x()),this._flushFns=[],this._whenQuietFns.length){const x=this._whenQuietFns;this._whenQuietFns=[],y.length?Si(y).onDone(()=>{x.forEach(z=>z())}):x.forEach(z=>z())}}reportError(g){throw function go(S){return new k.vHH(3402,!1)}()}_flushAnimations(g,y){const x=new ro,z=[],te=new Map,ge=[],me=new Map,ke=new Map,Ze=new Map,yt=new Set;this.disabledNodes.forEach(Bt=>{yt.add(Bt);const kt=this.driver.query(Bt,".ng-animate-queued",!0);for(let En=0;En<kt.length;En++)yt.add(kt[En])});const Ut=this.bodyNode,gn=Array.from(this.statesByElement.keys()),xn=je(gn,this.collectedEnterElements),Yt=new Map;let yn=0;xn.forEach((Bt,kt)=>{const En=gi+yn++;Yt.set(kt,En),Bt.forEach(Cn=>Ke(Cn,En))});const De=[],Zn=new Set,ur=new Set;for(let Bt=0;Bt<this.collectedLeaveElements.length;Bt++){const kt=this.collectedLeaveElements[Bt],En=kt[er];En&&En.setForRemoval&&(De.push(kt),Zn.add(kt),En.hasAnimation?this.driver.query(kt,".ng-star-inserted",!0).forEach(Cn=>Zn.add(Cn)):ur.add(kt))}const Ii=new Map,ki=je(gn,Array.from(Zn));ki.forEach((Bt,kt)=>{const En=zi+yn++;Ii.set(kt,En),Bt.forEach(Cn=>Ke(Cn,En))}),g.push(()=>{xn.forEach((Bt,kt)=>{const En=Yt.get(kt);Bt.forEach(Cn=>_t(Cn,En))}),ki.forEach((Bt,kt)=>{const En=Ii.get(kt);Bt.forEach(Cn=>_t(Cn,En))}),De.forEach(Bt=>{this.processLeaveNode(Bt)})});const Ns=[],Yn=[];for(let Bt=this._namespaceList.length-1;Bt>=0;Bt--)this._namespaceList[Bt].drainQueuedTransitions(y).forEach(En=>{const Cn=En.player,Li=En.element;if(Ns.push(Cn),this.collectedEnterElements.length){const vs=Li[er];if(vs&&vs.setForMove){if(vs.previousTriggersValues&&vs.previousTriggersValues.has(En.triggerName)){const Ko=vs.previousTriggersValues.get(En.triggerName),Co=this.statesByElement.get(En.element);if(Co&&Co.has(En.triggerName)){const Hs=Co.get(En.triggerName);Hs.value=Ko,Co.set(En.triggerName,Hs)}}return void Cn.destroy()}}const Gr=!Ut||!this.driver.containsElement(Ut,Li),Vi=Ii.get(Li),oo=Yt.get(Li),Or=this._buildInstruction(En,x,oo,Vi,Gr);if(Or.errors&&Or.errors.length)return void Yn.push(Or);if(Gr)return Cn.onStart(()=>Qs(Li,Or.fromStyles)),Cn.onDestroy(()=>oi(Li,Or.toStyles)),void z.push(Cn);if(En.isFallbackTransition)return Cn.onStart(()=>Qs(Li,Or.fromStyles)),Cn.onDestroy(()=>oi(Li,Or.toStyles)),void z.push(Cn);const ra=[];Or.timelines.forEach(vs=>{vs.stretchStartingKeyframe=!0,this.disabledNodes.has(vs.element)||ra.push(vs)}),Or.timelines=ra,x.append(Li,Or.timelines),ge.push({instruction:Or,player:Cn,element:Li}),Or.queriedElements.forEach(vs=>ni(me,vs,[]).push(Cn)),Or.preStyleProps.forEach((vs,Ko)=>{if(vs.size){let Co=ke.get(Ko);Co||ke.set(Ko,Co=new Set),vs.forEach((Hs,E)=>Co.add(E))}}),Or.postStyleProps.forEach((vs,Ko)=>{let Co=Ze.get(Ko);Co||Ze.set(Ko,Co=new Set),vs.forEach((Hs,E)=>Co.add(E))})});if(Yn.length){const Bt=[];Yn.forEach(kt=>{Bt.push(function Nt(S,g){return new k.vHH(3505,!1)}())}),Ns.forEach(kt=>kt.destroy()),this.reportError(Bt)}const li=new Map,Wo=new Map;ge.forEach(Bt=>{const kt=Bt.element;x.has(kt)&&(Wo.set(kt,kt),this._beforeAnimationBuild(Bt.player.namespaceId,Bt.instruction,li))}),z.forEach(Bt=>{const kt=Bt.element;this._getPreviousPlayers(kt,!1,Bt.namespaceId,Bt.triggerName,null).forEach(Cn=>{ni(li,kt,[]).push(Cn),Cn.destroy()})});const Io=De.filter(Bt=>tt(Bt,ke,Ze)),Do=new Map;ue(Do,this.driver,ur,Ze,Ct).forEach(Bt=>{tt(Bt,ke,Ze)&&Io.push(Bt)});const Fi=new Map;xn.forEach((Bt,kt)=>{ue(Fi,this.driver,new Set(Bt),ke,Vr)}),Io.forEach(Bt=>{const kt=Do.get(Bt),En=Fi.get(Bt);Do.set(Bt,new Map([...Array.from(kt?.entries()??[]),...Array.from(En?.entries()??[])]))});const Rs=[],qo=[],du={};ge.forEach(Bt=>{const{element:kt,player:En,instruction:Cn}=Bt;if(x.has(kt)){if(yt.has(kt))return En.onDestroy(()=>oi(kt,Cn.toStyles)),En.disabled=!0,En.overrideTotalTime(Cn.totalTime),void z.push(En);let Li=du;if(Wo.size>1){let Vi=kt;const oo=[];for(;Vi=Vi.parentNode;){const Or=Wo.get(Vi);if(Or){Li=Or;break}oo.push(Vi)}oo.forEach(Or=>Wo.set(Or,Li))}const Gr=this._buildAnimation(En.namespaceId,Cn,li,te,Fi,Do);if(En.setRealPlayer(Gr),Li===du)Rs.push(En);else{const Vi=this.playersByElement.get(Li);Vi&&Vi.length&&(En.parentPlayer=Si(Vi)),z.push(En)}}else Qs(kt,Cn.fromStyles),En.onDestroy(()=>oi(kt,Cn.toStyles)),qo.push(En),yt.has(kt)&&z.push(En)}),qo.forEach(Bt=>{const kt=te.get(Bt.element);if(kt&&kt.length){const En=Si(kt);Bt.setRealPlayer(En)}}),z.forEach(Bt=>{Bt.parentPlayer?Bt.syncPlayerEvents(Bt.parentPlayer):Bt.destroy()});for(let Bt=0;Bt<De.length;Bt++){const kt=De[Bt],En=kt[er];if(_t(kt,zi),En&&En.hasAnimation)continue;let Cn=[];if(me.size){let Gr=me.get(kt);Gr&&Gr.length&&Cn.push(...Gr);let Vi=this.driver.query(kt,mi,!0);for(let oo=0;oo<Vi.length;oo++){let Or=me.get(Vi[oo]);Or&&Or.length&&Cn.push(...Or)}}const Li=Cn.filter(Gr=>!Gr.destroyed);Li.length?Un(this,kt,Li):this.processLeaveNode(kt)}return De.length=0,Rs.forEach(Bt=>{this.players.push(Bt),Bt.onDone(()=>{Bt.destroy();const kt=this.players.indexOf(Bt);this.players.splice(kt,1)}),Bt.play()}),Rs}elementContainsData(g,y){let x=!1;const z=y[er];return z&&z.setForRemoval&&(x=!0),this.playersByElement.has(y)&&(x=!0),this.playersByQueriedElement.has(y)&&(x=!0),this.statesByElement.has(y)&&(x=!0),this._fetchNamespace(g).elementContainsData(y)||x}afterFlush(g){this._flushFns.push(g)}afterFlushAnimationsDone(g){this._whenQuietFns.push(g)}_getPreviousPlayers(g,y,x,z,te){let ge=[];if(y){const me=this.playersByQueriedElement.get(g);me&&(ge=me)}else{const me=this.playersByElement.get(g);if(me){const ke=!te||te==sr;me.forEach(Ze=>{Ze.queued||!ke&&Ze.triggerName!=z||ge.push(Ze)})}}return(x||z)&&(ge=ge.filter(me=>!(x&&x!=me.namespaceId||z&&z!=me.triggerName))),ge}_beforeAnimationBuild(g,y,x){const te=y.element,ge=y.isRemovalTransition?void 0:g,me=y.isRemovalTransition?void 0:y.triggerName;for(const ke of y.timelines){const Ze=ke.element,yt=Ze!==te,Ut=ni(x,Ze,[]);this._getPreviousPlayers(Ze,yt,ge,me,y.toState).forEach(xn=>{const Yt=xn.getRealPlayer();Yt.beforeDestroy&&Yt.beforeDestroy(),xn.destroy(),Ut.push(xn)})}Qs(te,y.fromStyles)}_buildAnimation(g,y,x,z,te,ge){const me=y.triggerName,ke=y.element,Ze=[],yt=new Set,Ut=new Set,gn=y.timelines.map(Yt=>{const yn=Yt.element;yt.add(yn);const De=yn[er];if(De&&De.removedBeforeQueried)return new Jn(Yt.duration,Yt.delay);const Zn=yn!==ke,ur=function Nn(S){const g=[];return jn(S,g),g}((x.get(yn)||$s).map(li=>li.getRealPlayer())).filter(li=>!!li.element&&li.element===yn),Ii=te.get(yn),ki=ge.get(yn),Ns=Rr(0,this._normalizer,0,Yt.keyframes,Ii,ki),Yn=this._buildPlayer(Yt,Ns,ur);if(Yt.subTimeline&&z&&Ut.add(yn),Zn){const li=new Ra(g,me,yn);li.setRealPlayer(Yn),Ze.push(li)}return Yn});Ze.forEach(Yt=>{ni(this.playersByQueriedElement,Yt.element,[]).push(Yt),Yt.onDone(()=>function Ha(S,g,y){let x=S.get(g);if(x){if(x.length){const z=x.indexOf(y);x.splice(z,1)}0==x.length&&S.delete(g)}return x}(this.playersByQueriedElement,Yt.element,Yt))}),yt.forEach(Yt=>Ke(Yt,Cs));const xn=Si(gn);return xn.onDestroy(()=>{yt.forEach(Yt=>_t(Yt,Cs)),oi(ke,y.toStyles)}),Ut.forEach(Yt=>{ni(z,Yt,[]).push(xn)}),xn}_buildPlayer(g,y,x){return y.length>0?this.driver.animate(g.element,y,g.duration,g.delay,g.easing,x):new Jn(g.duration,g.delay)}}class Ra{constructor(g,y,x){this.namespaceId=g,this.triggerName=y,this.element=x,this._player=new Jn,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(g){this._containsRealPlayer||(this._player=g,this._queuedCallbacks.forEach((y,x)=>{y.forEach(z=>Ai(g,x,void 0,z))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(g.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(g){this.totalTime=g}syncPlayerEvents(g){const y=this._player;y.triggerCallback&&g.onStart(()=>y.triggerCallback("start")),g.onDone(()=>this.finish()),g.onDestroy(()=>this.destroy())}_queueEvent(g,y){ni(this._queuedCallbacks,g,[]).push(y)}onDone(g){this.queued&&this._queueEvent("done",g),this._player.onDone(g)}onStart(g){this.queued&&this._queueEvent("start",g),this._player.onStart(g)}onDestroy(g){this.queued&&this._queueEvent("destroy",g),this._player.onDestroy(g)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(g){this.queued||this._player.setPosition(g)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(g){const y=this._player;y.triggerCallback&&y.triggerCallback(g)}}function $(S){return S&&1===S.nodeType}function K(S,g){const y=S.style.display;return S.style.display=g??"none",y}function ue(S,g,y,x,z){const te=[];y.forEach(ke=>te.push(K(ke)));const ge=[];x.forEach((ke,Ze)=>{const yt=new Map;ke.forEach(Ut=>{const gn=g.computeStyle(Ze,Ut,z);yt.set(Ut,gn),(!gn||0==gn.length)&&(Ze[er]=ea,ge.push(Ze))}),S.set(Ze,yt)});let me=0;return y.forEach(ke=>K(ke,te[me++])),ge}function je(S,g){const y=new Map;if(S.forEach(me=>y.set(me,[])),0==g.length)return y;const x=1,z=new Set(g),te=new Map;function ge(me){if(!me)return x;let ke=te.get(me);if(ke)return ke;const Ze=me.parentNode;return ke=y.has(Ze)?Ze:z.has(Ze)?x:ge(Ze),te.set(me,ke),ke}return g.forEach(me=>{const ke=ge(me);ke!==x&&y.get(ke).push(me)}),y}function Ke(S,g){S.classList?.add(g)}function _t(S,g){S.classList?.remove(g)}function Un(S,g,y){Si(y).onDone(()=>S.processLeaveNode(g))}function jn(S,g){for(let y=0;y<S.length;y++){const x=S[y];x instanceof si?jn(x.players,g):g.push(x)}}function tt(S,g,y){const x=y.get(S);if(!x)return!1;let z=g.get(S);return z?x.forEach(te=>z.add(te)):g.set(S,x),y.delete(S),!0}class ln{constructor(g,y,x){this.bodyNode=g,this._driver=y,this._normalizer=x,this._triggerCache={},this.onRemovalComplete=(z,te)=>{},this._transitionEngine=new ja(g,y,x),this._timelineEngine=new Ca(g,y,x),this._transitionEngine.onRemovalComplete=(z,te)=>this.onRemovalComplete(z,te)}registerTrigger(g,y,x,z,te){const ge=g+"-"+z;let me=this._triggerCache[ge];if(!me){const ke=[],Ze=[],yt=wi(this._driver,te,ke,Ze);if(ke.length)throw function hr(S,g){return new k.vHH(3404,!1)}();me=function An(S,g,y){return new Xo(S,g,y)}(z,yt,this._normalizer),this._triggerCache[ge]=me}this._transitionEngine.registerTrigger(y,z,me)}register(g,y){this._transitionEngine.register(g,y)}destroy(g,y){this._transitionEngine.destroy(g,y)}onInsert(g,y,x,z){this._transitionEngine.insertNode(g,y,x,z)}onRemove(g,y,x,z){this._transitionEngine.removeNode(g,y,z||!1,x)}disableAnimations(g,y){this._transitionEngine.markElementAsDisabled(g,y)}process(g,y,x,z){if("@"==x.charAt(0)){const[te,ge]=Dn(x);this._timelineEngine.command(te,y,ge,z)}else this._transitionEngine.trigger(g,y,x,z)}listen(g,y,x,z,te){if("@"==x.charAt(0)){const[ge,me]=Dn(x);return this._timelineEngine.listen(ge,y,me,te)}return this._transitionEngine.listen(g,y,x,z,te)}flush(g=-1){this._transitionEngine.flush(g)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let js=(()=>{class S{constructor(y,x,z){this._element=y,this._startStyles=x,this._endStyles=z,this._state=0;let te=S.initialStylesByElement.get(y);te||S.initialStylesByElement.set(y,te=new Map),this._initialStyles=te}start(){this._state<1&&(this._startStyles&&oi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(oi(this._element,this._initialStyles),this._endStyles&&(oi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(S.initialStylesByElement.delete(this._element),this._startStyles&&(Qs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qs(this._element,this._endStyles),this._endStyles=null),oi(this._element,this._initialStyles),this._state=3)}}return S.initialStylesByElement=new WeakMap,S})();function Rt(S){let g=null;return S.forEach((y,x)=>{(function qt(S){return"display"===S||"position"===S})(x)&&(g=g||new Map,g.set(x,y))}),g}class so{constructor(g,y,x,z){this.element=g,this.keyframes=y,this.options=x,this._specialStyles=z,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=x.duration,this._delay=x.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const g=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,g,this.options),this._finalKeyframe=g.length?g[g.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(g){const y=[];return g.forEach(x=>{y.push(Object.fromEntries(x))}),y}_triggerWebAnimation(g,y,x){return g.animate(this._convertKeyframesToObject(y),x)}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(g=>g()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}setPosition(g){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=g*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const g=new Map;this.hasStarted()&&this._finalKeyframe.forEach((x,z)=>{"offset"!==z&&g.set(z,this._finished?x:Uo(this.element,z))}),this.currentSnapshot=g}triggerCallback(g){const y="start"===g?this._onStartFns:this._onDoneFns;y.forEach(x=>x()),y.length=0}}class Tt{validateStyleProperty(g){return!0}validateAnimatableStyleProperty(g){return!0}matchesElement(g,y){return!1}containsElement(g,y){return Ys(g,y)}getParentElement(g){return Qi(g)}query(g,y,x){return bo(g,y,x)}computeStyle(g,y,x){return window.getComputedStyle(g)[y]}animate(g,y,x,z,te,ge=[]){const ke={duration:x,delay:z,fill:0==z?"both":"forwards"};te&&(ke.easing=te);const Ze=new Map,yt=ge.filter(xn=>xn instanceof so);(function vo(S,g){return 0===S||0===g})(x,z)&&yt.forEach(xn=>{xn.currentSnapshot.forEach((Yt,yn)=>Ze.set(yn,Yt))});let Ut=function yi(S){return S.length?S[0]instanceof Map?S:S.map(g=>da(g)):[]}(y).map(xn=>cs(xn));Ut=function Ss(S,g,y){if(y.size&&g.length){let x=g[0],z=[];if(y.forEach((te,ge)=>{x.has(ge)||z.push(ge),x.set(ge,te)}),z.length)for(let te=1;te<g.length;te++){let ge=g[te];z.forEach(me=>ge.set(me,Uo(S,me)))}}return g}(g,Ut,Ze);const gn=function Sr(S,g){let y=null,x=null;return Array.isArray(g)&&g.length?(y=Rt(g[0]),g.length>1&&(x=Rt(g[g.length-1]))):g instanceof Map&&(y=Rt(g)),y||x?new js(S,y,x):null}(g,Ut);return new so(g,Ut,ke,gn)}}let Ue=(()=>{class S extends un{constructor(y,x){super(),this._nextAnimationId=0,this._renderer=y.createRenderer(x.body,{id:"0",encapsulation:k.ifc.None,styles:[],data:{animation:[]}})}build(y){const x=this._nextAnimationId.toString();this._nextAnimationId++;const z=Array.isArray(y)?ji(y):y;return Ps(this._renderer,null,x,"register",[z]),new ot(x,this._renderer)}}return S.\u0275fac=function(y){return new(y||S)(k.LFG(k.FYo),k.LFG(ie.K0))},S.\u0275prov=k.Yz7({token:S,factory:S.\u0275fac}),S})();class ot extends Wt{constructor(g,y){super(),this._id=g,this._renderer=y}create(g,y){return new ui(this._id,g,y||{},this._renderer)}}class ui{constructor(g,y,x,z){this.id=g,this.element=y,this._renderer=z,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",x)}_listen(g,y){return this._renderer.listen(this.element,`@@${this.id}:${g}`,y)}_command(g,...y){return Ps(this._renderer,this.element,this.id,g,y)}onDone(g){this._listen("done",g)}onStart(g){this._listen("start",g)}onDestroy(g){this._listen("destroy",g)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(g){this._command("setPosition",g)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ps(S,g,y,x,z){return S.setProperty(g,`@@${y}:${x}`,z)}const ba="@.disabled";let ya=(()=>{class S{constructor(y,x,z){this.delegate=y,this.engine=x,this._zone=z,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),x.onRemovalComplete=(te,ge)=>{const me=ge?.parentNode(te);me&&ge.removeChild(me,te)}}createRenderer(y,x){const te=this.delegate.createRenderer(y,x);if(!(y&&x&&x.data&&x.data.animation)){let yt=this._rendererCache.get(te);return yt||(yt=new na("",te,this.engine,()=>this._rendererCache.delete(te)),this._rendererCache.set(te,yt)),yt}const ge=x.id,me=x.id+"-"+this._currentId;this._currentId++,this.engine.register(me,y);const ke=yt=>{Array.isArray(yt)?yt.forEach(ke):this.engine.registerTrigger(ge,me,y,yt.name,yt)};return x.data.animation.forEach(ke),new Ja(this,me,te,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(y,x,z){y>=0&&y<this._microtaskId?this._zone.run(()=>x(z)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(te=>{const[ge,me]=te;ge(me)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([x,z]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return S.\u0275fac=function(y){return new(y||S)(k.LFG(k.FYo),k.LFG(ln),k.LFG(k.R0b))},S.\u0275prov=k.Yz7({token:S,factory:S.\u0275fac}),S})();class na{constructor(g,y,x,z){this.namespaceId=g,this.delegate=y,this.engine=x,this._onDestroy=z,this.destroyNode=this.delegate.destroyNode?te=>y.destroyNode(te):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(g,y){return this.delegate.createElement(g,y)}createComment(g){return this.delegate.createComment(g)}createText(g){return this.delegate.createText(g)}appendChild(g,y){this.delegate.appendChild(g,y),this.engine.onInsert(this.namespaceId,y,g,!1)}insertBefore(g,y,x,z=!0){this.delegate.insertBefore(g,y,x),this.engine.onInsert(this.namespaceId,y,g,z)}removeChild(g,y,x){this.engine.onRemove(this.namespaceId,y,this.delegate,x)}selectRootElement(g,y){return this.delegate.selectRootElement(g,y)}parentNode(g){return this.delegate.parentNode(g)}nextSibling(g){return this.delegate.nextSibling(g)}setAttribute(g,y,x,z){this.delegate.setAttribute(g,y,x,z)}removeAttribute(g,y,x){this.delegate.removeAttribute(g,y,x)}addClass(g,y){this.delegate.addClass(g,y)}removeClass(g,y){this.delegate.removeClass(g,y)}setStyle(g,y,x,z){this.delegate.setStyle(g,y,x,z)}removeStyle(g,y,x){this.delegate.removeStyle(g,y,x)}setProperty(g,y,x){"@"==y.charAt(0)&&y==ba?this.disableAnimations(g,!!x):this.delegate.setProperty(g,y,x)}setValue(g,y){this.delegate.setValue(g,y)}listen(g,y,x){return this.delegate.listen(g,y,x)}disableAnimations(g,y){this.engine.disableAnimations(g,y)}}class Ja extends na{constructor(g,y,x,z,te){super(y,x,z,te),this.factory=g,this.namespaceId=y}setProperty(g,y,x){"@"==y.charAt(0)?"."==y.charAt(1)&&y==ba?this.disableAnimations(g,x=void 0===x||!!x):this.engine.process(this.namespaceId,g,y.slice(1),x):this.delegate.setProperty(g,y,x)}listen(g,y,x){if("@"==y.charAt(0)){const z=function Go(S){switch(S){case"body":return document.body;case"document":return document;case"window":return window;default:return S}}(g);let te=y.slice(1),ge="";return"@"!=te.charAt(0)&&([te,ge]=function Su(S){const g=S.indexOf(".");return[S.substring(0,g),S.slice(g+1)]}(te)),this.engine.listen(this.namespaceId,z,te,ge,me=>{this.factory.scheduleListenerCallback(me._data||-1,x,me)})}return this.delegate.listen(g,y,x)}}const vn=[{provide:un,useClass:Ue},{provide:Bs,useFactory:function _a(){return new Ni}},{provide:ln,useClass:(()=>{class S extends ln{constructor(y,x,z,te){super(y.body,x,z)}ngOnDestroy(){this.flush()}}return S.\u0275fac=function(y){return new(y||S)(k.LFG(ie.K0),k.LFG(Zi),k.LFG(Bs),k.LFG(k.z2F))},S.\u0275prov=k.Yz7({token:S,factory:S.\u0275fac}),S})()},{provide:k.FYo,useFactory:function _l(S,g,y){return new ya(S,g,y)},deps:[w.se,ln,k.R0b]}],zo=[{provide:Zi,useFactory:()=>new Tt},{provide:k.QbO,useValue:"BrowserAnimations"},...vn],Ro=[{provide:Zi,useClass:Mi},{provide:k.QbO,useValue:"NoopAnimations"},...vn];let Jr=(()=>{class S{static withConfig(y){return{ngModule:S,providers:y.disableAnimations?Ro:zo}}}return S.\u0275fac=function(y){return new(y||S)},S.\u0275mod=k.oAB({type:S}),S.\u0275inj=k.cJS({providers:zo,imports:[w.b2]}),S})();const Xa=[{path:"**",redirectTo:"dashboard"}];let Mn=(()=>{class S{}return S.\u0275fac=function(y){return new(y||S)},S.\u0275mod=k.oAB({type:S,bootstrap:[vt]}),S.\u0275inj=k.cJS({providers:[pn],imports:[w.b2,ie.ez,jt,Pr,qn,Gt,Ti,re.Bz.forRoot(Xa),(0,dt.hX)(()=>(0,dt.ZF)(rn_firebase)),Se.Um,(0,ee.AR)(()=>(0,ee.v0)()),Jr]}),S})();w.q6().bootstrapModule(Mn).catch(S=>console.error(S))},1135:(nn,Qe,Y)=>{Y.d(Qe,{X:()=>re});var w=Y(7579);class re extends w.x{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const ee=super._subscribe(Ce);return!ee.closed&&Ce.next(this._value),ee}getValue(){const{hasError:Ce,thrownError:ee,_value:Se}=this;if(Ce)throw ee;return this._throwIfClosed(),Se}next(Ce){super.next(this._value=Ce)}}},9751:(nn,Qe,Y)=>{Y.d(Qe,{y:()=>ce});var w=Y(930),re=Y(727),k=Y(8822),Ce=Y(9635),ee=Y(2416),Se=Y(576),Ve=Y(2806);let ce=(()=>{class xe{constructor(st){st&&(this._subscribe=st)}lift(st){const gt=new xe;return gt.source=this,gt.operator=st,gt}subscribe(st,gt,mt){const fn=function ye(xe){return xe&&xe instanceof w.Lv||function ie(xe){return xe&&(0,Se.m)(xe.next)&&(0,Se.m)(xe.error)&&(0,Se.m)(xe.complete)}(xe)&&(0,re.Nn)(xe)}(st)?st:new w.Hp(st,gt,mt);return(0,Ve.x)(()=>{const{operator:Vt,source:Wn}=this;fn.add(Vt?Vt.call(fn,Wn):Wn?this._subscribe(fn):this._trySubscribe(fn))}),fn}_trySubscribe(st){try{return this._subscribe(st)}catch(gt){st.error(gt)}}forEach(st,gt){return new(gt=Be(gt))((mt,fn)=>{const Vt=new w.Hp({next:Wn=>{try{st(Wn)}catch(wn){fn(wn),Vt.unsubscribe()}},error:fn,complete:mt});this.subscribe(Vt)})}_subscribe(st){var gt;return null===(gt=this.source)||void 0===gt?void 0:gt.subscribe(st)}[k.L](){return this}pipe(...st){return(0,Ce.U)(st)(this)}toPromise(st){return new(st=Be(st))((gt,mt)=>{let fn;this.subscribe(Vt=>fn=Vt,Vt=>mt(Vt),()=>gt(fn))})}}return xe.create=rt=>new xe(rt),xe})();function Be(xe){var rt;return null!==(rt=xe??ee.v.Promise)&&void 0!==rt?rt:Promise}},7579:(nn,Qe,Y)=>{Y.d(Qe,{x:()=>Ve});var w=Y(9751),re=Y(727);const Ce=(0,Y(3888).d)(Be=>function(){Be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=Y(8737),Se=Y(2806);let Ve=(()=>{class Be extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ye){const xe=new ce(this,this);return xe.operator=ye,xe}_throwIfClosed(){if(this.closed)throw new Ce}next(ye){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const xe of this.currentObservers)xe.next(ye)}})}error(ye){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ye;const{observers:xe}=this;for(;xe.length;)xe.shift().error(ye)}})}complete(){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ye}=this;for(;ye.length;)ye.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ye;return(null===(ye=this.observers)||void 0===ye?void 0:ye.length)>0}_trySubscribe(ye){return this._throwIfClosed(),super._trySubscribe(ye)}_subscribe(ye){return this._throwIfClosed(),this._checkFinalizedStatuses(ye),this._innerSubscribe(ye)}_innerSubscribe(ye){const{hasError:xe,isStopped:rt,observers:st}=this;return xe||rt?re.Lc:(this.currentObservers=null,st.push(ye),new re.w0(()=>{this.currentObservers=null,(0,ee.P)(st,ye)}))}_checkFinalizedStatuses(ye){const{hasError:xe,thrownError:rt,isStopped:st}=this;xe?ye.error(rt):st&&ye.complete()}asObservable(){const ye=new w.y;return ye.source=this,ye}}return Be.create=(ie,ye)=>new ce(ie,ye),Be})();class ce extends Ve{constructor(ie,ye){super(),this.destination=ie,this.source=ye}next(ie){var ye,xe;null===(xe=null===(ye=this.destination)||void 0===ye?void 0:ye.next)||void 0===xe||xe.call(ye,ie)}error(ie){var ye,xe;null===(xe=null===(ye=this.destination)||void 0===ye?void 0:ye.error)||void 0===xe||xe.call(ye,ie)}complete(){var ie,ye;null===(ye=null===(ie=this.destination)||void 0===ie?void 0:ie.complete)||void 0===ye||ye.call(ie)}_subscribe(ie){var ye,xe;return null!==(xe=null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(ie))&&void 0!==xe?xe:re.Lc}}},930:(nn,Qe,Y)=>{Y.d(Qe,{Hp:()=>mt,Lv:()=>xe});var w=Y(576),re=Y(727),k=Y(2416),Ce=Y(7849),ee=Y(5032);const Se=Be("C",void 0,void 0);function Be(Oe,ht,He){return{kind:Oe,value:ht,error:He}}var ie=Y(3410),ye=Y(2806);class xe extends re.w0{constructor(ht){super(),this.isStopped=!1,ht?(this.destination=ht,(0,re.Nn)(ht)&&ht.add(this)):this.destination=wn}static create(ht,He,ct){return new mt(ht,He,ct)}next(ht){this.isStopped?Wn(function ce(Oe){return Be("N",Oe,void 0)}(ht),this):this._next(ht)}error(ht){this.isStopped?Wn(function Ve(Oe){return Be("E",void 0,Oe)}(ht),this):(this.isStopped=!0,this._error(ht))}complete(){this.isStopped?Wn(Se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ht){this.destination.next(ht)}_error(ht){try{this.destination.error(ht)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rt=Function.prototype.bind;function st(Oe,ht){return rt.call(Oe,ht)}class gt{constructor(ht){this.partialObserver=ht}next(ht){const{partialObserver:He}=this;if(He.next)try{He.next(ht)}catch(ct){fn(ct)}}error(ht){const{partialObserver:He}=this;if(He.error)try{He.error(ht)}catch(ct){fn(ct)}else fn(ht)}complete(){const{partialObserver:ht}=this;if(ht.complete)try{ht.complete()}catch(He){fn(He)}}}class mt extends xe{constructor(ht,He,ct){let At;if(super(),(0,w.m)(ht)||!ht)At={next:ht??void 0,error:He??void 0,complete:ct??void 0};else{let vt;this&&k.v.useDeprecatedNextContext?(vt=Object.create(ht),vt.unsubscribe=()=>this.unsubscribe(),At={next:ht.next&&st(ht.next,vt),error:ht.error&&st(ht.error,vt),complete:ht.complete&&st(ht.complete,vt)}):At=ht}this.destination=new gt(At)}}function fn(Oe){k.v.useDeprecatedSynchronousErrorHandling?(0,ye.O)(Oe):(0,Ce.h)(Oe)}function Wn(Oe,ht){const{onStoppedNotification:He}=k.v;He&&ie.z.setTimeout(()=>He(Oe,ht))}const wn={closed:!0,next:ee.Z,error:function Vt(Oe){throw Oe},complete:ee.Z}},727:(nn,Qe,Y)=>{Y.d(Qe,{Lc:()=>Se,w0:()=>ee,Nn:()=>Ve});var w=Y(576);const k=(0,Y(3888).d)(Be=>function(ye){Be(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((xe,rt)=>`${rt+1}) ${xe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye});var Ce=Y(8737);class ee{constructor(ie){this.initialTeardown=ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ie;if(!this.closed){this.closed=!0;const{_parentage:ye}=this;if(ye)if(this._parentage=null,Array.isArray(ye))for(const st of ye)st.remove(this);else ye.remove(this);const{initialTeardown:xe}=this;if((0,w.m)(xe))try{xe()}catch(st){ie=st instanceof k?st.errors:[st]}const{_finalizers:rt}=this;if(rt){this._finalizers=null;for(const st of rt)try{ce(st)}catch(gt){ie=ie??[],gt instanceof k?ie=[...ie,...gt.errors]:ie.push(gt)}}if(ie)throw new k(ie)}}add(ie){var ye;if(ie&&ie!==this)if(this.closed)ce(ie);else{if(ie instanceof ee){if(ie.closed||ie._hasParent(this))return;ie._addParent(this)}(this._finalizers=null!==(ye=this._finalizers)&&void 0!==ye?ye:[]).push(ie)}}_hasParent(ie){const{_parentage:ye}=this;return ye===ie||Array.isArray(ye)&&ye.includes(ie)}_addParent(ie){const{_parentage:ye}=this;this._parentage=Array.isArray(ye)?(ye.push(ie),ye):ye?[ye,ie]:ie}_removeParent(ie){const{_parentage:ye}=this;ye===ie?this._parentage=null:Array.isArray(ye)&&(0,Ce.P)(ye,ie)}remove(ie){const{_finalizers:ye}=this;ye&&(0,Ce.P)(ye,ie),ie instanceof ee&&ie._removeParent(this)}}ee.EMPTY=(()=>{const Be=new ee;return Be.closed=!0,Be})();const Se=ee.EMPTY;function Ve(Be){return Be instanceof ee||Be&&"closed"in Be&&(0,w.m)(Be.remove)&&(0,w.m)(Be.add)&&(0,w.m)(Be.unsubscribe)}function ce(Be){(0,w.m)(Be)?Be():Be.unsubscribe()}},2416:(nn,Qe,Y)=>{Y.d(Qe,{v:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(nn,Qe,Y)=>{Y.d(Qe,{z:()=>ee});var w=Y(8189),k=Y(3269),Ce=Y(8996);function ee(...Se){return function re(){return(0,w.J)(1)}()((0,Ce.D)(Se,(0,k.yG)(Se)))}},515:(nn,Qe,Y)=>{Y.d(Qe,{E:()=>re});const re=new(Y(9751).y)(ee=>ee.complete())},8996:(nn,Qe,Y)=>{Y.d(Qe,{D:()=>ht});var w=Y(8421),re=Y(5363),k=Y(9468),Se=Y(9751),ce=Y(2202),Be=Y(576),ie=Y(9672);function xe(He,ct){if(!He)throw new Error("Iterable cannot be null");return new Se.y(At=>{(0,ie.f)(At,ct,()=>{const vt=He[Symbol.asyncIterator]();(0,ie.f)(At,ct,()=>{vt.next().then(pn=>{pn.done?At.complete():At.next(pn.value)})},0,!0)})})}var rt=Y(3670),st=Y(8239),gt=Y(1144),mt=Y(6495),fn=Y(2206),Vt=Y(4532),Wn=Y(3260);function ht(He,ct){return ct?function Oe(He,ct){if(null!=He){if((0,rt.c)(He))return function Ce(He,ct){return(0,w.Xf)(He).pipe((0,k.R)(ct),(0,re.Q)(ct))}(He,ct);if((0,gt.z)(He))return function Ve(He,ct){return new Se.y(At=>{let vt=0;return ct.schedule(function(){vt===He.length?At.complete():(At.next(He[vt++]),At.closed||this.schedule())})})}(He,ct);if((0,st.t)(He))return function ee(He,ct){return(0,w.Xf)(He).pipe((0,k.R)(ct),(0,re.Q)(ct))}(He,ct);if((0,fn.D)(He))return xe(He,ct);if((0,mt.T)(He))return function ye(He,ct){return new Se.y(At=>{let vt;return(0,ie.f)(At,ct,()=>{vt=He[ce.h](),(0,ie.f)(At,ct,()=>{let pn,Sn;try{({value:pn,done:Sn}=vt.next())}catch(jt){return void At.error(jt)}Sn?At.complete():At.next(pn)},0,!0)}),()=>(0,Be.m)(vt?.return)&&vt.return()})}(He,ct);if((0,Wn.L)(He))return function wn(He,ct){return xe((0,Wn.Q)(He),ct)}(He,ct)}throw(0,Vt.z)(He)}(He,ct):(0,w.Xf)(He)}},8421:(nn,Qe,Y)=>{Y.d(Qe,{Xf:()=>rt});var w=Y(655),re=Y(1144),k=Y(8239),Ce=Y(9751),ee=Y(3670),Se=Y(2206),Ve=Y(4532),ce=Y(6495),Be=Y(3260),ie=Y(576),ye=Y(7849),xe=Y(8822);function rt(Oe){if(Oe instanceof Ce.y)return Oe;if(null!=Oe){if((0,ee.c)(Oe))return function st(Oe){return new Ce.y(ht=>{const He=Oe[xe.L]();if((0,ie.m)(He.subscribe))return He.subscribe(ht);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,re.z)(Oe))return function gt(Oe){return new Ce.y(ht=>{for(let He=0;He<Oe.length&&!ht.closed;He++)ht.next(Oe[He]);ht.complete()})}(Oe);if((0,k.t)(Oe))return function mt(Oe){return new Ce.y(ht=>{Oe.then(He=>{ht.closed||(ht.next(He),ht.complete())},He=>ht.error(He)).then(null,ye.h)})}(Oe);if((0,Se.D)(Oe))return Vt(Oe);if((0,ce.T)(Oe))return function fn(Oe){return new Ce.y(ht=>{for(const He of Oe)if(ht.next(He),ht.closed)return;ht.complete()})}(Oe);if((0,Be.L)(Oe))return function Wn(Oe){return Vt((0,Be.Q)(Oe))}(Oe)}throw(0,Ve.z)(Oe)}function Vt(Oe){return new Ce.y(ht=>{(function wn(Oe,ht){var He,ct,At,vt;return(0,w.mG)(this,void 0,void 0,function*(){try{for(He=(0,w.KL)(Oe);!(ct=yield He.next()).done;)if(ht.next(ct.value),ht.closed)return}catch(pn){At={error:pn}}finally{try{ct&&!ct.done&&(vt=He.return)&&(yield vt.call(He))}finally{if(At)throw At.error}}ht.complete()})})(Oe,ht).catch(He=>ht.error(He))})}},6451:(nn,Qe,Y)=>{Y.d(Qe,{T:()=>Se});var w=Y(8189),re=Y(8421),k=Y(515),Ce=Y(3269),ee=Y(8996);function Se(...Ve){const ce=(0,Ce.yG)(Ve),Be=(0,Ce._6)(Ve,1/0),ie=Ve;return ie.length?1===ie.length?(0,re.Xf)(ie[0]):(0,w.J)(Be)((0,ee.D)(ie,ce)):k.E}},9646:(nn,Qe,Y)=>{Y.d(Qe,{of:()=>k});var w=Y(3269),re=Y(8996);function k(...Ce){const ee=(0,w.yG)(Ce);return(0,re.D)(Ce,ee)}},5403:(nn,Qe,Y)=>{Y.d(Qe,{x:()=>re});var w=Y(930);function re(Ce,ee,Se,Ve,ce){return new k(Ce,ee,Se,Ve,ce)}class k extends w.Lv{constructor(ee,Se,Ve,ce,Be,ie){super(ee),this.onFinalize=Be,this.shouldUnsubscribe=ie,this._next=Se?function(ye){try{Se(ye)}catch(xe){ee.error(xe)}}:super._next,this._error=ce?function(ye){try{ce(ye)}catch(xe){ee.error(xe)}finally{this.unsubscribe()}}:super._error,this._complete=Ve?function(){try{Ve()}catch(ye){ee.error(ye)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Se}=this;super.unsubscribe(),!Se&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}}},9300:(nn,Qe,Y)=>{Y.d(Qe,{h:()=>k});var w=Y(4482),re=Y(5403);function k(Ce,ee){return(0,w.e)((Se,Ve)=>{let ce=0;Se.subscribe((0,re.x)(Ve,Be=>Ce.call(ee,Be,ce++)&&Ve.next(Be)))})}},4004:(nn,Qe,Y)=>{Y.d(Qe,{U:()=>k});var w=Y(4482),re=Y(5403);function k(Ce,ee){return(0,w.e)((Se,Ve)=>{let ce=0;Se.subscribe((0,re.x)(Ve,Be=>{Ve.next(Ce.call(ee,Be,ce++))}))})}},8189:(nn,Qe,Y)=>{Y.d(Qe,{J:()=>k});var w=Y(5577),re=Y(4671);function k(Ce=1/0){return(0,w.z)(re.y,Ce)}},5577:(nn,Qe,Y)=>{Y.d(Qe,{z:()=>ce});var w=Y(4004),re=Y(8421),k=Y(4482),Ce=Y(9672),ee=Y(5403),Ve=Y(576);function ce(Be,ie,ye=1/0){return(0,Ve.m)(ie)?ce((xe,rt)=>(0,w.U)((st,gt)=>ie(xe,st,rt,gt))((0,re.Xf)(Be(xe,rt))),ye):("number"==typeof ie&&(ye=ie),(0,k.e)((xe,rt)=>function Se(Be,ie,ye,xe,rt,st,gt,mt){const fn=[];let Vt=0,Wn=0,wn=!1;const Oe=()=>{wn&&!fn.length&&!Vt&&ie.complete()},ht=ct=>Vt<xe?He(ct):fn.push(ct),He=ct=>{st&&ie.next(ct),Vt++;let At=!1;(0,re.Xf)(ye(ct,Wn++)).subscribe((0,ee.x)(ie,vt=>{rt?.(vt),st?ht(vt):ie.next(vt)},()=>{At=!0},void 0,()=>{if(At)try{for(Vt--;fn.length&&Vt<xe;){const vt=fn.shift();gt?(0,Ce.f)(ie,gt,()=>He(vt)):He(vt)}Oe()}catch(vt){ie.error(vt)}}))};return Be.subscribe((0,ee.x)(ie,ht,()=>{wn=!0,Oe()})),()=>{mt?.()}}(xe,rt,Be,ye)))}},5363:(nn,Qe,Y)=>{Y.d(Qe,{Q:()=>Ce});var w=Y(9672),re=Y(4482),k=Y(5403);function Ce(ee,Se=0){return(0,re.e)((Ve,ce)=>{Ve.subscribe((0,k.x)(ce,Be=>(0,w.f)(ce,ee,()=>ce.next(Be),Se),()=>(0,w.f)(ce,ee,()=>ce.complete(),Se),Be=>(0,w.f)(ce,ee,()=>ce.error(Be),Se)))})}},8675:(nn,Qe,Y)=>{Y.d(Qe,{O:()=>Ce});var w=Y(7272),re=Y(3269),k=Y(4482);function Ce(...ee){const Se=(0,re.yG)(ee);return(0,k.e)((Ve,ce)=>{(Se?(0,w.z)(ee,Ve,Se):(0,w.z)(ee,Ve)).subscribe(ce)})}},9468:(nn,Qe,Y)=>{Y.d(Qe,{R:()=>re});var w=Y(4482);function re(k,Ce=0){return(0,w.e)((ee,Se)=>{Se.add(k.schedule(()=>ee.subscribe(Se),Ce))})}},3900:(nn,Qe,Y)=>{Y.d(Qe,{w:()=>Ce});var w=Y(8421),re=Y(4482),k=Y(5403);function Ce(ee,Se){return(0,re.e)((Ve,ce)=>{let Be=null,ie=0,ye=!1;const xe=()=>ye&&!Be&&ce.complete();Ve.subscribe((0,k.x)(ce,rt=>{Be?.unsubscribe();let st=0;const gt=ie++;(0,w.Xf)(ee(rt,gt)).subscribe(Be=(0,k.x)(ce,mt=>ce.next(Se?Se(rt,mt,gt,st++):mt),()=>{Be=null,xe()}))},()=>{ye=!0,xe()}))})}},5698:(nn,Qe,Y)=>{Y.d(Qe,{q:()=>Ce});var w=Y(515),re=Y(4482),k=Y(5403);function Ce(ee){return ee<=0?()=>w.E:(0,re.e)((Se,Ve)=>{let ce=0;Se.subscribe((0,k.x)(Ve,Be=>{++ce<=ee&&(Ve.next(Be),ee<=ce&&Ve.complete())}))})}},8505:(nn,Qe,Y)=>{Y.d(Qe,{b:()=>ee});var w=Y(576),re=Y(4482),k=Y(5403),Ce=Y(4671);function ee(Se,Ve,ce){const Be=(0,w.m)(Se)||Ve||ce?{next:Se,error:Ve,complete:ce}:Se;return Be?(0,re.e)((ie,ye)=>{var xe;null===(xe=Be.subscribe)||void 0===xe||xe.call(Be);let rt=!0;ie.subscribe((0,k.x)(ye,st=>{var gt;null===(gt=Be.next)||void 0===gt||gt.call(Be,st),ye.next(st)},()=>{var st;rt=!1,null===(st=Be.complete)||void 0===st||st.call(Be),ye.complete()},st=>{var gt;rt=!1,null===(gt=Be.error)||void 0===gt||gt.call(Be,st),ye.error(st)},()=>{var st,gt;rt&&(null===(st=Be.unsubscribe)||void 0===st||st.call(Be)),null===(gt=Be.finalize)||void 0===gt||gt.call(Be)}))}):Ce.y}},4408:(nn,Qe,Y)=>{Y.d(Qe,{o:()=>ee});var w=Y(727);class re extends w.w0{constructor(Ve,ce){super()}schedule(Ve,ce=0){return this}}const k={setInterval(Se,Ve,...ce){const{delegate:Be}=k;return Be?.setInterval?Be.setInterval(Se,Ve,...ce):setInterval(Se,Ve,...ce)},clearInterval(Se){const{delegate:Ve}=k;return(Ve?.clearInterval||clearInterval)(Se)},delegate:void 0};var Ce=Y(8737);class ee extends re{constructor(Ve,ce){super(Ve,ce),this.scheduler=Ve,this.work=ce,this.pending=!1}schedule(Ve,ce=0){var Be;if(this.closed)return this;this.state=Ve;const ie=this.id,ye=this.scheduler;return null!=ie&&(this.id=this.recycleAsyncId(ye,ie,ce)),this.pending=!0,this.delay=ce,this.id=null!==(Be=this.id)&&void 0!==Be?Be:this.requestAsyncId(ye,this.id,ce),this}requestAsyncId(Ve,ce,Be=0){return k.setInterval(Ve.flush.bind(Ve,this),Be)}recycleAsyncId(Ve,ce,Be=0){if(null!=Be&&this.delay===Be&&!1===this.pending)return ce;null!=ce&&k.clearInterval(ce)}execute(Ve,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Be=this._execute(Ve,ce);if(Be)return Be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ve,ce){let ie,Be=!1;try{this.work(Ve)}catch(ye){Be=!0,ie=ye||new Error("Scheduled action threw falsy error")}if(Be)return this.unsubscribe(),ie}unsubscribe(){if(!this.closed){const{id:Ve,scheduler:ce}=this,{actions:Be}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.P)(Be,this),null!=Ve&&(this.id=this.recycleAsyncId(ce,Ve,null)),this.delay=null,super.unsubscribe()}}}},640:(nn,Qe,Y)=>{Y.d(Qe,{v:()=>k});const w={now:()=>(w.delegate||Date).now(),delegate:void 0};class re{constructor(ee,Se=re.now){this.schedulerActionCtor=ee,this.now=Se}schedule(ee,Se=0,Ve){return new this.schedulerActionCtor(this,ee).schedule(Ve,Se)}}re.now=w.now;class k extends re{constructor(ee,Se=re.now){super(ee,Se),this.actions=[],this._active=!1}flush(ee){const{actions:Se}=this;if(this._active)return void Se.push(ee);let Ve;this._active=!0;do{if(Ve=ee.execute(ee.state,ee.delay))break}while(ee=Se.shift());if(this._active=!1,Ve){for(;ee=Se.shift();)ee.unsubscribe();throw Ve}}}},4986:(nn,Qe,Y)=>{Y.d(Qe,{P:()=>Ce,z:()=>k});var w=Y(4408);const k=new(Y(640).v)(w.o),Ce=k},3410:(nn,Qe,Y)=>{Y.d(Qe,{z:()=>w});const w={setTimeout(re,k,...Ce){const{delegate:ee}=w;return ee?.setTimeout?ee.setTimeout(re,k,...Ce):setTimeout(re,k,...Ce)},clearTimeout(re){const{delegate:k}=w;return(k?.clearTimeout||clearTimeout)(re)},delegate:void 0}},2202:(nn,Qe,Y)=>{Y.d(Qe,{h:()=>re});const re=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nn,Qe,Y)=>{Y.d(Qe,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(nn,Qe,Y)=>{Y.d(Qe,{_6:()=>Se,jO:()=>Ce,yG:()=>ee});var w=Y(576),re=Y(3532);function k(Ve){return Ve[Ve.length-1]}function Ce(Ve){return(0,w.m)(k(Ve))?Ve.pop():void 0}function ee(Ve){return(0,re.K)(k(Ve))?Ve.pop():void 0}function Se(Ve,ce){return"number"==typeof k(Ve)?Ve.pop():ce}},4742:(nn,Qe,Y)=>{Y.d(Qe,{D:()=>ee});const{isArray:w}=Array,{getPrototypeOf:re,prototype:k,keys:Ce}=Object;function ee(Ve){if(1===Ve.length){const ce=Ve[0];if(w(ce))return{args:ce,keys:null};if(function Se(Ve){return Ve&&"object"==typeof Ve&&re(Ve)===k}(ce)){const Be=Ce(ce);return{args:Be.map(ie=>ce[ie]),keys:Be}}}return{args:Ve,keys:null}}},8737:(nn,Qe,Y)=>{function w(re,k){if(re){const Ce=re.indexOf(k);0<=Ce&&re.splice(Ce,1)}}Y.d(Qe,{P:()=>w})},3888:(nn,Qe,Y)=>{function w(re){const Ce=re(ee=>{Error.call(ee),ee.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}Y.d(Qe,{d:()=>w})},1810:(nn,Qe,Y)=>{function w(re,k){return re.reduce((Ce,ee,Se)=>(Ce[ee]=k[Se],Ce),{})}Y.d(Qe,{n:()=>w})},2806:(nn,Qe,Y)=>{Y.d(Qe,{O:()=>Ce,x:()=>k});var w=Y(2416);let re=null;function k(ee){if(w.v.useDeprecatedSynchronousErrorHandling){const Se=!re;if(Se&&(re={errorThrown:!1,error:null}),ee(),Se){const{errorThrown:Ve,error:ce}=re;if(re=null,Ve)throw ce}}else ee()}function Ce(ee){w.v.useDeprecatedSynchronousErrorHandling&&re&&(re.errorThrown=!0,re.error=ee)}},9672:(nn,Qe,Y)=>{function w(re,k,Ce,ee=0,Se=!1){const Ve=k.schedule(function(){Ce(),Se?re.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(re.add(Ve),!Se)return Ve}Y.d(Qe,{f:()=>w})},4671:(nn,Qe,Y)=>{function w(re){return re}Y.d(Qe,{y:()=>w})},1144:(nn,Qe,Y)=>{Y.d(Qe,{z:()=>w});const w=re=>re&&"number"==typeof re.length&&"function"!=typeof re},2206:(nn,Qe,Y)=>{Y.d(Qe,{D:()=>re});var w=Y(576);function re(k){return Symbol.asyncIterator&&(0,w.m)(k?.[Symbol.asyncIterator])}},576:(nn,Qe,Y)=>{function w(re){return"function"==typeof re}Y.d(Qe,{m:()=>w})},3670:(nn,Qe,Y)=>{Y.d(Qe,{c:()=>k});var w=Y(8822),re=Y(576);function k(Ce){return(0,re.m)(Ce[w.L])}},6495:(nn,Qe,Y)=>{Y.d(Qe,{T:()=>k});var w=Y(2202),re=Y(576);function k(Ce){return(0,re.m)(Ce?.[w.h])}},8239:(nn,Qe,Y)=>{Y.d(Qe,{t:()=>re});var w=Y(576);function re(k){return(0,w.m)(k?.then)}},3260:(nn,Qe,Y)=>{Y.d(Qe,{L:()=>Ce,Q:()=>k});var w=Y(655),re=Y(576);function k(ee){return(0,w.FC)(this,arguments,function*(){const Ve=ee.getReader();try{for(;;){const{value:ce,done:Be}=yield(0,w.qq)(Ve.read());if(Be)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(ce)}}finally{Ve.releaseLock()}})}function Ce(ee){return(0,re.m)(ee?.getReader)}},3532:(nn,Qe,Y)=>{Y.d(Qe,{K:()=>re});var w=Y(576);function re(k){return k&&(0,w.m)(k.schedule)}},4482:(nn,Qe,Y)=>{Y.d(Qe,{A:()=>re,e:()=>k});var w=Y(576);function re(Ce){return(0,w.m)(Ce?.lift)}function k(Ce){return ee=>{if(re(ee))return ee.lift(function(Se){try{return Ce(Se,this)}catch(Ve){this.error(Ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(nn,Qe,Y)=>{Y.d(Qe,{Z:()=>Ce});var w=Y(4004);const{isArray:re}=Array;function Ce(ee){return(0,w.U)(Se=>function k(ee,Se){return re(Se)?ee(...Se):ee(Se)}(ee,Se))}},5032:(nn,Qe,Y)=>{function w(){}Y.d(Qe,{Z:()=>w})},9635:(nn,Qe,Y)=>{Y.d(Qe,{U:()=>k,z:()=>re});var w=Y(4671);function re(...Ce){return k(Ce)}function k(Ce){return 0===Ce.length?w.y:1===Ce.length?Ce[0]:function(Se){return Ce.reduce((Ve,ce)=>ce(Ve),Se)}}},7849:(nn,Qe,Y)=>{Y.d(Qe,{h:()=>k});var w=Y(2416),re=Y(3410);function k(Ce){re.z.setTimeout(()=>{const{onUnhandledError:ee}=w.v;if(!ee)throw Ce;ee(Ce)})}},4532:(nn,Qe,Y)=>{function w(re){return new TypeError(`You provided ${null!==re&&"object"==typeof re?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Y.d(Qe,{z:()=>w})},655:(nn,Qe,Y)=>{function Ce(Ge,Ae){var et={};for(var nt in Ge)Object.prototype.hasOwnProperty.call(Ge,nt)&&Ae.indexOf(nt)<0&&(et[nt]=Ge[nt]);if(null!=Ge&&"function"==typeof Object.getOwnPropertySymbols){var ft=0;for(nt=Object.getOwnPropertySymbols(Ge);ft<nt.length;ft++)Ae.indexOf(nt[ft])<0&&Object.prototype.propertyIsEnumerable.call(Ge,nt[ft])&&(et[nt[ft]]=Ge[nt[ft]])}return et}function xe(Ge,Ae,et,nt){return new(et||(et=Promise))(function(pt,sn){function kn(Ht){try{Zt(nt.next(Ht))}catch(xt){sn(xt)}}function Vn(Ht){try{Zt(nt.throw(Ht))}catch(xt){sn(xt)}}function Zt(Ht){Ht.done?pt(Ht.value):function ft(pt){return pt instanceof et?pt:new et(function(sn){sn(pt)})}(Ht.value).then(kn,Vn)}Zt((nt=nt.apply(Ge,Ae||[])).next())})}function Oe(Ge){return this instanceof Oe?(this.v=Ge,this):new Oe(Ge)}function ht(Ge,Ae,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft,nt=et.apply(Ge,Ae||[]),pt=[];return ft={},sn("next"),sn("throw"),sn("return"),ft[Symbol.asyncIterator]=function(){return this},ft;function sn(Hn){nt[Hn]&&(ft[Hn]=function(Kr){return new Promise(function(Tr,Fn){pt.push([Hn,Kr,Tr,Fn])>1||kn(Hn,Kr)})})}function kn(Hn,Kr){try{!function Vn(Hn){Hn.value instanceof Oe?Promise.resolve(Hn.value.v).then(Zt,Ht):xt(pt[0][2],Hn)}(nt[Hn](Kr))}catch(Tr){xt(pt[0][3],Tr)}}function Zt(Hn){kn("next",Hn)}function Ht(Hn){kn("throw",Hn)}function xt(Hn,Kr){Hn(Kr),pt.shift(),pt.length&&kn(pt[0][0],pt[0][1])}}function ct(Ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,Ae=Ge[Symbol.asyncIterator];return Ae?Ae.call(Ge):(Ge=function mt(Ge){var Ae="function"==typeof Symbol&&Symbol.iterator,et=Ae&&Ge[Ae],nt=0;if(et)return et.call(Ge);if(Ge&&"number"==typeof Ge.length)return{next:function(){return Ge&&nt>=Ge.length&&(Ge=void 0),{value:Ge&&Ge[nt++],done:!Ge}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ge),et={},nt("next"),nt("throw"),nt("return"),et[Symbol.asyncIterator]=function(){return this},et);function nt(pt){et[pt]=Ge[pt]&&function(sn){return new Promise(function(kn,Vn){!function ft(pt,sn,kn,Vn){Promise.resolve(Vn).then(function(Zt){pt({value:Zt,done:kn})},sn)}(kn,Vn,(sn=Ge[pt](sn)).done,sn.value)})}}}Y.d(Qe,{FC:()=>ht,KL:()=>ct,_T:()=>Ce,mG:()=>xe,qq:()=>Oe})},6895:(nn,Qe,Y)=>{Y.d(Qe,{Do:()=>Wn,EM:()=>Ao,HT:()=>Ce,JF:()=>Uo,K0:()=>Se,Mx:()=>as,NF:()=>fa,O5:()=>Rr,Ov:()=>bo,PC:()=>ri,S$:()=>mt,Ts:()=>mi,V_:()=>Be,Ye:()=>wn,b0:()=>Vt,bD:()=>oi,ez:()=>ms,mk:()=>Vo,q:()=>k,sg:()=>Mr,w_:()=>ee});var w=Y(1571);let re=null;function k(){return re}function Ce(M){re||(re=M)}class ee{}const Se=new w.OlP("DocumentToken");let Ve=(()=>{class M{historyGo(O){throw new Error("Not implemented")}}return M.\u0275fac=function(O){return new(O||M)},M.\u0275prov=w.Yz7({token:M,factory:function(){return function ce(){return(0,w.LFG)(ie)}()},providedIn:"platform"}),M})();const Be=new w.OlP("Location Initialized");let ie=(()=>{class M extends Ve{constructor(O){super(),this._doc=O,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(O){const K=k().getGlobalEventTarget(this._doc,"window");return K.addEventListener("popstate",O,!1),()=>K.removeEventListener("popstate",O)}onHashChange(O){const K=k().getGlobalEventTarget(this._doc,"window");return K.addEventListener("hashchange",O,!1),()=>K.removeEventListener("hashchange",O)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(O){this._location.pathname=O}pushState(O,K,ue){ye()?this._history.pushState(O,K,ue):this._location.hash=ue}replaceState(O,K,ue){ye()?this._history.replaceState(O,K,ue):this._location.hash=ue}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}}return M.\u0275fac=function(O){return new(O||M)(w.LFG(Se))},M.\u0275prov=w.Yz7({token:M,factory:function(){return function xe(){return new ie((0,w.LFG)(Se))}()},providedIn:"platform"}),M})();function ye(){return!!window.history.pushState}function rt(M,$){if(0==M.length)return $;if(0==$.length)return M;let O=0;return M.endsWith("/")&&O++,$.startsWith("/")&&O++,2==O?M+$.substring(1):1==O?M+$:M+"/"+$}function st(M){const $=M.match(/#|\?|$/),O=$&&$.index||M.length;return M.slice(0,O-("/"===M[O-1]?1:0))+M.slice(O)}function gt(M){return M&&"?"!==M[0]?"?"+M:M}let mt=(()=>{class M{historyGo(O){throw new Error("Not implemented")}}return M.\u0275fac=function(O){return new(O||M)},M.\u0275prov=w.Yz7({token:M,factory:function(){return(0,w.f3M)(Vt)},providedIn:"root"}),M})();const fn=new w.OlP("appBaseHref");let Vt=(()=>{class M extends mt{constructor(O,K){super(),this._platformLocation=O,this._removeListenerFns=[],this._baseHref=K??this._platformLocation.getBaseHrefFromDOM()??(0,w.f3M)(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return rt(this._baseHref,O)}path(O=!1){const K=this._platformLocation.pathname+gt(this._platformLocation.search),ue=this._platformLocation.hash;return ue&&O?`${K}${ue}`:K}pushState(O,K,ue,je){const Ke=this.prepareExternalUrl(ue+gt(je));this._platformLocation.pushState(O,K,Ke)}replaceState(O,K,ue,je){const Ke=this.prepareExternalUrl(ue+gt(je));this._platformLocation.replaceState(O,K,Ke)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}}return M.\u0275fac=function(O){return new(O||M)(w.LFG(Ve),w.LFG(fn,8))},M.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),Wn=(()=>{class M extends mt{constructor(O,K){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=K&&(this._baseHref=K)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){let K=this._platformLocation.hash;return null==K&&(K="#"),K.length>0?K.substring(1):K}prepareExternalUrl(O){const K=rt(this._baseHref,O);return K.length>0?"#"+K:K}pushState(O,K,ue,je){let Ke=this.prepareExternalUrl(ue+gt(je));0==Ke.length&&(Ke=this._platformLocation.pathname),this._platformLocation.pushState(O,K,Ke)}replaceState(O,K,ue,je){let Ke=this.prepareExternalUrl(ue+gt(je));0==Ke.length&&(Ke=this._platformLocation.pathname),this._platformLocation.replaceState(O,K,Ke)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}}return M.\u0275fac=function(O){return new(O||M)(w.LFG(Ve),w.LFG(fn,8))},M.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac}),M})(),wn=(()=>{class M{constructor(O){this._subject=new w.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=O;const K=this._locationStrategy.getBaseHref();this._basePath=function ct(M){if(new RegExp("^(https?:)?//").test(M)){const[,O]=M.split(/\/\/[^\/]+/);return O}return M}(st(He(K))),this._locationStrategy.onPopState(ue=>{this._subject.emit({url:this.path(!0),pop:!0,state:ue.state,type:ue.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(O=!1){return this.normalize(this._locationStrategy.path(O))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(O,K=""){return this.path()==this.normalize(O+gt(K))}normalize(O){return M.stripTrailingSlash(function ht(M,$){if(!M||!$.startsWith(M))return $;const O=$.substring(M.length);return""===O||["/",";","?","#"].includes(O[0])?O:$}(this._basePath,He(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._locationStrategy.prepareExternalUrl(O)}go(O,K="",ue=null){this._locationStrategy.pushState(ue,"",O,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+gt(K)),ue)}replaceState(O,K="",ue=null){this._locationStrategy.replaceState(ue,"",O,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+gt(K)),ue)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(O=0){this._locationStrategy.historyGo?.(O)}onUrlChange(O){return this._urlChangeListeners.push(O),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(K=>{this._notifyUrlChangeListeners(K.url,K.state)})),()=>{const K=this._urlChangeListeners.indexOf(O);this._urlChangeListeners.splice(K,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(O="",K){this._urlChangeListeners.forEach(ue=>ue(O,K))}subscribe(O,K,ue){return this._subject.subscribe({next:O,error:K,complete:ue})}}return M.normalizeQueryParams=gt,M.joinWithSlash=rt,M.stripTrailingSlash=st,M.\u0275fac=function(O){return new(O||M)(w.LFG(mt))},M.\u0275prov=w.Yz7({token:M,factory:function(){return function Oe(){return new wn((0,w.LFG)(mt))}()},providedIn:"root"}),M})();function He(M){return M.replace(/\/index.html$/,"")}function as(M,$){$=encodeURIComponent($);for(const O of M.split(";")){const K=O.indexOf("="),[ue,je]=-1==K?[O,""]:[O.slice(0,K),O.slice(K+1)];if(ue.trim()===$)return decodeURIComponent(je)}return null}const Ur=/\s+/,gs=[];let Vo=(()=>{class M{constructor(O,K,ue,je){this._iterableDiffers=O,this._keyValueDiffers=K,this._ngEl=ue,this._renderer=je,this.initialClasses=gs,this.stateMap=new Map}set klass(O){this.initialClasses=null!=O?O.trim().split(Ur):gs}set ngClass(O){this.rawClass="string"==typeof O?O.trim().split(Ur):O}ngDoCheck(){for(const K of this.initialClasses)this._updateState(K,!0);const O=this.rawClass;if(Array.isArray(O)||O instanceof Set)for(const K of O)this._updateState(K,!0);else if(null!=O)for(const K of Object.keys(O))this._updateState(K,Boolean(O[K]));this._applyStateDiff()}_updateState(O,K){const ue=this.stateMap.get(O);void 0!==ue?(ue.enabled!==K&&(ue.changed=!0,ue.enabled=K),ue.touched=!0):this.stateMap.set(O,{enabled:K,changed:!0,touched:!0})}_applyStateDiff(){for(const O of this.stateMap){const K=O[0],ue=O[1];ue.changed?(this._toggleClass(K,ue.enabled),ue.changed=!1):ue.touched||(ue.enabled&&this._toggleClass(K,!1),this.stateMap.delete(K)),ue.touched=!1}}_toggleClass(O,K){(O=O.trim()).length>0&&O.split(Ur).forEach(ue=>{K?this._renderer.addClass(this._ngEl.nativeElement,ue):this._renderer.removeClass(this._ngEl.nativeElement,ue)})}}return M.\u0275fac=function(O){return new(O||M)(w.Y36(w.ZZ4),w.Y36(w.aQg),w.Y36(w.SBq),w.Y36(w.Qsj))},M.\u0275dir=w.lG2({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),M})();class In{constructor($,O,K,ue){this.$implicit=$,this.ngForOf=O,this.index=K,this.count=ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mr=(()=>{class M{set ngForOf(O){this._ngForOf=O,this._ngForOfDirty=!0}set ngForTrackBy(O){this._trackByFn=O}get ngForTrackBy(){return this._trackByFn}constructor(O,K,ue){this._viewContainer=O,this._template=K,this._differs=ue,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(O){O&&(this._template=O)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const O=this._ngForOf;!this._differ&&O&&(this._differ=this._differs.find(O).create(this.ngForTrackBy))}if(this._differ){const O=this._differ.diff(this._ngForOf);O&&this._applyChanges(O)}}_applyChanges(O){const K=this._viewContainer;O.forEachOperation((ue,je,Ke)=>{if(null==ue.previousIndex)K.createEmbeddedView(this._template,new In(ue.item,this._ngForOf,-1,-1),null===Ke?void 0:Ke);else if(null==Ke)K.remove(null===je?void 0:je);else if(null!==je){const _t=K.get(je);K.move(_t,Ke),bi(_t,ue)}});for(let ue=0,je=K.length;ue<je;ue++){const _t=K.get(ue).context;_t.index=ue,_t.count=je,_t.ngForOf=this._ngForOf}O.forEachIdentityChange(ue=>{bi(K.get(ue.currentIndex),ue)})}static ngTemplateContextGuard(O,K){return!0}}return M.\u0275fac=function(O){return new(O||M)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))},M.\u0275dir=w.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),M})();function bi(M,$){M.context.$implicit=$.item}let Rr=(()=>{class M{constructor(O,K){this._viewContainer=O,this._context=new Ai,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=K}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){fr("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){fr("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,K){return!0}}return M.\u0275fac=function(O){return new(O||M)(w.Y36(w.s_b),w.Y36(w.Rgc))},M.\u0275dir=w.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),M})();class Ai{constructor(){this.$implicit=null,this.ngIf=null}}function fr(M,$){if($&&!$.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,w.AaK)($)}'.`)}let ri=(()=>{class M{constructor(O,K,ue){this._ngEl=O,this._differs=K,this._renderer=ue,this._ngStyle=null,this._differ=null}set ngStyle(O){this._ngStyle=O,!this._differ&&O&&(this._differ=this._differs.find(O).create())}ngDoCheck(){if(this._differ){const O=this._differ.diff(this._ngStyle);O&&this._applyChanges(O)}}_setStyle(O,K){const[ue,je]=O.split("."),Ke=-1===ue.indexOf("-")?void 0:w.JOm.DashCase;null!=K?this._renderer.setStyle(this._ngEl.nativeElement,ue,je?`${K}${je}`:K,Ke):this._renderer.removeStyle(this._ngEl.nativeElement,ue,Ke)}_applyChanges(O){O.forEachRemovedItem(K=>this._setStyle(K.key,null)),O.forEachAddedItem(K=>this._setStyle(K.key,K.currentValue)),O.forEachChangedItem(K=>this._setStyle(K.key,K.currentValue))}}return M.\u0275fac=function(O){return new(O||M)(w.Y36(w.SBq),w.Y36(w.aQg),w.Y36(w.Qsj))},M.\u0275dir=w.lG2({type:M,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),M})();class Br{createSubscription($,O){return $.subscribe({next:O,error:K=>{throw K}})}dispose($){$.unsubscribe()}}class pi{createSubscription($,O){return $.then(O,K=>{throw K})}dispose($){}}const gr=new pi,Ys=new Br;let bo=(()=>{class M{constructor(O){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=O}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(O){return this._obj?O!==this._obj?(this._dispose(),this.transform(O)):this._latestValue:(O&&this._subscribe(O),this._latestValue)}_subscribe(O){this._obj=O,this._strategy=this._selectStrategy(O),this._subscription=this._strategy.createSubscription(O,K=>this._updateLatestValue(O,K))}_selectStrategy(O){if((0,w.QGY)(O))return gr;if((0,w.F4k)(O))return Ys;throw function pr(M,$){return new w.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(O,K){O===this._obj&&(this._latestValue=K,this._ref.markForCheck())}}return M.\u0275fac=function(O){return new(O||M)(w.Y36(w.sBO,16))},M.\u0275pipe=w.Yjl({name:"async",type:M,pure:!1,standalone:!0}),M})(),mi=(()=>{class M{transform(O){return JSON.stringify(O,null,2)}}return M.\u0275fac=function(O){return new(O||M)},M.\u0275pipe=w.Yjl({name:"json",type:M,pure:!1,standalone:!0}),M})(),ms=(()=>{class M{}return M.\u0275fac=function(O){return new(O||M)},M.\u0275mod=w.oAB({type:M}),M.\u0275inj=w.cJS({}),M})();const oi="browser";function fa(M){return M===oi}let Ao=(()=>{class M{}return M.\u0275prov=(0,w.Yz7)({token:M,providedIn:"root",factory:()=>new ds((0,w.LFG)(Se),window)}),M})();class ds{constructor($,O){this.document=$,this.window=O,this.offset=()=>[0,0]}setOffset($){this.offset=Array.isArray($)?()=>$:$}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition($){this.supportsScrolling()&&this.window.scrollTo($[0],$[1])}scrollToAnchor($){if(!this.supportsScrolling())return;const O=function Ss(M,$){const O=M.getElementById($)||M.getElementsByName($)[0];if(O)return O;if("function"==typeof M.createTreeWalker&&M.body&&(M.body.createShadowRoot||M.body.attachShadow)){const K=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let ue=K.currentNode;for(;ue;){const je=ue.shadowRoot;if(je){const Ke=je.getElementById($)||je.querySelector(`[name="${$}"]`);if(Ke)return Ke}ue=K.nextNode()}}return null}(this.document,$);O&&(this.scrollToElement(O),O.focus())}setHistoryScrollRestoration($){if(this.supportScrollRestoration()){const O=this.window.history;O&&O.scrollRestoration&&(O.scrollRestoration=$)}}scrollToElement($){const O=$.getBoundingClientRect(),K=O.left+this.window.pageXOffset,ue=O.top+this.window.pageYOffset,je=this.offset();this.window.scrollTo(K-je[0],ue-je[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const $=vo(this.window.history)||vo(Object.getPrototypeOf(this.window.history));return!(!$||!$.writable&&!$.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vo(M){return Object.getOwnPropertyDescriptor(M,"scrollRestoration")}class Uo{}},1571:(nn,Qe,Y)=>{Y.d(Qe,{QbO:()=>Gw,tb:()=>dE,AFp:()=>eE,ip1:()=>X0,CZH:()=>$y,hGG:()=>MI,z2F:()=>Hy,sBO:()=>fI,Sil:()=>Zw,_Vd:()=>qa,EJc:()=>qw,Xts:()=>Ec,SBq:()=>Dc,lqb:()=>Bu,qLn:()=>hd,vpe:()=>tc,XFs:()=>Gt,OlP:()=>Yn,zs3:()=>Sc,ZZ4:()=>Sv,aQg:()=>Av,soG:()=>jy,YKP:()=>a0,h0i:()=>Np,PXZ:()=>uI,R0b:()=>Yu,FiY:()=>zr,Lbi:()=>Hw,g9A:()=>nE,Qsj:()=>Pf,FYo:()=>dd,JOm:()=>Os,tp0:()=>Es,Rgc:()=>gm,dDg:()=>iI,eoX:()=>lE,q4F:()=>Rf,GfV:()=>bh,s_b:()=>Vy,ifc:()=>pe,MMx:()=>tv,Lck:()=>UE,eFA:()=>fE,Gpc:()=>gt,f3M:()=>Vr,$WT:()=>as,_c5:()=>AI,c2e:()=>zw,zSh:()=>Iu,wAp:()=>Pn,vHH:()=>Oe,lri:()=>aE,rWj:()=>uE,D6c:()=>xI,cg1:()=>xy,kL8:()=>rf,dqk:()=>Gn,Z0I:()=>is,eJc:()=>dv,CqO:()=>Rc,QGY:()=>gp,F4k:()=>Fg,RDi:()=>Vp,AaK:()=>xe,qOj:()=>Ag,TTD:()=>Ss,_Bn:()=>o0,jDz:()=>l0,xp6:()=>Hl,uIk:()=>Ng,ekj:()=>Ep,Suo:()=>x0,Xpm:()=>Me,lG2:()=>Dr,Yz7:()=>Fn,cJS:()=>Pr,oAB:()=>_n,Yjl:()=>os,Y36:()=>Ac,_UZ:()=>zh,BQk:()=>pp,ynx:()=>Vd,qZA:()=>fp,TgZ:()=>Ld,EpF:()=>oy,n5z:()=>Ze,LFG:()=>Jn,$8M:()=>xn,$Z:()=>ag,NdJ:()=>mp,CRH:()=>P0,oxw:()=>Kh,ALo:()=>I0,lcZ:()=>D0,Q6J:()=>hp,MGl:()=>Ud,hYB:()=>Zh,VKq:()=>m0,iGM:()=>M0,MAs:()=>dp,KtG:()=>Yr,CHM:()=>mr,P3R:()=>ll,YNc:()=>cp,W1O:()=>k0,_uU:()=>Oc,Oqu:()=>Xg,hij:()=>jd});var w=Y(7579),re=Y(727),k=Y(9751),Ce=Y(6451),ee=Y(8421),Se=Y(930),Ve=Y(4482);function Be(n,i,...o){if(!0===i)return void n();if(!1===i)return;const u=new Se.Hp({next:()=>{u.unsubscribe(),n()}});return(0,ee.Xf)(i(...o)).subscribe(u)}function ie(n){for(let i in n)if(n[i]===ie)return i;throw Error("Could not find renamed property on target object.")}function ye(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function xe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(xe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function rt(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const st=ie({__forward_ref__:ie});function gt(n){return n.__forward_ref__=gt,n.toString=function(){return xe(this())},n}function mt(n){return fn(n)?n():n}function fn(n){return"function"==typeof n&&n.hasOwnProperty(st)&&n.__forward_ref__===gt}function Vt(n){return n&&!!n.\u0275providers}const wn="https://g.co/ng/security#xss";class Oe extends Error{constructor(i,o){super(ht(i,o)),this.code=i}}function ht(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function He(n){return"string"==typeof n?n:null==n?"":String(n)}function Sn(n,i){throw new Oe(-201,!1)}function Ht(n,i){null==n&&function xt(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function Fn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Pr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Xr(n){return $i(n,Zr)||$i(n,di)}function is(n){return null!==Xr(n)}function $i(n,i){return n.hasOwnProperty(i)?n[i]:null}function Ar(n){return n&&(n.hasOwnProperty(qn)||n.hasOwnProperty(ss))?n[qn]:null}const Zr=ie({\u0275prov:ie}),qn=ie({\u0275inj:ie}),di=ie({ngInjectableDef:ie}),ss=ie({ngInjectorDef:ie});var Gt=(()=>((Gt=Gt||{})[Gt.Default=0]="Default",Gt[Gt.Host=1]="Host",Gt[Gt.Self=2]="Self",Gt[Gt.SkipSelf=4]="SkipSelf",Gt[Gt.Optional=8]="Optional",Gt))();let qi;function un(n){const i=qi;return qi=n,i}function Wt(n,i,o){const u=Xr(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Gt.Optional?null:void 0!==i?i:void Sn(xe(n))}const Gn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),cr={},Hi="__NG_DI_FLAG__",Kn="ngTempTokenPath",po="ngTokenPath",Qn=/\n/gm,dr="\u0275",nr="__source";let Lr;function en(n){const i=Lr;return Lr=n,i}function fi(n,i=Gt.Default){if(void 0===Lr)throw new Oe(-203,!1);return null===Lr?Wt(n,void 0,i):Lr.get(n,i&Gt.Optional?null:void 0,i)}function Jn(n,i=Gt.Default){return(function Ti(){return qi}()||fi)(mt(n),i)}function Vr(n,i=Gt.Default){return Jn(n,Nr(i))}function Nr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function fe(n){const i=[];for(let o=0;o<n.length;o++){const u=mt(n[o]);if(Array.isArray(u)){if(0===u.length)throw new Oe(900,!1);let l,h=Gt.Default;for(let v=0;v<u.length;v++){const b=u[v],N=we(b);"number"==typeof N?-1===N?l=b.token:h|=N:l=b}i.push(Jn(l,h))}else i.push(Jn(u))}return i}function le(n,i){return n[Hi]=i,n.prototype[Hi]=i,n}function we(n){return n[Hi]}function bt(n){return{toString:n}.toString()}var Ee=(()=>((Ee=Ee||{})[Ee.OnPush=0]="OnPush",Ee[Ee.Default=1]="Default",Ee))(),pe=(()=>{return(n=pe||(pe={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",pe;var n})();const se={},ve=[],qe=ie({\u0275cmp:ie}),Ne=ie({\u0275dir:ie}),We=ie({\u0275pipe:ie}),Mt=ie({\u0275mod:ie}),Jt=ie({\u0275fac:ie}),rr=ie({__NG_ELEMENT_ID__:ie});let $e=0;function Me(n){return bt(()=>{const i=gs(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ee.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||pe.Emulated,id:"c"+$e++,styles:n.styles||ve,_:null,schemas:n.schemas||null,tView:null};Vo(o);const u=n.dependencies;return o.directiveDefs=go(u,!1),o.pipeDefs=go(u,!0),o})}function zt(n){return Ln(n)||ti(n)}function on(n){return null!==n}function _n(n){return bt(()=>({type:n.type,bootstrap:n.bootstrap||ve,declarations:n.declarations||ve,imports:n.imports||ve,exports:n.exports||ve,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function hr(n,i){if(null==n)return se;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,i&&(i[l]=h)}return o}function Dr(n){return bt(()=>{const i=gs(n);return Vo(i),i})}function os(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ln(n){return n[qe]||null}function ti(n){return n[Ne]||null}function yr(n){return n[We]||null}function as(n){const i=Ln(n)||ti(n)||yr(n);return null!==i&&i.standalone}function Ur(n,i){const o=n[Mt]||null;if(!o&&!0===i)throw new Error(`Type ${xe(n)} does not have '\u0275mod' property.`);return o}function gs(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||ve,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hr(n.inputs,i),outputs:hr(n.outputs)}}function Vo(n){n.features?.forEach(i=>i(n))}function go(n,i){if(!n)return null;const o=i?yr:zt;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(on)}const Ks=0,Nt=1,In=2,Mr=3,bi=4,Si=5,Rr=6,Ai=7,fr=8,Ds=9,ni=10,Dn=11,Ki=12,Zs=13,Yi=14,Qi=15,ri=16,Cr=17,Ji=18,pr=19,Br=20,pi=21,gr=22,bo=1,wt=2,Mi=7,Zi=8,Gi=9,_r=10;function gi(n){return Array.isArray(n)&&"object"==typeof n[bo]}function zi(n){return Array.isArray(n)&&!0===n[bo]}function Xn(n){return 0!=(4&n.flags)}function xi(n){return n.componentOffset>-1}function Cs(n){return 1==(1&n.flags)}function mi(n){return!!n.template}function Ts(n){return 0!=(256&n[In])}function ds(n,i){return n.hasOwnProperty(Jt)?n[Jt]:null}class vo{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ss(){return $r}function $r(n){return n.type.prototype.ngOnChanges&&(n.setInput=Mo),Uo}function Uo(){const n=Xs(this),i=n?.current;if(i){const o=n.previous;if(o===se)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function Mo(n,i,o,u){const l=this.declaredInputs[o],h=Xs(n)||function As(n,i){return n[_i]=i}(n,{previous:se,current:null}),v=h.current||(h.current={}),b=h.previous,N=b[l];v[l]=new vo(N&&N.currentValue,i,b===se),n[u]=i}Ss.ngInherit=!0;const _i="__ngSimpleChanges__";function Xs(n){return n[_i]||null}const jr=function(n,i,o){};function vi(n){for(;Array.isArray(n);)n=n[Ks];return n}function Ei(n,i){return vi(i[n])}function Er(n,i){return vi(i[n.index])}function Bo(n,i){return n.data[i]}function Xi(n,i){return n[i]}function wi(n,i){const o=i[n];return gi(o)?o:o[Ks]}function ai(n){return 64==(64&n[In])}function Eo(n,i){return null==i?null:n[i]}function Jo(n){n[Ji]=0}function to(n,i){n[Si]+=i;let o=n,u=n[Mr];for(;null!==u&&(1===i&&1===o[Si]||-1===i&&0===o[Si]);)u[Si]+=i,o=u,u=u[Mr]}const dn={lFrame:ys(null),bindingsEnabled:!0};function F(){return dn.bindingsEnabled}function ae(){return dn.lFrame.lView}function lt(){return dn.lFrame.tView}function mr(n){return dn.lFrame.contextLView=n,n[fr]}function Yr(n){return dn.lFrame.contextLView=null,n}function wr(){let n=hs();for(;null!==n&&64===n.type;)n=n.parent;return n}function hs(){return dn.lFrame.currentTNode}function Hr(n,i){const o=dn.lFrame;o.currentTNode=n,o.isParent=i}function es(){return dn.lFrame.isParent}function xo(){dn.lFrame.isParent=!1}function Ni(){const n=dn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function wo(){return dn.lFrame.bindingIndex++}function Ri(n){const i=dn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function Da(n,i){const o=dn.lFrame;o.bindingIndex=o.bindingRootIndex=n,Xo(i)}function Xo(n){dn.lFrame.currentDirectiveIndex=n}function fs(){return dn.lFrame.currentQueryIndex}function Ho(n){dn.lFrame.currentQueryIndex=n}function Ca(n){const i=n[Nt];return 2===i.type?i.declTNode:1===i.type?n[Rr]:null}function Po(n,i,o){if(o&Gt.SkipSelf){let l=i,h=n;for(;!(l=l.parent,null!==l||o&Gt.Host||(l=Ca(h),null===l||(h=h[Qi],10&l.type))););if(null===l)return!1;i=l,n=h}const u=dn.lFrame=Na();return u.currentTNode=i,u.lView=n,!0}function ma(n){const i=Na(),o=n[Nt];dn.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Na(){const n=dn.lFrame,i=null===n?null:n.child;return null===i?ys(n):i}function ys(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function ts(){const n=dn.lFrame;return dn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ii=ts;function $s(){const n=ts();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function er(){return dn.lFrame.selectedIndex}function _s(n){dn.lFrame.selectedIndex=n}function sr(){const n=dn.lFrame;return Bo(n.tView,n.selectedIndex)}function $(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:N,ngAfterViewChecked:j,ngOnDestroy:Q}=h;v&&(n.contentHooks??(n.contentHooks=[])).push(-o,v),b&&((n.contentHooks??(n.contentHooks=[])).push(o,b),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,b)),N&&(n.viewHooks??(n.viewHooks=[])).push(-o,N),j&&((n.viewHooks??(n.viewHooks=[])).push(o,j),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,j)),null!=Q&&(n.destroyHooks??(n.destroyHooks=[])).push(o,Q)}}function O(n,i,o){je(n,i,3,o)}function K(n,i,o,u){(3&n[In])===o&&je(n,i,o,u)}function ue(n,i){let o=n[In];(3&o)===i&&(o&=2047,o+=1,n[In]=o)}function je(n,i,o,u){const h=u??-1,v=i.length-1;let b=0;for(let N=void 0!==u?65535&n[Ji]:0;N<v;N++)if("number"==typeof i[N+1]){if(b=i[N],null!=u&&b>=u)break}else i[N]<0&&(n[Ji]+=65536),(b<h||-1==h)&&(Ke(n,o,i,N),n[Ji]=(4294901760&n[Ji])+N+2),N++}function Ke(n,i,o,u){const l=o[u]<0,h=o[u+1],b=n[l?-o[u]:o[u]];if(l){if(n[In]>>11<n[Ji]>>16&&(3&n[In])===i){n[In]+=2048,jr(4,b,h);try{h.call(b)}finally{jr(5,b,h)}}}else{jr(4,b,h);try{h.call(b)}finally{jr(5,b,h)}}}const _t=-1;class Un{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function qt(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const h=o[u++],v=o[u++],b=o[u++];n.setAttribute(i,v,b,h)}else{const h=l,v=o[++u];Tt(h)?n.setProperty(i,h,v):n.setAttribute(i,h,v),u++}}return u}function so(n){return 3===n||4===n||6===n}function Tt(n){return 64===n.charCodeAt(0)}function Ue(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||ot(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function ot(n,i,o,u,l){let h=0,v=n.length;if(-1===i)v=-1;else for(;h<n.length;){const b=n[h++];if("number"==typeof b){if(b===i){v=-1;break}if(b>i){v=h-1;break}}}for(;h<n.length;){const b=n[h];if("number"==typeof b)break;if(b===o){if(null===u)return void(null!==l&&(n[h+1]=l));if(u===n[h+1])return void(n[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==v&&(n.splice(v,0,i),h=v+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==l&&n.splice(h++,0,l)}function ui(n){return n!==_t}function Ps(n){return 32767&n}function ba(n,i){let o=function Ta(n){return n>>16}(n),u=i;for(;o>0;)u=u[Qi],o--;return u}let ya=!0;function na(n){const i=ya;return ya=n,i}const Go=255,Su=5;let Ga=0;const _a={};function vn(n,i){const o=Ro(n,i);if(-1!==o)return o;const u=i[Nt];u.firstCreatePass&&(n.injectorIndex=i.length,zo(u.data,n),zo(i,null),zo(u.blueprint,null));const l=Jr(n,i),h=n.injectorIndex;if(ui(l)){const v=Ps(l),b=ba(l,i),N=b[Nt].data;for(let j=0;j<8;j++)i[h+j]=b[v+j]|N[v+j]}return i[h+8]=l,h}function zo(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Ro(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Jr(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=gn(l),null===u)return _t;if(o++,l=l[Qi],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return _t}function tn(n,i,o){!function _l(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(rr)&&(u=o[rr]),null==u&&(u=o[rr]=Ga++);const l=u&Go;i.data[n+(l>>Su)]|=1<<l}(n,i,o)}function mn(n,i,o){if(o&Gt.Optional||void 0!==n)return n;Sn()}function Xa(n,i,o,u){if(o&Gt.Optional&&void 0===u&&(u=null),!(o&(Gt.Self|Gt.Host))){const l=n[Ds],h=un(void 0);try{return l?l.get(i,u,o&Gt.Optional):Wt(i,u,o&Gt.Optional)}finally{un(h)}}return mn(u,0,o)}function Mn(n,i,o,u=Gt.Default,l){if(null!==n){if(1024&i[In]){const v=function Ut(n,i,o,u,l){let h=n,v=i;for(;null!==h&&null!==v&&1024&v[In]&&!(256&v[In]);){const b=S(h,v,o,u|Gt.Self,_a);if(b!==_a)return b;let N=h.parent;if(!N){const j=v[pi];if(j){const Q=j.get(o,_a,u);if(Q!==_a)return Q}N=gn(v),v=v[Qi]}h=N}return l}(n,i,o,u,_a);if(v!==_a)return v}const h=S(n,i,o,u,_a);if(h!==_a)return h}return Xa(i,o,u,l)}function S(n,i,o,u,l){const h=function z(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(rr)?n[rr]:void 0;return"number"==typeof i?i>=0?i&Go:ke:i}(o);if("function"==typeof h){if(!Po(i,n,u))return u&Gt.Host?mn(l,0,u):Xa(i,o,u,l);try{const v=h(u);if(null!=v||u&Gt.Optional)return v;Sn()}finally{ii()}}else if("number"==typeof h){let v=null,b=Ro(n,i),N=_t,j=u&Gt.Host?i[ri][Rr]:null;for((-1===b||u&Gt.SkipSelf)&&(N=-1===b?Jr(n,i):i[b+8],N!==_t&&ge(u,!1)?(v=i[Nt],b=Ps(N),i=ba(N,i)):b=-1);-1!==b;){const Q=i[Nt];if(te(h,b,Q.data)){const oe=g(b,i,o,v,u,j);if(oe!==_a)return oe}N=i[b+8],N!==_t&&ge(u,i[Nt].data[b+8]===j)&&te(h,b,i)?(v=Q,b=Ps(N),i=ba(N,i)):b=-1}}return l}function g(n,i,o,u,l,h){const v=i[Nt],b=v.data[n+8],Q=y(b,v,o,null==u?xi(b)&&ya:u!=v&&0!=(3&b.type),l&Gt.Host&&h===b);return null!==Q?x(i,v,Q,b):_a}function y(n,i,o,u,l){const h=n.providerIndexes,v=i.data,b=1048575&h,N=n.directiveStart,Q=h>>20,Ie=l?b+Q:n.directiveEnd;for(let Le=u?b:b+Q;Le<Ie;Le++){const it=v[Le];if(Le<N&&o===it||Le>=N&&it.type===o)return Le}if(l){const Le=v[N];if(Le&&mi(Le)&&Le.type===o)return N}return null}function x(n,i,o,u){let l=n[o];const h=i.data;if(function Nn(n){return n instanceof Un}(l)){const v=l;v.resolving&&function At(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${n}${o}`)}(function ct(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():He(n)}(h[o]));const b=na(v.canSeeViewProviders);v.resolving=!0;const N=v.injectImpl?un(v.injectImpl):null;Po(n,u,Gt.Default);try{l=n[o]=v.factory(void 0,h,n,u),i.firstCreatePass&&o>=u.directiveStart&&function M(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=i.type.prototype;if(u){const v=$r(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,v)}l&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,l),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],i)}finally{null!==N&&un(N),na(b),v.resolving=!1,ii()}}return l}function te(n,i,o){return!!(o[i+(n>>Su)]&1<<n)}function ge(n,i){return!(n&Gt.Self||n&Gt.Host&&i)}class me{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return Mn(this._tNode,this._lView,i,Nr(u),o)}}function ke(){return new me(wr(),ae())}function Ze(n){return bt(()=>{const i=n.prototype.constructor,o=i[Jt]||yt(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const h=l[Jt]||yt(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function yt(n){return fn(n)?()=>{const i=yt(mt(n));return i&&i()}:ds(n)}function gn(n){const i=n[Nt],o=i.type;return 2===o?i.declTNode:1===o?n[Rr]:null}function xn(n){return function Sa(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(so(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===i)return o[l+1];l+=2}}}return null}(wr(),n)}const yn="__parameters__";function Ii(n,i,o){return bt(()=>{const u=function ur(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...h){if(this instanceof l)return u.apply(this,h),this;const v=new l(...h);return b.annotation=v,b;function b(N,j,Q){const oe=N.hasOwnProperty(yn)?N[yn]:Object.defineProperty(N,yn,{value:[]})[yn];for(;oe.length<=Q;)oe.push(null);return(oe[Q]=oe[Q]||[]).push(v),N}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Yn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Fn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Vi(n,i){n.forEach(o=>Array.isArray(o)?Vi(o,i):i(o))}function oo(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Or(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Hs(n,i,o){let u=D(n,i);return u>=0?n[1|u]=o:(u=~u,function Ko(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function E(n,i){const o=D(n,i);if(o>=0)return n[1|o]}function D(n,i){return function A(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const h=u+(l-u>>1),v=n[h<<o];if(i===v)return h<<o;v>i?l=h:u=h+1}return~(l<<o)}(n,i,1)}const zr=le(Ii("Optional"),8),Es=le(Ii("SkipSelf"),4);var Os=(()=>((Os=Os||{})[Os.Important=1]="Important",Os[Os.DashCase=2]="DashCase",Os))();const vl=new Map;let El=0;const St="__ngContext__";function Ft(n,i){gi(i)?(n[St]=i[Br],function P(n){vl.set(n[Br],n)}(i)):n[St]=i}let Qd;function lc(n,i){return Qd(n,i)}function La(n){const i=n[Mr];return zi(i)?i[Mr]:i}function Kc(n){return su(n[Zs])}function wl(n){return su(n[bi])}function su(n){for(;null!==n&&!zi(n);)n=n[bi];return n}function el(n,i,o,u,l){if(null!=u){let h,v=!1;zi(u)?h=u:gi(u)&&(v=!0,u=u[Ks]);const b=vi(u);0===n&&null!==o?null==l?yu(i,o,b):uo(i,o,b,l||null,!0):1===n&&null!==o?uo(i,o,b,l||null,!0):2===n?function ih(n,i,o){const u=hc(n,i);u&&function ff(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,b,v):3===n&&i.destroyNode(b),null!=h&&function Jc(n,i,o,u,l){const h=o[Mi];h!==vi(o)&&el(i,n,u,h,l);for(let b=_r;b<o.length;b++){const N=o[b];Cl(N[Nt],N,n,i,u,h)}}(i,n,h,o,l)}}function tl(n,i,o){return n.createElement(i,o)}function hf(n,i){const o=n[Gi],u=o.indexOf(i),l=i[Mr];512&i[In]&&(i[In]&=-513,to(l,-1)),o.splice(u,1)}function rl(n,i){if(n.length<=_r)return;const o=_r+i,u=n[o];if(u){const l=u[Cr];null!==l&&l!==n&&hf(l,u),i>0&&(n[o-1][bi]=u[bi]);const h=Or(n,_r+i);!function eh(n,i){Cl(n,i,i[Dn],2,null,null),i[Ks]=null,i[Rr]=null}(u[Nt],u);const v=h[pr];null!==v&&v.detachView(h[Nt]),u[Mr]=null,u[bi]=null,u[In]&=-65}return u}function dc(n,i){if(!(128&i[In])){const o=i[Dn];o.destroyNode&&Cl(n,i,o,3,null,null),function cc(n){let i=n[Zs];if(!i)return Dl(n[Nt],n);for(;i;){let o=null;if(gi(i))o=i[Zs];else{const u=i[_r];u&&(o=u)}if(!o){for(;i&&!i[bi]&&i!==n;)gi(i)&&Dl(i[Nt],i),i=i[Mr];null===i&&(i=n),gi(i)&&Dl(i[Nt],i),o=i&&i[bi]}i=o}}(i)}}function Dl(n,i){if(!(128&i[In])){i[In]&=-65,i[In]|=128,function nh(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof Un)){const h=o[u+1];if(Array.isArray(h))for(let v=0;v<h.length;v+=2){const b=l[h[v]],N=h[v+1];jr(4,b,N);try{N.call(b)}finally{jr(5,b,N)}}else{jr(4,l,h);try{h.call(l)}finally{jr(5,l,h)}}}}}(n,i),function Zc(n,i){const o=n.cleanup,u=i[Ai];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const v=o[h+3];v>=0?u[l=v]():u[l=-v].unsubscribe(),h+=2}else{const v=u[l=o[h+1]];o[h].call(v)}if(null!==u){for(let h=l+1;h<u.length;h++)(0,u[h])();i[Ai]=null}}(n,i),1===i[Nt].type&&i[Dn].destroy();const o=i[Cr];if(null!==o&&zi(i[Mr])){o!==i[Mr]&&hf(o,i);const u=i[pr];null!==u&&u.detachView(n)}!function ne(n){vl.delete(n[Br])}(i)}}function mu(n,i,o){return function Yc(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[Ks];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:h}=n.data[u.directiveStart+l];if(h===pe.None||h===pe.Emulated)return null}return Er(u,o)}}(n,i.parent,o)}function uo(n,i,o,u,l){n.insertBefore(i,o,u,l)}function yu(n,i,o){n.appendChild(i,o)}function ku(n,i,o,u,l){null!==u?uo(n,i,o,u,l):yu(n,i,o)}function hc(n,i){return n.parentNode(i)}let fc,ah,uh,tr=function Fp(n,i,o){return 40&n.type?Er(n,o):null};function sl(n,i,o,u){const l=mu(n,u,i),h=i[Dn],b=function pf(n,i,o){return tr(n,i,o)}(u.parent||i[Rr],u,i);if(null!=l)if(Array.isArray(o))for(let N=0;N<o.length;N++)ku(h,l,o[N],b,!1);else ku(h,l,o,b,!1);void 0!==fc&&fc(h,u,i,o,l)}function Qc(n,i){if(null!==i){const o=i.type;if(3&o)return Er(i,n);if(4&o)return Fu(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return Qc(n,u);{const l=n[i.index];return zi(l)?Fu(-1,l):vi(l)}}if(32&o)return lc(i,n)()||vi(n[i.index]);{const u=pc(n,i);return null!==u?Array.isArray(u)?u[0]:Qc(La(n[ri]),u):Qc(n,i.next)}}return null}function pc(n,i){return null!==i?n[ri][Rr].projection[i.projection]:null}function Fu(n,i){const o=_r+n+1;if(o<i.length){const u=i[o],l=u[Nt].firstChild;if(null!==l)return Qc(u,l)}return i[Mi]}function ol(n,i,o,u,l,h,v){for(;null!=o;){const b=u[o.index],N=o.type;if(v&&0===i&&(b&&Ft(vi(b),u),o.flags|=2),32!=(32&o.flags))if(8&N)ol(n,i,o.child,u,l,h,!1),el(i,n,l,b,h);else if(32&N){const j=lc(o,u);let Q;for(;Q=j();)el(i,n,l,Q,h);el(i,n,l,b,h)}else 16&N?ou(n,i,u,o,l,h):el(i,n,l,b,h);o=v?o.projectionNext:o.next}}function Cl(n,i,o,u,l,h){ol(o,u,n.firstChild,i,l,h,!1)}function ou(n,i,o,u,l,h){const v=o[ri],N=v[Rr].projection[u.projection];if(Array.isArray(N))for(let j=0;j<N.length;j++)el(i,n,l,N[j],h);else ol(n,i,N,v[Mr],l,h,!0)}function al(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Xc(n,i,o){const{mergedAttrs:u,classes:l,styles:h}=o;null!==u&&qt(n,i,u),null!==l&&al(n,i,l),null!==h&&function Lp(n,i,o){n.setAttribute(i,"style",o)}(n,i,h)}function Vp(n){ah=n}function ed(n){return function xl(){if(void 0===uh&&(uh=null,Gn.trustedTypes))try{uh=Gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return uh}()?.createScriptURL(n)||n}class gc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wn})`}}function au(n){return n instanceof gc?n.changingThisBreaksApplicationSecurity:n}function ul(n,i){const o=function Up(n){return n instanceof gc&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${wn})`)}return o===i}const vf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ci=(()=>((ci=ci||{})[ci.NONE=0]="NONE",ci[ci.HTML=1]="HTML",ci[ci.STYLE=2]="STYLE",ci[ci.SCRIPT=3]="SCRIPT",ci[ci.URL=4]="URL",ci[ci.RESOURCE_URL=5]="RESOURCE_URL",ci))();function vc(n){const i=Fl();return i?i.sanitize(ci.URL,n)||"":ul(n,"URL")?au(n):function mc(n){return(n=String(n)).match(vf)?n:"unsafe:"+n}(He(n))}function Df(n){const i=Fl();if(i)return ed(i.sanitize(ci.RESOURCE_URL,n)||"");if(ul(n,"ResourceURL"))return ed(au(n));throw new Oe(904,!1)}function ll(n,i,o){return function Cf(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Df:vc}(i,o)(n)}function Fl(){const n=ae();return n&&n[Ki]}const Ec=new Yn("ENVIRONMENT_INITIALIZER"),_h=new Yn("INJECTOR",-1),vh=new Yn("INJECTOR_DEF_TYPES");class Eh{get(i,o=cr){if(o===cr){const u=new Error(`NullInjectorError: No provider for ${xe(i)}!`);throw u.name="NullInjectorError",u}return o}}function Gp(...n){return{\u0275providers:bf(0,n),\u0275fromNgModule:!0}}function bf(n,...i){const o=[],u=new Set;let l;return Vi(i,h=>{const v=h;cl(v,o,[],u)&&(l||(l=[]),l.push(v))}),void 0!==l&&wu(l,o),o}function wu(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];Ll(l,h=>{i.push(h)})}}function cl(n,i,o,u){if(!(n=mt(n)))return!1;let l=null,h=Ar(n);const v=!h&&Ln(n);if(h||v){if(v&&!v.standalone)return!1;l=n}else{const N=n.ngModule;if(h=Ar(N),!h)return!1;l=N}const b=u.has(l);if(v){if(b)return!1;if(u.add(l),v.dependencies){const N="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const j of N)cl(j,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!b){let j;u.add(l);try{Vi(h.imports,Q=>{cl(Q,i,o,u)&&(j||(j=[]),j.push(Q))})}finally{}void 0!==j&&wu(j,i)}if(!b){const j=ds(l)||(()=>new l);i.push({provide:l,useFactory:j,deps:ve},{provide:vh,useValue:l,multi:!0},{provide:Ec,useValue:()=>Jn(l),multi:!0})}const N=h.providers;null==N||b||Ll(N,Q=>{i.push(Q)})}}return l!==n&&void 0!==n.providers}function Ll(n,i){for(let o of n)Vt(o)&&(o=o.\u0275providers),Array.isArray(o)?Ll(o,i):i(o)}const Af=ie({provide:String,useValue:ie});function uu(n){return null!==n&&"object"==typeof n&&Af in n}function Uu(n){return"function"==typeof n}const Iu=new Yn("Set Injector scope."),lu={},dl={};let hl;function ld(){return void 0===hl&&(hl=new Eh),hl}class Bu{}class wh extends Bu{get destroyed(){return this._destroyed}constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ch(i,v=>this.processProvider(v)),this.records.set(_h,fl(void 0,this)),l.has("environment")&&this.records.set(Bu,fl(void 0,this));const h=this.records.get(Iu);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(vh.multi,ve,Gt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=en(this),u=un(void 0);try{return i()}finally{en(o),un(u)}}get(i,o=cr,u=Gt.Default){this.assertNotDestroyed(),u=Nr(u);const l=en(this),h=un(void 0);try{if(!(u&Gt.SkipSelf)){let b=this.records.get(i);if(void 0===b){const N=function Vl(n){return"function"==typeof n||"object"==typeof n&&n instanceof Yn}(i)&&Xr(i);b=N&&this.injectableDefInScope(N)?fl(Ih(i),lu):null,this.records.set(i,b)}if(null!=b)return this.hydrate(i,b)}return(u&Gt.Self?ld():this.parent).get(i,o=u&Gt.Optional&&o===cr?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[Kn]=v[Kn]||[]).unshift(xe(i)),l)throw v;return function Ye(n,i,o,u){const l=n[Kn];throw i[nr]&&l.unshift(i[nr]),n.message=function Re(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==dr?n.slice(2):n;let l=xe(i);if(Array.isArray(i))l=i.map(xe).join(" -> ");else if("object"==typeof i){let h=[];for(let v in i)if(i.hasOwnProperty(v)){let b=i[v];h.push(v+":"+("string"==typeof b?JSON.stringify(b):xe(b)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(Qn,"\n  ")}`}("\n"+n.message,l,o,u),n[po]=l,n[Kn]=null,n}(v,i,"R3InjectorError",this.source)}throw v}finally{un(h),en(l)}}resolveInjectorInitializers(){const i=en(this),o=un(void 0);try{const u=this.get(Ec.multi,ve,Gt.Self);for(const l of u)l()}finally{en(i),un(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(xe(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processProvider(i){let o=Uu(i=mt(i))?i:mt(i&&i.provide);const u=function wm(n){return uu(n)?fl(void 0,n.useValue):fl(xf(n),lu)}(i);if(Uu(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=fl(void 0,lu,!0),l.factory=()=>fe(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===lu&&(o.value=dl,o.value=o.factory()),"object"==typeof o.value&&o.value&&function cd(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=mt(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Ih(n){const i=Xr(n),o=null!==i?i.factory:ds(n);if(null!==o)return o;if(n instanceof Yn)throw new Oe(204,!1);if(n instanceof Function)return function zp(n){const i=n.length;if(i>0)throw function ra(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new Oe(204,!1);const o=function cn(n){return n&&(n[Zr]||n[di])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Oe(204,!1)}function xf(n,i,o){let u;if(Uu(n)){const l=mt(n);return ds(l)||Ih(l)}if(uu(n))u=()=>mt(n.useValue);else if(function Mf(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...fe(n.deps||[]));else if(function wc(n){return!(!n||!n.useExisting)}(n))u=()=>Jn(mt(n.useExisting));else{const l=mt(n&&(n.useClass||n.provide));if(!function Dh(n){return!!n.deps}(n))return ds(l)||Ih(l);u=()=>new l(...fe(n.deps))}return u}function fl(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Ch(n,i){for(const o of n)Array.isArray(o)?Ch(o,i):o&&Vt(o)?Ch(o.\u0275providers,i):i(o)}class Wp{}class qp{}class Ul{resolveComponentFactory(i){throw function Im(n){const i=Error(`No component factory found for ${xe(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let qa=(()=>{class n{}return n.NULL=new Ul,n})();function Zp(){return Ic(wr(),ae())}function Ic(n,i){return new Dc(Er(n,i))}let Dc=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Zp,n})();function Dm(n){return n instanceof Dc?n.nativeElement:n}class dd{}let Pf=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Yp(){const n=ae(),o=wi(wr().index,n);return(gi(o)?o:n)[Dn]}(),n})(),Nf=(()=>{class n{}return n.\u0275prov=Fn({token:n,providedIn:"root",factory:()=>null}),n})();class bh{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Rf=new bh("15.2.8"),Cc={},Of="ngOriginalError";function Tc(n){return n[Of]}class hd{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Tc(i);for(;o&&Tc(o);)o=Tc(o);return o||null}}function Ka(n){return n instanceof Function?n():n}function eg(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=i.length;if(l+h===u||n.charCodeAt(l+h)<=32)return l}o=l+1}}const jl="ng-template";function tg(n,i,o){let u=0,l=!0;for(;u<n.length;){let h=n[u++];if("string"==typeof h&&l){const v=n[u++];if(o&&"class"===h&&-1!==eg(v.toLowerCase(),i,0))return!0}else{if(1===h){for(;u<n.length&&"string"==typeof(h=n[u++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function $u(n){return 4===n.type&&n.value!==jl}function _(n,i,o){return i===(4!==n.type||o?n.value:jl)}function d(n,i,o){let u=4;const l=n.attrs||[],h=function _e(n){for(let i=0;i<n.length;i++)if(so(n[i]))return i;return n.length}(l);let v=!1;for(let b=0;b<i.length;b++){const N=i[b];if("number"!=typeof N){if(!v)if(4&u){if(u=2|1&u,""!==N&&!_(n,N,o)||""===N&&1===i.length){if(p(u))return!1;v=!0}}else{const j=8&u?N:i[++b];if(8&u&&null!==n.attrs){if(!tg(n.attrs,j,o)){if(p(u))return!1;v=!0}continue}const oe=I(8&u?"class":N,l,$u(n),o);if(-1===oe){if(p(u))return!1;v=!0;continue}if(""!==j){let Ie;Ie=oe>h?"":l[oe+1].toLowerCase();const Le=8&u?Ie:null;if(Le&&-1!==eg(Le,j,0)||2&u&&j!==Ie){if(p(u))return!1;v=!0}}}}else{if(!v&&!p(u)&&!p(N))return!1;if(v&&p(N))continue;v=!1,u=N|1&u}}return p(u)||v}function p(n){return 0==(1&n)}function I(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let h=!1;for(;l<i.length;){const v=i[l];if(v===n)return l;if(3===v||6===v)h=!0;else{if(1===v||2===v){let b=i[++l];for(;"string"==typeof b;)b=i[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=h?1:2}return-1}return function Pe(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function B(n,i,o=!1){for(let u=0;u<i.length;u++)if(d(n,i[u],o))return!0;return!1}function Lt(n,i){return n?":not("+i.trim()+")":i}function hn(n){let i=n[0],o=1,u=2,l="",h=!1;for(;o<n.length;){let v=n[o];if("string"==typeof v)if(2&u){const b=n[++o];l+="["+v+(b.length>0?'="'+b+'"':"")+"]"}else 8&u?l+="."+v:4&u&&(l+=" "+v);else""!==l&&!p(v)&&(i+=Lt(h,l),l=""),u=v,h=h||!p(u);o++}return""!==l&&(i+=Lt(h,l)),i}const Tn={};function Hl(n){md(lt(),ae(),er()+n,!1)}function md(n,i,o,u){if(!u)if(3==(3&i[In])){const h=n.preOrderCheckHooks;null!==h&&O(i,h,o)}else{const h=n.preOrderHooks;null!==h&&K(i,h,0,o)}_s(o)}function Ed(n,i=null,o=null,u){const l=wd(n,i,o,u);return l.resolveInjectorInitializers(),l}function wd(n,i=null,o=null,u,l=new Set){const h=[o||ve,Gp(n)];return u=u||("object"==typeof n?void 0:xe(n)),new wh(h,i||ld(),u||null,l)}let Sc=(()=>{class n{static create(o,u){if(Array.isArray(o))return Ed({name:""},u,o,"");{const l=o.name??"";return Ed({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=cr,n.NULL=new Eh,n.\u0275prov=Fn({token:n,providedIn:"any",factory:()=>Jn(_h)}),n.__NG_ELEMENT_ID__=-1,n})();function Ac(n,i=Gt.Default){const o=ae();return null===o?Jn(n,i):Mn(wr(),o,mt(n),i)}function ag(){throw new Error("invalid")}function Nh(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const v=n.data[h];Ho(o[u]),v.contentQueries(2,i[h],h)}}}function Sd(n,i,o,u,l,h,v,b,N,j,Q){const oe=i.blueprint.slice();return oe[Ks]=l,oe[In]=76|u,(null!==Q||n&&1024&n[In])&&(oe[In]|=1024),Jo(oe),oe[Mr]=oe[Qi]=n,oe[fr]=o,oe[ni]=v||n&&n[ni],oe[Dn]=b||n&&n[Dn],oe[Ki]=N||n&&n[Ki]||null,oe[Ds]=j||n&&n[Ds]||null,oe[Rr]=h,oe[Br]=function C(){return El++}(),oe[pi]=Q,oe[ri]=2==i.type?n[ri]:oe,oe}function Gl(n,i,o,u,l){let h=n.data[i];if(null===h)h=function Oh(n,i,o,u,l){const h=hs(),v=es(),N=n.data[i]=function fg(n,i,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?h:h&&h.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=N),null!==h&&(v?null==h.child&&null!==N.parent&&(h.child=N):null===h.next&&(h.next=N,N.prev=h)),N}(n,i,o,u,l),function Oi(){return dn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const v=function io(){const n=dn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===v?-1:v.injectorIndex}return Hr(h,!0),h}function Ad(n,i,o,u){if(0===o)return-1;const l=i.length;for(let h=0;h<o;h++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function lg(n,i,o){ma(i);try{const u=n.viewQuery;null!==u&&Ig(1,u,o);const l=n.template;null!==l&&Fh(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Nh(n,i),n.staticViewQueries&&Ig(2,n.viewQuery,o);const h=n.components;null!==h&&function qf(n,i){for(let o=0;o<i.length;o++)n_(n,i[o])}(i,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[In]&=-5,$s()}}function kh(n,i,o,u){const l=i[In];if(128!=(128&l)){ma(i);try{Jo(i),function jo(n){return dn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Fh(n,i,o,2,u);const v=3==(3&l);if(v){const j=n.preOrderCheckHooks;null!==j&&O(i,j,null)}else{const j=n.preOrderHooks;null!==j&&K(i,j,0,null),ue(i,0)}if(function Lm(n){for(let i=Kc(n);null!==i;i=wl(i)){if(!i[wt])continue;const o=i[Gi];for(let u=0;u<o.length;u++){const l=o[u];512&l[In]||to(l[Mr],1),l[In]|=512}}}(i),function wg(n){for(let i=Kc(n);null!==i;i=wl(i))for(let o=_r;o<i.length;o++){const u=i[o],l=u[Nt];ai(u)&&kh(l,u,l.template,u[fr])}}(i),null!==n.contentQueries&&Nh(n,i),v){const j=n.contentCheckHooks;null!==j&&O(i,j)}else{const j=n.contentHooks;null!==j&&K(i,j,1),ue(i,1)}!function ug(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)_s(~l);else{const h=l,v=o[++u],b=o[++u];Da(v,h),b(2,i[h])}}}finally{_s(-1)}}(n,i);const b=n.components;null!==b&&function Rh(n,i){for(let o=0;o<i.length;o++)Nd(n,i[o])}(i,b);const N=n.viewQuery;if(null!==N&&Ig(2,N,u),v){const j=n.viewCheckHooks;null!==j&&O(i,j)}else{const j=n.viewHooks;null!==j&&K(i,j,2),ue(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[In]&=-41,512&i[In]&&(i[In]&=-513,to(i[Mr],-1))}finally{$s()}}}function Fh(n,i,o,u,l){const h=er(),v=2&u;try{_s(-1),v&&i.length>gr&&md(n,i,gr,!1),jr(v?2:0,l),o(u,l)}finally{_s(h),jr(v?3:1,l)}}function Lh(n,i,o){if(Xn(i)){const l=i.directiveEnd;for(let h=i.directiveStart;h<l;h++){const v=n.data[h];v.contentQueries&&v.contentQueries(1,o[h],h)}}}function cg(n,i,o){F()&&(function Yf(n,i,o,u){const l=o.directiveStart,h=o.directiveEnd;xi(o)&&function vg(n,i,o){const u=Er(i,n),l=ua(o),h=n[ni],v=jh(n,Sd(n,l,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));n[i.index]=v}(i,o,n.data[l+o.componentOffset]),n.firstCreatePass||vn(o,i),Ft(u,i);const v=o.initialInputs;for(let b=l;b<h;b++){const N=n.data[b],j=x(i,n,b,o);Ft(j,i),null!==v&&t_(0,b-l,j,N,0,v),mi(N)&&(wi(o.index,i)[fr]=x(i,n,b,o))}}(n,i,o,Er(o,i)),64==(64&o.flags)&&Pd(n,i,o))}function dg(n,i,o=Er){const u=i.localNames;if(null!==u){let l=i.index+1;for(let h=0;h<u.length;h+=2){const v=u[h+1],b=-1===v?o(i,n):n[v];n[l++]=b}}}function ua(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=hg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function hg(n,i,o,u,l,h,v,b,N,j){const Q=gr+u,oe=Q+l,Ie=function Rm(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:Tn);return o}(Q,oe),Le="function"==typeof j?j():j;return Ie[Nt]={type:n,blueprint:Ie,template:o,queries:null,viewQuery:b,declTNode:i,data:Ie.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:N,consts:Le,incompleteFirstPass:!1}}function Md(n,i,o,u){const l=Bm(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&Jf(n).push(u,l.length-1))}function pg(n,i,o,u){for(let l in n)if(n.hasOwnProperty(l)){o=null===o?{}:o;const h=n[l];null===u?Om(o,i,l,h):u.hasOwnProperty(l)&&Om(o,i,u[l],h)}return o}function Om(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function Za(n,i,o,u,l,h,v,b){const N=Er(i,o);let Q,j=i.inputs;!b&&null!=j&&(Q=j[u])?(ep(n,o,Q,u,l),xi(i)&&function gg(n,i){const o=wi(i,n);16&o[In]||(o[In]|=32)}(o,i.index)):3&i.type&&(u=function Jy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=v?v(l,i.value||"",u):l,h.setProperty(N,u,l))}function Mc(n,i,o,u){if(F()){const l=null===u?null:{"":-1},h=function km(n,i){const o=n.directiveRegistry;let u=null,l=null;if(o)for(let h=0;h<o.length;h++){const v=o[h];if(B(i,v.selectors,!1))if(u||(u=[]),mi(v))if(null!==v.findHostDirectiveDefs){const b=[];l=l||new Map,v.findHostDirectiveDefs(v,b,l),u.unshift(...b,v),Vh(n,i,b.length)}else u.unshift(v),Vh(n,i,0);else l=l||new Map,v.findHostDirectiveDefs?.(v,u,l),u.push(v)}return null===u?null:[u,l]}(n,o);let v,b;null===h?v=b=null:[v,b]=h,null!==v&&Zf(n,i,o,v,l,b),l&&function _g(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const h=o[i[l+1]];if(null==h)throw new Oe(-301,!1);u.push(i[l],h)}}}(o,u,l)}o.mergedAttrs=Ue(o.mergedAttrs,o.attrs)}function Zf(n,i,o,u,l,h){for(let j=0;j<u.length;j++)tn(vn(o,i),n,u[j].type);!function Fm(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let j=0;j<u.length;j++){const Q=u[j];Q.providersResolver&&Q.providersResolver(Q)}let v=!1,b=!1,N=Ad(n,i,u.length,null);for(let j=0;j<u.length;j++){const Q=u[j];o.mergedAttrs=Ue(o.mergedAttrs,Q.hostAttrs),e_(n,o,i,N,Q),zl(N,Q,l),null!==Q.contentQueries&&(o.flags|=4),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(o.flags|=64);const oe=Q.type.prototype;!v&&(oe.ngOnChanges||oe.ngOnInit||oe.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),v=!0),!b&&(oe.ngOnChanges||oe.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),b=!0),N++}!function Qy(n,i,o){const l=i.directiveEnd,h=n.data,v=i.attrs,b=[];let N=null,j=null;for(let Q=i.directiveStart;Q<l;Q++){const oe=h[Q],Ie=o?o.get(oe):null,it=Ie?Ie.outputs:null;N=pg(oe.inputs,Q,N,Ie?Ie.inputs:null),j=pg(oe.outputs,Q,j,it);const It=null===N||null===v||$u(i)?null:Eg(N,Q,v);b.push(It)}null!==N&&(N.hasOwnProperty("class")&&(i.flags|=8),N.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=b,i.inputs=N,i.outputs=j}(n,o,h)}function Pd(n,i,o){const u=o.directiveStart,l=o.directiveEnd,h=o.index,v=function An(){return dn.lFrame.currentDirectiveIndex}();try{_s(h);for(let b=u;b<l;b++){const N=n.data[b],j=i[b];Xo(b),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&yg(N,j)}}finally{_s(-1),Xo(v)}}function yg(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Vh(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function zl(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;mi(i)&&(o[""]=n)}}function e_(n,i,o,u,l){n.data[u]=l;const h=l.factory||(l.factory=ds(l.type)),v=new Un(h,mi(l),Ac);n.blueprint[u]=v,o[u]=v,function xd(n,i,o,u,l){const h=l.hostBindings;if(h){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const b=~i.index;(function mg(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(v)!=b&&v.push(b),v.push(o,u,h)}}(n,i,u,Ad(n,o,l.hostVars,Tn),l)}function ju(n,i,o,u,l,h){const v=Er(n,i);!function Uh(n,i,o,u,l,h,v){if(null==h)n.removeAttribute(i,l,o);else{const b=null==v?He(h):v(h,u||"",l);n.setAttribute(i,l,b,o)}}(i[Dn],v,h,n.value,o,u,l)}function t_(n,i,o,u,l,h){const v=h[i];if(null!==v){const b=u.setInput;for(let N=0;N<v.length;){const j=v[N++],Q=v[N++],oe=v[N++];null!==b?u.setInput(o,oe,j,Q):o[Q]=oe}}}function Eg(n,i,o){let u=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===u&&(u=[]);const v=n[h];for(let b=0;b<v.length;b+=2)if(v[b]===i){u.push(h,v[b+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function Bh(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function Nd(n,i){const o=wi(i,n);if(ai(o)){const u=o[Nt];48&o[In]?kh(u,o,u.template,o[fr]):o[Si]>0&&$h(o)}}function $h(n){for(let u=Kc(n);null!==u;u=wl(u))for(let l=_r;l<u.length;l++){const h=u[l];if(ai(h))if(512&h[In]){const v=h[Nt];kh(v,h,v.template,h[fr])}else h[Si]>0&&$h(h)}const o=n[Nt].components;if(null!==o)for(let u=0;u<o.length;u++){const l=wi(o[u],n);ai(l)&&l[Si]>0&&$h(l)}}function n_(n,i){const o=wi(i,n),u=o[Nt];(function r_(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),lg(u,o,o[fr])}function jh(n,i){return n[Zs]?n[Yi][bi]=i:n[Zs]=i,n[Yi]=i,i}function Hh(n){for(;n;){n[In]|=32;const i=La(n);if(Ts(n)&&!i)return n;n=i}return null}function Qf(n,i,o,u=!0){const l=i[ni];l.begin&&l.begin();try{kh(n,i,n.template,o)}catch(v){throw u&&Xf(i,v),v}finally{l.end&&l.end()}}function Ig(n,i,o){Ho(0),i(n,o)}function Bm(n){return n[Ai]||(n[Ai]=[])}function Jf(n){return n.cleanup||(n.cleanup=[])}function Xf(n,i){const o=n[Ds],u=o?o.get(hd,null):null;u&&u.handleError(i)}function ep(n,i,o,u,l){for(let h=0;h<o.length;){const v=o[h++],b=o[h++],N=i[v],j=n.data[v];null!==j.setInput?j.setInput(N,l,u,b):N[b]=l}}function Rd(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,h=0;if(null!==i)for(let v=0;v<i.length;v++){const b=i[v];"number"==typeof b?h=b:1==h?l=rt(l,b):2==h&&(u=rt(u,b+": "+i[++v]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function Od(n,i,o,u,l=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(vi(h)),zi(h))for(let b=_r;b<h.length;b++){const N=h[b],j=N[Nt].firstChild;null!==j&&Od(N[Nt],N,j,u)}const v=o.type;if(8&v)Od(n,i,o.child,u);else if(32&v){const b=lc(o,i);let N;for(;N=b();)u.push(N)}else if(16&v){const b=pc(i,o);if(Array.isArray(b))u.push(...b);else{const N=La(i[ri]);Od(N[Nt],N,b,u,!0)}}o=l?o.projectionNext:o.next}return u}class Hu{get rootNodes(){const i=this._lView,o=i[Nt];return Od(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fr]}set context(i){this._lView[fr]=i}get destroyed(){return 128==(128&this._lView[In])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Mr];if(zi(i)){const o=i[Zi],u=o?o.indexOf(this):-1;u>-1&&(rl(i,u),Or(o,u))}this._attachedToViewContainer=!1}dc(this._lView[Nt],this._lView)}onDestroy(i){Md(this._lView[Nt],this._lView,null,i)}markForCheck(){Hh(this._cdRefInjectingView||this._lView)}detach(){this._lView[In]&=-65}reattach(){this._lView[In]|=64}detectChanges(){Qf(this._lView[Nt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function oa(n,i){Cl(n,i,i[Dn],2,null,null)}(this._lView[Nt],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Oe(902,!1);this._appRef=i}}class Wl extends Hu{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Qf(i[Nt],i,i[fr],!1)}checkNoChanges(){}get context(){return null}}class tp extends qa{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Ln(i);return new Gu(o,this.ngModule)}}function xc(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class jm{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=Nr(u);const l=this.injector.get(i,Cc,u);return l!==Cc||o===Cc?l:this.parentInjector.get(i,o,u)}}class Gu extends qp{get inputs(){return xc(this.componentDef.inputs)}get outputs(){return xc(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Bn(n){return n.map(hn).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,l){let h=(l=l||this.ngModule)instanceof Bu?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const v=h?new jm(i,h):i,b=v.get(dd,null);if(null===b)throw new Oe(407,!1);const N=v.get(Nf,null),j=b.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",oe=u?function Kf(n,i,o){return n.selectRootElement(i,o===pe.ShadowDom)}(j,u,this.componentDef.encapsulation):tl(j,Q,function kd(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(Q)),Ie=this.componentDef.onPush?288:272,Le=hg(0,null,null,1,0,null,null,null,null,null),it=Sd(null,Le,null,Ie,null,null,b,j,N,v,null);let It,Kt;ma(it);try{const an=this.componentDef;let Rn,Et=null;an.findHostDirectiveDefs?(Rn=[],Et=new Map,an.findHostDirectiveDefs(an,Rn,Et),Rn.push(an)):Rn=[an];const ar=function Dg(n,i){const o=n[Nt],u=gr;return n[u]=i,Gl(o,u,2,"#host",null)}(it,oe),qs=function Cg(n,i,o,u,l,h,v,b){const N=l[Nt];!function Tg(n,i,o,u){for(const l of n)i.mergedAttrs=Ue(i.mergedAttrs,l.hostAttrs);null!==i.mergedAttrs&&(Rd(i,i.mergedAttrs,!0),null!==o&&Xc(u,o,i))}(u,n,i,v);const j=h.createRenderer(i,o),Q=Sd(l,ua(o),null,o.onPush?32:16,l[n.index],n,h,j,b||null,null,null);return N.firstCreatePass&&Vh(N,n,u.length-1),jh(l,Q),l[n.index]=Q}(ar,oe,an,Rn,it,b,j);Kt=Bo(Le,gr),oe&&function s_(n,i,o,u){if(u)qt(n,o,["ng-version",Rf.full]);else{const{attrs:l,classes:h}=function zs(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===l?""!==h&&i.push(h,n[++u]):8===l&&o.push(h);else{if(!p(l))break;l=h}u++}return{attrs:i,classes:o}}(i.selectors[0]);l&&qt(n,o,l),h&&h.length>0&&al(n,o,h.join(" "))}}(j,an,oe,u),void 0!==o&&function o_(n,i,o){const u=n.projection=[];for(let l=0;l<i.length;l++){const h=o[l];u.push(null!=h?Array.from(h):null)}}(Kt,this.ngContentSelectors,o),It=function bg(n,i,o,u,l,h){const v=wr(),b=l[Nt],N=Er(v,l);Zf(b,l,v,o,null,u);for(let Q=0;Q<o.length;Q++)Ft(x(l,b,v.directiveStart+Q,v),l);Pd(b,l,v),N&&Ft(N,l);const j=x(l,b,v.directiveStart+v.componentOffset,v);if(n[fr]=l[fr]=j,null!==h)for(const Q of h)Q(j,i);return Lh(b,v,n),j}(qs,an,Rn,Et,it,[Sg]),lg(Le,it,null)}finally{$s()}return new i_(this.componentType,It,Ic(Kt,it),it,Kt)}}class i_ extends Wp{constructor(i,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new Wl(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const h=this._rootLView;ep(h[Nt],h,l,i,o),Hh(wi(this._tNode.index,h))}}get injector(){return new me(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Sg(){const n=wr();$(ae()[Nt],n)}function Ag(n){let i=function np(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(mi(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Oe(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const v=n;v.inputs=Mg(n.inputs),v.declaredInputs=Mg(n.declaredInputs),v.outputs=Mg(n.outputs);const b=l.hostBindings;b&&Wm(n,b);const N=l.viewQuery,j=l.contentQueries;if(N&&Gm(n,N),j&&zm(n,j),ye(n.inputs,l.inputs),ye(n.declaredInputs,l.declaredInputs),ye(n.outputs,l.outputs),mi(l)&&l.data.animation){const Q=n.data;Q.animation=(Q.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let v=0;v<h.length;v++){const b=h[v];b&&b.ngInherit&&b(n),b===Ag&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Hm(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=Ue(l.hostAttrs,o=Ue(o,l.hostAttrs))}}(u)}function Mg(n){return n===se?{}:n===ve?[]:n}function Gm(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function zm(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,h)=>{i(u,l,h),o(u,l,h)}:i}function Wm(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}function ip(n){return!!Gh(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Gh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ea(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function Ng(n,i,o,u){const l=ae();return Ea(l,wo(),i)&&(lt(),ju(sr(),l,n,i,o,u)),Ng}function Kl(n,i,o,u){return Ea(n,wo(),o)?i+He(o)+u:Tn}function Zl(n,i,o,u,l,h){const b=function pl(n,i,o,u){const l=Ea(n,i,o);return Ea(n,i+1,u)||l}(n,function Qr(){return dn.lFrame.bindingIndex}(),o,l);return Ri(2),b?i+He(o)+u+He(l)+h:Tn}function cp(n,i,o,u,l,h,v,b){const N=ae(),j=lt(),Q=n+gr,oe=j.firstCreatePass?function c_(n,i,o,u,l,h,v,b,N){const j=i.consts,Q=Gl(i,n,4,v||null,Eo(j,b));Mc(i,o,Q,Eo(j,N)),$(i,Q);const oe=Q.tView=hg(2,Q,u,l,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,j);return null!==i.queries&&(i.queries.template(i,Q),oe.queries=i.queries.embeddedTView(Q)),Q}(Q,j,N,i,o,u,l,h,v):j.data[Q];Hr(oe,!1);const Ie=N[Dn].createComment("");sl(j,N,Ie,oe),Ft(Ie,N),jh(N,N[Q]=Bh(Ie,N,Ie,oe)),Cs(oe)&&cg(j,N,oe),null!=v&&dg(N,oe,b)}function dp(n){return Xi(function Bs(){return dn.lFrame.contextLView}(),gr+n)}function hp(n,i,o){const u=ae();return Ea(u,wo(),i)&&Za(lt(),sr(),u,n,i,u[Dn],o,!1),hp}function Og(n,i,o,u,l){const v=l?"class":"style";ep(n,o,i.inputs[v],v,u)}function Ld(n,i,o,u){const l=ae(),h=lt(),v=gr+n,b=l[Dn],N=h.firstCreatePass?function d_(n,i,o,u,l,h){const v=i.consts,N=Gl(i,n,2,u,Eo(v,l));return Mc(i,o,N,Eo(v,h)),null!==N.attrs&&Rd(N,N.attrs,!1),null!==N.mergedAttrs&&Rd(N,N.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,N),N}(v,h,l,i,o,u):h.data[v],j=l[v]=tl(b,i,function Ha(){return dn.lFrame.currentNamespace}()),Q=Cs(N);return Hr(N,!0),Xc(b,j,N),32!=(32&N.flags)&&sl(h,l,j,N),0===function Us(){return dn.lFrame.elementDepthCount}()&&Ft(j,l),function ro(){dn.lFrame.elementDepthCount++}(),Q&&(cg(h,l,N),Lh(h,N,l)),null!==u&&dg(l,N),Ld}function fp(){let n=wr();es()?xo():(n=n.parent,Hr(n,!1));const i=n;!function L(){dn.lFrame.elementDepthCount--}();const o=lt();return o.firstCreatePass&&($(o,n),Xn(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function ln(n){return 0!=(8&n.flags)}(i)&&Og(o,i,ae(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Sr(n){return 0!=(16&n.flags)}(i)&&Og(o,i,ae(),i.stylesWithoutHost,!1),fp}function zh(n,i,o,u){return Ld(n,i,o,u),fp(),zh}function Vd(n,i,o){const u=ae(),l=lt(),h=n+gr,v=l.firstCreatePass?function kg(n,i,o,u,l){const h=i.consts,v=Eo(h,u),b=Gl(i,n,8,"ng-container",v);return null!==v&&Rd(b,v,!0),Mc(i,o,b,Eo(h,l)),null!==i.queries&&i.queries.elementStart(i,b),b}(h,l,u,i,o):l.data[h];Hr(v,!0);const b=u[h]=u[Dn].createComment("");return sl(l,u,b,v),Ft(b,u),Cs(v)&&(cg(l,u,v),Lh(l,v,u)),null!=o&&dg(u,v),Vd}function pp(){let n=wr();const i=lt();return es()?xo():(n=n.parent,Hr(n,!1)),i.firstCreatePass&&($(i,n),Xn(n)&&i.queries.elementEnd(n)),pp}function oy(){return ae()}function gp(n){return!!n&&"function"==typeof n.then}function Fg(n){return!!n&&"function"==typeof n.subscribe}const Rc=Fg;function mp(n,i,o,u){const l=ae(),h=lt(),v=wr();return function ay(n,i,o,u,l,h,v){const b=Cs(u),j=n.firstCreatePass&&Jf(n),Q=i[fr],oe=Bm(i);let Ie=!0;if(3&u.type||v){const It=Er(u,i),Kt=v?v(It):It,an=oe.length,Rn=v?ar=>v(vi(ar[u.index])):u.index;let Et=null;if(!v&&b&&(Et=function h_(n,i,o,u){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const v=l[h];if(v===o&&l[h+1]===u){const b=i[Ai],N=l[h+2];return b.length>N?b[N]:null}"string"==typeof v&&(h+=2)}return null}(n,i,l,u.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=h,Et.__ngLastListenerFn__=h,Ie=!1;else{h=ly(u,i,Q,h,!1);const ar=o.listen(Kt,l,h);oe.push(h,ar),j&&j.push(l,Rn,an,an+1)}}else h=ly(u,i,Q,h,!1);const Le=u.outputs;let it;if(Ie&&null!==Le&&(it=Le[l])){const It=it.length;if(It)for(let Kt=0;Kt<It;Kt+=2){const qs=i[it[Kt]][it[Kt+1]].subscribe(h),Lo=oe.length;oe.push(h,qs),j&&j.push(l,u.index,Lo,-(Lo+1))}}}(h,l,l[Dn],v,n,i,u),mp}function uy(n,i,o,u){try{return jr(6,i,o),!1!==o(u)}catch(l){return Xf(n,l),!1}finally{jr(7,i,o)}}function ly(n,i,o,u,l){return function h(v){if(v===Function)return u;Hh(n.componentOffset>-1?wi(n.index,i):i);let N=uy(i,o,u,v),j=h.__ngNextListenerFn__;for(;j;)N=uy(i,o,j,v)&&N,j=j.__ngNextListenerFn__;return l&&!1===N&&(v.preventDefault(),v.returnValue=!1),N}}function Kh(n=1){return function No(n){return(dn.lFrame.contextLView=function ea(n,i){for(;n>0;)i=i[Qi],n--;return i}(n,dn.lFrame.contextLView))[fr]}(n)}function Ud(n,i,o,u,l){const h=ae(),v=Kl(h,i,o,u);return v!==Tn&&Za(lt(),sr(),h,n,v,h[Dn],l,!1),Ud}function Zh(n,i,o,u,l,h,v){const b=ae(),N=Zl(b,i,o,u,l,h);return N!==Tn&&Za(lt(),sr(),b,n,N,b[Dn],v,!1),Zh}function gl(n,i){return n<<17|i<<2}function Wu(n){return n>>17&32767}function Gg(n){return 2|n}function Jl(n){return(131068&n)>>2}function zg(n,i){return-131069&n|i<<2}function Wg(n){return 1|n}function qg(n,i,o,u,l){const h=n[o+1],v=null===i;let b=u?Wu(h):Jl(h),N=!1;for(;0!==b&&(!1===N||v);){const Q=n[b+1];Kg(n[b],i)&&(N=!0,n[b+1]=u?Wg(Q):Gg(Q)),b=u?Wu(Q):Jl(Q)}N&&(n[o+1]=u?Gg(h):Wg(h))}function Kg(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&D(n,i)>=0}function Ep(n,i){return function Fr(n,i,o,u){const l=ae(),h=lt(),v=Ri(2);h.firstUpdatePass&&function ho(n,i,o,u){const l=n.data;if(null===l[o+1]){const h=l[er()],v=function w_(n,i){return i>=n.expandoStartIndex}(n,o);(function ec(n,i){return 0!=(n.flags&(i?8:16))})(h,u)&&null===i&&!v&&(i=!1),i=function py(n,i,o,u){const l=function ga(n){const i=dn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let h=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=wp(o=my(null,n,i,o,u),i.attrs,u),h=null);else{const v=i.directiveStylingLast;if(-1===v||n[v]!==l)if(o=my(l,n,i,o,u),null===h){let N=function Ov(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==Jl(u))return n[Wu(u)]}(n,i,u);void 0!==N&&Array.isArray(N)&&(N=my(null,n,i,N[1],u),N=wp(N,i.attrs,u),function kv(n,i,o,u){n[Wu(o?i.classBindings:i.styleBindings)]=u}(n,i,u,N))}else h=function gy(n,i,o){let u;const l=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<l;h++)u=wp(u,n[h].hostAttrs,o);return wp(u,i.attrs,o)}(n,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(l,h,i,u),function g_(n,i,o,u,l,h){let v=h?i.classBindings:i.styleBindings,b=Wu(v),N=Jl(v);n[u]=o;let Q,j=!1;if(Array.isArray(o)?(Q=o[1],(null===Q||D(o,Q)>0)&&(j=!0)):Q=o,l)if(0!==N){const Ie=Wu(n[b+1]);n[u+1]=gl(Ie,b),0!==Ie&&(n[Ie+1]=zg(n[Ie+1],u)),n[b+1]=function p_(n,i){return 131071&n|i<<17}(n[b+1],u)}else n[u+1]=gl(b,0),0!==b&&(n[b+1]=zg(n[b+1],u)),b=u;else n[u+1]=gl(N,0),0===b?b=u:n[N+1]=zg(n[N+1],u),N=u;j&&(n[u+1]=Gg(n[u+1])),qg(n,Q,u,!0),qg(n,Q,u,!1),function dy(n,i,o,u,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&D(h,i)>=0&&(o[u+1]=Wg(o[u+1]))}(i,Q,n,u,h),v=gl(b,N),h?i.classBindings=v:i.styleBindings=v}(l,h,i,o,v,u)}}(h,n,v,u),i!==Tn&&Ea(l,v,i)&&function D_(n,i,o,u,l,h,v,b){if(!(3&i.type))return;const N=n.data,j=N[b+1],Q=function cy(n){return 1==(1&n)}(j)?Jg(N,i,o,l,Jl(j),v):void 0;Xl(Q)||(Xl(h)||function f_(n){return 2==(2&n)}(j)&&(h=Jg(N,null,o,l,b,v)),function vu(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:Os.DashCase;null==l?n.removeStyle(o,u,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Os.Important),n.setStyle(o,u,l,h))}}(u,v,Ei(er(),o),l,h))}(h,h.data[er()],l,l[Dn],n,l[v+1]=function C_(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=xe(au(n)))),n}(i,o),u,v)}(n,i,null,!0),Ep}function my(n,i,o,u,l){let h=null;const v=o.directiveEnd;let b=o.directiveStylingLast;for(-1===b?b=o.directiveStart:b++;b<v&&(h=i[b],u=wp(u,h.hostAttrs,l),h!==n);)b++;return null!==n&&(o.directiveStylingLast=b),u}function wp(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let h=0;h<i.length;h++){const v=i[h];"number"==typeof v?l=v:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Hs(n,v,!!o||i[++h]))}return void 0===n?null:n}function Jg(n,i,o,u,l,h){const v=null===i;let b;for(;l>0;){const N=n[l],j=Array.isArray(N),Q=j?N[1]:N,oe=null===Q;let Ie=o[l+1];Ie===Tn&&(Ie=oe?ve:void 0);let Le=oe?E(Ie,u):Q===u?Ie:void 0;if(j&&!Xl(Le)&&(Le=E(N,u)),Xl(Le)&&(b=Le,v))return b;const it=n[l+1];l=v?Wu(it):Jl(it)}if(null!==i){let N=h?i.residualClasses:i.residualStyles;null!=N&&(b=E(N,u))}return b}function Xl(n){return void 0!==n}function Oc(n,i=""){const o=ae(),u=lt(),l=n+gr,h=u.firstCreatePass?Gl(u,l,1,i,null):u.data[l],v=o[l]=function Ou(n,i){return n.createText(i)}(o[Dn],i);sl(u,o,v,h),Hr(h,!1)}function Xg(n){return jd("",n,""),Xg}function jd(n,i,o){const u=ae(),l=Kl(u,n,i,o);return l!==Tn&&function Du(n,i,o){const u=Ei(i,n);!function Jd(n,i,o){n.setValue(i,o)}(n[Dn],u,o)}(u,er(),l),jd}const Gd=void 0;var am=["en",[["a","p"],["AM","PM"],Gd],[["AM","PM"],Gd,Gd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gd,"{1} 'at' {0}",Gd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Uv(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let nf={};function xy(n){const i=function Bv(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=M_(i);if(o)return o;const u=i.split("-")[0];if(o=M_(u),o)return o;if("en"===u)return am;throw new Oe(701,!1)}function rf(n){return xy(n)[Pn.PluralCase]}function M_(n){return n in nf||(nf[n]=Gn.ng&&Gn.ng.common&&Gn.ng.common.locales&&Gn.ng.common.locales[n]),nf[n]}var Pn=(()=>((Pn=Pn||{})[Pn.LocaleId=0]="LocaleId",Pn[Pn.DayPeriodsFormat=1]="DayPeriodsFormat",Pn[Pn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pn[Pn.DaysFormat=3]="DaysFormat",Pn[Pn.DaysStandalone=4]="DaysStandalone",Pn[Pn.MonthsFormat=5]="MonthsFormat",Pn[Pn.MonthsStandalone=6]="MonthsStandalone",Pn[Pn.Eras=7]="Eras",Pn[Pn.FirstDayOfWeek=8]="FirstDayOfWeek",Pn[Pn.WeekendRange=9]="WeekendRange",Pn[Pn.DateFormat=10]="DateFormat",Pn[Pn.TimeFormat=11]="TimeFormat",Pn[Pn.DateTimeFormat=12]="DateTimeFormat",Pn[Pn.NumberSymbols=13]="NumberSymbols",Pn[Pn.NumberFormats=14]="NumberFormats",Pn[Pn.CurrencyCode=15]="CurrencyCode",Pn[Pn.CurrencySymbol=16]="CurrencySymbol",Pn[Pn.CurrencyName=17]="CurrencyName",Pn[Pn.Currencies=18]="Currencies",Pn[Pn.Directionality=19]="Directionality",Pn[Pn.PluralCase=20]="PluralCase",Pn[Pn.ExtraData=21]="ExtraData",Pn))();const Vc="en-US";let Sp=Vc;function Y_(n,i,o,u,l){if(n=mt(n),Array.isArray(n))for(let h=0;h<n.length;h++)Y_(n[h],i,o,u,l);else{const h=lt(),v=ae();let b=Uu(n)?n:mt(n.provide),N=xf(n);const j=wr(),Q=1048575&j.providerIndexes,oe=j.directiveStart,Ie=j.providerIndexes>>20;if(Uu(n)||!n.multi){const Le=new Un(N,l,Ac),it=J_(b,i,l?Q:Q+Ie,oe);-1===it?(tn(vn(j,v),h,b),Q_(h,n,i.length),i.push(b),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),o.push(Le),v.push(Le)):(o[it]=Le,v[it]=Le)}else{const Le=J_(b,i,Q+Ie,oe),it=J_(b,i,Q,Q+Ie),Kt=it>=0&&o[it];if(l&&!Kt||!l&&!(Le>=0&&o[Le])){tn(vn(j,v),h,b);const an=function VE(n,i,o,u,l){const h=new Un(n,o,Ac);return h.multi=[],h.index=i,h.componentProviders=0,s0(h,l,u&&!o),h}(l?LE:FE,o.length,l,u,N);!l&&Kt&&(o[it].providerFactory=an),Q_(h,n,i.length,0),i.push(b),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),o.push(an),v.push(an)}else Q_(h,n,Le>-1?Le:it,s0(o[l?it:Le],N,!l&&u));!l&&u&&Kt&&o[it].componentProviders++}}}function Q_(n,i,o,u){const l=Uu(i),h=function ud(n){return!!n.useClass}(i);if(l||h){const N=(h?mt(i.useClass):i).prototype.ngOnDestroy;if(N){const j=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const Q=j.indexOf(o);-1===Q?j.push(o,[u,N]):j[Q+1].push(u,N)}else j.push(o,N)}}}function s0(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function J_(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function FE(n,i,o,u){return X_(this.multi,[])}function LE(n,i,o,u){const l=this.multi;let h;if(this.providerFactory){const v=this.providerFactory.componentProviders,b=x(o,o[Nt],this.providerFactory.index,u);h=b.slice(0,v),X_(l,h);for(let N=v;N<b.length;N++)h.push(b[N])}else h=[],X_(l,h);return h}function X_(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function o0(n,i=[]){return o=>{o.providersResolver=(u,l)=>function kE(n,i,o){const u=lt();if(u.firstCreatePass){const l=mi(n);Y_(o,u.data,u.blueprint,l,!0),Y_(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class Np{}class a0{}function UE(n,i){return new u0(n,i??null)}class u0 extends Np{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tp(this);const u=Ur(i);this._bootstrapComponents=Ka(u.bootstrap),this._r3Injector=wd(i,o,[{provide:Np,useValue:this},{provide:qa,useValue:this.componentFactoryResolver}],xe(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class ev extends a0{constructor(i){super(),this.moduleType=i}create(i){return new u0(this.moduleType,i)}}class BE extends Np{constructor(i,o,u){super(),this.componentFactoryResolver=new tp(this),this.instance=null;const l=new wh([...i,{provide:Np,useValue:this},{provide:qa,useValue:this.componentFactoryResolver}],o||ld(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function tv(n,i,o=null){return new BE(n,i,o).injector}let $E=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=bf(0,o.type),l=u.length>0?tv([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Fn({token:n,providedIn:"environment",factory:()=>new n(Jn(Bu))}),n})();function l0(n){n.getStandaloneInjector=i=>i.get($E).getOrCreateStandaloneInjector(n)}function m0(n,i,o,u){return y0(ae(),Ni(),n,i,o,u)}function y0(n,i,o,u,l,h){const v=i+o;return Ea(n,v,l)?function zu(n,i,o){return n[i]=o}(n,v+1,h?u.call(h,l):u(l)):function fm(n,i){const o=n[i];return o===Tn?void 0:o}(n,v+1)}function I0(n,i){const o=lt();let u;const l=n+gr;o.firstCreatePass?(u=function sw(n,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(n===u.name)return u}}(i,o.pipeRegistry),o.data[l]=u,u.onDestroy&&(o.destroyHooks??(o.destroyHooks=[])).push(l,u.onDestroy)):u=o.data[l];const h=u.factory||(u.factory=ds(u.type)),v=un(Ac);try{const b=na(!1),N=h();return na(b),function sy(n,i,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=u}(o,ae(),l,N),N}finally{un(v)}}function D0(n,i,o){const u=n+gr,l=ae(),h=Xi(l,u);return function pm(n,i){return n[Nt].data[i].pure}(l,u)?y0(l,Ni(),i,h.transform,o,h):h.transform(o)}function rv(n){return i=>{setTimeout(n,void 0,i)}}const tc=class cw extends w.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,h=o||(()=>null),v=u;if(i&&"object"==typeof i){const N=i;l=N.next?.bind(N),h=N.error?.bind(N),v=N.complete?.bind(N)}this.__isAsync&&(h=rv(h),l&&(l=rv(l)),v&&(v=rv(v)));const b=super.subscribe({next:l,error:h,complete:v});return i instanceof re.w0&&i.add(b),b}};function dw(){return this._results[Symbol.iterator]()}class iv{get changes(){return this._changes||(this._changes=new tc)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=iv.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=dw)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=function Gr(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Li(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],h=i[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let gm=(()=>{class n{}return n.__NG_ELEMENT_ID__=pw,n})();const hw=gm,fw=class extends hw{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,l=Sd(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[Cr]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[pr];return null!==v&&(l[pr]=v.createEmbeddedView(u)),lg(u,l,i),new Hu(l)}};function pw(){return Ly(wr(),ae())}function Ly(n,i){return 4&n.type?new fw(i,n,Ic(n,i)):null}let Vy=(()=>{class n{}return n.__NG_ELEMENT_ID__=gw,n})();function gw(){return b0(wr(),ae())}const mw=Vy,C0=class extends mw{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Ic(this._hostTNode,this._hostLView)}get injector(){return new me(this._hostTNode,this._hostLView)}get parentInjector(){const i=Jr(this._hostTNode,this._hostLView);if(ui(i)){const o=ba(i,this._hostLView),u=Ps(i);return new me(o[Nt].data[u+8],o)}return new me(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=T0(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-_r}createEmbeddedView(i,o,u){let l,h;"number"==typeof u?l=u:null!=u&&(l=u.index,h=u.injector);const v=i.createEmbeddedView(o||{},h);return this.insert(v,l),v}createComponent(i,o,u,l,h){const v=i&&!function Cn(n){return"function"==typeof n}(i);let b;if(v)b=o;else{const oe=o||{};b=oe.index,u=oe.injector,l=oe.projectableNodes,h=oe.environmentInjector||oe.ngModuleRef}const N=v?i:new Gu(Ln(i)),j=u||this.parentInjector;if(!h&&null==N.ngModule){const Ie=(v?j:this.parentInjector).get(Bu,null);Ie&&(h=Ie)}const Q=N.create(j,l,void 0,h);return this.insert(Q.hostView,b),Q}insert(i,o){const u=i._lView,l=u[Nt];if(function Vs(n){return zi(n[Mr])}(u)){const Q=this.indexOf(i);if(-1!==Q)this.detach(Q);else{const oe=u[Mr],Ie=new C0(oe,oe[Rr],oe[Mr]);Ie.detach(Ie.indexOf(i))}}const h=this._adjustIndex(o),v=this._lContainer;!function th(n,i,o,u){const l=_r+u,h=o.length;u>0&&(o[l-1][bi]=i),u<h-_r?(i[bi]=o[l],oo(o,_r+u,i)):(o.push(i),i[bi]=null),i[Mr]=o;const v=i[Cr];null!==v&&o!==v&&function nl(n,i){const o=n[Gi];i[ri]!==i[Mr][Mr][ri]&&(n[wt]=!0),null===o?n[Gi]=[i]:o.push(i)}(v,i);const b=i[pr];null!==b&&b.insertView(n),i[In]|=64}(l,u,v,h);const b=Fu(h,v),N=u[Dn],j=hc(N,v[Mi]);return null!==j&&function Il(n,i,o,u,l,h){u[Ks]=l,u[Rr]=i,Cl(n,u,o,1,l,h)}(l,v[Rr],N,u,j,b),i.attachToViewContainerRef(),oo(sv(v),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=T0(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=rl(this._lContainer,o);u&&(Or(sv(this._lContainer),o),dc(u[Nt],u))}detach(i){const o=this._adjustIndex(i,-1),u=rl(this._lContainer,o);return u&&null!=Or(sv(this._lContainer),o)?new Hu(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function T0(n){return n[Zi]}function sv(n){return n[Zi]||(n[Zi]=[])}function b0(n,i){let o;const u=i[n.index];if(zi(u))o=u;else{let l;if(8&n.type)l=vi(u);else{const h=i[Dn];l=h.createComment("");const v=Er(n,i);uo(h,hc(h,v),l,function il(n,i){return n.nextSibling(i)}(h,v),!1)}i[n.index]=o=Bh(u,i,l,n),jh(i,o)}return new C0(o,n,i)}class ov{constructor(i){this.queryList=i,this.matches=null}clone(){return new ov(this.queryList)}setDirty(){this.queryList.setDirty()}}class av{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const v=o.getByIndex(h);l.push(this.queries[v.indexInDeclarationView].clone())}return new av(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==O0(i,o).matches&&this.queries[o].setDirty()}}class S0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class uv{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new uv(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class lv{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new lv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(i,o,yw(o,h)),this.matchTNodeWithReadOption(i,o,y(o,i,h,!1,!1))}else u===gm?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,y(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===Dc||l===Vy||l===gm&&4&o.type)this.addMatch(o.index,-2);else{const h=y(o,i,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function yw(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function vw(n,i,o,u){return-1===o?function _w(n,i){return 11&n.type?Ic(n,i):4&n.type?Ly(n,i):null}(i,n):-2===o?function Ew(n,i,o){return o===Dc?Ic(i,n):o===gm?Ly(i,n):o===Vy?b0(i,n):void 0}(n,i,u):x(n,n[Nt],o,i)}function A0(n,i,o,u){const l=i[pr].queries[u];if(null===l.matches){const h=n.data,v=o.matches,b=[];for(let N=0;N<v.length;N+=2){const j=v[N];b.push(j<0?null:vw(i,h[j],v[N+1],o.metadata.read))}l.matches=b}return l.matches}function cv(n,i,o,u){const l=n.queries.getByIndex(o),h=l.matches;if(null!==h){const v=A0(n,i,l,o);for(let b=0;b<h.length;b+=2){const N=h[b];if(N>0)u.push(v[b/2]);else{const j=h[b+1],Q=i[-N];for(let oe=_r;oe<Q.length;oe++){const Ie=Q[oe];Ie[Cr]===Ie[Mr]&&cv(Ie[Nt],Ie,j,u)}if(null!==Q[Gi]){const oe=Q[Gi];for(let Ie=0;Ie<oe.length;Ie++){const Le=oe[Ie];cv(Le[Nt],Le,j,u)}}}}}return u}function M0(n){const i=ae(),o=lt(),u=fs();Ho(u+1);const l=O0(o,u);if(n.dirty&&function Pi(n){return 4==(4&n[In])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?cv(o,i,u,[]):A0(o,i,l,u);n.reset(h,Dm),n.notifyOnChanges()}return!0}return!1}function x0(n,i,o,u){const l=lt();if(l.firstCreatePass){const h=wr();(function R0(n,i,o){null===n.queries&&(n.queries=new uv),n.queries.track(new lv(i,o))})(l,new S0(i,o,u),h.index),function Dw(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}!function N0(n,i,o){const u=new iv(4==(4&o));Md(n,i,u,u.destroy),null===i[pr]&&(i[pr]=new av),i[pr].queries.push(new ov(u))}(l,ae(),o)}function P0(){return function Iw(n,i){return n[pr].queries[i].queryList}(ae(),fs())}function O0(n,i){return n.queries.getByIndex(i)}function k0(n,i){return Ly(n,i)}function dv(n){return!!Ur(n)}function By(...n){}const X0=new Yn("Application Initializer");let $y=(()=>{class n{constructor(o){this.appInits=o,this.resolve=By,this.reject=By,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(gp(h))o.push(h);else if(Rc(h)){const v=new Promise((b,N)=>{h.subscribe({complete:b,error:N})});o.push(v)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Jn(X0,8))},n.\u0275prov=Fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eE=new Yn("AppId",{providedIn:"root",factory:function tE(){return`${mv()}${mv()}${mv()}`}});function mv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nE=new Yn("Platform Initializer"),Hw=new Yn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Gw=new Yn("AnimationModuleType");let zw=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Fn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const jy=new Yn("LocaleId",{providedIn:"root",factory:()=>Vr(jy,Gt.Optional|Gt.SkipSelf)||function Ww(){return typeof $localize<"u"&&$localize.locale||Vc}()}),qw=new Yn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Kw{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let Zw=(()=>{class n{compileModuleSync(o){return new ev(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=Ka(Ur(o).declarations).reduce((v,b)=>{const N=Ln(b);return N&&v.push(new Gu(N)),v},[]);return new Kw(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jw=(()=>Promise.resolve(0))();function yv(n){typeof Zone>"u"?Jw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Yu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tc(!1),this.onMicrotaskEmpty=new tc(!1),this.onStable=new tc(!1),this.onError=new tc(!1),typeof Zone>"u")throw new Oe(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Xw(){let n=Gn.requestAnimationFrame,i=Gn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function nI(n){const i=()=>{!function tI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Gn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,vv(n),n.isCheckStableRunning=!0,_v(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),vv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,v,b)=>{try{return sE(n),o.invokeTask(l,h,v,b)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),oE(n)}},onInvoke:(o,u,l,h,v,b,N)=>{try{return sE(n),o.invoke(l,h,v,b,N)}finally{n.shouldCoalesceRunChangeDetection&&i(),oE(n)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,vv(n),_v(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yu.isInAngularZone())throw new Oe(909,!1)}static assertNotInAngularZone(){if(Yu.isInAngularZone())throw new Oe(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const h=this._inner,v=h.scheduleEventTask("NgZoneEvent: "+l,i,eI,By,By);try{return h.runTask(v,o,u)}finally{h.cancelTask(v)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const eI={};function _v(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function sE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function oE(n){n._nesting--,_v(n)}class rI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tc,this.onMicrotaskEmpty=new tc,this.onStable=new tc,this.onError=new tc}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const aE=new Yn(""),uE=new Yn("");let Ev,iI=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ev||(function sI(n){Ev=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yu.assertNotInAngularZone(),yv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yv(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(Jn(Yu),Jn(lE),Jn(uE))},n.\u0275prov=Fn({token:n,factory:n.\u0275fac}),n})(),lE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Ev?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Fn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const $c=!1;let qd=null;const cE=new Yn("AllowMultipleToken"),wv=new Yn("PlatformDestroyListeners"),dE=new Yn("appBootstrapListener");class uI{constructor(i,o){this.name=i,this.token=o}}function fE(n,i,o=[]){const u=`Platform: ${i}`,l=new Yn(u);return(h=[])=>{let v=Iv();if(!v||v.injector.get(cE,!1)){const b=[...o,...h,{provide:l,useValue:!0}];n?n(b):function lI(n){if(qd&&!qd.get(cE,!1))throw new Oe(400,!1);qd=n;const i=n.get(gE);(function hE(n){const i=n.get(nE,null);i&&i.forEach(o=>o())})(n)}(function pE(n=[],i){return Sc.create({name:i,providers:[{provide:Iu,useValue:"platform"},{provide:wv,useValue:new Set([()=>qd=null])},...n]})}(b,u))}return function dI(n){const i=Iv();if(!i)throw new Oe(401,!1);return i}()}}function Iv(){return qd?.get(gE)??null}let gE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function yE(n,i){let o;return o="noop"===n?new rI:("zone.js"===n?void 0:n)||new Yu(i),o}(u?.ngZone,function mE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:Yu,useValue:l}];return l.run(()=>{const v=Sc.create({providers:h,parent:this.injector,name:o.moduleType.name}),b=o.create(v),N=b.injector.get(hd,null);if(!N)throw new Oe(402,!1);return l.runOutsideAngular(()=>{const j=l.onError.subscribe({next:Q=>{N.handleError(Q)}});b.onDestroy(()=>{Gy(this._modules,b),j.unsubscribe()})}),function _E(n,i,o){try{const u=o();return gp(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(N,l,()=>{const j=b.injector.get($y);return j.runInitializers(),j.donePromise.then(()=>(function x_(n){Ht(n,"Expected localeId to be defined"),"string"==typeof n&&(Sp=n.toLowerCase().replace(/_/g,"-"))}(b.injector.get(jy,Vc)||Vc),this._moduleDoBootstrap(b),b))})})}bootstrapModule(o,u=[]){const l=vE({},u);return function oI(n,i,o){const u=new ev(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(Hy);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Oe(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(wv,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Jn(Sc))},n.\u0275prov=Fn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function vE(n,i){return Array.isArray(i)?i.reduce(vE,n):{...n,...i}}let Hy=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new k.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),v=new k.y(b=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Yu.assertNotInAngularZone(),yv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{Yu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{N.unsubscribe(),j.unsubscribe()}});this.isStable=(0,Ce.T)(h,v.pipe(function ce(n={}){const{connector:i=(()=>new w.x),resetOnError:o=!0,resetOnComplete:u=!0,resetOnRefCountZero:l=!0}=n;return h=>{let v,b,N,j=0,Q=!1,oe=!1;const Ie=()=>{b?.unsubscribe(),b=void 0},Le=()=>{Ie(),v=N=void 0,Q=oe=!1},it=()=>{const It=v;Le(),It?.unsubscribe()};return(0,Ve.e)((It,Kt)=>{j++,!oe&&!Q&&Ie();const an=N=N??i();Kt.add(()=>{j--,0===j&&!oe&&!Q&&(b=Be(it,l))}),an.subscribe(Kt),!v&&j>0&&(v=new Se.Hp({next:Rn=>an.next(Rn),error:Rn=>{oe=!0,Ie(),b=Be(Le,o,Rn),an.error(Rn)},complete:()=>{Q=!0,Ie(),b=Be(Le,u),an.complete()}}),(0,ee.Xf)(It).subscribe(v))})(h)}}()))}bootstrap(o,u){const l=o instanceof qp;if(!this._injector.get($y).done){!l&&as(o);throw new Oe(405,$c)}let v;v=l?o:this._injector.get(qa).resolveComponentFactory(o),this.componentTypes.push(v.componentType);const b=function aI(n){return n.isBoundToModule}(v)?void 0:this._injector.get(Np),j=v.create(Sc.NULL,[],u||v.selector,b),Q=j.location.nativeElement,oe=j.injector.get(aE,null);return oe?.registerApplication(Q),j.onDestroy(()=>{this.detachView(j.hostView),Gy(this.components,j),oe?.unregisterApplication(Q)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new Oe(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Gy(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(dE,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Gy(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Oe(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Jn(Yu),Jn(Bu),Jn(hd))},n.\u0275prov=Fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gy(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let fI=(()=>{class n{}return n.__NG_ELEMENT_ID__=pI,n})();function pI(n){return function gI(n,i,o){if(xi(n)&&!o){const u=wi(n.index,i);return new Hu(u,u)}return 47&n.type?new Hu(i[ri],i):null}(wr(),ae(),16==(16&n))}class CE{constructor(){}supports(i){return ip(i)}create(i){return new wI(i)}}const EI=(n,i)=>i;class wI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||EI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const v=!u||o&&o.currentIndex<bE(u,l,h)?o:u,b=bE(v,l,h),N=v.currentIndex;if(v===u)l--,u=u._nextRemoved;else if(o=o._next,null==v.previousIndex)l++;else{h||(h=[]);const j=b-l,Q=N-l;if(j!=Q){for(let Ie=0;Ie<j;Ie++){const Le=Ie<h.length?h[Ie]:h[Ie]=0,it=Le+Ie;Q<=it&&it<j&&(h[Ie]=Le+1)}h[v.previousIndex]=Q-j}}b!==N&&i(v,b,N)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!ip(i))throw new Oe(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,h,v,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let b=0;b<this.length;b++)h=i[b],v=this._trackByFn(b,h),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,h,v,b)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,v,b),u=!0),o=o._next}else l=0,function Jm(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,b=>{v=this._trackByFn(l,b),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,b,v,l)),Object.is(o.item,b)||this._addIdentityChange(o,b)):(o=this._mismatch(o,b,v,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,l)):i=this._addAfter(new II(o,u),h,l),i}_verifyReinsertion(i,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,h=i._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new TE),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TE),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class II{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class TE{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new DI,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bE(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class SE{constructor(){}supports(i){return i instanceof Map||Gh(i)}create(){return new CI}}class CI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Gh(i)))throw new Oe(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const h=l._prev,v=l._next;return h&&(h._next=v),v&&(v._prev=h),l._next=null,l._prev=null,l}const u=new TI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class TI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function AE(){return new Sv([new CE])}let Sv=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||AE()),deps:[[n,new Es,new zr]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Oe(901,!1)}}return n.\u0275prov=Fn({token:n,providedIn:"root",factory:AE}),n})();function ME(){return new Av([new SE])}let Av=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||ME()),deps:[[n,new Es,new zr]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Oe(901,!1)}}return n.\u0275prov=Fn({token:n,providedIn:"root",factory:ME}),n})();const AI=fE(null,"core",[]);let MI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Jn(Hy))},n.\u0275mod=_n({type:n}),n.\u0275inj=Pr({}),n})();function xI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(nn,Qe,Y)=>{Y.d(Qe,{Fj:()=>Oe,CE:()=>yi,qu:()=>to,u:()=>So,sg:()=>ir,x0:()=>us,JU:()=>gt,JJ:()=>Ti,JL:()=>un,j3:()=>dn,wV:()=>Zi,_:()=>zi,UX:()=>ro,kI:()=>Sn,_Y:()=>wt});var w=Y(1571),re=Y(6895),k=Y(8996),Ce=Y(9751),ee=Y(4742),Se=Y(8421),Ve=Y(3269),ce=Y(5403),Be=Y(3268),ie=Y(1810),xe=Y(4004);let rt=(()=>{class L{constructor(R,Z){this._renderer=R,this._elementRef=Z,this.onChange=ae=>{},this.onTouched=()=>{}}setProperty(R,Z){this._renderer.setProperty(this._elementRef.nativeElement,R,Z)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return L.\u0275fac=function(R){return new(R||L)(w.Y36(w.Qsj),w.Y36(w.SBq))},L.\u0275dir=w.lG2({type:L}),L})(),st=(()=>{class L extends rt{}return L.\u0275fac=function(){let F;return function(Z){return(F||(F=w.n5z(L)))(Z||L)}}(),L.\u0275dir=w.lG2({type:L,features:[w.qOj]}),L})();const gt=new w.OlP("NgValueAccessor"),Vt={provide:gt,useExisting:(0,w.Gpc)(()=>Oe),multi:!0},wn=new w.OlP("CompositionEventMode");let Oe=(()=>{class L extends rt{constructor(R,Z,ae){super(R,Z),this._compositionMode=ae,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Wn(){const L=(0,re.q)()?(0,re.q)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(R){this.setProperty("value",R??"")}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return L.\u0275fac=function(R){return new(R||L)(w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(wn,8))},L.\u0275dir=w.lG2({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,Z){1&R&&w.NdJ("input",function(lt){return Z._handleInput(lt.target.value)})("blur",function(){return Z.onTouched()})("compositionstart",function(){return Z._compositionStart()})("compositionend",function(lt){return Z._compositionEnd(lt.target.value)})},features:[w._Bn([Vt]),w.qOj]}),L})();const ht=!1;function He(L){return null==L||("string"==typeof L||Array.isArray(L))&&0===L.length}function ct(L){return null!=L&&"number"==typeof L.length}const At=new w.OlP("NgValidators"),vt=new w.OlP("NgAsyncValidators"),pn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Sn{static min(F){return function jt(L){return F=>{if(He(F.value)||He(L))return null;const R=parseFloat(F.value);return!isNaN(R)&&R<L?{min:{min:L,actual:F.value}}:null}}(F)}static max(F){return function rn(L){return F=>{if(He(F.value)||He(L))return null;const R=parseFloat(F.value);return!isNaN(R)&&R>L?{max:{max:L,actual:F.value}}:null}}(F)}static required(F){return function dt(L){return He(L.value)?{required:!0}:null}(F)}static requiredTrue(F){return function Ge(L){return!0===L.value?null:{required:!0}}(F)}static email(F){return function Ae(L){return He(L.value)||pn.test(L.value)?null:{email:!0}}(F)}static minLength(F){return function et(L){return F=>He(F.value)||!ct(F.value)?null:F.value.length<L?{minlength:{requiredLength:L,actualLength:F.value.length}}:null}(F)}static maxLength(F){return function nt(L){return F=>ct(F.value)&&F.value.length>L?{maxlength:{requiredLength:L,actualLength:F.value.length}}:null}(F)}static pattern(F){return function ft(L){if(!L)return pt;let F,R;return"string"==typeof L?(R="","^"!==L.charAt(0)&&(R+="^"),R+=L,"$"!==L.charAt(L.length-1)&&(R+="$"),F=new RegExp(R)):(R=L.toString(),F=L),Z=>{if(He(Z.value))return null;const ae=Z.value;return F.test(ae)?null:{pattern:{requiredPattern:R,actualValue:ae}}}}(F)}static nullValidator(F){return null}static compose(F){return Hn(F)}static composeAsync(F){return Tr(F)}}function pt(L){return null}function sn(L){return null!=L}function kn(L){const F=(0,w.QGY)(L)?(0,k.D)(L):L;if(ht&&!(0,w.CqO)(F)){let R="Expected async validator to return Promise or Observable.";throw"object"==typeof L&&(R+=" Are you using a synchronous validator where an async validator is expected?"),new w.vHH(-1101,R)}return F}function Vn(L){let F={};return L.forEach(R=>{F=null!=R?{...F,...R}:F}),0===Object.keys(F).length?null:F}function Zt(L,F){return F.map(R=>R(L))}function xt(L){return L.map(F=>function Ht(L){return!L.validate}(F)?F:R=>F.validate(R))}function Hn(L){if(!L)return null;const F=L.filter(sn);return 0==F.length?null:function(R){return Vn(Zt(R,F))}}function Kr(L){return null!=L?Hn(xt(L)):null}function Tr(L){if(!L)return null;const F=L.filter(sn);return 0==F.length?null:function(R){return function ye(...L){const F=(0,Ve.jO)(L),{args:R,keys:Z}=(0,ee.D)(L),ae=new Ce.y(lt=>{const{length:mr}=R;if(!mr)return void lt.complete();const Yr=new Array(mr);let wr=mr,hs=mr;for(let io=0;io<mr;io++){let Hr=!1;(0,Se.Xf)(R[io]).subscribe((0,ce.x)(lt,es=>{Hr||(Hr=!0,hs--),Yr[io]=es},()=>wr--,void 0,()=>{(!wr||!Hr)&&(hs||lt.next(Z?(0,ie.n)(Z,Yr):Yr),lt.complete())}))}});return F?ae.pipe((0,Be.Z)(F)):ae}(Zt(R,F).map(kn)).pipe((0,xe.U)(Vn))}}function Fn(L){return null!=L?Tr(xt(L)):null}function Ci(L,F){return null===L?[F]:Array.isArray(L)?[...L,F]:[L,F]}function Pr(L){return L._rawValidators}function Xr(L){return L._rawAsyncValidators}function is(L){return L?Array.isArray(L)?L:[L]:[]}function $i(L,F){return Array.isArray(L)?L.includes(F):L===F}function cn(L,F){const R=is(F);return is(L).forEach(ae=>{$i(R,ae)||R.push(ae)}),R}function Ar(L,F){return is(F).filter(R=>!$i(L,R))}class Zr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=Kr(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=Fn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,R){return!!this.control&&this.control.hasError(F,R)}getError(F,R){return this.control?this.control.getError(F,R):null}}class qn extends Zr{get formDirective(){return null}get path(){return null}}class di extends Zr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ss{constructor(F){this._cd=F}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ti=(()=>{class L extends ss{constructor(R){super(R)}}return L.\u0275fac=function(R){return new(R||L)(w.Y36(di,2))},L.\u0275dir=w.lG2({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,Z){2&R&&w.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)},features:[w.qOj]}),L})(),un=(()=>{class L extends ss{constructor(R){super(R)}}return L.\u0275fac=function(R){return new(R||L)(w.Y36(qn,10))},L.\u0275dir=w.lG2({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(R,Z){2&R&&w.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)("ng-submitted",Z.isSubmitted)},features:[w.qOj]}),L})();function Lr(L,F){return L?`with name: '${F}'`:`at index: ${F}`}const si=!1,Vr="VALID",Nr="INVALID",fe="PENDING",le="DISABLED";function we(L){return(Ee(L)?L.validators:L)||null}function Re(L,F){return(Ee(F)?F.asyncValidators:L)||null}function Ee(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}function pe(L,F,R){const Z=L.controls;if(!(F?Object.keys(Z):Z).length)throw new w.vHH(1e3,si?function en(L){return`\n    There are no form controls registered with this ${L?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(F):"");if(!Z[R])throw new w.vHH(1001,si?function fi(L,F){return`Cannot find form control ${Lr(L,F)}`}(F,R):"")}function se(L,F,R){L._forEachChild((Z,ae)=>{if(void 0===R[ae])throw new w.vHH(1002,si?function Jn(L,F){return`Must supply a value for form control ${Lr(L,F)}`}(F,ae):"")})}class ve{constructor(F,R){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(F),this._assignAsyncValidators(R)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===Vr}get invalid(){return this.status===Nr}get pending(){return this.status==fe}get disabled(){return this.status===le}get enabled(){return this.status!==le}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._assignValidators(F)}setAsyncValidators(F){this._assignAsyncValidators(F)}addValidators(F){this.setValidators(cn(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(cn(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(Ar(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(Ar(F,this._rawAsyncValidators))}hasValidator(F){return $i(this._rawValidators,F)}hasAsyncValidator(F){return $i(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(R=>{R.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(R=>{R.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=fe,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const R=this._parentMarkedDirty(F.onlySelf);this.status=le,this.errors=null,this._forEachChild(Z=>{Z.disable({...F,onlySelf:!0})}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...F,skipPristineCheck:R}),this._onDisabledChange.forEach(Z=>Z(!0))}enable(F={}){const R=this._parentMarkedDirty(F.onlySelf);this.status=Vr,this._forEachChild(Z=>{Z.enable({...F,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors({...F,skipPristineCheck:R}),this._onDisabledChange.forEach(Z=>Z(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}getRawValue(){return this.value}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Vr||this.status===fe)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?le:Vr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=fe,this._hasOwnPendingAsyncValidator=!0;const R=kn(this.asyncValidator(this));this._asyncValidationSubscription=R.subscribe(Z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Z,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,R={}){this.errors=F,this._updateControlsErrors(!1!==R.emitEvent)}get(F){let R=F;return null==R||(Array.isArray(R)||(R=R.split(".")),0===R.length)?null:R.reduce((Z,ae)=>Z&&Z._find(ae),this)}getError(F,R){const Z=R?this.get(R):this;return Z&&Z.errors?Z.errors[F]:null}hasError(F,R){return!!this.getError(F,R)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new w.vpe,this.statusChanges=new w.vpe}_calculateStatus(){return this._allControlsDisabled()?le:this.errors?Nr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fe)?fe:this._anyControlsHaveStatus(Nr)?Nr:Vr}_anyControlsHaveStatus(F){return this._anyControls(R=>R.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){Ee(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(F){return null}_assignValidators(F){this._rawValidators=Array.isArray(F)?F.slice():F,this._composedValidatorFn=function Ye(L){return Array.isArray(L)?Kr(L):L||null}(this._rawValidators)}_assignAsyncValidators(F){this._rawAsyncValidators=Array.isArray(F)?F.slice():F,this._composedAsyncValidatorFn=function bt(L){return Array.isArray(L)?Fn(L):L||null}(this._rawAsyncValidators)}}class qe extends ve{constructor(F,R,Z){super(we(R),Re(Z,R)),this.controls=F,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,R){return this.controls[F]?this.controls[F]:(this.controls[F]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl(F,R,Z={}){this.registerControl(F,R),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}removeControl(F,R={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl(F,R,Z={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],R&&this.registerControl(F,R),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,R={}){se(this,!0,F),Object.keys(F).forEach(Z=>{pe(this,!0,Z),this.controls[Z].setValue(F[Z],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(F,R={}){null!=F&&(Object.keys(F).forEach(Z=>{const ae=this.controls[Z];ae&&ae.patchValue(F[Z],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(F={},R={}){this._forEachChild((Z,ae)=>{Z.reset(F[ae],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},(F,R,Z)=>(F[Z]=R.getRawValue(),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(R,Z)=>!!Z._syncPendingControls()||R);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(R=>{const Z=this.controls[R];Z&&F(Z,R)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const[R,Z]of Object.entries(this.controls))if(this.contains(R)&&F(Z))return!0;return!1}_reduceValue(){return this._reduceChildren({},(R,Z,ae)=>((Z.enabled||this.disabled)&&(R[ae]=Z.value),R))}_reduceChildren(F,R){let Z=F;return this._forEachChild((ae,lt)=>{Z=R(Z,ae,lt)}),Z}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(F){return this.controls.hasOwnProperty(F)?this.controls[F]:null}}class Mt extends qe{}const rr=new w.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>$e}),$e="always";function Me(L,F){return[...F.path,L]}function ut(L,F,R=$e){$n(L,F),F.valueAccessor.writeValue(L.value),(L.disabled||"always"===R)&&F.valueAccessor.setDisabledState?.(L.disabled),function Dr(L,F){F.valueAccessor.registerOnChange(R=>{L._pendingValue=R,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&Ln(L,F)})}(L,F),function ti(L,F){const R=(Z,ae)=>{F.valueAccessor.writeValue(Z),ae&&F.viewToModelUpdate(Z)};L.registerOnChange(R),F._registerOnDestroy(()=>{L._unregisterOnChange(R)})}(L,F),function os(L,F){F.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&Ln(L,F),"submit"!==L.updateOn&&L.markAsTouched()})}(L,F),function _n(L,F){if(F.valueAccessor.setDisabledState){const R=Z=>{F.valueAccessor.setDisabledState(Z)};L.registerOnDisabledChange(R),F._registerOnDestroy(()=>{L._unregisterOnDisabledChange(R)})}}(L,F)}function zt(L,F,R=!0){const Z=()=>{};F.valueAccessor&&(F.valueAccessor.registerOnChange(Z),F.valueAccessor.registerOnTouched(Z)),hr(L,F),L&&(F._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function on(L,F){L.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(F)})}function $n(L,F){const R=Pr(L);null!==F.validator?L.setValidators(Ci(R,F.validator)):"function"==typeof R&&L.setValidators([R]);const Z=Xr(L);null!==F.asyncValidator?L.setAsyncValidators(Ci(Z,F.asyncValidator)):"function"==typeof Z&&L.setAsyncValidators([Z]);const ae=()=>L.updateValueAndValidity();on(F._rawValidators,ae),on(F._rawAsyncValidators,ae)}function hr(L,F){let R=!1;if(null!==L){if(null!==F.validator){const ae=Pr(L);if(Array.isArray(ae)&&ae.length>0){const lt=ae.filter(mr=>mr!==F.validator);lt.length!==ae.length&&(R=!0,L.setValidators(lt))}}if(null!==F.asyncValidator){const ae=Xr(L);if(Array.isArray(ae)&&ae.length>0){const lt=ae.filter(mr=>mr!==F.asyncValidator);lt.length!==ae.length&&(R=!0,L.setAsyncValidators(lt))}}}const Z=()=>{};return on(F._rawValidators,Z),on(F._rawAsyncValidators,Z),R}function Ln(L,F){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function ni(L,F){const R=L.indexOf(F);R>-1&&L.splice(R,1)}function Dn(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}const Ki=class extends ve{constructor(F=null,R,Z){super(we(R),Re(Z,R)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ee(R)&&(R.nonNullable||R.initialValueIsDefault)&&(this.defaultValue=Dn(F)?F.value:F)}setValue(F,R={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(Z=>Z(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(F,R={}){this.setValue(F,R)}reset(F=this.defaultValue,R={}){this._applyFormState(F),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){ni(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){ni(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){Dn(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}};let Qi=(()=>{class L extends qn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Me(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return L.\u0275fac=function(){let F;return function(Z){return(F||(F=w.n5z(L)))(Z||L)}}(),L.\u0275dir=w.lG2({type:L,features:[w.qOj]}),L})(),wt=(()=>{class L{}return L.\u0275fac=function(R){return new(R||L)},L.\u0275dir=w.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})();const Mi={provide:gt,useExisting:(0,w.Gpc)(()=>Zi),multi:!0};let Zi=(()=>{class L extends st{writeValue(R){this.setProperty("value",R??"")}registerOnChange(R){this.onChange=Z=>{R(""==Z?null:parseFloat(Z))}}}return L.\u0275fac=function(){let F;return function(Z){return(F||(F=w.n5z(L)))(Z||L)}}(),L.\u0275dir=w.lG2({type:L,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(R,Z){1&R&&w.NdJ("input",function(lt){return Z.onChange(lt.target.value)})("blur",function(){return Z.onTouched()})},features:[w._Bn([Mi]),w.qOj]}),L})();const Gi={provide:gt,useExisting:(0,w.Gpc)(()=>zi),multi:!0};let ca=(()=>{class L{}return L.\u0275fac=function(R){return new(R||L)},L.\u0275mod=w.oAB({type:L}),L.\u0275inj=w.cJS({}),L})(),gi=(()=>{class L{constructor(){this._accessors=[]}add(R,Z){this._accessors.push([R,Z])}remove(R){for(let Z=this._accessors.length-1;Z>=0;--Z)if(this._accessors[Z][1]===R)return void this._accessors.splice(Z,1)}select(R){this._accessors.forEach(Z=>{this._isSameGroup(Z,R)&&Z[1]!==R&&Z[1].fireUncheck(R.value)})}_isSameGroup(R,Z){return!!R[0].control&&R[0]._parent===Z._control._parent&&R[1].name===Z.name}}return L.\u0275fac=function(R){return new(R||L)},L.\u0275prov=w.Yz7({token:L,factory:L.\u0275fac,providedIn:ca}),L})(),zi=(()=>{class L extends st{constructor(R,Z,ae,lt){super(R,Z),this._registry=ae,this._injector=lt,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,w.f3M)(rr,{optional:!0})??$e}ngOnInit(){this._control=this._injector.get(di),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(R){this._state=R===this.value,this.setProperty("checked",this._state)}registerOnChange(R){this._fn=R,this.onChange=()=>{R(this.value),this._registry.select(this)}}setDisabledState(R){(this.setDisabledStateFired||R||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",R),this.setDisabledStateFired=!0}fireUncheck(R){this.writeValue(R)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return L.\u0275fac=function(R){return new(R||L)(w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(gi),w.Y36(w.zs3))},L.\u0275dir=w.lG2({type:L,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(R,Z){1&R&&w.NdJ("change",function(){return Z.onChange()})("blur",function(){return Z.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[w._Bn([Gi]),w.qOj]}),L})();const Cs=new w.OlP("NgModelWithFormControlWarning"),vr={provide:qn,useExisting:(0,w.Gpc)(()=>ir)};let ir=(()=>{class L extends qn{constructor(R,Z,ae){super(),this.callSetDisabledState=ae,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new w.vpe,this._setValidators(R),this._setAsyncValidators(Z)}ngOnChanges(R){this._checkFormPresent(),R.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(hr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(R){const Z=this.form.get(R.path);return ut(Z,R,this.callSetDisabledState),Z.updateValueAndValidity({emitEvent:!1}),this.directives.push(R),Z}getControl(R){return this.form.get(R.path)}removeControl(R){zt(R.control||null,R,!1),function Si(L,F){const R=L.indexOf(F);R>-1&&L.splice(R,1)}(this.directives,R)}addFormGroup(R){this._setUpFormContainer(R)}removeFormGroup(R){this._cleanUpFormContainer(R)}getFormGroup(R){return this.form.get(R.path)}addFormArray(R){this._setUpFormContainer(R)}removeFormArray(R){this._cleanUpFormContainer(R)}getFormArray(R){return this.form.get(R.path)}updateModel(R,Z){this.form.get(R.path).setValue(Z)}onSubmit(R){return this.submitted=!0,function Mr(L,F){L._syncPendingControls(),F.forEach(R=>{const Z=R.control;"submit"===Z.updateOn&&Z._pendingChange&&(R.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(R),"dialog"===R?.target?.method}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_updateDomValue(){this.directives.forEach(R=>{const Z=R.control,ae=this.form.get(R.path);Z!==ae&&(zt(Z||null,R),(L=>L instanceof Ki)(ae)&&(ut(ae,R,this.callSetDisabledState),R.control=ae))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(R){const Z=this.form.get(R.path);(function yr(L,F){$n(L,F)})(Z,R),Z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(R){if(this.form){const Z=this.form.get(R.path);Z&&function as(L,F){return hr(L,F)}(Z,R)&&Z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$n(this.form,this),this._oldForm&&hr(this._oldForm,this)}_checkFormPresent(){}}return L.\u0275fac=function(R){return new(R||L)(w.Y36(At,10),w.Y36(vt,10),w.Y36(rr,8))},L.\u0275dir=w.lG2({type:L,selectors:[["","formGroup",""]],hostBindings:function(R,Z){1&R&&w.NdJ("submit",function(lt){return Z.onSubmit(lt)})("reset",function(){return Z.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[w._Bn([vr]),w.qOj,w.TTD]}),L})();const bs={provide:qn,useExisting:(0,w.Gpc)(()=>us)};let us=(()=>{class L extends Qi{constructor(R,Z,ae){super(),this._parent=R,this._setValidators(Z),this._setAsyncValidators(ae)}_checkParentType(){ls(this._parent)}}return L.\u0275fac=function(R){return new(R||L)(w.Y36(qn,13),w.Y36(At,10),w.Y36(vt,10))},L.\u0275dir=w.lG2({type:L,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[w._Bn([bs]),w.qOj]}),L})();const da={provide:qn,useExisting:(0,w.Gpc)(()=>yi)};let yi=(()=>{class L extends qn{constructor(R,Z,ae){super(),this._parent=R,this._setValidators(Z),this._setAsyncValidators(ae)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Me(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){ls(this._parent)}}return L.\u0275fac=function(R){return new(R||L)(w.Y36(qn,13),w.Y36(At,10),w.Y36(vt,10))},L.\u0275dir=w.lG2({type:L,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[w._Bn([da]),w.qOj]}),L})();function ls(L){return!(L instanceof us||L instanceof ir||L instanceof yi)}const cs={provide:di,useExisting:(0,w.Gpc)(()=>So)};let So=(()=>{class L extends di{set isDisabled(R){}constructor(R,Z,ae,lt,mr){super(),this._ngModelWarningConfig=mr,this._added=!1,this.update=new w.vpe,this._ngModelWarningSent=!1,this._parent=R,this._setValidators(Z),this._setAsyncValidators(ae),this.valueAccessor=function bi(L,F){if(!F)return null;let R,Z,ae;return Array.isArray(F),F.forEach(lt=>{lt.constructor===Oe?R=lt:function In(L){return Object.getPrototypeOf(L.constructor)===st}(lt)?Z=lt:ae=lt}),ae||Z||R||null}(0,lt)}ngOnChanges(R){this._added||this._setUpControl(),function Nt(L,F){if(!L.hasOwnProperty("model"))return!1;const R=L.model;return!!R.isFirstChange()||!Object.is(F,R.currentValue)}(R,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}get path(){return Me(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return L._ngModelWarningSentOnce=!1,L.\u0275fac=function(R){return new(R||L)(w.Y36(qn,13),w.Y36(At,10),w.Y36(vt,10),w.Y36(gt,10),w.Y36(Cs,8))},L.\u0275dir=w.lG2({type:L,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[w._Bn([cs]),w.qOj,w.TTD]}),L})(),Pi=(()=>{class L{}return L.\u0275fac=function(R){return new(R||L)},L.\u0275mod=w.oAB({type:L}),L.\u0275inj=w.cJS({imports:[ca]}),L})();class ai extends ve{constructor(F,R,Z){super(we(R),Re(Z,R)),this.controls=F,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(F){return this.controls[this._adjustIndex(F)]}push(F,R={}){this.controls.push(F),this._registerControl(F),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}insert(F,R,Z={}){this.controls.splice(F,0,R),this._registerControl(R),this.updateValueAndValidity({emitEvent:Z.emitEvent})}removeAt(F,R={}){let Z=this._adjustIndex(F);Z<0&&(Z=0),this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),this.controls.splice(Z,1),this.updateValueAndValidity({emitEvent:R.emitEvent})}setControl(F,R,Z={}){let ae=this._adjustIndex(F);ae<0&&(ae=0),this.controls[ae]&&this.controls[ae]._registerOnCollectionChange(()=>{}),this.controls.splice(ae,1),R&&(this.controls.splice(ae,0,R),this._registerControl(R)),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(F,R={}){se(this,!1,F),F.forEach((Z,ae)=>{pe(this,!1,ae),this.at(ae).setValue(Z,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(F,R={}){null!=F&&(F.forEach((Z,ae)=>{this.at(ae)&&this.at(ae).patchValue(Z,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(F=[],R={}){this._forEachChild((Z,ae)=>{Z.reset(F[ae],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this.controls.map(F=>F.getRawValue())}clear(F={}){this.controls.length<1||(this._forEachChild(R=>R._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:F.emitEvent}))}_adjustIndex(F){return F<0?F+this.length:F}_syncPendingControls(){let F=this.controls.reduce((R,Z)=>!!Z._syncPendingControls()||R,!1);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){this.controls.forEach((R,Z)=>{F(R,Z)})}_updateValue(){this.value=this.controls.filter(F=>F.enabled||this.disabled).map(F=>F.value)}_anyControls(F){return this.controls.some(R=>R.enabled&&F(R))}_setUpControls(){this._forEachChild(F=>this._registerControl(F))}_allControlsDisabled(){for(const F of this.controls)if(F.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(F){F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)}_find(F){return this.at(F)??null}}function Jo(L){return!!L&&(void 0!==L.asyncValidators||void 0!==L.validators||void 0!==L.updateOn)}let to=(()=>{class L{constructor(){this.useNonNullable=!1}get nonNullable(){const R=new L;return R.useNonNullable=!0,R}group(R,Z=null){const ae=this._reduceControls(R);let lt={};return Jo(Z)?lt=Z:null!==Z&&(lt.validators=Z.validator,lt.asyncValidators=Z.asyncValidator),new qe(ae,lt)}record(R,Z=null){const ae=this._reduceControls(R);return new Mt(ae,Z)}control(R,Z,ae){let lt={};return this.useNonNullable?(Jo(Z)?lt=Z:(lt.validators=Z,lt.asyncValidators=ae),new Ki(R,{...lt,nonNullable:!0})):new Ki(R,Z,ae)}array(R,Z,ae){const lt=R.map(mr=>this._createControl(mr));return new ai(lt,Z,ae)}_reduceControls(R){const Z={};return Object.keys(R).forEach(ae=>{Z[ae]=this._createControl(R[ae])}),Z}_createControl(R){return R instanceof Ki||R instanceof ve?R:Array.isArray(R)?this.control(R[0],R.length>1?R[1]:null,R.length>2?R[2]:null):this.control(R)}}return L.\u0275fac=function(R){return new(R||L)},L.\u0275prov=w.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})(),dn=(()=>{class L{}return L.\u0275fac=function(R){return new(R||L)},L.\u0275prov=w.Yz7({token:L,factory:function(){return(0,w.f3M)(to).nonNullable},providedIn:"root"}),L})(),ro=(()=>{class L{static withConfig(R){return{ngModule:L,providers:[{provide:Cs,useValue:R.warnOnNgModelWithFormControl??"always"},{provide:rr,useValue:R.callSetDisabledState??$e}]}}}return L.\u0275fac=function(R){return new(R||L)},L.\u0275mod=w.oAB({type:L}),L.\u0275inj=w.cJS({imports:[Pi]}),L})()},1481:(nn,Qe,Y)=>{Y.d(Qe,{Dx:()=>un,b2:()=>di,q6:()=>cn,se:()=>dt});var w=Y(6895),re=Y(1571);class k extends w.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ce extends k{static makeCurrent(){(0,w.HT)(new Ce)}onAndCancel(pe,se,ve){return pe.addEventListener(se,ve,!1),()=>{pe.removeEventListener(se,ve,!1)}}dispatchEvent(pe,se){pe.dispatchEvent(se)}remove(pe){pe.parentNode&&pe.parentNode.removeChild(pe)}createElement(pe,se){return(se=se||this.getDefaultDocument()).createElement(pe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(pe){return pe.nodeType===Node.ELEMENT_NODE}isShadowRoot(pe){return pe instanceof DocumentFragment}getGlobalEventTarget(pe,se){return"window"===se?window:"document"===se?pe:"body"===se?pe.body:null}getBaseHref(pe){const se=function Se(){return ee=ee||document.querySelector("base"),ee?ee.getAttribute("href"):null}();return null==se?null:function ce(Ee){Ve=Ve||document.createElement("a"),Ve.setAttribute("href",Ee);const pe=Ve.pathname;return"/"===pe.charAt(0)?pe:`/${pe}`}(se)}resetBaseElement(){ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(pe){return(0,w.Mx)(document.cookie,pe)}}let Ve,ee=null;const Be=new re.OlP("TRANSITION_ID"),ye=[{provide:re.ip1,useFactory:function ie(Ee,pe,se){return()=>{se.get(re.CZH).donePromise.then(()=>{const ve=(0,w.q)(),qe=pe.querySelectorAll(`style[ng-transition="${Ee}"]`);for(let Ne=0;Ne<qe.length;Ne++)ve.remove(qe[Ne])})}},deps:[Be,w.K0,re.zs3],multi:!0}];let rt=(()=>{class Ee{build(){return new XMLHttpRequest}}return Ee.\u0275fac=function(se){return new(se||Ee)},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const st=new re.OlP("EventManagerPlugins");let gt=(()=>{class Ee{constructor(se,ve){this._zone=ve,this._eventNameToPlugin=new Map,se.forEach(qe=>{qe.manager=this}),this._plugins=se.slice().reverse()}addEventListener(se,ve,qe){return this._findPluginFor(ve).addEventListener(se,ve,qe)}addGlobalEventListener(se,ve,qe){return this._findPluginFor(ve).addGlobalEventListener(se,ve,qe)}getZone(){return this._zone}_findPluginFor(se){const ve=this._eventNameToPlugin.get(se);if(ve)return ve;const qe=this._plugins;for(let Ne=0;Ne<qe.length;Ne++){const We=qe[Ne];if(We.supports(se))return this._eventNameToPlugin.set(se,We),We}throw new Error(`No event manager plugin found for event ${se}`)}}return Ee.\u0275fac=function(se){return new(se||Ee)(re.LFG(st),re.LFG(re.R0b))},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class mt{constructor(pe){this._doc=pe}addGlobalEventListener(pe,se,ve){const qe=(0,w.q)().getGlobalEventTarget(this._doc,pe);if(!qe)throw new Error(`Unsupported event target ${qe} for event ${se}`);return this.addEventListener(qe,se,ve)}}let fn=(()=>{class Ee{constructor(){this.usageCount=new Map}addStyles(se){for(const ve of se)1===this.changeUsageCount(ve,1)&&this.onStyleAdded(ve)}removeStyles(se){for(const ve of se)0===this.changeUsageCount(ve,-1)&&this.onStyleRemoved(ve)}onStyleRemoved(se){}onStyleAdded(se){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(se,ve){const qe=this.usageCount;let Ne=qe.get(se)??0;return Ne+=ve,Ne>0?qe.set(se,Ne):qe.delete(se),Ne}ngOnDestroy(){for(const se of this.getAllStyles())this.onStyleRemoved(se);this.usageCount.clear()}}return Ee.\u0275fac=function(se){return new(se||Ee)},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})(),Vt=(()=>{class Ee extends fn{constructor(se){super(),this.doc=se,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(se){for(const ve of this.hostNodes)this.addStyleToHost(ve,se)}onStyleRemoved(se){const ve=this.styleRef;ve.get(se)?.forEach(Ne=>Ne.remove()),ve.delete(se)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(se){this.hostNodes.add(se);for(const ve of this.getAllStyles())this.addStyleToHost(se,ve)}removeHost(se){this.hostNodes.delete(se)}addStyleToHost(se,ve){const qe=this.doc.createElement("style");qe.textContent=ve,se.appendChild(qe);const Ne=this.styleRef.get(ve);Ne?Ne.push(qe):this.styleRef.set(ve,[qe])}resetHostNodes(){const se=this.hostNodes;se.clear(),se.add(this.doc.head)}}return Ee.\u0275fac=function(se){return new(se||Ee)(re.LFG(w.K0))},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const Wn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wn=/%COMP%/g,vt=new re.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function jt(Ee,pe){return pe.flat(100).map(se=>se.replace(wn,Ee))}function rn(Ee){return pe=>{if("__ngUnwrap__"===pe)return Ee;!1===Ee(pe)&&(pe.preventDefault(),pe.returnValue=!1)}}let dt=(()=>{class Ee{constructor(se,ve,qe,Ne){this.eventManager=se,this.sharedStylesHost=ve,this.appId=qe,this.removeStylesOnCompDestory=Ne,this.rendererByCompId=new Map,this.defaultRenderer=new Ge(se)}createRenderer(se,ve){if(!se||!ve)return this.defaultRenderer;const qe=this.getOrCreateRenderer(se,ve);return qe instanceof sn?qe.applyToHost(se):qe instanceof pt&&qe.applyStyles(),qe}getOrCreateRenderer(se,ve){const qe=this.rendererByCompId;let Ne=qe.get(ve.id);if(!Ne){const We=this.eventManager,Mt=this.sharedStylesHost,Jt=this.removeStylesOnCompDestory;switch(ve.encapsulation){case re.ifc.Emulated:Ne=new sn(We,Mt,ve,this.appId,Jt);break;case re.ifc.ShadowDom:return new ft(We,Mt,se,ve);default:Ne=new pt(We,Mt,ve,Jt)}Ne.onDestroy=()=>qe.delete(ve.id),qe.set(ve.id,Ne)}return Ne}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Ee.\u0275fac=function(se){return new(se||Ee)(re.LFG(gt),re.LFG(Vt),re.LFG(re.AFp),re.LFG(vt))},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class Ge{constructor(pe){this.eventManager=pe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(pe,se){return se?document.createElementNS(Wn[se]||se,pe):document.createElement(pe)}createComment(pe){return document.createComment(pe)}createText(pe){return document.createTextNode(pe)}appendChild(pe,se){(nt(pe)?pe.content:pe).appendChild(se)}insertBefore(pe,se,ve){pe&&(nt(pe)?pe.content:pe).insertBefore(se,ve)}removeChild(pe,se){pe&&pe.removeChild(se)}selectRootElement(pe,se){let ve="string"==typeof pe?document.querySelector(pe):pe;if(!ve)throw new Error(`The selector "${pe}" did not match any elements`);return se||(ve.textContent=""),ve}parentNode(pe){return pe.parentNode}nextSibling(pe){return pe.nextSibling}setAttribute(pe,se,ve,qe){if(qe){se=qe+":"+se;const Ne=Wn[qe];Ne?pe.setAttributeNS(Ne,se,ve):pe.setAttribute(se,ve)}else pe.setAttribute(se,ve)}removeAttribute(pe,se,ve){if(ve){const qe=Wn[ve];qe?pe.removeAttributeNS(qe,se):pe.removeAttribute(`${ve}:${se}`)}else pe.removeAttribute(se)}addClass(pe,se){pe.classList.add(se)}removeClass(pe,se){pe.classList.remove(se)}setStyle(pe,se,ve,qe){qe&(re.JOm.DashCase|re.JOm.Important)?pe.style.setProperty(se,ve,qe&re.JOm.Important?"important":""):pe.style[se]=ve}removeStyle(pe,se,ve){ve&re.JOm.DashCase?pe.style.removeProperty(se):pe.style[se]=""}setProperty(pe,se,ve){pe[se]=ve}setValue(pe,se){pe.nodeValue=se}listen(pe,se,ve){return"string"==typeof pe?this.eventManager.addGlobalEventListener(pe,se,rn(ve)):this.eventManager.addEventListener(pe,se,rn(ve))}}function nt(Ee){return"TEMPLATE"===Ee.tagName&&void 0!==Ee.content}class ft extends Ge{constructor(pe,se,ve,qe){super(pe),this.sharedStylesHost=se,this.hostEl=ve,this.shadowRoot=ve.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ne=jt(qe.id,qe.styles);for(const We of Ne){const Mt=document.createElement("style");Mt.textContent=We,this.shadowRoot.appendChild(Mt)}}nodeOrShadowRoot(pe){return pe===this.hostEl?this.shadowRoot:pe}appendChild(pe,se){return super.appendChild(this.nodeOrShadowRoot(pe),se)}insertBefore(pe,se,ve){return super.insertBefore(this.nodeOrShadowRoot(pe),se,ve)}removeChild(pe,se){return super.removeChild(this.nodeOrShadowRoot(pe),se)}parentNode(pe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(pe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class pt extends Ge{constructor(pe,se,ve,qe,Ne=ve.id){super(pe),this.sharedStylesHost=se,this.removeStylesOnCompDestory=qe,this.rendererUsageCount=0,this.styles=jt(Ne,ve.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class sn extends pt{constructor(pe,se,ve,qe,Ne){const We=qe+"-"+ve.id;super(pe,se,ve,Ne,We),this.contentAttr=function pn(Ee){return"_ngcontent-%COMP%".replace(wn,Ee)}(We),this.hostAttr=function Sn(Ee){return"_nghost-%COMP%".replace(wn,Ee)}(We)}applyToHost(pe){this.applyStyles(),this.setAttribute(pe,this.hostAttr,"")}createElement(pe,se){const ve=super.createElement(pe,se);return super.setAttribute(ve,this.contentAttr,""),ve}}let kn=(()=>{class Ee extends mt{constructor(se){super(se)}supports(se){return!0}addEventListener(se,ve,qe){return se.addEventListener(ve,qe,!1),()=>this.removeEventListener(se,ve,qe)}removeEventListener(se,ve,qe){return se.removeEventListener(ve,qe)}}return Ee.\u0275fac=function(se){return new(se||Ee)(re.LFG(w.K0))},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const Vn=["alt","control","meta","shift"],Zt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ht={alt:Ee=>Ee.altKey,control:Ee=>Ee.ctrlKey,meta:Ee=>Ee.metaKey,shift:Ee=>Ee.shiftKey};let xt=(()=>{class Ee extends mt{constructor(se){super(se)}supports(se){return null!=Ee.parseEventName(se)}addEventListener(se,ve,qe){const Ne=Ee.parseEventName(ve),We=Ee.eventCallback(Ne.fullKey,qe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.q)().onAndCancel(se,Ne.domEventName,We))}static parseEventName(se){const ve=se.toLowerCase().split("."),qe=ve.shift();if(0===ve.length||"keydown"!==qe&&"keyup"!==qe)return null;const Ne=Ee._normalizeKey(ve.pop());let We="",Mt=ve.indexOf("code");if(Mt>-1&&(ve.splice(Mt,1),We="code."),Vn.forEach(rr=>{const $e=ve.indexOf(rr);$e>-1&&(ve.splice($e,1),We+=rr+".")}),We+=Ne,0!=ve.length||0===Ne.length)return null;const Jt={};return Jt.domEventName=qe,Jt.fullKey=We,Jt}static matchEventFullKeyCode(se,ve){let qe=Zt[se.key]||se.key,Ne="";return ve.indexOf("code.")>-1&&(qe=se.code,Ne="code."),!(null==qe||!qe)&&(qe=qe.toLowerCase()," "===qe?qe="space":"."===qe&&(qe="dot"),Vn.forEach(We=>{We!==qe&&(0,Ht[We])(se)&&(Ne+=We+".")}),Ne+=qe,Ne===ve)}static eventCallback(se,ve,qe){return Ne=>{Ee.matchEventFullKeyCode(Ne,se)&&qe.runGuarded(()=>ve(Ne))}}static _normalizeKey(se){return"esc"===se?"escape":se}}return Ee.\u0275fac=function(se){return new(se||Ee)(re.LFG(w.K0))},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const cn=(0,re.eFA)(re._c5,"browser",[{provide:re.Lbi,useValue:w.bD},{provide:re.g9A,useValue:function Pr(){Ce.makeCurrent()},multi:!0},{provide:w.K0,useFactory:function is(){return(0,re.RDi)(document),document},deps:[]}]),Ar=new re.OlP(""),Zr=[{provide:re.rWj,useClass:class xe{addToWindow(pe){re.dqk.getAngularTestability=(ve,qe=!0)=>{const Ne=pe.findTestabilityInTree(ve,qe);if(null==Ne)throw new Error("Could not find testability for element.");return Ne},re.dqk.getAllAngularTestabilities=()=>pe.getAllTestabilities(),re.dqk.getAllAngularRootElements=()=>pe.getAllRootElements(),re.dqk.frameworkStabilizers||(re.dqk.frameworkStabilizers=[]),re.dqk.frameworkStabilizers.push(ve=>{const qe=re.dqk.getAllAngularTestabilities();let Ne=qe.length,We=!1;const Mt=function(Jt){We=We||Jt,Ne--,0==Ne&&ve(We)};qe.forEach(function(Jt){Jt.whenStable(Mt)})})}findTestabilityInTree(pe,se,ve){return null==se?null:pe.getTestability(se)??(ve?(0,w.q)().isShadowRoot(se)?this.findTestabilityInTree(pe,se.host,!0):this.findTestabilityInTree(pe,se.parentElement,!0):null)}},deps:[]},{provide:re.lri,useClass:re.dDg,deps:[re.R0b,re.eoX,re.rWj]},{provide:re.dDg,useClass:re.dDg,deps:[re.R0b,re.eoX,re.rWj]}],qn=[{provide:re.zSh,useValue:"root"},{provide:re.qLn,useFactory:function Xr(){return new re.qLn},deps:[]},{provide:st,useClass:kn,multi:!0,deps:[w.K0,re.R0b,re.Lbi]},{provide:st,useClass:xt,multi:!0,deps:[w.K0]},{provide:dt,useClass:dt,deps:[gt,Vt,re.AFp,vt]},{provide:re.FYo,useExisting:dt},{provide:fn,useExisting:Vt},{provide:Vt,useClass:Vt,deps:[w.K0]},{provide:gt,useClass:gt,deps:[st,re.R0b]},{provide:w.JF,useClass:rt,deps:[]},[]];let di=(()=>{class Ee{constructor(se){}static withServerTransition(se){return{ngModule:Ee,providers:[{provide:re.AFp,useValue:se.appId},{provide:Be,useExisting:re.AFp},ye]}}}return Ee.\u0275fac=function(se){return new(se||Ee)(re.LFG(Ar,12))},Ee.\u0275mod=re.oAB({type:Ee}),Ee.\u0275inj=re.cJS({providers:[...qn,...Zr],imports:[w.ez,re.hGG]}),Ee})(),un=(()=>{class Ee{constructor(se){this._doc=se}getTitle(){return this._doc.title}setTitle(se){this._doc.title=se||""}}return Ee.\u0275fac=function(se){return new(se||Ee)(re.LFG(w.K0))},Ee.\u0275prov=re.Yz7({token:Ee,factory:function(se){let ve=null;return ve=se?new se:function Ti(){return new un((0,re.LFG)(w.K0))}(),ve},providedIn:"root"}),Ee})();typeof window<"u"&&window},5912:(nn,Qe,Y)=>{Y.d(Qe,{F0:()=>g,rH:()=>x,Od:()=>z,Bz:()=>Vi,lC:()=>As});var w=Y(1571),re=Y(8996),k=Y(9646),Ce=Y(1135);const Se=(0,Y(3888).d)(E=>function(){E(this),this.name="EmptyError",this.message="no elements in sequence"});var Ve=Y(9751),ce=Y(4742),Be=Y(4671),ie=Y(3268),ye=Y(3269),xe=Y(1810),rt=Y(5403),st=Y(9672);function gt(...E){const D=(0,ye.yG)(E),m=(0,ye.jO)(E),{args:A,keys:U}=(0,ce.D)(E);if(0===A.length)return(0,re.D)([],D);const W=new Ve.y(function mt(E,D,m=Be.y){return A=>{fn(D,()=>{const{length:U}=E,W=new Array(U);let J=U,be=U;for(let Je=0;Je<U;Je++)fn(D,()=>{const $t=(0,re.D)(E[Je],D);let Ot=!1;$t.subscribe((0,rt.x)(A,or=>{W[Je]=or,Ot||(Ot=!0,be--),be||A.next(m(W.slice()))},()=>{--J||A.complete()}))},A)},A)}}(A,D,U?J=>(0,xe.n)(U,J):Be.y));return m?W.pipe((0,ie.Z)(m)):W}function fn(E,D,m){E?(0,st.f)(m,E,D):D()}var Vt=Y(7272),Wn=Y(8421);function wn(E){return new Ve.y(D=>{(0,Wn.Xf)(E()).subscribe(D)})}var Oe=Y(9635),ht=Y(576);function He(E,D){const m=(0,ht.m)(E)?E:()=>E,A=U=>U.error(m());return new Ve.y(D?U=>D.schedule(A,0,U):A)}var ct=Y(515),At=Y(727),vt=Y(4482);function pn(){return(0,vt.e)((E,D)=>{let m=null;E._refCount++;const A=(0,rt.x)(D,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(m=null);const U=E._connection,W=m;m=null,U&&(!W||U===W)&&U.unsubscribe(),D.unsubscribe()});E.subscribe(A),A.closed||(m=E.connect())})}class Sn extends Ve.y{constructor(D,m){super(),this.source=D,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,vt.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new At.w0;const m=this.getSubject();D.add(this.source.subscribe((0,rt.x)(m,void 0,()=>{this._teardown(),m.complete()},A=>{this._teardown(),m.error(A)},()=>this._teardown()))),D.closed&&(this._connection=null,D=At.w0.EMPTY)}return D}refCount(){return pn()(this)}}var jt=Y(7579),rn=Y(6895),dt=Y(4004),Ge=Y(3900),Ae=Y(5698),et=Y(8675),nt=Y(9300),ft=Y(5577);function pt(E){return(0,vt.e)((D,m)=>{let A=!1;D.subscribe((0,rt.x)(m,U=>{A=!0,m.next(U)},()=>{A||m.next(E),m.complete()}))})}function sn(E=kn){return(0,vt.e)((D,m)=>{let A=!1;D.subscribe((0,rt.x)(m,U=>{A=!0,m.next(U)},()=>A?m.complete():m.error(E())))})}function kn(){return new Se}function Vn(E,D){const m=arguments.length>=2;return A=>A.pipe(E?(0,nt.h)((U,W)=>E(U,W,A)):Be.y,(0,Ae.q)(1),m?pt(D):sn(()=>new Se))}function Zt(E,D){return(0,ht.m)(D)?(0,ft.z)(E,D,1):(0,ft.z)(E,1)}var Ht=Y(8505);function xt(E){return(0,vt.e)((D,m)=>{let W,A=null,U=!1;A=D.subscribe((0,rt.x)(m,void 0,void 0,J=>{W=(0,Wn.Xf)(E(J,xt(E)(D))),A?(A.unsubscribe(),A=null,W.subscribe(m)):U=!0})),U&&(A.unsubscribe(),A=null,W.subscribe(m))})}function Kr(E,D){return(0,vt.e)(function Hn(E,D,m,A,U){return(W,J)=>{let be=m,Je=D,$t=0;W.subscribe((0,rt.x)(J,Ot=>{const or=$t++;Je=be?E(Je,Ot,or):(be=!0,Ot),A&&J.next(Je)},U&&(()=>{be&&J.next(Je),J.complete()})))}}(E,D,arguments.length>=2,!0))}function Tr(E){return E<=0?()=>ct.E:(0,vt.e)((D,m)=>{let A=[];D.subscribe((0,rt.x)(m,U=>{A.push(U),E<A.length&&A.shift()},()=>{for(const U of A)m.next(U);m.complete()},void 0,()=>{A=null}))})}function Fn(E,D){const m=arguments.length>=2;return A=>A.pipe(E?(0,nt.h)((U,W)=>E(U,W,A)):Be.y,Tr(1),m?pt(D):sn(()=>new Se))}function Xr(E){return(0,vt.e)((D,m)=>{try{D.subscribe(m)}finally{m.add(E)}})}var is=Y(8189),$i=Y(1481);const cn="primary",Ar=Symbol("RouteTitle");class Zr{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m[0]:m}return null}getAll(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function qn(E){return new Zr(E)}function di(E,D,m){const A=m.path.split("/");if(A.length>E.length||"full"===m.pathMatch&&(D.hasChildren()||A.length<E.length))return null;const U={};for(let W=0;W<A.length;W++){const J=A[W],be=E[W];if(J.startsWith(":"))U[J.substring(1)]=be;else if(J!==be.path)return null}return{consumed:E.slice(0,A.length),posParams:U}}function Gt(E,D){const m=E?Object.keys(E):void 0,A=D?Object.keys(D):void 0;if(!m||!A||m.length!=A.length)return!1;let U;for(let W=0;W<m.length;W++)if(U=m[W],!qi(E[U],D[U]))return!1;return!0}function qi(E,D){if(Array.isArray(E)&&Array.isArray(D)){if(E.length!==D.length)return!1;const m=[...E].sort(),A=[...D].sort();return m.every((U,W)=>A[W]===U)}return E===D}function Ti(E){return Array.prototype.concat.apply([],E)}function un(E){return E.length>0?E[E.length-1]:null}function Ct(E,D){for(const m in E)E.hasOwnProperty(m)&&D(E[m],m)}function Gn(E){return(0,w.CqO)(E)?E:(0,w.QGY)(E)?(0,re.D)(Promise.resolve(E)):(0,k.of)(E)}const ei=!1,hi={exact:function Kn(E,D,m){if(!si(E.segments,D.segments)||!nr(E.segments,D.segments,m)||E.numberOfChildren!==D.numberOfChildren)return!1;for(const A in D.children)if(!E.children[A]||!Kn(E.children[A],D.children[A],m))return!1;return!0},subset:Qn},ji={exact:function Hi(E,D){return Gt(E,D)},subset:function po(E,D){return Object.keys(D).length<=Object.keys(E).length&&Object.keys(D).every(m=>qi(E[m],D[m]))},ignored:()=>!0};function cr(E,D,m){return hi[m.paths](E.root,D.root,m.matrixParams)&&ji[m.queryParams](E.queryParams,D.queryParams)&&!("exact"===m.fragment&&E.fragment!==D.fragment)}function Qn(E,D,m){return dr(E,D,D.segments,m)}function dr(E,D,m,A){if(E.segments.length>m.length){const U=E.segments.slice(0,m.length);return!(!si(U,m)||D.hasChildren()||!nr(U,m,A))}if(E.segments.length===m.length){if(!si(E.segments,m)||!nr(E.segments,m,A))return!1;for(const U in D.children)if(!E.children[U]||!Qn(E.children[U],D.children[U],A))return!1;return!0}{const U=m.slice(0,E.segments.length),W=m.slice(E.segments.length);return!!(si(E.segments,U)&&nr(E.segments,U,A)&&E.children[cn])&&dr(E.children[cn],D,W,A)}}function nr(E,D,m){return D.every((A,U)=>ji[m](E[U].parameters,A.parameters))}class Lr{constructor(D=new en([],{}),m={},A=null){this.root=D,this.queryParams=m,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qn(this.queryParams)),this._queryParamMap}toString(){return le.serialize(this)}}class en{constructor(D,m){this.segments=D,this.children=m,this.parent=null,Ct(m,(A,U)=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return we(this)}}class fi{constructor(D,m){this.path=D,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=qn(this.parameters)),this._parameterMap}toString(){return qe(this)}}function si(E,D){return E.length===D.length&&E.every((m,A)=>m.path===D[A].path)}let Nr=(()=>{class E{}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:function(){return new fe},providedIn:"root"}),E})();class fe{parse(D){const m=new zt(D);return new Lr(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(D){const m=`/${Ye(D.root,!0)}`,A=function We(E){const D=Object.keys(E).map(m=>{const A=E[m];return Array.isArray(A)?A.map(U=>`${bt(m)}=${bt(U)}`).join("&"):`${bt(m)}=${bt(A)}`}).filter(m=>!!m);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${m}${A}${"string"==typeof D.fragment?`#${function Ee(E){return encodeURI(E)}(D.fragment)}`:""}`}}const le=new fe;function we(E){return E.segments.map(D=>qe(D)).join("/")}function Ye(E,D){if(!E.hasChildren())return we(E);if(D){const m=E.children[cn]?Ye(E.children[cn],!1):"",A=[];return Ct(E.children,(U,W)=>{W!==cn&&A.push(`${W}:${Ye(U,!1)}`)}),A.length>0?`${m}(${A.join("//")})`:m}{const m=function Vr(E,D){let m=[];return Ct(E.children,(A,U)=>{U===cn&&(m=m.concat(D(A,U)))}),Ct(E.children,(A,U)=>{U!==cn&&(m=m.concat(D(A,U)))}),m}(E,(A,U)=>U===cn?[Ye(E.children[cn],!1)]:[`${U}:${Ye(A,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[cn]?`${we(E)}/${m[0]}`:`${we(E)}/(${m.join("//")})`}}function Re(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bt(E){return Re(E).replace(/%3B/gi,";")}function pe(E){return Re(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function se(E){return decodeURIComponent(E)}function ve(E){return se(E.replace(/\+/g,"%20"))}function qe(E){return`${pe(E.path)}${function Ne(E){return Object.keys(E).map(D=>`;${pe(D)}=${pe(E[D])}`).join("")}(E.parameters)}`}const Mt=/^[^\/()?;=#]+/;function Jt(E){const D=E.match(Mt);return D?D[0]:""}const rr=/^[^=?&#]+/,Me=/^[^&#]+/;class zt{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(D.length>0||Object.keys(m).length>0)&&(A[cn]=new en(D,m)),A}parseSegment(){const D=Jt(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new w.vHH(4009,ei);return this.capture(D),new fi(se(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const m=Jt(this.remaining);if(!m)return;this.capture(m);let A="";if(this.consumeOptional("=")){const U=Jt(this.remaining);U&&(A=U,this.capture(A))}D[se(m)]=se(A)}parseQueryParam(D){const m=function $e(E){const D=E.match(rr);return D?D[0]:""}(this.remaining);if(!m)return;this.capture(m);let A="";if(this.consumeOptional("=")){const J=function ut(E){const D=E.match(Me);return D?D[0]:""}(this.remaining);J&&(A=J,this.capture(A))}const U=ve(m),W=ve(A);if(D.hasOwnProperty(U)){let J=D[U];Array.isArray(J)||(J=[J],D[U]=J),J.push(W)}else D[U]=W}parseParens(D){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=Jt(this.remaining),U=this.remaining[A.length];if("/"!==U&&")"!==U&&";"!==U)throw new w.vHH(4010,ei);let W;A.indexOf(":")>-1?(W=A.slice(0,A.indexOf(":")),this.capture(W),this.capture(":")):D&&(W=cn);const J=this.parseChildren();m[W]=1===Object.keys(J).length?J[cn]:new en([],J),this.consumeOptional("//")}return m}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new w.vHH(4011,ei)}}function on(E){return E.segments.length>0?new en([],{[cn]:E}):E}function _n(E){const D={};for(const A of Object.keys(E.children)){const W=_n(E.children[A]);(W.segments.length>0||W.hasChildren())&&(D[A]=W)}return function $n(E){if(1===E.numberOfChildren&&E.children[cn]){const D=E.children[cn];return new en(E.segments.concat(D.segments),D.children)}return E}(new en(E.segments,D))}function hr(E){return E instanceof Lr}const Dr=!1;function yr(E,D,m,A,U){if(0===m.length)return gs(D.root,D.root,D.root,A,U);const W=function Ks(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new go(!0,0,E);let D=0,m=!1;const A=E.reduce((U,W,J)=>{if("object"==typeof W&&null!=W){if(W.outlets){const be={};return Ct(W.outlets,(Je,$t)=>{be[$t]="string"==typeof Je?Je.split("/"):Je}),[...U,{outlets:be}]}if(W.segmentPath)return[...U,W.segmentPath]}return"string"!=typeof W?[...U,W]:0===J?(W.split("/").forEach((be,Je)=>{0==Je&&"."===be||(0==Je&&""===be?m=!0:".."===be?D++:""!=be&&U.push(be))}),U):[...U,W]},[]);return new go(m,D,A)}(m);return W.toRoot()?gs(D.root,D.root,new en([],{}),A,U):function J(Je){const $t=function Mr(E,D,m,A){if(E.isAbsolute)return new Nt(D.root,!0,0);if(-1===A)return new Nt(m,m===D.root,0);return function bi(E,D,m){let A=E,U=D,W=m;for(;W>U;){if(W-=U,A=A.parent,!A)throw new w.vHH(4005,Dr&&"Invalid number of '../'");U=A.segments.length}return new Nt(A,!1,U-W)}(m,A+(as(E.commands[0])?0:1),E.numberOfDoubleDots)}(W,D,E.snapshot?._urlSegment,Je),Ot=$t.processChildren?Ai($t.segmentGroup,$t.index,W.commands):Rr($t.segmentGroup,$t.index,W.commands);return gs(D.root,$t.segmentGroup,Ot,A,U)}(E.snapshot?._lastPathIndex)}function as(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function Ur(E){return"object"==typeof E&&null!=E&&E.outlets}function gs(E,D,m,A,U){let J,W={};A&&Ct(A,(Je,$t)=>{W[$t]=Array.isArray(Je)?Je.map(Ot=>`${Ot}`):`${Je}`}),J=E===D?m:Vo(E,D,m);const be=on(_n(J));return new Lr(be,W,U)}function Vo(E,D,m){const A={};return Ct(E.children,(U,W)=>{A[W]=U===D?m:Vo(U,D,m)}),new en(E.segments,A)}class go{constructor(D,m,A){if(this.isAbsolute=D,this.numberOfDoubleDots=m,this.commands=A,D&&A.length>0&&as(A[0]))throw new w.vHH(4003,Dr&&"Root segment cannot have matrix parameters");const U=A.find(Ur);if(U&&U!==un(A))throw new w.vHH(4004,Dr&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nt{constructor(D,m,A){this.segmentGroup=D,this.processChildren=m,this.index=A}}function Rr(E,D,m){if(E||(E=new en([],{})),0===E.segments.length&&E.hasChildren())return Ai(E,D,m);const A=function fr(E,D,m){let A=0,U=D;const W={match:!1,pathIndex:0,commandIndex:0};for(;U<E.segments.length;){if(A>=m.length)return W;const J=E.segments[U],be=m[A];if(Ur(be))break;const Je=`${be}`,$t=A<m.length-1?m[A+1]:null;if(U>0&&void 0===Je)break;if(Je&&$t&&"object"==typeof $t&&void 0===$t.outlets){if(!Ki(Je,$t,J))return W;A+=2}else{if(!Ki(Je,{},J))return W;A++}U++}return{match:!0,pathIndex:U,commandIndex:A}}(E,D,m),U=m.slice(A.commandIndex);if(A.match&&A.pathIndex<E.segments.length){const W=new en(E.segments.slice(0,A.pathIndex),{});return W.children[cn]=new en(E.segments.slice(A.pathIndex),E.children),Ai(W,0,U)}return A.match&&0===U.length?new en(E.segments,{}):A.match&&!E.hasChildren()?Ds(E,D,m):A.match?Ai(E,0,U):Ds(E,D,m)}function Ai(E,D,m){if(0===m.length)return new en(E.segments,{});{const A=function Si(E){return Ur(E[0])?E[0].outlets:{[cn]:E}}(m),U={};if(!A[cn]&&E.children[cn]&&1===E.numberOfChildren&&0===E.children[cn].segments.length){const W=Ai(E.children[cn],D,m);return new en(E.segments,W.children)}return Ct(A,(W,J)=>{"string"==typeof W&&(W=[W]),null!==W&&(U[J]=Rr(E.children[J],D,W))}),Ct(E.children,(W,J)=>{void 0===A[J]&&(U[J]=W)}),new en(E.segments,U)}}function Ds(E,D,m){const A=E.segments.slice(0,D);let U=0;for(;U<m.length;){const W=m[U];if(Ur(W)){const Je=ni(W.outlets);return new en(A,Je)}if(0===U&&as(m[0])){A.push(new fi(E.segments[D].path,Dn(m[0]))),U++;continue}const J=Ur(W)?W.outlets[cn]:`${W}`,be=U<m.length-1?m[U+1]:null;J&&be&&as(be)?(A.push(new fi(J,Dn(be))),U+=2):(A.push(new fi(J,{})),U++)}return new en(A,{})}function ni(E){const D={};return Ct(E,(m,A)=>{"string"==typeof m&&(m=[m]),null!==m&&(D[A]=Ds(new en([],{}),0,m))}),D}function Dn(E){const D={};return Ct(E,(m,A)=>D[A]=`${m}`),D}function Ki(E,D,m){return E==m.path&&Gt(D,m.parameters)}const Zs="imperative";class Yi{constructor(D,m){this.id=D,this.url=m}}class Qi extends Yi{constructor(D,m,A="imperative",U=null){super(D,m),this.type=0,this.navigationTrigger=A,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ri extends Yi{constructor(D,m,A){super(D,m),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Cr extends Yi{constructor(D,m,A,U){super(D,m),this.reason=A,this.code=U,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ji extends Yi{constructor(D,m,A,U){super(D,m),this.reason=A,this.code=U,this.type=16}}class pr extends Yi{constructor(D,m,A,U){super(D,m),this.error=A,this.target=U,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Br extends Yi{constructor(D,m,A,U){super(D,m),this.urlAfterRedirects=A,this.state=U,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pi extends Yi{constructor(D,m,A,U){super(D,m),this.urlAfterRedirects=A,this.state=U,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gr extends Yi{constructor(D,m,A,U,W){super(D,m),this.urlAfterRedirects=A,this.state=U,this.shouldActivate=W,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ys extends Yi{constructor(D,m,A,U){super(D,m),this.urlAfterRedirects=A,this.state=U,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bo extends Yi{constructor(D,m,A,U){super(D,m),this.urlAfterRedirects=A,this.state=U,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wt{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mi{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zi{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gi{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _r{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ca{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gi{constructor(D,m,A){this.routerEvent=D,this.position=m,this.anchor=A,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let xi=(()=>{class E{createUrlTree(m,A,U,W,J,be){return yr(m||A.root,U,W,J,be)}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac}),E})(),mi=(()=>{class E{}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:function(D){return xi.\u0275fac(D)},providedIn:"root"}),E})();class Ts{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const m=this.pathFromRoot(D);return m.length>1?m[m.length-2]:null}children(D){const m=vr(D,this._root);return m?m.children.map(A=>A.value):[]}firstChild(D){const m=vr(D,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(D){const m=ir(D,this._root);return m.length<2?[]:m[m.length-2].children.map(U=>U.value).filter(U=>U!==D)}pathFromRoot(D){return ir(D,this._root).map(m=>m.value)}}function vr(E,D){if(E===D.value)return D;for(const m of D.children){const A=vr(E,m);if(A)return A}return null}function ir(E,D){if(E===D.value)return[D];for(const m of D.children){const A=ir(E,m);if(A.length)return A.unshift(D),A}return[]}class bs{constructor(D,m){this.value=D,this.children=m}toString(){return`TreeNode(${this.value})`}}function us(E){const D={};return E&&E.children.forEach(m=>D[m.value.outlet]=m),D}class da extends Ts{constructor(D,m){super(D),this.snapshot=m,mo(this,D)}toString(){return this.snapshot.toString()}}function yi(E,D){const m=function ls(E,D){const J=new oi([],{},{},"",{},cn,D,null,E.root,-1,{});return new Qs("",new bs(J,[]))}(E,D),A=new Ce.X([new fi("",{})]),U=new Ce.X({}),W=new Ce.X({}),J=new Ce.X({}),be=new Ce.X(""),Je=new cs(A,U,J,be,W,cn,D,m.root);return Je.snapshot=m.root,new da(new bs(Je,[]),m)}class cs{constructor(D,m,A,U,W,J,be,Je){this.url=D,this.params=m,this.queryParams=A,this.fragment=U,this.data=W,this.outlet=J,this.component=be,this.title=this.data?.pipe((0,dt.U)($t=>$t[Ar]))??(0,k.of)(void 0),this._futureSnapshot=Je}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,dt.U)(D=>qn(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,dt.U)(D=>qn(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function So(E,D="emptyOnly"){const m=E.pathFromRoot;let A=0;if("always"!==D)for(A=m.length-1;A>=1;){const U=m[A],W=m[A-1];if(U.routeConfig&&""===U.routeConfig.path)A--;else{if(W.component)break;A--}}return function ms(E){return E.reduce((D,m)=>({params:{...D.params,...m.params},data:{...D.data,...m.data},resolve:{...m.data,...D.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(A))}class oi{get title(){return this.data?.[Ar]}constructor(D,m,A,U,W,J,be,Je,$t,Ot,or){this.url=D,this.params=m,this.queryParams=A,this.fragment=U,this.data=W,this.outlet=J,this.component=be,this.routeConfig=Je,this._urlSegment=$t,this._lastPathIndex=Ot,this._resolve=or}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qs extends Ts{constructor(D,m){super(m),this.url=D,mo(this,m)}toString(){return ha(this._root)}}function mo(E,D){D.value._routerState=E,D.children.forEach(m=>mo(E,m))}function ha(E){const D=E.children.length>0?` { ${E.children.map(ha).join(", ")} } `:"";return`${E.value}${D}`}function fa(E){if(E.snapshot){const D=E.snapshot,m=E._futureSnapshot;E.snapshot=m,Gt(D.queryParams,m.queryParams)||E.queryParams.next(m.queryParams),D.fragment!==m.fragment&&E.fragment.next(m.fragment),Gt(D.params,m.params)||E.params.next(m.params),function ss(E,D){if(E.length!==D.length)return!1;for(let m=0;m<E.length;++m)if(!Gt(E[m],D[m]))return!1;return!0}(D.url,m.url)||E.url.next(m.url),Gt(D.data,m.data)||E.data.next(m.data)}else E.snapshot=E._futureSnapshot,E.data.next(E._futureSnapshot.data)}function yo(E,D){const m=Gt(E.params,D.params)&&function Jn(E,D){return si(E,D)&&E.every((m,A)=>Gt(m.parameters,D[A].parameters))}(E.url,D.url);return m&&!(!E.parent!=!D.parent)&&(!E.parent||yo(E.parent,D.parent))}function _o(E,D,m){if(m&&E.shouldReuseRoute(D.value,m.value.snapshot)){const A=m.value;A._futureSnapshot=D.value;const U=function wa(E,D,m){return D.children.map(A=>{for(const U of m.children)if(E.shouldReuseRoute(A.value,U.value.snapshot))return _o(E,A,U);return _o(E,A)})}(E,D,m);return new bs(A,U)}{if(E.shouldAttach(D.value)){const W=E.retrieve(D.value);if(null!==W){const J=W.route;return J.value._futureSnapshot=D.value,J.children=D.children.map(be=>_o(E,be)),J}}const A=function Ao(E){return new cs(new Ce.X(E.url),new Ce.X(E.params),new Ce.X(E.queryParams),new Ce.X(E.fragment),new Ce.X(E.data),E.outlet,E.component,E)}(D.value),U=D.children.map(W=>_o(E,W));return new bs(A,U)}}const ds="ngNavigationCancelingError";function vo(E,D){const{redirectTo:m,navigationBehaviorOptions:A}=hr(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,U=Ss(!1,0,D);return U.url=m,U.navigationBehaviorOptions=A,U}function Ss(E,D,m){const A=new Error("NavigationCancelingError: "+(E||""));return A[ds]=!0,A.cancellationCode=D,m&&(A.url=m),A}function $r(E){return Uo(E)&&hr(E.url)}function Uo(E){return E&&E[ds]}class Mo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new _i,this.attachRef=null}}let _i=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(m,A){const U=this.getOrCreateContext(m);U.outlet=A,this.contexts.set(m,U)}onChildOutletDestroyed(m){const A=this.getContext(m);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let A=this.getContext(m);return A||(A=new Mo,this.contexts.set(m,A)),A}getContext(m){return this.contexts.get(m)||null}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Xs=!1;let As=(()=>{class E{constructor(){this.activated=null,this._activatedRoute=null,this.name=cn,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.parentContexts=(0,w.f3M)(_i),this.location=(0,w.f3M)(w.s_b),this.changeDetector=(0,w.f3M)(w.sBO),this.environmentInjector=(0,w.f3M)(w.lqb)}ngOnChanges(m){if(m.name){const{firstChange:A,previousValue:U}=m.name;if(A)return;this.isTrackedInParentContexts(U)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(U)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.vHH(4012,Xs);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.vHH(4012,Xs);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.vHH(4012,Xs);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,A){this.activated=m,this._activatedRoute=A,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,A){if(this.isActivated)throw new w.vHH(4013,Xs);this._activatedRoute=m;const U=this.location,J=m.snapshot.component,be=this.parentContexts.getOrCreateContext(this.name).children,Je=new Ls(m,be,U.injector);if(A&&function Qo(E){return!!E.resolveComponentFactory}(A)){const $t=A.resolveComponentFactory(J);this.activated=U.createComponent($t,U.length,Je)}else this.activated=U.createComponent(J,{index:U.length,injector:Je,environmentInjector:A??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275dir=w.lG2({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[w.TTD]}),E})();class Ls{constructor(D,m,A){this.route=D,this.childContexts=m,this.parent=A}get(D,m){return D===cs?this.route:D===_i?this.childContexts:this.parent.get(D,m)}}let jr=(()=>{class E{}return E.\u0275fac=function(m){return new(m||E)},E.\u0275cmp=w.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[w.jDz],decls:1,vars:0,template:function(m,A){1&m&&w._UZ(0,"router-outlet")},dependencies:[As],encapsulation:2}),E})();function eo(E,D){return E.providers&&!E._injector&&(E._injector=(0,w.MMx)(E.providers,D,`Route: ${E.path}`)),E._injector??D}function wi(E){const D=E.children&&E.children.map(wi),m=D?{...E,children:D}:{...E};return!m.component&&!m.loadComponent&&(D||m.loadChildren)&&m.outlet&&m.outlet!==cn&&(m.component=jr),m}function Pi(E){return E.outlet||cn}function ai(E,D){const m=E.filter(A=>Pi(A)===D);return m.push(...E.filter(A=>Pi(A)!==D)),m}function Vs(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let D=E.parent;D;D=D.parent){const m=D.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Jo{constructor(D,m,A,U){this.routeReuseStrategy=D,this.futureState=m,this.currState=A,this.forwardEvent=U}activate(D){const m=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,A,D),fa(this.futureState.root),this.activateChildRoutes(m,A,D)}deactivateChildRoutes(D,m,A){const U=us(m);D.children.forEach(W=>{const J=W.value.outlet;this.deactivateRoutes(W,U[J],A),delete U[J]}),Ct(U,(W,J)=>{this.deactivateRouteAndItsChildren(W,A)})}deactivateRoutes(D,m,A){const U=D.value,W=m?m.value:null;if(U===W)if(U.component){const J=A.getContext(U.outlet);J&&this.deactivateChildRoutes(D,m,J.children)}else this.deactivateChildRoutes(D,m,A);else W&&this.deactivateRouteAndItsChildren(m,A)}deactivateRouteAndItsChildren(D,m){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,m):this.deactivateRouteAndOutlet(D,m)}detachAndStoreRouteSubtree(D,m){const A=m.getContext(D.value.outlet),U=A&&D.value.component?A.children:m,W=us(D);for(const J of Object.keys(W))this.deactivateRouteAndItsChildren(W[J],U);if(A&&A.outlet){const J=A.outlet.detach(),be=A.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:J,route:D,contexts:be})}}deactivateRouteAndOutlet(D,m){const A=m.getContext(D.value.outlet),U=A&&D.value.component?A.children:m,W=us(D);for(const J of Object.keys(W))this.deactivateRouteAndItsChildren(W[J],U);A&&(A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated()),A.attachRef=null,A.resolver=null,A.route=null)}activateChildRoutes(D,m,A){const U=us(m);D.children.forEach(W=>{this.activateRoutes(W,U[W.value.outlet],A),this.forwardEvent(new ca(W.value.snapshot))}),D.children.length&&this.forwardEvent(new Gi(D.value.snapshot))}activateRoutes(D,m,A){const U=D.value,W=m?m.value:null;if(fa(U),U===W)if(U.component){const J=A.getOrCreateContext(U.outlet);this.activateChildRoutes(D,m,J.children)}else this.activateChildRoutes(D,m,A);else if(U.component){const J=A.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const be=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),J.children.onOutletReAttached(be.contexts),J.attachRef=be.componentRef,J.route=be.route.value,J.outlet&&J.outlet.attach(be.componentRef,be.route.value),fa(be.route.value),this.activateChildRoutes(D,null,J.children)}else{const be=Vs(U.snapshot),Je=be?.get(w._Vd)??null;J.attachRef=null,J.route=U,J.resolver=Je,J.injector=be,J.outlet&&J.outlet.activateWith(U,J.injector),this.activateChildRoutes(D,null,J.children)}}else this.activateChildRoutes(D,null,A)}}class to{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class dn{constructor(D,m){this.component=D,this.route=m}}function no(E,D,m){const A=E._root;return ro(A,D?D._root:null,m,[A.value])}function Us(E,D){const m=Symbol(),A=D.get(E,m);return A===m?"function"!=typeof E||(0,w.Z0I)(E)?D.get(E):E:A}function ro(E,D,m,A,U={canDeactivateChecks:[],canActivateChecks:[]}){const W=us(D);return E.children.forEach(J=>{(function L(E,D,m,A,U={canDeactivateChecks:[],canActivateChecks:[]}){const W=E.value,J=D?D.value:null,be=m?m.getContext(E.value.outlet):null;if(J&&W.routeConfig===J.routeConfig){const Je=function F(E,D,m){if("function"==typeof m)return m(E,D);switch(m){case"pathParamsChange":return!si(E.url,D.url);case"pathParamsOrQueryParamsChange":return!si(E.url,D.url)||!Gt(E.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yo(E,D)||!Gt(E.queryParams,D.queryParams);default:return!yo(E,D)}}(J,W,W.routeConfig.runGuardsAndResolvers);Je?U.canActivateChecks.push(new to(A)):(W.data=J.data,W._resolvedData=J._resolvedData),ro(E,D,W.component?be?be.children:null:m,A,U),Je&&be&&be.outlet&&be.outlet.isActivated&&U.canDeactivateChecks.push(new dn(be.outlet.component,J))}else J&&R(D,be,U),U.canActivateChecks.push(new to(A)),ro(E,null,W.component?be?be.children:null:m,A,U)})(J,W[J.value.outlet],m,A.concat([J.value]),U),delete W[J.value.outlet]}),Ct(W,(J,be)=>R(J,m.getContext(be),U)),U}function R(E,D,m){const A=us(E),U=E.value;Ct(A,(W,J)=>{R(W,U.component?D?D.children.getContext(J):null:D,m)}),m.canDeactivateChecks.push(new dn(U.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,U))}function Z(E){return"function"==typeof E}function es(E){return E instanceof Se||"EmptyError"===E?.name}const xo=Symbol("INITIAL_VALUE");function Bs(){return(0,Ge.w)(E=>gt(E.map(D=>D.pipe((0,Ae.q)(1),(0,et.O)(xo)))).pipe((0,dt.U)(D=>{for(const m of D)if(!0!==m){if(m===xo)return xo;if(!1===m||m instanceof Lr)return m}return!0}),(0,nt.h)(D=>D!==xo),(0,Ae.q)(1)))}function Da(E){return(0,Oe.z)((0,Ht.b)(D=>{if(hr(D))throw vo(0,D)}),(0,dt.U)(D=>!0===D))}const Xo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ga(E,D,m,A,U){const W=fs(E,D,m);return W.matched?function An(E,D,m,A){const U=D.canMatch;if(!U||0===U.length)return(0,k.of)(!0);const W=U.map(J=>{const be=Us(J,E);return Gn(function hs(E){return E&&Z(E.canMatch)}(be)?be.canMatch(D,m):E.runInContext(()=>be(D,m)))});return(0,k.of)(W).pipe(Bs(),Da())}(A=eo(D,A),D,m).pipe((0,dt.U)(J=>!0===J?W:{...Xo})):(0,k.of)(W)}function fs(E,D,m){if(""===D.path)return"full"===D.pathMatch&&(E.hasChildren()||m.length>0)?{...Xo}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const U=(D.matcher||di)(m,E,D);if(!U)return{...Xo};const W={};Ct(U.posParams,(be,Je)=>{W[Je]=be.path});const J=U.consumed.length>0?{...W,...U.consumed[U.consumed.length-1].parameters}:W;return{matched:!0,consumedSegments:U.consumed,remainingSegments:m.slice(U.consumed.length),parameters:J,positionalParamSegments:U.posParams??{}}}function Ho(E,D,m,A){if(m.length>0&&function ma(E,D,m){return m.some(A=>ys(E,D,A)&&Pi(A)!==cn)}(E,m,A)){const W=new en(D,function Po(E,D,m,A){const U={};U[cn]=A,A._sourceSegment=E,A._segmentIndexShift=D.length;for(const W of m)if(""===W.path&&Pi(W)!==cn){const J=new en([],{});J._sourceSegment=E,J._segmentIndexShift=D.length,U[Pi(W)]=J}return U}(E,D,A,new en(m,E.children)));return W._sourceSegment=E,W._segmentIndexShift=D.length,{segmentGroup:W,slicedSegments:[]}}if(0===m.length&&function Na(E,D,m){return m.some(A=>ys(E,D,A))}(E,m,A)){const W=new en(E.segments,function Ca(E,D,m,A,U){const W={};for(const J of A)if(ys(E,m,J)&&!U[Pi(J)]){const be=new en([],{});be._sourceSegment=E,be._segmentIndexShift=D.length,W[Pi(J)]=be}return{...U,...W}}(E,D,m,A,E.children));return W._sourceSegment=E,W._segmentIndexShift=D.length,{segmentGroup:W,slicedSegments:m}}const U=new en(E.segments,E.children);return U._sourceSegment=E,U._segmentIndexShift=D.length,{segmentGroup:U,slicedSegments:m}}function ys(E,D,m){return(!(E.hasChildren()||D.length>0)||"full"!==m.pathMatch)&&""===m.path}function ts(E,D,m,A){return!!(Pi(E)===A||A!==cn&&ys(D,m,E))&&("**"===E.path||fs(D,E,m).matched)}function ii(E,D,m){return 0===D.length&&!E.children[m]}const $s=!1;class No{constructor(D){this.segmentGroup=D||null}}class ea{constructor(D){this.urlTree=D}}function er(E){return He(new No(E))}function _s(E){return He(new ea(E))}class ja{constructor(D,m,A,U,W){this.injector=D,this.configLoader=m,this.urlSerializer=A,this.urlTree=U,this.config=W,this.allowRedirects=!0}apply(){const D=Ho(this.urlTree.root,[],[],this.config).segmentGroup,m=new en(D.segments,D.children);return this.expandSegmentGroup(this.injector,this.config,m,cn).pipe((0,dt.U)(W=>this.createUrlTree(_n(W),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xt(W=>{if(W instanceof ea)return this.allowRedirects=!1,this.match(W.urlTree);throw W instanceof No?this.noMatchError(W):W}))}match(D){return this.expandSegmentGroup(this.injector,this.config,D.root,cn).pipe((0,dt.U)(U=>this.createUrlTree(_n(U),D.queryParams,D.fragment))).pipe(xt(U=>{throw U instanceof No?this.noMatchError(U):U}))}noMatchError(D){return new w.vHH(4002,$s)}createUrlTree(D,m,A){const U=on(D);return new Lr(U,m,A)}expandSegmentGroup(D,m,A,U){return 0===A.segments.length&&A.hasChildren()?this.expandChildren(D,m,A).pipe((0,dt.U)(W=>new en([],W))):this.expandSegment(D,A,m,A.segments,U,!0)}expandChildren(D,m,A){const U=[];for(const W of Object.keys(A.children))"primary"===W?U.unshift(W):U.push(W);return(0,re.D)(U).pipe(Zt(W=>{const J=A.children[W],be=ai(m,W);return this.expandSegmentGroup(D,be,J,W).pipe((0,dt.U)(Je=>({segment:Je,outlet:W})))}),Kr((W,J)=>(W[J.outlet]=J.segment,W),{}),Fn())}expandSegment(D,m,A,U,W,J){return(0,re.D)(A).pipe(Zt(be=>this.expandSegmentAgainstRoute(D,m,A,be,U,W,J).pipe(xt($t=>{if($t instanceof No)return(0,k.of)(null);throw $t}))),Vn(be=>!!be),xt((be,Je)=>{if(es(be))return ii(m,U,W)?(0,k.of)(new en([],{})):er(m);throw be}))}expandSegmentAgainstRoute(D,m,A,U,W,J,be){return ts(U,m,W,J)?void 0===U.redirectTo?this.matchSegmentAgainstRoute(D,m,U,W,J):be&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,m,A,U,W,J):er(m):er(m)}expandSegmentAgainstRouteUsingRedirect(D,m,A,U,W,J){return"**"===U.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,A,U,J):this.expandRegularSegmentAgainstRouteUsingRedirect(D,m,A,U,W,J)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,m,A,U){const W=this.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?_s(W):this.lineralizeSegments(A,W).pipe((0,ft.z)(J=>{const be=new en(J,{});return this.expandSegment(D,be,m,J,U,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,m,A,U,W,J){const{matched:be,consumedSegments:Je,remainingSegments:$t,positionalParamSegments:Ot}=fs(m,U,W);if(!be)return er(m);const or=this.applyRedirectCommands(Je,U.redirectTo,Ot);return U.redirectTo.startsWith("/")?_s(or):this.lineralizeSegments(U,or).pipe((0,ft.z)(Di=>this.expandSegment(D,m,A,Di.concat($t),J,!1)))}matchSegmentAgainstRoute(D,m,A,U,W){return"**"===A.path?(D=eo(A,D),A.loadChildren?(A._loadedRoutes?(0,k.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):this.configLoader.loadChildren(D,A)).pipe((0,dt.U)(be=>(A._loadedRoutes=be.routes,A._loadedInjector=be.injector,new en(U,{})))):(0,k.of)(new en(U,{}))):ga(m,A,U,D).pipe((0,Ge.w)(({matched:J,consumedSegments:be,remainingSegments:Je})=>J?this.getChildConfig(D=A._injector??D,A,U).pipe((0,ft.z)(Ot=>{const or=Ot.injector??D,Di=Ot.routes,{segmentGroup:zr,slicedSegments:Zo}=Ho(m,be,Je,Di),Es=new en(zr.segments,zr.children);if(0===Zo.length&&Es.hasChildren())return this.expandChildren(or,Di,Es).pipe((0,dt.U)(ws=>new en(be,ws)));if(0===Di.length&&0===Zo.length)return(0,k.of)(new en(be,{}));const Oo=Pi(A)===W;return this.expandSegment(or,Es,Di,Zo,Oo?cn:W,!0).pipe((0,dt.U)(ia=>new en(be.concat(ia.segments),ia.children)))})):er(m)))}getChildConfig(D,m,A){return m.children?(0,k.of)({routes:m.children,injector:D}):m.loadChildren?void 0!==m._loadedRoutes?(0,k.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function xs(E,D,m,A){const U=D.canLoad;if(void 0===U||0===U.length)return(0,k.of)(!0);const W=U.map(J=>{const be=Us(J,E);return Gn(function lt(E){return E&&Z(E.canLoad)}(be)?be.canLoad(D,m):E.runInContext(()=>be(D,m)))});return(0,k.of)(W).pipe(Bs(),Da())}(D,m,A).pipe((0,ft.z)(U=>U?this.configLoader.loadChildren(D,m).pipe((0,Ht.b)(W=>{m._loadedRoutes=W.routes,m._loadedInjector=W.injector})):function ta(E){return He(Ss($s,3))}())):(0,k.of)({routes:[],injector:D})}lineralizeSegments(D,m){let A=[],U=m.root;for(;;){if(A=A.concat(U.segments),0===U.numberOfChildren)return(0,k.of)(A);if(U.numberOfChildren>1||!U.children[cn])return D.redirectTo,He(new w.vHH(4e3,$s));U=U.children[cn]}}applyRedirectCommands(D,m,A){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),D,A)}applyRedirectCreateUrlTree(D,m,A,U){const W=this.createSegmentGroup(D,m.root,A,U);return new Lr(W,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(D,m){const A={};return Ct(D,(U,W)=>{if("string"==typeof U&&U.startsWith(":")){const be=U.substring(1);A[W]=m[be]}else A[W]=U}),A}createSegmentGroup(D,m,A,U){const W=this.createSegments(D,m.segments,A,U);let J={};return Ct(m.children,(be,Je)=>{J[Je]=this.createSegmentGroup(D,be,A,U)}),new en(W,J)}createSegments(D,m,A,U){return m.map(W=>W.path.startsWith(":")?this.findPosParam(D,W,U):this.findOrReturn(W,A))}findPosParam(D,m,A){const U=A[m.path.substring(1)];if(!U)throw new w.vHH(4001,$s);return U}findOrReturn(D,m){let A=0;for(const U of m){if(U.path===D.path)return m.splice(A),U;A++}return D}}class M{}class K{constructor(D,m,A,U,W,J,be){this.injector=D,this.rootComponentType=m,this.config=A,this.urlTree=U,this.url=W,this.paramsInheritanceStrategy=J,this.urlSerializer=be}recognize(){const D=Ho(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,cn).pipe((0,dt.U)(m=>{if(null===m)return null;const A=new oi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},cn,this.rootComponentType,null,this.urlTree.root,-1,{}),U=new bs(A,m),W=new Qs(this.url,U);return this.inheritParamsAndData(W._root),W}))}inheritParamsAndData(D){const m=D.value,A=So(m,this.paramsInheritanceStrategy);m.params=Object.freeze(A.params),m.data=Object.freeze(A.data),D.children.forEach(U=>this.inheritParamsAndData(U))}processSegmentGroup(D,m,A,U){return 0===A.segments.length&&A.hasChildren()?this.processChildren(D,m,A):this.processSegment(D,m,A,A.segments,U)}processChildren(D,m,A){return(0,re.D)(Object.keys(A.children)).pipe(Zt(U=>{const W=A.children[U],J=ai(m,U);return this.processSegmentGroup(D,J,W,U)}),Kr((U,W)=>U&&W?(U.push(...W),U):null),function Ci(E,D=!1){return(0,vt.e)((m,A)=>{let U=0;m.subscribe((0,rt.x)(A,W=>{const J=E(W,U++);(J||D)&&A.next(W),!J&&A.complete()}))})}(U=>null!==U),pt(null),Fn(),(0,dt.U)(U=>{if(null===U)return null;const W=_t(U);return function ue(E){E.sort((D,m)=>D.value.outlet===cn?-1:m.value.outlet===cn?1:D.value.outlet.localeCompare(m.value.outlet))}(W),W}))}processSegment(D,m,A,U,W){return(0,re.D)(m).pipe(Zt(J=>this.processSegmentAgainstRoute(J._injector??D,J,A,U,W)),Vn(J=>!!J),xt(J=>{if(es(J))return ii(A,U,W)?(0,k.of)([]):(0,k.of)(null);throw J}))}processSegmentAgainstRoute(D,m,A,U,W){if(m.redirectTo||!ts(m,A,U,W))return(0,k.of)(null);let J;if("**"===m.path){const be=U.length>0?un(U).parameters:{},Je=jn(A)+U.length,$t=new oi(U,be,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tt(m),Pi(m),m.component??m._loadedComponent??null,m,Nn(A),Je,ln(m));J=(0,k.of)({snapshot:$t,consumedSegments:[],remainingSegments:[]})}else J=ga(A,m,U,D).pipe((0,dt.U)(({matched:be,consumedSegments:Je,remainingSegments:$t,parameters:Ot})=>{if(!be)return null;const or=jn(A)+Je.length;return{snapshot:new oi(Je,Ot,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tt(m),Pi(m),m.component??m._loadedComponent??null,m,Nn(A),or,ln(m)),consumedSegments:Je,remainingSegments:$t}}));return J.pipe((0,Ge.w)(be=>{if(null===be)return(0,k.of)(null);const{snapshot:Je,consumedSegments:$t,remainingSegments:Ot}=be;D=m._injector??D;const or=m._loadedInjector??D,Di=function je(E){return E.children?E.children:E.loadChildren?E._loadedRoutes:[]}(m),{segmentGroup:zr,slicedSegments:Zo}=Ho(A,$t,Ot,Di.filter(Oo=>void 0===Oo.redirectTo));if(0===Zo.length&&zr.hasChildren())return this.processChildren(or,Di,zr).pipe((0,dt.U)(Oo=>null===Oo?null:[new bs(Je,Oo)]));if(0===Di.length&&0===Zo.length)return(0,k.of)([new bs(Je,[])]);const Es=Pi(m)===W;return this.processSegment(or,Di,zr,Zo,Es?cn:W).pipe((0,dt.U)(Oo=>null===Oo?null:[new bs(Je,Oo)]))}))}}function Ke(E){const D=E.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function _t(E){const D=[],m=new Set;for(const A of E){if(!Ke(A)){D.push(A);continue}const U=D.find(W=>A.value.routeConfig===W.value.routeConfig);void 0!==U?(U.children.push(...A.children),m.add(U)):D.push(A)}for(const A of m){const U=_t(A.children);D.push(new bs(A.value,U))}return D.filter(A=>!m.has(A))}function Nn(E){let D=E;for(;D._sourceSegment;)D=D._sourceSegment;return D}function jn(E){let D=E,m=D._segmentIndexShift??0;for(;D._sourceSegment;)D=D._sourceSegment,m+=D._segmentIndexShift??0;return m-1}function tt(E){return E.data||{}}function ln(E){return E.resolve||{}}function Ue(E){return"string"==typeof E.title||null===E.title}function ot(E){return(0,Ge.w)(D=>{const m=E(D);return m?(0,re.D)(m).pipe((0,dt.U)(()=>D)):(0,k.of)(D)})}const Ps=new w.OlP("ROUTES");let Ta=(()=>{class E{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,w.f3M)(w.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,k.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const A=Gn(m.loadComponent()).pipe((0,dt.U)(ya),(0,Ht.b)(W=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=W}),Xr(()=>{this.componentLoaders.delete(m)})),U=new Sn(A,()=>new jt.x).pipe(pn());return this.componentLoaders.set(m,U),U}loadChildren(m,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,k.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const W=this.loadModuleFactoryOrRoutes(A.loadChildren).pipe((0,dt.U)(be=>{this.onLoadEndListener&&this.onLoadEndListener(A);let Je,$t,Ot=!1;Array.isArray(be)?$t=be:(Je=be.create(m).injector,$t=Ti(Je.get(Ps,[],w.XFs.Self|w.XFs.Optional)));return{routes:$t.map(wi),injector:Je}}),Xr(()=>{this.childrenLoaders.delete(A)})),J=new Sn(W,()=>new jt.x).pipe(pn());return this.childrenLoaders.set(A,J),J}loadModuleFactoryOrRoutes(m){return Gn(m()).pipe((0,dt.U)(ya),(0,ft.z)(A=>A instanceof w.YKP||Array.isArray(A)?(0,k.of)(A):(0,re.D)(this.compiler.compileModuleAsync(A))))}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function ya(E){return function ba(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let Ja=(()=>{class E{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new jt.x,this.configLoader=(0,w.f3M)(Ta),this.environmentInjector=(0,w.f3M)(w.lqb),this.urlSerializer=(0,w.f3M)(Nr),this.rootContexts=(0,w.f3M)(_i),this.navigationId=0,this.afterPreactivation=()=>(0,k.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=U=>this.events.next(new Mi(U)),this.configLoader.onLoadStartListener=U=>this.events.next(new wt(U))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const A=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:A})}setupNavigations(m){return this.transitions=new Ce.X({id:0,targetPageId:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zs,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,nt.h)(A=>0!==A.id),(0,dt.U)(A=>({...A,extractedUrl:m.urlHandlingStrategy.extract(A.rawUrl)})),(0,Ge.w)(A=>{let U=!1,W=!1;return(0,k.of)(A).pipe((0,Ht.b)(J=>{this.currentNavigation={id:J.id,initialUrl:J.rawUrl,extractedUrl:J.extractedUrl,trigger:J.source,extras:J.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ge.w)(J=>{const be=m.browserUrlTree.toString(),Je=!m.navigated||J.extractedUrl.toString()!==be||be!==m.currentUrlTree.toString();if(!Je&&"reload"!==(J.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Ot="";return this.events.next(new Ji(J.id,m.serializeUrl(A.rawUrl),Ot,0)),m.rawUrlTree=J.rawUrl,J.resolve(null),ct.E}if(m.urlHandlingStrategy.shouldProcessUrl(J.rawUrl))return Go(J.source)&&(m.browserUrlTree=J.extractedUrl),(0,k.of)(J).pipe((0,Ge.w)(Ot=>{const or=this.transitions?.getValue();return this.events.next(new Qi(Ot.id,this.urlSerializer.serialize(Ot.extractedUrl),Ot.source,Ot.restoredState)),or!==this.transitions?.getValue()?ct.E:Promise.resolve(Ot)}),function Ra(E,D,m,A){return(0,Ge.w)(U=>function Qa(E,D,m,A,U){return new ja(E,D,m,A,U).apply()}(E,D,m,U.extractedUrl,A).pipe((0,dt.U)(W=>({...U,urlAfterRedirects:W}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,m.config),(0,Ht.b)(Ot=>{this.currentNavigation={...this.currentNavigation,finalUrl:Ot.urlAfterRedirects},A.urlAfterRedirects=Ot.urlAfterRedirects}),function Sr(E,D,m,A,U){return(0,ft.z)(W=>function O(E,D,m,A,U,W,J="emptyOnly"){return new K(E,D,m,A,U,J,W).recognize().pipe((0,Ge.w)(be=>null===be?function $(E){return new Ve.y(D=>D.error(E))}(new M):(0,k.of)(be)))}(E,D,m,W.urlAfterRedirects,A.serialize(W.urlAfterRedirects),A,U).pipe((0,dt.U)(J=>({...W,targetSnapshot:J}))))}(this.environmentInjector,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,Ht.b)(Ot=>{if(A.targetSnapshot=Ot.targetSnapshot,"eager"===m.urlUpdateStrategy){if(!Ot.extras.skipLocationChange){const Di=m.urlHandlingStrategy.merge(Ot.urlAfterRedirects,Ot.rawUrl);m.setBrowserUrl(Di,Ot)}m.browserUrlTree=Ot.urlAfterRedirects}const or=new Br(Ot.id,this.urlSerializer.serialize(Ot.extractedUrl),this.urlSerializer.serialize(Ot.urlAfterRedirects),Ot.targetSnapshot);this.events.next(or)}));if(Je&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:Ot,extractedUrl:or,source:Di,restoredState:zr,extras:Zo}=J,Es=new Qi(Ot,this.urlSerializer.serialize(or),Di,zr);this.events.next(Es);const Oo=yi(or,this.rootComponentType).snapshot;return A={...J,targetSnapshot:Oo,urlAfterRedirects:or,extras:{...Zo,skipLocationChange:!1,replaceUrl:!1}},(0,k.of)(A)}{const Ot="";return this.events.next(new Ji(J.id,m.serializeUrl(A.extractedUrl),Ot,1)),m.rawUrlTree=J.rawUrl,J.resolve(null),ct.E}}),(0,Ht.b)(J=>{const be=new pi(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(J.urlAfterRedirects),J.targetSnapshot);this.events.next(be)}),(0,dt.U)(J=>A={...J,guards:no(J.targetSnapshot,J.currentSnapshot,this.rootContexts)}),function $o(E,D){return(0,ft.z)(m=>{const{targetSnapshot:A,currentSnapshot:U,guards:{canActivateChecks:W,canDeactivateChecks:J}}=m;return 0===J.length&&0===W.length?(0,k.of)({...m,guardsResult:!0}):function Ia(E,D,m,A){return(0,re.D)(E).pipe((0,ft.z)(U=>function Oi(E,D,m,A,U){const W=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,k.of)(!0);const J=W.map(be=>{const Je=Vs(D)??U,$t=Us(be,Je);return Gn(function wr(E){return E&&Z(E.canDeactivate)}($t)?$t.canDeactivate(E,D,m,A):Je.runInContext(()=>$t(E,D,m,A))).pipe(Vn())});return(0,k.of)(J).pipe(Bs())}(U.component,U.route,m,D,A)),Vn(U=>!0!==U,!0))}(J,A,U,E).pipe((0,ft.z)(be=>be&&function ae(E){return"boolean"==typeof E}(be)?function Ni(E,D,m,A){return(0,re.D)(D).pipe(Zt(U=>(0,Vt.z)(function jo(E,D){return null!==E&&D&&D(new Zi(E)),(0,k.of)(!0)}(U.route.parent,A),function Qr(E,D){return null!==E&&D&&D(new _r(E)),(0,k.of)(!0)}(U.route,A),function Ri(E,D,m){const A=D[D.length-1],W=D.slice(0,D.length-1).reverse().map(J=>function pa(E){const D=E.routeConfig?E.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:E,guards:D}:null}(J)).filter(J=>null!==J).map(J=>wn(()=>{const be=J.guards.map(Je=>{const $t=Vs(J.node)??m,Ot=Us(Je,$t);return Gn(function Yr(E){return E&&Z(E.canActivateChild)}(Ot)?Ot.canActivateChild(A,E):$t.runInContext(()=>Ot(A,E))).pipe(Vn())});return(0,k.of)(be).pipe(Bs())}));return(0,k.of)(W).pipe(Bs())}(E,U.path,m),function wo(E,D,m){const A=D.routeConfig?D.routeConfig.canActivate:null;if(!A||0===A.length)return(0,k.of)(!0);const U=A.map(W=>wn(()=>{const J=Vs(D)??m,be=Us(W,J);return Gn(function mr(E){return E&&Z(E.canActivate)}(be)?be.canActivate(D,E):J.runInContext(()=>be(D,E))).pipe(Vn())}));return(0,k.of)(U).pipe(Bs())}(E,U.route,m))),Vn(U=>!0!==U,!0))}(A,W,E,D):(0,k.of)(be)),(0,dt.U)(be=>({...m,guardsResult:be})))})}(this.environmentInjector,J=>this.events.next(J)),(0,Ht.b)(J=>{if(A.guardsResult=J.guardsResult,hr(J.guardsResult))throw vo(0,J.guardsResult);const be=new gr(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(J.urlAfterRedirects),J.targetSnapshot,!!J.guardsResult);this.events.next(be)}),(0,nt.h)(J=>!!J.guardsResult||(m.restoreHistory(J),this.cancelNavigationTransition(J,"",3),!1)),ot(J=>{if(J.guards.canActivateChecks.length)return(0,k.of)(J).pipe((0,Ht.b)(be=>{const Je=new Ys(be.id,this.urlSerializer.serialize(be.extractedUrl),this.urlSerializer.serialize(be.urlAfterRedirects),be.targetSnapshot);this.events.next(Je)}),(0,Ge.w)(be=>{let Je=!1;return(0,k.of)(be).pipe(function js(E,D){return(0,ft.z)(m=>{const{targetSnapshot:A,guards:{canActivateChecks:U}}=m;if(!U.length)return(0,k.of)(m);let W=0;return(0,re.D)(U).pipe(Zt(J=>function Rt(E,D,m,A){const U=E.routeConfig,W=E._resolve;return void 0!==U?.title&&!Ue(U)&&(W[Ar]=U.title),function qt(E,D,m,A){const U=function so(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===U.length)return(0,k.of)({});const W={};return(0,re.D)(U).pipe((0,ft.z)(J=>function Tt(E,D,m,A){const U=Vs(D)??A,W=Us(E,U);return Gn(W.resolve?W.resolve(D,m):U.runInContext(()=>W(D,m)))}(E[J],D,m,A).pipe(Vn(),(0,Ht.b)(be=>{W[J]=be}))),Tr(1),function Pr(E){return(0,dt.U)(()=>E)}(W),xt(J=>es(J)?ct.E:He(J)))}(W,E,D,A).pipe((0,dt.U)(J=>(E._resolvedData=J,E.data=So(E,m).resolve,U&&Ue(U)&&(E.data[Ar]=U.title),null)))}(J.route,A,E,D)),(0,Ht.b)(()=>W++),Tr(1),(0,ft.z)(J=>W===U.length?(0,k.of)(m):ct.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,Ht.b)({next:()=>Je=!0,complete:()=>{Je||(m.restoreHistory(be),this.cancelNavigationTransition(be,"",2))}}))}),(0,Ht.b)(be=>{const Je=new bo(be.id,this.urlSerializer.serialize(be.extractedUrl),this.urlSerializer.serialize(be.urlAfterRedirects),be.targetSnapshot);this.events.next(Je)}))}),ot(J=>{const be=Je=>{const $t=[];Je.routeConfig?.loadComponent&&!Je.routeConfig._loadedComponent&&$t.push(this.configLoader.loadComponent(Je.routeConfig).pipe((0,Ht.b)(Ot=>{Je.component=Ot}),(0,dt.U)(()=>{})));for(const Ot of Je.children)$t.push(...be(Ot));return $t};return gt(be(J.targetSnapshot.root)).pipe(pt(),(0,Ae.q)(1))}),ot(()=>this.afterPreactivation()),(0,dt.U)(J=>{const be=function Js(E,D,m){const A=_o(E,D._root,m?m._root:void 0);return new da(A,D)}(m.routeReuseStrategy,J.targetSnapshot,J.currentRouterState);return A={...J,targetRouterState:be}}),(0,Ht.b)(J=>{m.currentUrlTree=J.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(J.urlAfterRedirects,J.rawUrl),m.routerState=J.targetRouterState,"deferred"===m.urlUpdateStrategy&&(J.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,J),m.browserUrlTree=J.urlAfterRedirects)}),((E,D,m)=>(0,dt.U)(A=>(new Jo(D,A.targetRouterState,A.currentRouterState,m).activate(E),A)))(this.rootContexts,m.routeReuseStrategy,J=>this.events.next(J)),(0,Ae.q)(1),(0,Ht.b)({next:J=>{U=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new ri(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(J.targetRouterState.snapshot),J.resolve(!0)},complete:()=>{U=!0}}),Xr(()=>{U||W||this.cancelNavigationTransition(A,"",1),this.currentNavigation?.id===A.id&&(this.currentNavigation=null)}),xt(J=>{if(W=!0,Uo(J)){$r(J)||(m.navigated=!0,m.restoreHistory(A,!0));const be=new Cr(A.id,this.urlSerializer.serialize(A.extractedUrl),J.message,J.cancellationCode);if(this.events.next(be),$r(J)){const Je=m.urlHandlingStrategy.merge(J.url,m.rawUrlTree),$t={skipLocationChange:A.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||Go(A.source)};m.scheduleNavigation(Je,Zs,null,$t,{resolve:A.resolve,reject:A.reject,promise:A.promise})}else A.resolve(!1)}else{m.restoreHistory(A,!0);const be=new pr(A.id,this.urlSerializer.serialize(A.extractedUrl),J,A.targetSnapshot??void 0);this.events.next(be);try{A.resolve(m.errorHandler(J))}catch(Je){A.reject(Je)}}return ct.E}))}))}cancelNavigationTransition(m,A,U){const W=new Cr(m.id,this.urlSerializer.serialize(m.extractedUrl),A,U);this.events.next(W),m.resolve(!1)}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Go(E){return E!==Zs}let Su=(()=>{class E{buildTitle(m){let A,U=m.root;for(;void 0!==U;)A=this.getResolvedTitleForRoute(U)??A,U=U.children.find(W=>W.outlet===cn);return A}getResolvedTitleForRoute(m){return m.data[Ar]}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:function(){return(0,w.f3M)(Ga)},providedIn:"root"}),E})(),Ga=(()=>{class E extends Su{constructor(m){super(),this.title=m}updateTitle(m){const A=this.buildTitle(m);void 0!==A&&this.title.setTitle(A)}}return E.\u0275fac=function(m){return new(m||E)(w.LFG($i.Dx))},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),_a=(()=>{class E{}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:function(){return(0,w.f3M)(vn)},providedIn:"root"}),E})();class _l{shouldDetach(D){return!1}store(D,m){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,m){return D.routeConfig===m.routeConfig}}let vn=(()=>{class E extends _l{}return E.\u0275fac=function(){let D;return function(A){return(D||(D=w.n5z(E)))(A||E)}}(),E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Ro=new w.OlP("",{providedIn:"root",factory:()=>({})});let Jr=(()=>{class E{}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:function(){return(0,w.f3M)(tn)},providedIn:"root"}),E})(),tn=(()=>{class E{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,A){return m}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function mn(E){throw E}function Xa(E,D,m){return D.parse("/")}const Mn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},S={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let g=(()=>{class E{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,w.f3M)(w.c2e),this.isNgZoneEnabled=!1,this.options=(0,w.f3M)(Ro,{optional:!0})||{},this.errorHandler=this.options.errorHandler||mn,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Xa,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,w.f3M)(Jr),this.routeReuseStrategy=(0,w.f3M)(_a),this.urlCreationStrategy=(0,w.f3M)(mi),this.titleStrategy=(0,w.f3M)(Su),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ti((0,w.f3M)(Ps,{optional:!0})??[]),this.navigationTransitions=(0,w.f3M)(Ja),this.urlSerializer=(0,w.f3M)(Nr),this.location=(0,w.f3M)(rn.Ye),this.isNgZoneEnabled=(0,w.f3M)(w.R0b)instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Lr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=yi(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId??0},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Zs,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const A="popstate"===m.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,A,m.state)},0)}))}navigateToSyncWithBrowser(m,A,U){const W={replaceUrl:!0},J=U?.navigationId?U:null;if(U){const Je={...U};delete Je.navigationId,delete Je.\u0275routerPageId,0!==Object.keys(Je).length&&(W.state=Je)}const be=this.parseUrl(m);this.scheduleNavigation(be,A,J,W)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(m){this.config=m.map(wi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,A={}){const{relativeTo:U,queryParams:W,fragment:J,queryParamsHandling:be,preserveFragment:Je}=A,$t=Je?this.currentUrlTree.fragment:J;let Ot=null;switch(be){case"merge":Ot={...this.currentUrlTree.queryParams,...W};break;case"preserve":Ot=this.currentUrlTree.queryParams;break;default:Ot=W||null}return null!==Ot&&(Ot=this.removeEmptyProps(Ot)),this.urlCreationStrategy.createUrlTree(U,this.routerState,this.currentUrlTree,m,Ot,$t??null)}navigateByUrl(m,A={skipLocationChange:!1}){const U=hr(m)?m:this.parseUrl(m),W=this.urlHandlingStrategy.merge(U,this.rawUrlTree);return this.scheduleNavigation(W,Zs,null,A)}navigate(m,A={skipLocationChange:!1}){return function y(E){for(let D=0;D<E.length;D++){const m=E[D];if(null==m)throw new w.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,A),A)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let A;try{A=this.urlSerializer.parse(m)}catch(U){A=this.malformedUriErrorHandler(U,this.urlSerializer,m)}return A}isActive(m,A){let U;if(U=!0===A?{...Mn}:!1===A?{...S}:A,hr(m))return cr(this.currentUrlTree,m,U);const W=this.parseUrl(m);return cr(this.currentUrlTree,W,U)}removeEmptyProps(m){return Object.keys(m).reduce((A,U)=>{const W=m[U];return null!=W&&(A[U]=W),A},{})}scheduleNavigation(m,A,U,W,J){if(this.disposed)return Promise.resolve(!1);let be,Je,$t,Ot;return J?(be=J.resolve,Je=J.reject,$t=J.promise):$t=new Promise((or,Di)=>{be=or,Je=Di}),Ot="computed"===this.canceledNavigationResolution?U&&U.\u0275routerPageId?U.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Ot,source:A,restoredState:U,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:W,resolve:be,reject:Je,promise:$t,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$t.catch(or=>Promise.reject(or))}setBrowserUrl(m,A){const U=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(U)||A.extras.replaceUrl){const J={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId)};this.location.replaceState(U,"",J)}else{const W={...A.extras.state,...this.generateNgRouterState(A.id,A.targetPageId)};this.location.go(U,"",W)}}restoreHistory(m,A=!1){if("computed"===this.canceledNavigationResolution){const W=this.currentPageId-(this.browserPageId??this.currentPageId);0!==W?this.location.historyGo(W):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===W&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,A){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:A}:{navigationId:m}}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),x=(()=>{class E{constructor(m,A,U,W,J,be){this.router=m,this.route=A,this.tabIndexAttribute=U,this.renderer=W,this.el=J,this.locationStrategy=be,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new jt.x;const Je=J.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Je||"area"===Je,this.isAnchorElement?this.subscription=m.events.subscribe($t=>{$t instanceof ri&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,w.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,w.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,w.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,A,U,W,J){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||A||U||W||J||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,w.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,A){const U=this.renderer,W=this.el.nativeElement;null!==A?U.setAttribute(W,m,A):U.removeAttribute(W,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return E.\u0275fac=function(m){return new(m||E)(w.Y36(g),w.Y36(cs),w.$8M("tabindex"),w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(rn.S$))},E.\u0275dir=w.lG2({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,A){1&m&&w.NdJ("click",function(W){return A.onClick(W.button,W.ctrlKey,W.shiftKey,W.altKey,W.metaKey)}),2&m&&w.uIk("target",A.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[w.TTD]}),E})(),z=(()=>{class E{get isActive(){return this._isActive}constructor(m,A,U,W,J){this.router=m,this.element=A,this.renderer=U,this.cdr=W,this.link=J,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new w.vpe,this.routerEventsSubscription=m.events.subscribe(be=>{be instanceof ri&&this.update()})}ngAfterContentInit(){(0,k.of)(this.links.changes,(0,k.of)(null)).pipe((0,is.J)()).subscribe(m=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const m=[...this.links.toArray(),this.link].filter(A=>!!A).map(A=>A.onChanges);this.linkInputChangesSubscription=(0,re.D)(m).pipe((0,is.J)()).subscribe(A=>{this._isActive!==this.isLinkActive(this.router)(A)&&this.update()})}set routerLinkActive(m){const A=Array.isArray(m)?m:m.split(" ");this.classes=A.filter(U=>!!U)}ngOnChanges(m){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const m=this.hasActiveLinks();this._isActive!==m&&(this._isActive=m,this.cdr.markForCheck(),this.classes.forEach(A=>{m?this.renderer.addClass(this.element.nativeElement,A):this.renderer.removeClass(this.element.nativeElement,A)}),m&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(m))})}isLinkActive(m){const A=function te(E){return!!E.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return U=>!!U.urlTree&&m.isActive(U.urlTree,A)}hasActiveLinks(){const m=this.isLinkActive(this.router);return this.link&&m(this.link)||this.links.some(m)}}return E.\u0275fac=function(m){return new(m||E)(w.Y36(g),w.Y36(w.SBq),w.Y36(w.Qsj),w.Y36(w.sBO),w.Y36(x,8))},E.\u0275dir=w.lG2({type:E,selectors:[["","routerLinkActive",""]],contentQueries:function(m,A,U){if(1&m&&w.Suo(U,x,5),2&m){let W;w.iGM(W=w.CRH())&&(A.links=W)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[w.TTD]}),E})();class ge{}let Ze=(()=>{class E{constructor(m,A,U,W,J){this.router=m,this.injector=U,this.preloadingStrategy=W,this.loader=J}setUpPreloading(){this.subscription=this.router.events.pipe((0,nt.h)(m=>m instanceof ri),Zt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,A){const U=[];for(const W of A){W.providers&&!W._injector&&(W._injector=(0,w.MMx)(W.providers,m,`Route: ${W.path}`));const J=W._injector??m,be=W._loadedInjector??J;(W.loadChildren&&!W._loadedRoutes&&void 0===W.canLoad||W.loadComponent&&!W._loadedComponent)&&U.push(this.preloadConfig(J,W)),(W.children||W._loadedRoutes)&&U.push(this.processRoutes(be,W.children??W._loadedRoutes))}return(0,re.D)(U).pipe((0,is.J)())}preloadConfig(m,A){return this.preloadingStrategy.preload(A,()=>{let U;U=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(m,A):(0,k.of)(null);const W=U.pipe((0,ft.z)(J=>null===J?(0,k.of)(void 0):(A._loadedRoutes=J.routes,A._loadedInjector=J.injector,this.processRoutes(J.injector??m,J.routes))));if(A.loadComponent&&!A._loadedComponent){const J=this.loader.loadComponent(A);return(0,re.D)([W,J]).pipe((0,is.J)())}return W})}}return E.\u0275fac=function(m){return new(m||E)(w.LFG(g),w.LFG(w.Sil),w.LFG(w.lqb),w.LFG(ge),w.LFG(Ta))},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const yt=new w.OlP("");let Ut=(()=>{class E{constructor(m,A,U,W,J={}){this.urlSerializer=m,this.transitions=A,this.viewportScroller=U,this.zone=W,this.options=J,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},J.scrollPositionRestoration=J.scrollPositionRestoration||"disabled",J.anchorScrolling=J.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Qi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof ri&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof gi&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,A){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new gi(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return E.\u0275fac=function(m){w.$Z()},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac}),E})();var gn=(()=>((gn=gn||{})[gn.COMPLETE=0]="COMPLETE",gn[gn.FAILED=1]="FAILED",gn[gn.REDIRECTING=2]="REDIRECTING",gn))();const Yt=!1;function Zn(E,D){return{\u0275kind:E,\u0275providers:D}}const ur=new w.OlP("",{providedIn:"root",factory:()=>!1});function Yn(){const E=(0,w.f3M)(w.zs3);return D=>{const m=E.get(w.z2F);if(D!==m.components[0])return;const A=E.get(g),U=E.get(li);1===E.get(Wo)&&A.initialNavigation(),E.get(Fi,null,w.XFs.Optional)?.setUpPreloading(),E.get(yt,null,w.XFs.Optional)?.init(),A.resetRootComponentType(m.componentTypes[0]),U.closed||(U.next(),U.complete(),U.unsubscribe())}}const li=new w.OlP(Yt?"bootstrap done indicator":"",{factory:()=>new jt.x}),Wo=new w.OlP(Yt?"initial navigation":"",{providedIn:"root",factory:()=>1});function cu(){let E=[];return E=Yt?[{provide:w.Xts,multi:!0,useFactory:()=>{const D=(0,w.f3M)(g);return()=>D.events.subscribe(m=>{console.group?.(`Router Event: ${m.constructor.name}`),console.log(function zi(E){if(!("type"in E))return`Unknown Router Event: ${E.constructor.name}`;switch(E.type){case 14:return`ActivationEnd(path: '${E.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${E.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${E.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${E.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state}, shouldActivate: ${E.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 2:return`NavigationCancel(id: ${E.id}, url: '${E.url}')`;case 16:return`NavigationSkipped(id: ${E.id}, url: '${E.url}')`;case 1:return`NavigationEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${E.id}, url: '${E.url}', error: ${E.error})`;case 0:return`NavigationStart(id: ${E.id}, url: '${E.url}')`;case 6:return`ResolveEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 5:return`ResolveStart(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 10:return`RouteConfigLoadEnd(path: ${E.route.path})`;case 9:return`RouteConfigLoadStart(path: ${E.route.path})`;case 4:return`RoutesRecognized(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 15:return`Scroll(anchor: '${E.anchor}', position: '${E.position?`${E.position[0]}, ${E.position[1]}`:null}')`}}(m)),console.log(m),console.groupEnd?.()})}}]:[],Zn(1,E)}const Fi=new w.OlP(Yt?"router preloader":"");function Rs(E){return Zn(0,[{provide:Fi,useExisting:Ze},{provide:ge,useExisting:E}])}const kt=!1,Cn=new w.OlP(kt?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Li=[rn.Ye,{provide:Nr,useClass:fe},g,_i,{provide:cs,useFactory:function De(E){return E.routerState.root},deps:[g]},Ta,kt?{provide:ur,useValue:!0}:[]];function Gr(){return new w.PXZ("Router",g)}let Vi=(()=>{class E{constructor(m){}static forRoot(m,A){return{ngModule:E,providers:[Li,kt&&A?.enableTracing?cu().\u0275providers:[],{provide:Ps,multi:!0,useValue:m},{provide:Cn,useFactory:Qu,deps:[[g,new w.FiY,new w.tp0]]},{provide:Ro,useValue:A||{}},A?.useHash?{provide:rn.S$,useClass:rn.Do}:{provide:rn.S$,useClass:rn.b0},{provide:yt,useFactory:()=>{const E=(0,w.f3M)(rn.EM),D=(0,w.f3M)(w.R0b),m=(0,w.f3M)(Ro),A=(0,w.f3M)(Ja),U=(0,w.f3M)(Nr);return m.scrollOffset&&E.setOffset(m.scrollOffset),new Ut(U,A,E,D,m)}},A?.preloadingStrategy?Rs(A.preloadingStrategy).\u0275providers:[],{provide:w.PXZ,multi:!0,useFactory:Gr},A?.initialNavigation?vs(A):[],[{provide:Ko,useFactory:Yn},{provide:w.tb,multi:!0,useExisting:Ko}]]}}static forChild(m){return{ngModule:E,providers:[{provide:Ps,multi:!0,useValue:m}]}}}return E.\u0275fac=function(m){return new(m||E)(w.LFG(Cn,8))},E.\u0275mod=w.oAB({type:E}),E.\u0275inj=w.cJS({imports:[jr]}),E})();function Qu(E){if(kt&&E)throw new w.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function vs(E){return["disabled"===E.initialNavigation?Zn(3,[{provide:w.ip1,multi:!0,useFactory:()=>{const D=(0,w.f3M)(g);return()=>{D.setUpLocationChangeListener()}}},{provide:Wo,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?Zn(2,[{provide:Wo,useValue:0},{provide:w.ip1,multi:!0,deps:[w.zs3],useFactory:D=>{const m=D.get(rn.V_,Promise.resolve());return()=>m.then(()=>new Promise(A=>{const U=D.get(g),W=D.get(li);(function xn(E,D){E.events.pipe((0,nt.h)(m=>m instanceof ri||m instanceof Cr||m instanceof pr||m instanceof Ji),(0,dt.U)(m=>m instanceof ri||m instanceof Ji?gn.COMPLETE:m instanceof Cr&&(0===m.code||1===m.code)?gn.REDIRECTING:gn.FAILED),(0,nt.h)(m=>m!==gn.REDIRECTING),(0,Ae.q)(1)).subscribe(()=>{D()})})(U,()=>{A(!0)}),D.get(Ja).afterPreactivation=()=>(A(!0),W.closed?(0,k.of)(void 0):W),U.initialNavigation()}))}}]).\u0275providers:[]]}const Ko=new w.OlP(kt?"Router Initializer":"")},6881:(nn,Qe,Y)=>{Y.d(Qe,{Jn:()=>po,qX:()=>ei,Xd:()=>Gn,Mq:()=>dr,C6:()=>nr,ZF:()=>Qn,KN:()=>fi});var w=Y(5861),re=Y(4859),k=Y(1877),Ce=Y(2090);const ee=($e,Me)=>Me.some(ut=>$e instanceof ut);let Se,Ve;const ie=new WeakMap,ye=new WeakMap,xe=new WeakMap,rt=new WeakMap,st=new WeakMap;let fn={get($e,Me,ut){if($e instanceof IDBTransaction){if("done"===Me)return ye.get($e);if("objectStoreNames"===Me)return $e.objectStoreNames||xe.get($e);if("store"===Me)return ut.objectStoreNames[1]?void 0:ut.objectStore(ut.objectStoreNames[0])}return Oe($e[Me])},set:($e,Me,ut)=>($e[Me]=ut,!0),has:($e,Me)=>$e instanceof IDBTransaction&&("done"===Me||"store"===Me)||Me in $e};function wn($e){return"function"==typeof $e?function Wn($e){return $e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Be(){return Ve||(Ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($e)?function(...Me){return $e.apply(ht(this),Me),Oe(ie.get(this))}:function(...Me){return Oe($e.apply(ht(this),Me))}:function(Me,...ut){const zt=$e.call(ht(this),Me,...ut);return xe.set(zt,Me.sort?Me.sort():[Me]),Oe(zt)}}($e):($e instanceof IDBTransaction&&function mt($e){if(ye.has($e))return;const Me=new Promise((ut,zt)=>{const on=()=>{$e.removeEventListener("complete",_n),$e.removeEventListener("error",$n),$e.removeEventListener("abort",$n)},_n=()=>{ut(),on()},$n=()=>{zt($e.error||new DOMException("AbortError","AbortError")),on()};$e.addEventListener("complete",_n),$e.addEventListener("error",$n),$e.addEventListener("abort",$n)});ye.set($e,Me)}($e),ee($e,function ce(){return Se||(Se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($e,fn):$e)}function Oe($e){if($e instanceof IDBRequest)return function gt($e){const Me=new Promise((ut,zt)=>{const on=()=>{$e.removeEventListener("success",_n),$e.removeEventListener("error",$n)},_n=()=>{ut(Oe($e.result)),on()},$n=()=>{zt($e.error),on()};$e.addEventListener("success",_n),$e.addEventListener("error",$n)});return Me.then(ut=>{ut instanceof IDBCursor&&ie.set(ut,$e)}).catch(()=>{}),st.set(Me,$e),Me}($e);if(rt.has($e))return rt.get($e);const Me=wn($e);return Me!==$e&&(rt.set($e,Me),st.set(Me,$e)),Me}const ht=$e=>st.get($e),At=["get","getKey","getAll","getAllKeys","count"],vt=["put","add","delete","clear"],pn=new Map;function Sn($e,Me){if(!($e instanceof IDBDatabase)||Me in $e||"string"!=typeof Me)return;if(pn.get(Me))return pn.get(Me);const ut=Me.replace(/FromIndex$/,""),zt=Me!==ut,on=vt.includes(ut);if(!(ut in(zt?IDBIndex:IDBObjectStore).prototype)||!on&&!At.includes(ut))return;const _n=function(){var $n=(0,w.Z)(function*(hr,...Dr){const os=this.transaction(hr,on?"readwrite":"readonly");let Ln=os.store;return zt&&(Ln=Ln.index(Dr.shift())),(yield Promise.all([Ln[ut](...Dr),on&&os.done]))[0]});return function(Dr){return $n.apply(this,arguments)}}();return pn.set(Me,_n),_n}!function Vt($e){fn=$e(fn)}($e=>({...$e,get:(Me,ut,zt)=>Sn(Me,ut)||$e.get(Me,ut,zt),has:(Me,ut)=>!!Sn(Me,ut)||$e.has(Me,ut)}));class jt{constructor(Me){this.container=Me}getPlatformInfoString(){return this.container.getProviders().map(ut=>{if(function rn($e){return"VERSION"===$e.getComponent()?.type}(ut)){const zt=ut.getImmediate();return`${zt.library}/${zt.version}`}return null}).filter(ut=>ut).join(" ")}}const dt="@firebase/app",Ae=new k.Yd("@firebase/app"),Gt="[DEFAULT]",qi={[dt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ti=new Map,un=new Map;function Wt($e,Me){try{$e.container.addComponent(Me)}catch(ut){Ae.debug(`Component ${Me.name} failed to register with FirebaseApp ${$e.name}`,ut)}}function Gn($e){const Me=$e.name;if(un.has(Me))return Ae.debug(`There were multiple attempts to register component ${Me}.`),!1;un.set(Me,$e);for(const ut of Ti.values())Wt(ut,$e);return!0}function ei($e,Me){const ut=$e.container.getProvider("heartbeat").getImmediate({optional:!0});return ut&&ut.triggerHeartbeat(),$e.container.getProvider(Me)}const Hi=new Ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Kn{constructor(Me,ut,zt){this._isDeleted=!1,this._options=Object.assign({},Me),this._config=Object.assign({},ut),this._name=ut.name,this._automaticDataCollectionEnabled=ut.automaticDataCollectionEnabled,this._container=zt,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this.checkDestroyed(),this._automaticDataCollectionEnabled=Me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Me){this._isDeleted=Me}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}const po="9.23.0";function Qn($e,Me={}){let ut=$e;"object"!=typeof Me&&(Me={name:Me});const zt=Object.assign({name:Gt,automaticDataCollectionEnabled:!1},Me),on=zt.name;if("string"!=typeof on||!on)throw Hi.create("bad-app-name",{appName:String(on)});if(ut||(ut=(0,Ce.aH)()),!ut)throw Hi.create("no-options");const _n=Ti.get(on);if(_n){if((0,Ce.vZ)(ut,_n.options)&&(0,Ce.vZ)(zt,_n.config))return _n;throw Hi.create("duplicate-app",{appName:on})}const $n=new re.H0(on);for(const Dr of un.values())$n.addComponent(Dr);const hr=new Kn(ut,zt,$n);return Ti.set(on,hr),hr}function dr($e=Gt){const Me=Ti.get($e);if(!Me&&$e===Gt&&(0,Ce.aH)())return Qn();if(!Me)throw Hi.create("no-app",{appName:$e});return Me}function nr(){return Array.from(Ti.values())}function fi($e,Me,ut){var zt;let on=null!==(zt=qi[$e])&&void 0!==zt?zt:$e;ut&&(on+=`-${ut}`);const _n=on.match(/\s|\//),$n=Me.match(/\s|\//);if(_n||$n){const hr=[`Unable to register library "${on}" with version "${Me}":`];return _n&&hr.push(`library name "${on}" contains illegal characters (whitespace or "/")`),_n&&$n&&hr.push("and"),$n&&hr.push(`version name "${Me}" contains illegal characters (whitespace or "/")`),void Ae.warn(hr.join(" "))}Gn(new re.wA(`${on}-version`,()=>({library:on,version:Me}),"VERSION"))}const Vr="firebase-heartbeat-database",Nr=1,fe="firebase-heartbeat-store";let le=null;function we(){return le||(le=function He($e,Me,{blocked:ut,upgrade:zt,blocking:on,terminated:_n}={}){const $n=indexedDB.open($e,Me),hr=Oe($n);return zt&&$n.addEventListener("upgradeneeded",Dr=>{zt(Oe($n.result),Dr.oldVersion,Dr.newVersion,Oe($n.transaction),Dr)}),ut&&$n.addEventListener("blocked",Dr=>ut(Dr.oldVersion,Dr.newVersion,Dr)),hr.then(Dr=>{_n&&Dr.addEventListener("close",()=>_n()),on&&Dr.addEventListener("versionchange",os=>on(os.oldVersion,os.newVersion,os))}).catch(()=>{}),hr}(Vr,Nr,{upgrade:($e,Me)=>{0===Me&&$e.createObjectStore(fe)}}).catch($e=>{throw Hi.create("idb-open",{originalErrorMessage:$e.message})})),le}function Re(){return(Re=(0,w.Z)(function*($e){try{return yield(yield we()).transaction(fe).objectStore(fe).get(pe($e))}catch(Me){if(Me instanceof Ce.ZR)Ae.warn(Me.message);else{const ut=Hi.create("idb-get",{originalErrorMessage:Me?.message});Ae.warn(ut.message)}}})).apply(this,arguments)}function bt($e,Me){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,w.Z)(function*($e,Me){try{const zt=(yield we()).transaction(fe,"readwrite");yield zt.objectStore(fe).put(Me,pe($e)),yield zt.done}catch(ut){if(ut instanceof Ce.ZR)Ae.warn(ut.message);else{const zt=Hi.create("idb-set",{originalErrorMessage:ut?.message});Ae.warn(zt.message)}}})).apply(this,arguments)}function pe($e){return`${$e.name}!${$e.options.appId}`}class qe{constructor(Me){this.container=Me,this._heartbeatsCache=null;const ut=this.container.getProvider("app").getImmediate();this._storage=new Mt(ut),this._heartbeatsCachePromise=this._storage.read().then(zt=>(this._heartbeatsCache=zt,zt))}triggerHeartbeat(){var Me=this;return(0,w.Z)(function*(){const zt=Me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),on=Ne();if(null===Me._heartbeatsCache&&(Me._heartbeatsCache=yield Me._heartbeatsCachePromise),Me._heartbeatsCache.lastSentHeartbeatDate!==on&&!Me._heartbeatsCache.heartbeats.some(_n=>_n.date===on))return Me._heartbeatsCache.heartbeats.push({date:on,agent:zt}),Me._heartbeatsCache.heartbeats=Me._heartbeatsCache.heartbeats.filter(_n=>{const $n=new Date(_n.date).valueOf();return Date.now()-$n<=2592e6}),Me._storage.overwrite(Me._heartbeatsCache)})()}getHeartbeatsHeader(){var Me=this;return(0,w.Z)(function*(){if(null===Me._heartbeatsCache&&(yield Me._heartbeatsCachePromise),null===Me._heartbeatsCache||0===Me._heartbeatsCache.heartbeats.length)return"";const ut=Ne(),{heartbeatsToSend:zt,unsentEntries:on}=function We($e,Me=1024){const ut=[];let zt=$e.slice();for(const on of $e){const _n=ut.find($n=>$n.agent===on.agent);if(_n){if(_n.dates.push(on.date),Jt(ut)>Me){_n.dates.pop();break}}else if(ut.push({agent:on.agent,dates:[on.date]}),Jt(ut)>Me){ut.pop();break}zt=zt.slice(1)}return{heartbeatsToSend:ut,unsentEntries:zt}}(Me._heartbeatsCache.heartbeats),_n=(0,Ce.L)(JSON.stringify({version:2,heartbeats:zt}));return Me._heartbeatsCache.lastSentHeartbeatDate=ut,on.length>0?(Me._heartbeatsCache.heartbeats=on,yield Me._storage.overwrite(Me._heartbeatsCache)):(Me._heartbeatsCache.heartbeats=[],Me._storage.overwrite(Me._heartbeatsCache)),_n})()}}function Ne(){return(new Date).toISOString().substring(0,10)}class Mt{constructor(Me){this.app=Me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,Ce.hl)()&&(0,Ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Me=this;return(0,w.Z)(function*(){return(yield Me._canUseIndexedDBPromise)&&(yield function Ye($e){return Re.apply(this,arguments)}(Me.app))||{heartbeats:[]}})()}overwrite(Me){var ut=this;return(0,w.Z)(function*(){var zt;if(yield ut._canUseIndexedDBPromise){const _n=yield ut.read();return bt(ut.app,{lastSentHeartbeatDate:null!==(zt=Me.lastSentHeartbeatDate)&&void 0!==zt?zt:_n.lastSentHeartbeatDate,heartbeats:Me.heartbeats})}})()}add(Me){var ut=this;return(0,w.Z)(function*(){var zt;if(yield ut._canUseIndexedDBPromise){const _n=yield ut.read();return bt(ut.app,{lastSentHeartbeatDate:null!==(zt=Me.lastSentHeartbeatDate)&&void 0!==zt?zt:_n.lastSentHeartbeatDate,heartbeats:[..._n.heartbeats,...Me.heartbeats]})}})()}}function Jt($e){return(0,Ce.L)(JSON.stringify({version:2,heartbeats:$e})).length}!function rr($e){Gn(new re.wA("platform-logger",Me=>new jt(Me),"PRIVATE")),Gn(new re.wA("heartbeat",Me=>new qe(Me),"PRIVATE")),fi(dt,"0.9.13",$e),fi(dt,"0.9.13","esm2017"),fi("fire-js","")}("")},4859:(nn,Qe,Y)=>{Y.d(Qe,{H0:()=>ce,wA:()=>k});var w=Y(5861),re=Y(2090);class k{constructor(ie,ye,xe){this.name=ie,this.instanceFactory=ye,this.type=xe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ie){return this.instantiationMode=ie,this}setMultipleInstances(ie){return this.multipleInstances=ie,this}setServiceProps(ie){return this.serviceProps=ie,this}setInstanceCreatedCallback(ie){return this.onInstanceCreated=ie,this}}const Ce="[DEFAULT]";class ee{constructor(ie,ye){this.name=ie,this.container=ye,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ie){const ye=this.normalizeInstanceIdentifier(ie);if(!this.instancesDeferred.has(ye)){const xe=new re.BH;if(this.instancesDeferred.set(ye,xe),this.isInitialized(ye)||this.shouldAutoInitialize())try{const rt=this.getOrInitializeService({instanceIdentifier:ye});rt&&xe.resolve(rt)}catch{}}return this.instancesDeferred.get(ye).promise}getImmediate(ie){var ye;const xe=this.normalizeInstanceIdentifier(ie?.identifier),rt=null!==(ye=ie?.optional)&&void 0!==ye&&ye;if(!this.isInitialized(xe)&&!this.shouldAutoInitialize()){if(rt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:xe})}catch(st){if(rt)return null;throw st}}getComponent(){return this.component}setComponent(ie){if(ie.name!==this.name)throw Error(`Mismatching Component ${ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ie,this.shouldAutoInitialize()){if(function Ve(Be){return"EAGER"===Be.instantiationMode}(ie))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch{}for(const[ye,xe]of this.instancesDeferred.entries()){const rt=this.normalizeInstanceIdentifier(ye);try{const st=this.getOrInitializeService({instanceIdentifier:rt});xe.resolve(st)}catch{}}}}clearInstance(ie=Ce){this.instancesDeferred.delete(ie),this.instancesOptions.delete(ie),this.instances.delete(ie)}delete(){var ie=this;return(0,w.Z)(function*(){const ye=Array.from(ie.instances.values());yield Promise.all([...ye.filter(xe=>"INTERNAL"in xe).map(xe=>xe.INTERNAL.delete()),...ye.filter(xe=>"_delete"in xe).map(xe=>xe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ie=Ce){return this.instances.has(ie)}getOptions(ie=Ce){return this.instancesOptions.get(ie)||{}}initialize(ie={}){const{options:ye={}}=ie,xe=this.normalizeInstanceIdentifier(ie.instanceIdentifier);if(this.isInitialized(xe))throw Error(`${this.name}(${xe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const rt=this.getOrInitializeService({instanceIdentifier:xe,options:ye});for(const[st,gt]of this.instancesDeferred.entries())xe===this.normalizeInstanceIdentifier(st)&&gt.resolve(rt);return rt}onInit(ie,ye){var xe;const rt=this.normalizeInstanceIdentifier(ye),st=null!==(xe=this.onInitCallbacks.get(rt))&&void 0!==xe?xe:new Set;st.add(ie),this.onInitCallbacks.set(rt,st);const gt=this.instances.get(rt);return gt&&ie(gt,rt),()=>{st.delete(ie)}}invokeOnInitCallbacks(ie,ye){const xe=this.onInitCallbacks.get(ye);if(xe)for(const rt of xe)try{rt(ie,ye)}catch{}}getOrInitializeService({instanceIdentifier:ie,options:ye={}}){let xe=this.instances.get(ie);if(!xe&&this.component&&(xe=this.component.instanceFactory(this.container,{instanceIdentifier:(Be=ie,Be===Ce?void 0:Be),options:ye}),this.instances.set(ie,xe),this.instancesOptions.set(ie,ye),this.invokeOnInitCallbacks(xe,ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ie,xe)}catch{}var Be;return xe||null}normalizeInstanceIdentifier(ie=Ce){return this.component?this.component.multipleInstances?ie:Ce:ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(ie){this.name=ie,this.providers=new Map}addComponent(ie){const ye=this.getProvider(ie.name);if(ye.isComponentSet())throw new Error(`Component ${ie.name} has already been registered with ${this.name}`);ye.setComponent(ie)}addOrOverwriteComponent(ie){this.getProvider(ie.name).isComponentSet()&&this.providers.delete(ie.name),this.addComponent(ie)}getProvider(ie){if(this.providers.has(ie))return this.providers.get(ie);const ye=new ee(ie,this);return this.providers.set(ie,ye),ye}getProviders(){return Array.from(this.providers.values())}}},1877:(nn,Qe,Y)=>{Y.d(Qe,{Yd:()=>Ve,in:()=>re});const w=[];var re=(()=>{return(ie=re||(re={}))[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",re;var ie})();const k={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},Ce=re.INFO,ee={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},Se=(ie,ye,...xe)=>{if(ye<ie.logLevel)return;const rt=(new Date).toISOString(),st=ee[ye];if(!st)throw new Error(`Attempted to log a message with an invalid logType (value: ${ye})`);console[st](`[${rt}]  ${ie.name}:`,...xe)};class Ve{constructor(ye){this.name=ye,this._logLevel=Ce,this._logHandler=Se,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(ye){if(!(ye in re))throw new TypeError(`Invalid value "${ye}" assigned to \`logLevel\``);this._logLevel=ye}setLogLevel(ye){this._logLevel="string"==typeof ye?k[ye]:ye}get logHandler(){return this._logHandler}set logHandler(ye){if("function"!=typeof ye)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ye}get userLogHandler(){return this._userLogHandler}set userLogHandler(ye){this._userLogHandler=ye}debug(...ye){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...ye),this._logHandler(this,re.DEBUG,...ye)}log(...ye){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...ye),this._logHandler(this,re.VERBOSE,...ye)}info(...ye){this._userLogHandler&&this._userLogHandler(this,re.INFO,...ye),this._logHandler(this,re.INFO,...ye)}warn(...ye){this._userLogHandler&&this._userLogHandler(this,re.WARN,...ye),this._logHandler(this,re.WARN,...ye)}error(...ye){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...ye),this._logHandler(this,re.ERROR,...ye)}}},259:(nn,Qe,Y)=>{Y.d(Qe,{C6:()=>w.C6,KN:()=>w.KN,Mq:()=>w.Mq,ZF:()=>w.ZF});var w=Y(6881);(0,w.KN)("firebase","9.23.0","app")},7396:(nn,Qe,Y)=>{Y.d(Qe,{ET:()=>B_,hJ:()=>m_,JU:()=>__,Jm:()=>Xg,Yp:()=>ky,QT:()=>k_,cf:()=>Oy,IO:()=>Ay,pl:()=>uf,r7:()=>U_,ar:()=>My});var ce,w=Y(5861),re=Y(6881),k=Y(4859),Ce=Y(1877),ee=Y(2090),Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ve={},Be=Be||{},ie=Se||self;function ye(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function xe(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var st="closure_uid_"+(1e9*Math.random()>>>0),gt=0;function mt(r,e,t){return r.call.apply(r.bind,arguments)}function fn(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function Vt(r,e,t){return(Vt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mt:fn).apply(null,arguments)}function Wn(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function wn(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,c){for(var f=Array(arguments.length-2),T=2;T<arguments.length;T++)f[T-2]=arguments[T];return e.prototype[a].apply(s,f)}}function Oe(){this.s=this.s,this.o=this.o}Oe.prototype.s=!1,Oe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function rt(r){Object.prototype.hasOwnProperty.call(r,st)&&r[st]||(r[st]=++gt)}(this)},Oe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const He=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function ct(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function At(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(ye(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let f=0;f<c;f++)r[a+f]=s[f]}else r.push(s)}}function vt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var pn=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{ie.addEventListener("test",()=>{},e),ie.removeEventListener("test",()=>{},e)}catch{}return r}();function Sn(r){return/^[\s\xa0]*$/.test(r)}function jt(){var r=ie.navigator;return r&&(r=r.userAgent)?r:""}function rn(r){return-1!=jt().indexOf(r)}function dt(r){return dt[" "](r),r}dt[" "]=function(){};var Vn,r,Ae=rn("Opera"),et=rn("Trident")||rn("MSIE"),nt=rn("Edge"),ft=nt||et,pt=rn("Gecko")&&!(-1!=jt().toLowerCase().indexOf("webkit")&&!rn("Edge"))&&!(rn("Trident")||rn("MSIE"))&&!rn("Edge"),sn=-1!=jt().toLowerCase().indexOf("webkit")&&!rn("Edge");function kn(){var r=ie.document;return r?r.documentMode:void 0}e:{var Zt="",Ht=(r=jt(),pt?/rv:([^\);]+)(\)|;)/.exec(r):nt?/Edge\/([\d\.]+)/.exec(r):et?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):sn?/WebKit\/(\S+)/.exec(r):Ae?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Ht&&(Zt=Ht?Ht[1]:""),et){var xt=kn();if(null!=xt&&xt>parseFloat(Zt)){Vn=String(xt);break e}}Vn=Zt}var Tr=ie.document&&et&&(kn()||parseInt(Vn,10))||void 0;function Fn(r,e){if(vt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(pt){e:{try{dt(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Ci[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Fn.$.h.call(this)}}wn(Fn,vt);var Ci={2:"touch",3:"pen",4:"mouse"};Fn.prototype.h=function(){Fn.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Pr="closure_listenable_"+(1e6*Math.random()|0),Xr=0;function is(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++Xr,this.fa=this.ia=!1}function $i(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function cn(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Zr(r){const e={};for(const t in r)e[t]=r[t];return e}const qn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function di(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<qn.length;c++)t=qn[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function ss(r){this.src=r,this.g={},this.h=0}function Gt(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=He(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&($i(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function qi(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}ss.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var f=qi(r,e,s,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new is(e,this.src,c,!!s,a)).ia=t,r.push(e)),e};var Ti="closure_lm_"+(1e6*Math.random()|0),un={};function Wt(r,e,t,s,a){if(s&&s.once)return ei(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Wt(r,e[c],t,s,a);return null}return t=Qn(t),r&&r[Pr]?r.O(e,t,xe(s)?!!s.capture:!!s,a):Ct(r,e,t,!1,s,a)}function Ct(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var f=xe(a)?!!a.capture:!!a,T=Kn(r);if(T||(r[Ti]=T=new ss(r)),(t=T.add(e,t,s,f,c)).proxy)return t;if(s=function Gn(){const e=Hi;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)pn||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(cr(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function ei(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)ei(r,e[c],t,s,a);return null}return t=Qn(t),r&&r[Pr]?r.P(e,t,xe(s)?!!s.capture:!!s,a):Ct(r,e,t,!0,s,a)}function hi(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)hi(r,e[c],t,s,a);else s=xe(s)?!!s.capture:!!s,t=Qn(t),r&&r[Pr]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=qi(c=r.g[e],t,s,a))&&($i(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=Kn(r))&&(e=r.g[e.toString()],r=-1,e&&(r=qi(e,t,s,a)),(t=-1<r?e[r]:null)&&ji(t))}function ji(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Pr])Gt(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(cr(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Kn(e))?(Gt(t,r),0==t.h&&(t.src=null,e[Ti]=null)):$i(r)}}}function cr(r){return r in un?un[r]:un[r]="on"+r}function Hi(r,e){if(r.fa)r=!0;else{e=new Fn(e,this);var t=r.listener,s=r.la||r.src;r.ia&&ji(r),r=t.call(s,e)}return r}function Kn(r){return(r=r[Ti])instanceof ss?r:null}var po="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qn(r){return"function"==typeof r?r:(r[po]||(r[po]=function(e){return r.handleEvent(e)}),r[po])}function dr(){Oe.call(this),this.i=new ss(this),this.S=this,this.J=null}function nr(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new vt(e,r);else if(e instanceof vt)e.target=e.target||r;else{var a=e;di(e=new vt(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];a=Lr(f,s,!0,e)&&a}if(a=Lr(f=e.g=r,s,!0,e)&&a,a=Lr(f,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=Lr(f=e.g=t[c],s,!1,e)&&a}function Lr(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.fa&&f.capture==t){var T=f.listener,V=f.la||f.src;f.ia&&Gt(r.i,f),a=!1!==T.call(V,s)&&a}}return a&&!s.defaultPrevented}wn(dr,Oe),dr.prototype[Pr]=!0,dr.prototype.removeEventListener=function(r,e,t,s){hi(this,r,e,t,s)},dr.prototype.N=function(){if(dr.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)$i(t[s]);delete r.g[e],r.h--}}this.J=null},dr.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},dr.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var en=ie.JSON.stringify;function Jn(){var r=Re;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Vr=new class fi{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Nr,r=>r.reset());class Nr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function fe(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function le(r){ie.setTimeout(()=>{throw r},0)}let we,Ye=!1,Re=new class si{constructor(){this.h=this.g=null}add(e,t){const s=Vr.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},bt=()=>{const r=ie.Promise.resolve(void 0);we=()=>{r.then(Ee)}};var Ee=()=>{for(var r;r=Jn();){try{r.h.call(r.g)}catch(t){le(t)}var e=Vr;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Ye=!1};function pe(r,e){dr.call(this),this.h=r||1,this.g=e||ie,this.j=Vt(this.qb,this),this.l=Date.now()}function se(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function ve(r,e,t){if("function"==typeof r)t&&(r=Vt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Vt(r.handleEvent,r)}return 2147483647<Number(e)?-1:ie.setTimeout(r,e||0)}function qe(r){r.g=ve(()=>{r.g=null,r.i&&(r.i=!1,qe(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}wn(pe,dr),(ce=pe.prototype).ga=!1,ce.T=null,ce.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),nr(this,"tick"),this.ga&&(se(this),this.start()))}},ce.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ce.N=function(){pe.$.N.call(this),se(this),delete this.g};class Ne extends Oe{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qe(this)}N(){super.N(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function We(r){Oe.call(this),this.h=r,this.g={}}wn(We,Oe);var Mt=[];function Jt(r,e,t,s){Array.isArray(t)||(t&&(Mt[0]=t.toString()),t=Mt);for(var a=0;a<t.length;a++){var c=Wt(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function rr(r){cn(r.g,function(e,t){this.g.hasOwnProperty(t)&&ji(e)},r),r.g={}}function $e(){this.g=!0}function zt(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _n(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<a.length;f++)a[f]=""}}}return en(t)}catch{return e}}(r,t)+(s?" "+s:"")})}We.prototype.N=function(){We.$.N.call(this),rr(this)},We.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$e.prototype.Ea=function(){this.g=!1},$e.prototype.info=function(){};var $n={},hr=null;function Dr(){return hr=hr||new dr}function os(r){vt.call(this,$n.Ta,r)}function Ln(r){const e=Dr();nr(e,new os(e))}function ti(r,e){vt.call(this,$n.STAT_EVENT,r),this.stat=e}function yr(r){const e=Dr();nr(e,new ti(e,r))}function as(r,e){vt.call(this,$n.Ua,r),this.size=e}function Ur(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){r()},e)}$n.Ta="serverreachability",wn(os,vt),$n.STAT_EVENT="statevent",wn(ti,vt),$n.Ua="timingevent",wn(as,vt);var gs={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Vo={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function go(){}function Nt(){}go.prototype.h=null;var Si,In={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Mr(){vt.call(this,"d")}function bi(){vt.call(this,"c")}function Rr(){}function Ai(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new We(this),this.P=Ds,this.V=new pe(r=ft?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new fr}function fr(){this.i=null,this.g="",this.h=!1}wn(Mr,vt),wn(bi,vt),wn(Rr,go),Rr.prototype.g=function(){return new XMLHttpRequest},Rr.prototype.i=function(){return{}},Si=new Rr;var Ds=45e3,ni={},Dn={};function Ki(r,e,t){r.L=1,r.v=xi(_r(e)),r.s=t,r.S=!0,Zs(r,null)}function Zs(r,e){r.G=Date.now(),Cr(r),r.A=_r(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),ms(t.i,"t",s),r.C=0,t=r.l.J,r.h=new fr,r.g=$o(r.l,t?e:null,!r.s),0<r.O&&(r.M=new Ne(Vt(r.Pa,r,r.g),r.O)),Jt(r.U,r.g,"readystatechange",r.nb),e=r.I?Zr(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Ln(),function Me(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var f="",T=c.split("&"),V=0;V<T.length;V++){var H=T[V].split("=");if(1<H.length){var X=H[0];H=H[1];var de=X.split("_");f=2<=de.length&&"type"==de[1]?f+(X+"=")+H+"&":f+(X+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Yi(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Qi(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=ri(r,t),a==Dn){4==e&&(r.o=4,yr(14),s=!1),zt(r.j,r.m,null,"[Incomplete Response]");break}if(a==ni){r.o=4,yr(15),zt(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}zt(r.j,r.m,a,null),gr(r,a)}Yi(r)&&a!=Dn&&a!=ni&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,yr(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Yr(e),e.M=!0,yr(11))):(zt(r.j,r.m,t,"[Invalid Chunked Response]"),pi(r),Br(r))}function ri(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?Dn:(t=Number(e.substring(t,s)),isNaN(t)?ni:(s+=1)+t>e.length?Dn:(e=e.slice(s,s+t),r.C=s+t,e))}function Cr(r){r.Y=Date.now()+r.P,Ji(r,r.P)}function Ji(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Ur(Vt(r.lb,r),e)}function pr(r){r.B&&(ie.clearTimeout(r.B),r.B=null)}function Br(r){0==r.l.H||r.J||io(r.l,r)}function pi(r){pr(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,se(r.V),rr(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function gr(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||_o(t.i,r)))if(!r.K&&_o(t.i,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;hs(t),Us(t)}mr(t),yr(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ur(Vt(t.ib,t),6e3));if(1>=Js(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else es(t,11)}else if((r.K||t.g==r)&&hs(t),!Sn(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let H=a[e];if(t.V=H[0],H=H[1],2==t.H)if("c"==H[0]){t.K=H[1],t.pa=H[2];const X=H[3];null!=X&&(t.ra=X,t.l.info("VER="+t.ra));const de=H[4];null!=de&&(t.Ga=de,t.l.info("SVER="+t.Ga));const Fe=H[5];null!=Fe&&"number"==typeof Fe&&0<Fe&&(t.L=s=1.5*Fe,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const Xe=r.g;if(Xe){const Dt=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dt){var c=s.i;c.g||-1==Dt.indexOf("spdy")&&-1==Dt.indexOf("quic")&&-1==Dt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(wa(c,c.h),c.h=null))}if(s.F){const Qt=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Qt&&(s.Da=Qt,Xn(s.I,s.F,Qt))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=r;if((s=t).wa=Bs(s,s.J?s.pa:null,s.Y),f.K){Ao(s.i,f);var T=f,V=s.L;V&&T.setTimeout(V),T.B&&(pr(T),Cr(T)),s.g=f}else lt(s);0<t.j.length&&L(t)}else"stop"!=H[0]&&"close"!=H[0]||es(t,7);else 3==t.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?es(t,7):pa(t):"noop"!=H[0]&&t.h&&t.h.Aa(H),t.A=0)}Ln()}catch{}}function wt(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(ye(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function bo(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(ye(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function Ys(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(ye(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(ce=Ai.prototype).setTimeout=function(r){this.P=r},ce.nb=function(r){r=r.target;const e=this.M;e&&3==ai(r)?e.l():this.Pa(r)},ce.Pa=function(r){try{if(r==this.g)e:{const X=ai(this.g);var e=this.g.Ia();if(this.g.da(),!(3>X)&&(3!=X||ft||this.g&&(this.h.h||this.g.ja()||Vs(this.g)))){this.J||4!=X||7==e||Ln(),pr(this);var t=this.g.da();this.ca=t;t:if(Yi(this)){var s=Vs(this.g);r="";var a=s.length,c=4==ai(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pi(this),Br(this);var f="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function ut(r,e,t,s,a,c,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.W,X,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,V=this.g;if((T=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sn(T)){var H=T;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,yr(12),pi(this),Br(this);break e}zt(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gr(this,t)}this.S?(Qi(this,X,f),ft&&this.i&&3==X&&(Jt(this.U,this.V,"tick",this.mb),this.V.start())):(zt(this.j,this.m,f,null),gr(this,f)),4==X&&pi(this),this.i&&!this.J&&(4==X?io(this.l,this):(this.i=!1,Cr(this)))}else(function Eo(r){const e={};r=(r.g&&2<=ai(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(Sn(r[s]))continue;var t=fe(r[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[a]||[];e[a]=c,c.push(t)}!function Ar(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,yr(12)):(this.o=0,yr(13)),pi(this),Br(this)}}}catch{}},ce.mb=function(){if(this.g){var r=ai(this.g),e=this.g.ja();this.C<e.length&&(pr(this),Qi(this,r,e),this.i&&4!=r&&Cr(this))}},ce.cancel=function(){this.J=!0,pi(this)},ce.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function on(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ln(),yr(17)),pi(this),this.o=2,Br(this)):Ji(this,this.Y-r)};var Mi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gi(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Gi){this.h=r.h,ca(this,r.j),this.s=r.s,this.g=r.g,gi(this,r.m),this.l=r.l;var e=r.i,t=new yi;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),zi(this,t),this.o=r.o}else r&&(e=String(r).match(Mi))?(this.h=!1,ca(this,e[1]||"",!0),this.s=Cs(e[2]||""),this.g=Cs(e[3]||"",!0),gi(this,e[4]),this.l=Cs(e[5]||"",!0),zi(this,e[6]||"",!0),this.o=Cs(e[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}function _r(r){return new Gi(r)}function ca(r,e,t){r.j=t?Cs(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function gi(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function zi(r,e,t){e instanceof yi?(r.i=e,function Qs(r,e){e&&!r.j&&(ls(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(cs(this,s),ms(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=mi(e,us)),r.i=new yi(e,r.h))}function Xn(r,e,t){r.i.set(e,t)}function xi(r){return Xn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Cs(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function mi(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Ts),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Ts(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Gi.prototype.toString=function(){var r=[],e=this.j;e&&r.push(mi(e,vr,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(mi(e,vr,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(mi(t,"/"==t.charAt(0)?bs:ir,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",mi(t,da)),r.join("")};var vr=/[#\/\?@]/g,ir=/[#\?:]/g,bs=/[#\?]/g,us=/[#\?@]/g,da=/#/g;function yi(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function ls(r){r.g||(r.g=new Map,r.h=0,r.i&&function Zi(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function cs(r,e){ls(r),e=oi(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function So(r,e){return ls(r),e=oi(r,e),r.g.has(e)}function ms(r,e,t){cs(r,e),0<t.length&&(r.i=null,r.g.set(oi(r,e),ct(t)),r.h+=t.length)}function oi(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function ha(r){this.l=r||fa,r=ie.PerformanceNavigationTiming?0<(r=ie.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(ie.g&&ie.g.Ka&&ie.g.Ka()&&ie.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ce=yi.prototype).add=function(r,e){ls(this),this.i=null,r=oi(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},ce.forEach=function(r,e){ls(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},ce.ta=function(){ls(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},ce.Z=function(r){ls(this);let e=[];if("string"==typeof r)So(this,r)&&(e=e.concat(this.g.get(oi(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},ce.set=function(r,e){return ls(this),this.i=null,So(this,r=oi(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},ce.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var a=c;""!==f[s]&&(a+="="+encodeURIComponent(String(f[s]))),r.push(a)}}return this.i=r.join("&")};var fa=10;function yo(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Js(r){return r.h?1:r.g?r.g.size:0}function _o(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function wa(r,e){r.g?r.g.add(e):r.h=e}function Ao(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function ds(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return ct(r.i)}ha.prototype.cancel=function(){if(this.i=ds(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var vo=class{stringify(r){return ie.JSON.stringify(r,void 0)}parse(r){return ie.JSON.parse(r,void 0)}};function Ss(){this.g=new vo}function $r(r,e,t){const s=t||"";try{wt(r,function(a,c){let f=a;xe(a)&&(f=en(a)),e.push(s+c+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function Mo(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function _i(r){this.l=r.fc||null,this.j=r.ob||!1}function Xs(r,e){dr.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=As,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wn(_i,go),_i.prototype.g=function(){return new Xs(this.l,this.j)},_i.prototype.i=function(r){return function(){return r}}({}),wn(Xs,dr);var As=0;function Ls(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function Qo(r){r.readyState=4,r.l=null,r.j=null,r.A=null,jr(r)}function jr(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ce=Xs.prototype).open=function(r,e){if(this.readyState!=As)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,jr(this)},ce.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qo(this)),this.readyState=As},ce.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,jr(this)),this.g&&(this.readyState=3,jr(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ls(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},ce.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Qo(this):jr(this),3==this.readyState&&Ls(this)}},ce.Za=function(r){this.g&&(this.response=this.responseText=r,Qo(this))},ce.Ya=function(r){this.g&&(this.response=r,Qo(this))},ce.ka=function(){this.g&&Qo(this)},ce.setRequestHeader=function(r,e){this.v.append(r,e)},ce.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ce.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Xs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var eo=ie.JSON.parse;function br(r){dr.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=vi,this.L=this.M=!1}wn(br,dr);var vi="",Pa=/^https?$/i,Ei=["POST","PUT"];function Ms(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Bo(r),wi(r)}function Bo(r){r.F||(r.F=!0,nr(r,"complete"),nr(r,"error"))}function Xi(r){if(r.h&&typeof Be<"u"&&(!r.C[1]||4!=ai(r)||2!=r.da()))if(r.v&&4==ai(r))ve(r.La,0,r);else if(nr(r,"readystatechange"),4==ai(r)){r.h=!1;try{const f=r.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===f){var a=String(r.I).match(Mi)[1]||null;!a&&ie.self&&ie.self.location&&(a=ie.self.location.protocol.slice(0,-1)),s=!Pa.test(a?a.toLowerCase():"")}t=s}if(t)nr(r,"complete"),nr(r,"success");else{r.m=6;try{var c=2<ai(r)?r.g.statusText:""}catch{c=""}r.j=c+" ["+r.da()+"]",Bo(r)}}finally{wi(r)}}}function wi(r,e){if(r.g){Pi(r);const t=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||nr(r,"ready");try{t.onreadystatechange=s}catch{}}}function Pi(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(ie.clearTimeout(r.A),r.A=null)}function ai(r){return r.g?r.g.readyState:0}function Vs(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case vi:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Jo(r){let e="";return cn(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function to(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Jo(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Xn(r,e,t))}function dn(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function no(r){this.Ga=0,this.j=[],this.l=new $e,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=dn("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=dn("baseRetryDelayMs",5e3,r),this.hb=dn("retryDelaySeedMs",1e4,r),this.eb=dn("forwardChannelMaxRetries",2,r),this.xa=dn("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new ha(r&&r.concurrentRequestLimit),this.Ja=new Ss,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function pa(r){if(ro(r),3==r.H){var e=r.W++,t=_r(r.I);if(Xn(t,"SID",r.K),Xn(t,"RID",e),Xn(t,"TYPE","terminate"),Z(r,t),(e=new Ai(r,r.l,e)).L=2,e.v=xi(_r(t)),t=!1,ie.navigator&&ie.navigator.sendBeacon)try{t=ie.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ie.Image&&((new Image).src=e.v,t=!0),t||(e.g=$o(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Cr(e)}xo(r)}function Us(r){r.g&&(Yr(r),r.g.cancel(),r.g=null)}function ro(r){Us(r),r.u&&(ie.clearTimeout(r.u),r.u=null),hs(r),r.i.cancel(),r.m&&("number"==typeof r.m&&ie.clearTimeout(r.m),r.m=null)}function L(r){if(!yo(r.i)&&!r.m){r.m=!0;var e=r.Na;we||bt(),Ye||(we(),Ye=!0),Re.add(e,r),r.C=0}}function R(r,e){var t;t=e?e.m:r.W++;const s=_r(r.I);Xn(s,"SID",r.K),Xn(s,"RID",t),Xn(s,"AID",r.V),Z(r,s),r.o&&r.s&&to(s,r.o,r.s),t=new Ai(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=ae(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),wa(r.i,t),Ki(t,s,e)}function Z(r,e){r.na&&cn(r.na,function(t,s){Xn(e,s,t)}),r.h&&wt({},function(t,s){Xn(e,s,t)})}function ae(r,e,t){t=Math.min(r.j.length,t);var s=r.h?Vt(r.h.Va,r.h,r):null;e:{var a=r.j;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=a[0].g,f.push("ofs="+c)):c=0:f.push("ofs="+c);let T=!0;for(let V=0;V<t;V++){let H=a[V].g;const X=a[V].map;if(H-=c,0>H)c=Math.max(0,a[V].g-100),T=!1;else try{$r(X,f,"req"+H+"_")}catch{s&&s(X)}}if(T){s=f.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,s}function lt(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;we||bt(),Ye||(we(),Ye=!0),Re.add(e,r),r.A=0}}function mr(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Ur(Vt(r.Ma,r),Hr(r,r.A)),r.A++,0))}function Yr(r){null!=r.B&&(ie.clearTimeout(r.B),r.B=null)}function wr(r){r.g=new Ai(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=_r(r.wa);Xn(e,"RID","rpc"),Xn(e,"SID",r.K),Xn(e,"AID",r.V),Xn(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Xn(e,"TO",r.qa),Xn(e,"TYPE","xmlhttp"),Z(r,e),r.o&&r.s&&to(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=xi(_r(e)),t.s=null,t.S=!0,Zs(t,r)}function hs(r){null!=r.v&&(ie.clearTimeout(r.v),r.v=null)}function io(r,e){var t=null;if(r.g==e){hs(r),Yr(r),r.g=null;var s=2}else{if(!_o(r.i,e))return;t=e.F,Ao(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;nr(s=Dr(),new as(s,t)),L(r)}else lt(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function F(r,e){return!(Js(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Ur(Vt(r.Na,r,e),Hr(r,r.C)),r.C++,0)))}(r,e)||2==s&&mr(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:es(r,5);break;case 4:es(r,10);break;case 3:es(r,6);break;default:es(r,2)}}function Hr(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function es(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var s=Vt(r.pb,r);t||(t=new Gi("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||ca(t,"https"),xi(t)),function Uo(r,e){const t=new $e;if(ie.Image){const s=new Image;s.onload=Wn(Mo,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Wn(Mo,t,s,"TestLoadImage: error",!1,e),s.onabort=Wn(Mo,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Wn(Mo,t,s,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else yr(2);r.H=0,r.h&&r.h.za(e),xo(r),ro(r)}function xo(r){if(r.H=0,r.ma=[],r.h){const e=ds(r.i);(0!=e.length||0!=r.j.length)&&(At(r.ma,e),At(r.ma,r.j),r.i.i.length=0,ct(r.j),r.j.length=0),r.h.ya()}}function Bs(r,e,t){var s=t instanceof Gi?_r(t):new Gi(t);if(""!=s.g)e&&(s.g=e+"."+s.g),gi(s,s.m);else{var a=ie.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new Gi(null);s&&ca(c,s),e&&(c.g=e),a&&gi(c,a),t&&(c.l=t),s=c}return e=r.Da,(t=r.F)&&e&&Xn(s,t,e),Xn(s,"VER",r.ra),Z(r,s),s}function $o(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new br(t&&r.Ha&&!r.va?new _i({ob:!0}):r.va)).Oa(r.J),e}function Ia(){}function Ni(){if(et&&!(10<=Number(Tr)))throw Error("Environmental error: no available transport.")}function Qr(r,e){dr.call(this),this.g=new no(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Sn(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Sn(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Ri(this)}function jo(r){Mr.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function wo(){bi.call(this),this.status=1}function Ri(r){this.g=r}function xs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Da(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],f=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+s[0]+3614090360&4294967295;f=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(f<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((c=(e=t+((f=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=c+((f=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function An(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var c=0|r[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(ce=br.prototype).Oa=function(r){this.M=r},ce.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Si.g(),this.C=function Ks(r){return r.h||(r.h=r.i())}(this.u?this.u:Si),this.g.onreadystatechange=Vt(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void Ms(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=ie.FormData&&r instanceof ie.FormData,!(0<=He(Ei,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of t)this.g.setRequestHeader(c,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Pi(this),0<this.B&&((this.L=function Er(r){return et&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vt(this.ua,this)):this.A=ve(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){Ms(this,c)}},ce.ua=function(){typeof Be<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nr(this,"timeout"),this.abort(8))},ce.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,nr(this,"complete"),nr(this,"abort"),wi(this))},ce.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wi(this,!0)),br.$.N.call(this)},ce.La=function(){this.s||(this.G||this.v||this.l?Xi(this):this.kb())},ce.kb=function(){Xi(this)},ce.isActive=function(){return!!this.g},ce.da=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},ce.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ce.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),eo(e)}},ce.Ia=function(){return this.m},ce.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ce=no.prototype).ra=8,ce.H=1,ce.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new Ai(this,this.l,r);let c=this.s;if(this.U&&(c?(c=Zr(c),di(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ae(this,a,e),Xn(t=_r(this.I),"RID",r),Xn(t,"CVER",22),this.F&&Xn(t,"X-HTTP-Session-Id",this.F),Z(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(Jo(c)))+"&"+e:this.o&&to(t,this.o,c)),wa(this.i,a),this.bb&&Xn(t,"TYPE","init"),this.P?(Xn(t,"$req",e),Xn(t,"SID","null"),a.aa=!0,Ki(a,t,null)):Ki(a,t,e),this.H=2}}else 3==this.H&&(r?R(this,r):0==this.j.length||yo(this.i)||R(this))},ce.Ma=function(){if(this.u=null,wr(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=Ur(Vt(this.jb,this),r)}},ce.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yr(10),Us(this),wr(this))},ce.ib=function(){null!=this.v&&(this.v=null,Us(this),mr(this),yr(19))},ce.pb=function(r){r?(this.l.info("Successfully pinged google.com"),yr(2)):(this.l.info("Failed to ping google.com"),yr(1))},ce.isActive=function(){return!!this.h&&this.h.isActive(this)},(ce=Ia.prototype).Ba=function(){},ce.Aa=function(){},ce.za=function(){},ce.ya=function(){},ce.isActive=function(){return!0},ce.Va=function(){},Ni.prototype.g=function(r,e){return new Qr(r,e)},wn(Qr,dr),Qr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;yr(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=Bs(r,null,r.Y),L(r)},Qr.prototype.close=function(){pa(this.g)},Qr.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=en(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&L(e)},Qr.prototype.N=function(){this.g.h=null,delete this.j,pa(this.g),delete this.g,Qr.$.N.call(this)},wn(jo,Mr),wn(wo,bi),wn(Ri,Ia),Ri.prototype.Ba=function(){nr(this.g,"a")},Ri.prototype.Aa=function(r){nr(this.g,new jo(r))},Ri.prototype.za=function(r){nr(this.g,new wo)},Ri.prototype.ya=function(){nr(this.g,"b")},wn(xs,function Oi(){this.blockSize=-1}),xs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},xs.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)Da(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(s[a++]=r.charCodeAt(c++),a==this.blockSize){Da(this,s),a=0;break}}else for(;c<e;)if(s[a++]=r[c++],a==this.blockSize){Da(this,s),a=0;break}}this.h=a,this.i+=e},xs.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var Xo={};function ga(r){return-128<=r&&128>r?function Ge(r,e){var t=Xo;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new An([0|e],0>e?-1:0)}):new An([0|r],0>r?-1:0)}function fs(r){if(isNaN(r)||!isFinite(r))return Po;if(0>r)return ii(fs(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=Ca;return new An(e,0)}var Ca=4294967296,Po=ga(0),ma=ga(1),Na=ga(16777216);function ys(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function ts(r){return-1==r.h}function ii(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new An(t,~r.h).add(ma)}function $s(r,e){return r.add(ii(e))}function No(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function ea(r,e){this.g=r,this.h=e}function er(r,e){if(ys(e))throw Error("division by zero");if(ys(r))return new ea(Po,Po);if(ts(r))return e=er(ii(r),e),new ea(ii(e.g),ii(e.h));if(ts(e))return e=er(r,ii(e)),new ea(ii(e.g),e.h);if(30<r.g.length){if(ts(r)||ts(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ma,s=e;0>=s.X(r);)t=_s(t),s=_s(s);var a=sr(t,1),c=sr(s,1);for(s=sr(s,2),t=sr(t,2);!ys(s);){var f=c.add(s);0>=f.X(r)&&(a=a.add(t),c=f),s=sr(s,1),t=sr(t,1)}return e=$s(r,a.R(e)),new ea(a,e)}for(a=Po;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(c=fs(t)).R(e);ts(f)||0<f.X(r);)f=(c=fs(t-=s)).R(e);ys(c)&&(c=ma),a=a.add(c),r=$s(r,f)}return new ea(a,r)}function _s(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new An(t,r.h)}function sr(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new An(a,r.h)}(ce=An.prototype).ea=function(){if(ts(this))return-ii(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:Ca+s)*e,e*=Ca}return r},ce.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(ys(this))return"0";if(ts(this))return"-"+ii(this).toString(r);for(var e=fs(Math.pow(r,6)),t=this,s="";;){var a=er(t,e).g,c=((0<(t=$s(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(ys(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},ce.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},ce.X=function(r){return ts(r=$s(this,r))?-1:ys(r)?0:1},ce.abs=function(){return ts(this)?ii(this):this},ce.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&r.D(a)),f=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=f>>>16,t[a]=(f&=65535)<<16|(c&=65535)}return new An(t,-2147483648&t[t.length-1]?-1:0)},ce.R=function(r){if(ys(this)||ys(r))return Po;if(ts(this))return ts(r)?ii(this).R(ii(r)):ii(ii(this).R(r));if(ts(r))return ii(this.R(ii(r)));if(0>this.X(Na)&&0>r.X(Na))return fs(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var c=this.D(s)>>>16,f=65535&this.D(s),T=r.D(a)>>>16,V=65535&r.D(a);t[2*s+2*a]+=f*V,No(t,2*s+2*a),t[2*s+2*a+1]+=c*V,No(t,2*s+2*a+1),t[2*s+2*a+1]+=f*T,No(t,2*s+2*a+1),t[2*s+2*a+2]+=c*T,No(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new An(t,0)},ce.gb=function(r){return er(this,r).h},ce.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new An(t,this.h&r.h)},ce.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new An(t,this.h|r.h)},ce.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new An(t,this.h^r.h)},Ni.prototype.createWebChannel=Ni.prototype.g,Qr.prototype.send=Qr.prototype.u,Qr.prototype.open=Qr.prototype.m,Qr.prototype.close=Qr.prototype.close,gs.NO_ERROR=0,gs.TIMEOUT=8,gs.HTTP_ERROR=6,Vo.COMPLETE="complete",Nt.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",dr.prototype.listen=dr.prototype.O,br.prototype.listenOnce=br.prototype.P,br.prototype.getLastError=br.prototype.Sa,br.prototype.getLastErrorCode=br.prototype.Ia,br.prototype.getStatus=br.prototype.da,br.prototype.getResponseJson=br.prototype.Wa,br.prototype.getResponseText=br.prototype.ja,br.prototype.send=br.prototype.ha,br.prototype.setWithCredentials=br.prototype.Oa,xs.prototype.digest=xs.prototype.l,xs.prototype.reset=xs.prototype.reset,xs.prototype.update=xs.prototype.j,An.prototype.add=An.prototype.add,An.prototype.multiply=An.prototype.R,An.prototype.modulo=An.prototype.gb,An.prototype.compare=An.prototype.X,An.prototype.toNumber=An.prototype.ea,An.prototype.toString=An.prototype.toString,An.prototype.getBits=An.prototype.D,An.fromNumber=fs,An.fromString=function Ho(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return ii(Ho(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=fs(Math.pow(e,8)),s=Po,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+c),e);8>c?(c=fs(Math.pow(e,c)),s=s.R(c).add(fs(f))):s=(s=s.R(t)).add(fs(f))}return s};var ta=Ve.createWebChannelTransport=function(){return new Ni},Qa=Ve.getStatEventTarget=function(){return Dr()},ja=Ve.ErrorCode=gs,Ra=Ve.EventType=Vo,Ha=Ve.Event=$n,M=Ve.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$=Ve.FetchXmlHttpFactory=_i,O=Ve.WebChannel=Nt,K=Ve.XhrIo=br,ue=Ve.Md5=xs,je=Ve.Integer=An;const Ke="@firebase/firestore";class _t{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");let Un="9.23.0";const Nn=new Ce.Yd("@firebase/firestore");function jn(){return Nn.logLevel}function tt(r,...e){if(Nn.logLevel<=Ce.in.DEBUG){const t=e.map(js);Nn.debug(`Firestore (${Un}): ${r}`,...t)}}function ln(r,...e){if(Nn.logLevel<=Ce.in.ERROR){const t=e.map(js);Nn.error(`Firestore (${Un}): ${r}`,...t)}}function Sr(r,...e){if(Nn.logLevel<=Ce.in.WARN){const t=e.map(js);Nn.warn(`Firestore (${Un}): ${r}`,...t)}}function js(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function Rt(r="Unexpected state"){const e=`FIRESTORE (${Un}) INTERNAL ASSERTION FAILED: `+r;throw ln(e),new Error(e)}function qt(r,e){r||Rt()}function Tt(r,e){return r}const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ee.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ps{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ta{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_t.UNAUTHENTICATED))}shutdown(){}}class ya{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=H=>this.i!==a?(a=this.i,t(H)):Promise.resolve();let f=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new ui,e.enqueueRetryable(()=>c(this.currentUser))};const T=()=>{const H=f;e.enqueueRetryable((0,w.Z)(function*(){yield H.promise,yield c(s.currentUser)}))},V=H=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(H=>V(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?V(H):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new ui)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt("string"==typeof s.accessToken),new Ps(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qt(null===e||"string"==typeof e),new _t(e)}}class na{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Ja{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new na(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Go{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Su{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.T;return this.T=c.token,tt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qt("string"==typeof t.token),this.T=t.token,new Go(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _a(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class _l{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=_a(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function vn(r,e){return r<e?-1:r>e?1:0}function zo(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}class Jr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ot(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ot(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ot(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jr.fromMillis(Date.now())}static fromDate(e){return Jr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Jr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vn(this.nanoseconds,e.nanoseconds):vn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class tn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new tn(e)}static min(){return new tn(new Jr(0,0))}static max(){return new tn(new Jr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Sa{constructor(e,t,s){void 0===t?t=0:t>e.length&&Rt(),void 0===s?s=e.length-t:s>e.length-t&&Rt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Sa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sa?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),f=t.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mn extends Sa{construct(e,t,s){return new mn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ot(Ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new mn(t)}static emptyPath(){return new mn([])}}const Xa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mn extends Sa{construct(e,t,s){return new Mn(e,t,s)}static isValidIdentifier(e){return Xa.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mn(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new ot(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const T=e[a];if("\\"===T){if(a+1===e.length)throw new ot(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[a+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new ot(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=V,a+=2}else"`"===T?(f=!f,a++):"."!==T||f?(s+=T,a++):(c(),a++)}if(c(),f)throw new ot(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mn(t)}static emptyPath(){return new Mn([])}}class S{constructor(e){this.path=e}static fromPath(e){return new S(mn.fromString(e))}static fromName(e){return new S(mn.fromString(e).popFirst(5))}static empty(){return new S(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new S(new mn(e.slice()))}}function Ze(r){return new yt(r.readTime,r.key,-1)}class yt{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new yt(tn.min(),S.empty(),-1)}static max(){return new yt(tn.max(),S.empty(),-1)}}function Ut(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=S.comparator(r.documentKey,e.documentKey),0!==t?t:vn(r.largestBatchId,e.largestBatchId))}const gn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Yt(r){return yn.apply(this,arguments)}function yn(){return yn=(0,w.Z)(function*(r){if(r.code!==Ue.FAILED_PRECONDITION||r.message!==gn)throw r;tt("LocalStore","Unexpectedly lost primary lease")}),yn.apply(this,arguments)}class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new De((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof De?t:De.resolve(t)}catch(t){return De.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):De.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):De.reject(t)}static resolve(e){return new De((t,s)=>{t(e)})}static reject(e){return new De((t,s)=>{s(e)})}static waitFor(e){return new De((t,s)=>{let a=0,c=0,f=!1;e.forEach(T=>{++a,T.next(()=>{++c,f&&c===a&&t()},V=>s(V))}),f=!0,c===a&&t()})}static or(e){let t=De.resolve(!1);for(const s of e)t=t.next(a=>a?De.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new De((s,a)=>{const c=e.length,f=new Array(c);let T=0;for(let V=0;V<c;V++){const H=V;t(e[H]).next(X=>{f[H]=X,++T,T===c&&s(f)},X=>a(X))}})}static doWhile(e,t){return new De((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}function Ns(r){return"IndexedDbTransactionError"===r.name}let Fi=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Rs(r){return null==r}function qo(r){return 0===r&&1/r==-1/0}function Zo(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Es(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Oo(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Wr{constructor(e,t){this.comparator=e,this.root=t||ws.EMPTY}insert(e,t){return new Wr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ws.BLACK,null,null))}remove(e){return new Wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ws.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ia(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ia(this.root,e,this.comparator,!1)}getReverseIterator(){return new ia(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ia(this.root,e,this.comparator,!0)}}class ia{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ws{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??ws.RED,this.left=a??ws.EMPTY,this.right=c??ws.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new ws(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ws.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ws.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ws.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ws.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rt();const e=this.left.check();if(e!==this.right.check())throw Rt();return e+(this.isRed()?0:1)}}ws.EMPTY=null,ws.RED=!0,ws.BLACK=!1,ws.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt()}get value(){throw Rt()}get color(){throw Rt()}get left(){throw Rt()}get right(){throw Rt()}copy(r,e,t,s,a){return this}insert(r,e,t){return new ws(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ui{constructor(e){this.comparator=e,this.data=new Wr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kd(this.data.getIterator())}getIteratorFrom(e){return new Kd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ui)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ui(this.comparator);return t.data=e,t}}class Kd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gs{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new Gs([])}unionWith(e){let t=new Ui(Mn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Gs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Mu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ao{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Mu("Invalid base64 string: "+a):a}}(e);return new ao(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new ao(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ao.EMPTY_BYTE_STRING=new ao("");const jc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eu(r){if(qt(!!r),"string"==typeof r){let e=0;const t=jc.exec(r);if(qt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ns(r.seconds),nanos:ns(r.nanos)}}function ns(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function tu(r){return"string"==typeof r?ao.fromBase64String(r):ao.fromUint8Array(r)}function nc(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Hc(r){const e=r.mapValue.fields.__previous_value__;return nc(e)?Hc(e):e}function hu(r){const e=eu(r.mapValue.fields.__local_write_time__.timestampValue);return new Jr(e.seconds,e.nanos)}class Ju{constructor(e,t,s,a,c,f,T,V,H){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=T,this.longPollingOptions=V,this.useFetchStreams=H}}class sa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sa&&e.projectId===this.projectId&&e.database===this.database}}const va={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function za(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?nc(r)?4:sc(r)?9007199254740991:10:Rt()}function Aa(r,e){if(r===e)return!0;const t=za(r);if(t!==za(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return hu(r).isEqual(hu(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=eu(s.timestampValue),f=eu(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,tu(r.bytesValue).isEqual(tu(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return ns(s.geoPointValue.latitude)===ns(a.geoPointValue.latitude)&&ns(s.geoPointValue.longitude)===ns(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ns(s.integerValue)===ns(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=ns(s.doubleValue),f=ns(a.doubleValue);return c===f?qo(c)===qo(f):isNaN(c)&&isNaN(f)}return!1}(r,e);case 9:return zo(r.arrayValue.values||[],e.arrayValue.values||[],Aa);case 10:return function(s,a){const c=s.mapValue.fields||{},f=a.mapValue.fields||{};if(Zo(c)!==Zo(f))return!1;for(const T in c)if(c.hasOwnProperty(T)&&(void 0===f[T]||!Aa(c[T],f[T])))return!1;return!0}(r,e);default:return Rt()}var a}function xu(r,e){return void 0!==(r.values||[]).find(t=>Aa(t,e))}function Oa(r,e){if(r===e)return 0;const t=za(r),s=za(e);if(t!==s)return vn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return vn(r.booleanValue,e.booleanValue);case 2:return function(a,c){const f=ns(a.integerValue||a.doubleValue),T=ns(c.integerValue||c.doubleValue);return f<T?-1:f>T?1:f===T?0:isNaN(f)?isNaN(T)?0:-1:1}(r,e);case 3:return Pu(r.timestampValue,e.timestampValue);case 4:return Pu(hu(r),hu(e));case 5:return vn(r.stringValue,e.stringValue);case 6:return function(a,c){const f=tu(a),T=tu(c);return f.compareTo(T)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),T=c.split("/");for(let V=0;V<f.length&&V<T.length;V++){const H=vn(f[V],T[V]);if(0!==H)return H}return vn(f.length,T.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const f=vn(ns(a.latitude),ns(c.latitude));return 0!==f?f:vn(ns(a.longitude),ns(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const f=a.values||[],T=c.values||[];for(let V=0;V<f.length&&V<T.length;++V){const H=Oa(f[V],T[V]);if(H)return H}return vn(f.length,T.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===va.mapValue&&c===va.mapValue)return 0;if(a===va.mapValue)return 1;if(c===va.mapValue)return-1;const f=a.fields||{},T=Object.keys(f),V=c.fields||{},H=Object.keys(V);T.sort(),H.sort();for(let X=0;X<T.length&&X<H.length;++X){const de=vn(T[X],H[X]);if(0!==de)return de;const Fe=Oa(f[T[X]],V[H[X]]);if(0!==Fe)return Fe}return vn(T.length,H.length)}(r.mapValue,e.mapValue);default:throw Rt()}}function Pu(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return vn(r,e);const t=eu(r),s=eu(e),a=vn(t.seconds,s.seconds);return 0!==a?a:vn(t.nanos,s.nanos)}function Wa(r){return Nu(r)}function Nu(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=eu(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?tu(r.bytesValue).toBase64():"referenceValue"in r?S.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const f of s.values||[])c?c=!1:a+=",",a+=Nu(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",f=!0;for(const T of a)f?f=!1:c+=",",c+=`${T}:${Nu(s.fields[T])}`;return c+"}"}(r.mapValue):Rt();var e}function nu(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Gc(r){return!!r&&"integerValue"in r}function ic(r){return!!r&&"arrayValue"in r}function Zd(r){return!!r&&"nullValue"in r}function Yd(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ru(r){return!!r&&"mapValue"in r}function pu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Es(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=pu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function sc(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class To{constructor(e){this.value=e}static empty(){return new To({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ru(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(t)}setAll(e){let t=Mn.emptyPath(),s={},a=[];e.forEach((f,T)=>{if(!t.isImmediateParentOf(T)){const V=this.getFieldsMap(t);this.applyChanges(V,s,a),s={},a=[],t=T.popLast()}f?s[T.lastSegment()]=pu(f):a.push(T.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());ru(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Aa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];ru(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Es(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new To(pu(this.value))}}function Is(r){const e=[];return Es(r.fields,(t,s)=>{const a=new Mn([t]);if(ru(s)){const c=Is(s.mapValue).fields;if(0===c.length)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Gs(e)}class Bi{constructor(e,t,s,a,c,f,T){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=T}static newInvalidDocument(e){return new Bi(e,0,tn.min(),tn.min(),tn.min(),To.empty(),0)}static newFoundDocument(e,t,s,a){return new Bi(e,1,t,tn.min(),s,a,0)}static newNoDocument(e,t){return new Bi(e,2,t,tn.min(),tn.min(),To.empty(),0)}static newUnknownDocument(e,t){return new Bi(e,3,t,tn.min(),tn.min(),To.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=To.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=To.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ma{constructor(e,t){this.position=e,this.inclusive=t}}function vl(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],f=r.position[a];if(s=c.field.isKeyField()?S.comparator(S.fromName(f.referenceValue),t.key):Oa(f,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function El(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Aa(r.position[t],e.position[t]))return!1;return!0}class C{constructor(e,t="asc"){this.field=e,this.dir=t}}function P(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class G{}class ne extends G{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new ks(e,t,s):"array-contains"===t?new ka(e,s):"in"===t?new Fa(e,s):"not-in"===t?new zc(e,s):"array-contains-any"===t?new kp(e,s):new ne(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Ru(e,s):new uc(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Oa(t,this.value)):null!==t&&za(this.value)===za(t)&&this.matchesComparison(Oa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class he extends G{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new he(e,t)}matches(e){return Te(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Te(r){return"and"===r.op}function Pt(r){return function St(r){for(const e of r.filters)if(e instanceof he)return!1;return!0}(r)&&Te(r)}function Ft(r){if(r instanceof ne)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(Pt(r))return r.filters.map(e=>Ft(e)).join(",");{const e=r.filters.map(t=>Ft(t)).join(",");return`${r.op}(${e})`}}function bn(r,e){return r instanceof ne?(t=r,(s=e)instanceof ne&&t.op===s.op&&t.field.isEqual(s.field)&&Aa(t.value,s.value)):r instanceof he?function(t,s){return s instanceof he&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,f)=>a&&bn(c,s.filters[f]),!0)}(r,e):void Rt();var t,s}function Yo(r){return r instanceof ne?`${(e=r).field.canonicalString()} ${e.op} ${Wa(e.value)}`:r instanceof he?function(e){return e.op.toString()+" {"+e.getFilters().map(Yo).join(" ,")+"}"}(r):"Filter";var e}class ks extends ne{constructor(e,t,s){super(e,t,s),this.key=S.fromName(s.referenceValue)}matches(e){const t=S.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ru extends ne{constructor(e,t){super(e,"in",t),this.keys=gu(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uc extends ne{constructor(e,t){super(e,"not-in",t),this.keys=gu(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gu(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>S.fromName(s.referenceValue))}class ka extends ne{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ic(t)&&xu(t.arrayValue,this.value)}}class Fa extends ne{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xu(this.value.arrayValue,t)}}class zc extends ne{constructor(e,t){super(e,"not-in",t)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xu(this.value.arrayValue,t)}}class kp extends ne{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ic(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>xu(this.value.arrayValue,s))}}class Qd{constructor(e,t=null,s=[],a=[],c=null,f=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=T,this.dt=null}}function lc(r,e=null,t=[],s=[],a=null,c=null,f=null){return new Qd(r,e,t,s,a,c,f)}function Xu(r){const e=Tt(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Ft(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Rs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Wa(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Wa(s)).join(",")),e.dt=t}return e.dt}function La(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!P(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!bn(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!El(r.startAt,e.startAt)&&El(r.endAt,e.endAt)}function Wc(r){return S.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class su{constructor(e,t=null,s=[],a=[],c=null,f="F",T=null,V=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=T,this.endAt=V,this.wt=null,this._t=null}}function Ou(r){return new su(r)}function Jd(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Xd(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function tl(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function eh(r){return null!==r.collectionGroup}function Il(r){const e=Tt(r);if(null===e.wt){e.wt=[];const t=tl(e),s=Xd(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new C(t)),e.wt.push(new C(Mn.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new C(Mn.keyField(),c))}}}return e.wt}function oa(r){const e=Tt(r);if(!e._t)if("F"===e.limitType)e._t=lc(e.path,e.collectionGroup,Il(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Il(e))t.push(new C(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new Ma(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Ma(e.startAt.position,e.startAt.inclusive):null;e._t=lc(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function cc(r,e){e.getFirstInequalityField(),tl(r);const t=r.filters.concat([e]);return new su(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function th(r,e,t){return new su(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function nl(r,e){return La(oa(r),oa(e))&&r.limitType===e.limitType}function hf(r){return`${Xu(oa(r))}|lt:${r.limitType}`}function rl(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Yo(s)).join(", ")}]`),Rs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Wa(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Wa(s)).join(",")),`Target(${t})`}(oa(r))}; limitType=${r.limitType})`}function dc(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):S.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of Il(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,f){const T=vl(a,c,f);return a.inclusive?T<=0:T<0}(t.startAt,Il(t),s)||t.endAt&&!function(a,c,f){const T=vl(a,c,f);return a.inclusive?T>=0:T>0}(t.endAt,Il(t),s)));var t,s}function Zc(r){return(e,t)=>{let s=!1;for(const a of Il(r)){const c=nh(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function nh(r,e,t){const s=r.field.isKeyField()?S.comparator(e.key,t.key):function(a,c,f){const T=c.data.field(a),V=f.data.field(a);return null!==T&&null!==V?Oa(T,V):Rt()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Rt()}}class mu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Oo(this.inner)}size(){return this.innerSize}}const Yc=new Wr(S.comparator);function uo(){return Yc}const yu=new Wr(S.comparator);function ku(...r){let e=yu;for(const t of r)e=e.insert(t.key,t);return e}function ff(r){let e=yu;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function _u(){return il()}function hc(){return il()}function il(){return new mu(r=>r.toString(),(r,e)=>r.isEqual(e))}const pf=new Wr(S.comparator),Fp=new Ui(S.comparator);function tr(...r){let e=Fp;for(const t of r)e=e.add(t);return e}const fc=new Ui(vn);function sl(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qo(e)?"-0":e}}function Qc(r){return{integerValue:""+r}}function pc(r,e){return function du(r){return"number"==typeof r&&Number.isInteger(r)&&!qo(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?Qc(e):sl(r,e)}class Fu{constructor(){this._=void 0}}function ih(r,e,t){return r instanceof Tl?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&nc(a)&&(a=Hc(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof ou?Jc(r,e):r instanceof vu?Lp(r,e):function(s,a){const c=Cl(s,a),f=Xc(c)+Xc(s.gt);return Gc(c)&&Gc(s.gt)?Qc(f):sl(s.serializer,f)}(r,e)}function ol(r,e,t){return r instanceof ou?Jc(r,e):r instanceof vu?Lp(r,e):t}function Cl(r,e){return r instanceof al?Gc(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Tl extends Fu{}class ou extends Fu{constructor(e){super(),this.elements=e}}function Jc(r,e){const t=bl(e);for(const s of r.elements)t.some(a=>Aa(a,s))||t.push(s);return{arrayValue:{values:t}}}class vu extends Fu{constructor(e){super(),this.elements=e}}function Lp(r,e){let t=bl(e);for(const s of r.elements)t=t.filter(a=>!Aa(a,s));return{arrayValue:{values:t}}}class al extends Fu{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Xc(r){return ns(r.integerValue||r.doubleValue)}function bl(r){return ic(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class sh{constructor(e,t){this.version=e,this.transformResults=t}}class ps{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ps}static exists(e){return new ps(void 0,e)}static updateTime(e){return new ps(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Ml{}function ah(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Pl(r.key,ps.none()):new Vu(r.key,r.data,ps.none());{const t=r.data,s=To.empty();let a=new Ui(Mn.comparator);for(let c of e.fields)if(!a.has(c)){let f=t.field(c);null===f&&c.length>1&&(c=c.popLast(),f=t.field(c)),null===f?s.delete(c):s.set(c,f),a=a.add(c)}return new Va(r.key,s,new Gs(a.toArray()),ps.none())}}function Vp(r,e,t){r instanceof Vu?function(s,a,c){const f=s.value.clone(),T=gc(s.fieldTransforms,a,c.transformResults);f.setAll(T),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Va?function(s,a,c){if(!oh(s.precondition,a))return void a.convertToUnknownDocument(c.version);const f=gc(s.fieldTransforms,a,c.transformResults),T=a.data;T.setAll(ed(s)),T.setAll(f),a.convertToFoundDocument(c.version,T).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Lu(r,e,t,s){return r instanceof Vu?function(a,c,f,T){if(!oh(a.precondition,c))return f;const V=a.value.clone(),H=gf(a.fieldTransforms,T,c);return V.setAll(H),c.convertToFoundDocument(c.version,V).setHasLocalMutations(),null}(r,e,t,s):r instanceof Va?function(a,c,f,T){if(!oh(a.precondition,c))return f;const V=gf(a.fieldTransforms,T,c),H=c.data;return H.setAll(ed(a)),H.setAll(V),c.convertToFoundDocument(c.version,H).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(X=>X.field))}(r,e,t,s):(f=t,oh(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f);var c,f}function uh(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=Cl(s.transform,a||null);null!=c&&(null===t&&(t=To.empty()),t.set(s.field,c))}return t||null}function xl(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&zo(t,s,(a,c)=>function Al(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof ou&&s instanceof ou||t instanceof vu&&s instanceof vu?zo(t.elements,s.elements,Aa):t instanceof al&&s instanceof al?Aa(t.gt,s.gt):t instanceof Tl&&s instanceof Tl);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Vu extends Ml{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Va extends Ml{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ed(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function gc(r,e,t){const s=new Map;qt(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],f=c.transform,T=e.data.field(c.field);s.set(c.field,ol(f,T,t[a]))}return s}function gf(r,e,t){const s=new Map;for(const a of r){const c=a.transform,f=t.data.field(a.field);s.set(a.field,ih(c,f,e))}return s}class Pl extends Ml{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class td extends Ml{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nd{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&Vp(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Lu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Lu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=hc();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let T=this.applyToLocalView(f,c.mutatedFields);T=t.has(a.key)?null:T;const V=ah(f,T);null!==V&&s.set(a.key,V),f.isValidDocument()||f.convertToNoDocument(tn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tr())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(t,s)=>xl(t,s))&&zo(this.baseMutations,e.baseMutations,(t,s)=>xl(t,s))}}class lh{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){qt(e.mutations.length===s.length);let a=pf;const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new lh(e,t,s,a)}}class au{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ul{constructor(e,t,s){this.alias=e,this.yt=t,this.fieldPath=s}}class Up{constructor(e,t){this.count=e,this.unchangedNames=t}}var lo,kr;function Bp(r){if(void 0===r)return ln("GRPC error has no .code"),Ue.UNKNOWN;switch(r){case lo.OK:return Ue.OK;case lo.CANCELLED:return Ue.CANCELLED;case lo.UNKNOWN:return Ue.UNKNOWN;case lo.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case lo.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case lo.INTERNAL:return Ue.INTERNAL;case lo.UNAVAILABLE:return Ue.UNAVAILABLE;case lo.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case lo.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case lo.NOT_FOUND:return Ue.NOT_FOUND;case lo.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case lo.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case lo.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case lo.ABORTED:return Ue.ABORTED;case lo.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case lo.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case lo.DATA_LOSS:return Ue.DATA_LOSS;default:return Rt()}}(kr=lo||(lo={}))[kr.OK=0]="OK",kr[kr.CANCELLED=1]="CANCELLED",kr[kr.UNKNOWN=2]="UNKNOWN",kr[kr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kr[kr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kr[kr.NOT_FOUND=5]="NOT_FOUND",kr[kr.ALREADY_EXISTS=6]="ALREADY_EXISTS",kr[kr.PERMISSION_DENIED=7]="PERMISSION_DENIED",kr[kr.UNAUTHENTICATED=16]="UNAUTHENTICATED",kr[kr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kr[kr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kr[kr.ABORTED=10]="ABORTED",kr[kr.OUT_OF_RANGE=11]="OUT_OF_RANGE",kr[kr.UNIMPLEMENTED=12]="UNIMPLEMENTED",kr[kr.INTERNAL=13]="INTERNAL",kr[kr.UNAVAILABLE=14]="UNAVAILABLE",kr[kr.DATA_LOSS=15]="DATA_LOSS";class mf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Nl}static getOrCreateInstance(){return null===Nl&&(Nl=new mf),Nl}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Nl=null;const rd=new je([4294967295,4294967295],0);function _f(r){const e=function yf(){return new TextEncoder}().encode(r),t=new ue;return t.update(e),new Uint8Array(t.digest())}function vf(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new je([t,s],0),new je([a,c],0)]}class mc{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new xa(`Invalid padding: ${t}`);if(s<0)throw new xa(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new xa(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new xa(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=je.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(je.fromNumber(s)));return 1===a.compare(rd)&&(a=new je([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=_f(e),[s,a]=vf(t);for(let c=0;c<this.hashCount;c++){const f=this.Et(s,a,c);if(!this.At(f))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new mc(c,a,t);return s.forEach(T=>f.insert(T)),f}insert(e){if(0===this.It)return;const t=_f(e),[s,a]=vf(t);for(let c=0;c<this.hashCount;c++){const f=this.Et(s,a,c);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class xa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eu{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Rl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Eu(tn.min(),a,new Wr(vn),uo(),tr())}}class Rl{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Rl(s,t,tr(),tr(),tr())}}class yc{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class dh{constructor(e,t){this.targetId=e,this.Vt=t}}class hh{constructor(e,t,s=ao.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class $p{constructor(){this.St=0,this.Dt=sd(),this.Ct=ao.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=tr(),t=tr(),s=tr();return this.Dt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Rt()}}),new Rl(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=sd()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ym{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=uo(),this.zt=id(),this.Wt=new Wr(vn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:Rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,c=this.se(s);if(c){const f=c.target;if(Wc(f))if(0===a){const T=new S(f.path);this.Yt(s,T,Bi.newNoDocument(T,tn.min()))}else qt(1===a);else{const T=this.ie(s);if(T!==a){const V=this.re(e,T);0!==V&&(this.ee(s),this.Wt=this.Wt.insert(s,2===V?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=mf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(H,X,de){var Fe,Xe,Dt,Qt,Xt,lr;const qr={localCacheCount:X,existenceFilterCount:de.count},Ir=de.unchangedNames;return Ir&&(qr.bloomFilter={applied:0===H,hashCount:null!==(Fe=Ir?.hashCount)&&void 0!==Fe?Fe:0,bitmapLength:null!==(Qt=null===(Dt=null===(Xe=Ir?.bits)||void 0===Xe?void 0:Xe.bitmap)||void 0===Dt?void 0:Dt.length)&&void 0!==Qt?Qt:0,padding:null!==(lr=null===(Xt=Ir?.bits)||void 0===Xt?void 0:Xt.padding)&&void 0!==lr?lr:0}),qr}(V,T,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:f=0},hashCount:T=0}=s;let V,H;try{V=tu(c).toUint8Array()}catch(X){if(X instanceof Mu)return Sr("Decoding the base64 bloom filter in existence filter failed ("+X.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw X}try{H=new mc(V,f,T)}catch(X){return Sr(X instanceof xa?"BloomFilter error: ":"Applying bloom filter failed: ",X),1}return 0===H.It?1:a!==t-this.oe(e.targetId,H)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const f=this.Gt.ue(),T=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.vt(T)||(this.Yt(e,c,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((c,f)=>{const T=this.se(f);if(T){if(c.current&&Wc(T.target)){const V=new S(T.target.path);null!==this.jt.get(V)||this.ae(f,V)||this.Yt(f,V,Bi.newNoDocument(V,e))}c.Mt&&(t.set(f,c.Ot()),c.Ft())}});let s=tr();this.zt.forEach((c,f)=>{let T=!0;f.forEachWhile(V=>{const H=this.se(V);return!H||"TargetPurposeLimboResolution"===H.purpose||(T=!1,!1)}),T&&(s=s.add(c))}),this.jt.forEach((c,f)=>f.setReadTime(e));const a=new Eu(e,t,this.Wt,this.jt,s);return this.jt=uo(),this.zt=id(),this.Wt=new Wr(vn),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new $p,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ui(vn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||tt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new $p),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function id(){return new Wr(S.comparator)}function sd(){return new Wr(S.comparator)}const _m={asc:"ASCENDING",desc:"DESCENDING"},jp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ef={and:"AND",or:"OR"};class Hp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fh(r,e){return r.useProto3Json||Rs(e)?e:{value:e}}function Ol(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wf(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ph(r,e){return Ol(r,e.toTimestamp())}function Wi(r){return qt(!!r),tn.fromTimestamp(function(e){const t=eu(e);return new Jr(t.seconds,t.nanos)}(r))}function gh(r,e){return(t=r,new mn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function kl(r){const e=mn.fromString(r);return qt(Af(e)),e}function _c(r,e){return gh(r.databaseId,e.path)}function ci(r,e){const t=kl(e);if(t.get(1)!==r.databaseId.projectId)throw new ot(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ot(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new S(Df(t))}function If(r,e){return gh(r.databaseId,e)}function vc(r){return new mn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Df(r){return qt(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function od(r,e,t){return{name:_c(r,e),fields:t.value.mapValue.fields}}function Fl(r,e){return{documents:[If(r,e.path)]}}function Ec(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=If(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=If(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(V){if(0!==V.length)return Sf(he.create(V,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(V){if(0!==V.length)return V.map(H=>{return{field:wu((X=H).field),direction:Em(X.dir)};var X})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=fh(r,e.limit);var T,V;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(V=e.endAt).inclusive,values:V.position}),t}function _h(r){let e=function mh(r){const e=kl(r);return 4===e.length?mn.emptyPath():Df(e)}(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){qt(1===s);const X=t.from[0];X.allDescendants?a=X.collectionId:e=e.child(X.collectionId)}let c=[];t.where&&(c=function(X){const de=Eh(X);return de instanceof he&&Pt(de)?de.getFilters():[de]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(X=>{return new C(cl((de=X).field),function(Fe){switch(Fe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(de.direction));var de}));let T=null;t.limit&&(T=function(X){let de;return de="object"==typeof X?X.value:X,Rs(de)?null:de}(t.limit));let V=null;var X;t.startAt&&(V=new Ma((X=t.startAt).values||[],!!X.before));let H=null;return t.endAt&&(H=function(X){return new Ma(X.values||[],!X.before)}(t.endAt)),function el(r,e,t,s,a,c,f,T){return new su(r,e,t,s,a,c,f,T)}(e,a,f,c,T,"F",V,H)}function Eh(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=cl(e.unaryFilter.field);return ne.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=cl(e.unaryFilter.field);return ne.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=cl(e.unaryFilter.field);return ne.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=cl(e.unaryFilter.field);return ne.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Rt()}}(r):void 0!==r.fieldFilter?ne.create(cl((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return he.create(e.compositeFilter.filters.map(t=>Eh(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Rt()}}(e.compositeFilter.op))}(r):Rt();var e}function Em(r){return _m[r]}function Gp(r){return jp[r]}function bf(r){return Ef[r]}function wu(r){return{fieldPath:r.canonicalString()}}function cl(r){return Mn.fromServerFormat(r.fieldPath)}function Sf(r){return r instanceof ne?function(e){if("=="===e.op){if(Yd(e.value))return{unaryFilter:{field:wu(e.field),op:"IS_NAN"}};if(Zd(e.value))return{unaryFilter:{field:wu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Yd(e.value))return{unaryFilter:{field:wu(e.field),op:"IS_NOT_NAN"}};if(Zd(e.value))return{unaryFilter:{field:wu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wu(e.field),op:Gp(e.op),value:e.value}}}(r):r instanceof he?function(e){const t=e.getFilters().map(s=>Sf(s));return 1===t.length?t[0]:{compositeFilter:{op:bf(e.op),filters:t}}}(r):Rt()}function Ll(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Af(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class uu{constructor(e,t,s,a,c=tn.min(),f=tn.min(),T=ao.EMPTY_BYTE_STRING,V=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=T,this.expectedCount=V}withSequenceNumber(e){return new uu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new uu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wc{constructor(e){this.fe=e}}function Bu(r){const e=_h({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?th(e,e.limit,"L"):e}class Vl{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ns(e.integerValue));else if("doubleValue"in e){const s=ns(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),qo(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(tu(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?sc(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Rt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),S.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Vl.Ve=new Vl;class Of{constructor(){this.rn=new kf}addToCollectionParentIndex(e,t){return this.rn.add(t),De.resolve()}getCollectionParents(e,t){return De.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return De.resolve()}deleteFieldIndex(e,t){return De.resolve()}getDocumentsMatchingTarget(e,t){return De.resolve(null)}getIndexType(e,t){return De.resolve(0)}getFieldIndexes(e,t){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,t){return De.resolve(yt.min())}getMinOffsetFromCollectionGroup(e,t){return De.resolve(yt.min())}updateCollectionGroup(e,t,s){return De.resolve()}updateIndexEntries(e,t){return De.resolve()}}class kf{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Ui(mn.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ui(mn.comparator)).toArray()}}new Uint8Array(0);class aa{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new aa(e,aa.DEFAULT_COLLECTION_PERCENTILE,aa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}aa.DEFAULT_COLLECTION_PERCENTILE=10,aa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,aa.DEFAULT=new aa(41943040,aa.DEFAULT_COLLECTION_PERCENTILE,aa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),aa.DISABLED=new aa(-1,0,0);class bc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new bc(0)}static Mn(){return new bc(-1)}}class Pe{constructor(){this.changes=new mu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?De.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yd{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Mh{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&Lu(s.mutation,a,Gs.empty(),Jr.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,tr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=tr()){const a=_u();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let f=ku();return c.forEach((T,V)=>{f=f.insert(T,V.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=_u();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,tr()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,T)=>{t.set(f,T)})})}computeViews(e,t,s,a){let c=uo();const f=il(),T=il();return t.forEach((V,H)=>{const X=s.get(H.key);a.has(H.key)&&(void 0===X||X.mutation instanceof Va)?c=c.insert(H.key,H):void 0!==X?(f.set(H.key,X.mutation.getFieldMask()),Lu(X.mutation,H,X.mutation.getFieldMask(),Jr.now())):f.set(H.key,Gs.empty())}),this.recalculateAndSaveOverlays(e,c).next(V=>(V.forEach((H,X)=>f.set(H,X)),t.forEach((H,X)=>{var de;return T.set(H,new yd(X,null!==(de=f.get(H))&&void 0!==de?de:null))}),T))}recalculateAndSaveOverlays(e,t){const s=il();let a=new Wr((f,T)=>f-T),c=tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const T of f)T.keys().forEach(V=>{const H=t.get(V);if(null===H)return;let X=s.get(V)||Gs.empty();X=T.applyToLocalView(H,X),s.set(V,X);const de=(a.get(T.batchId)||tr()).add(V);a=a.insert(T.batchId,de)})}).next(()=>{const f=[],T=a.getReverseIterator();for(;T.hasNext();){const V=T.getNext(),H=V.key,X=V.value,de=hc();X.forEach(Fe=>{if(!c.has(Fe)){const Xe=ah(t.get(Fe),s.get(Fe));null!==Xe&&de.set(Fe,Xe),c=c.add(Fe)}}),f.push(this.documentOverlayCache.saveOverlays(e,H,de))}return De.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return S.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):eh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):De.resolve(_u());let T=-1,V=c;return f.next(H=>De.forEach(H,(X,de)=>(T<de.largestBatchId&&(T=de.largestBatchId),c.get(X)?De.resolve():this.remoteDocumentCache.getEntry(e,X).next(Fe=>{V=V.insert(X,Fe)}))).next(()=>this.populateOverlays(e,H,c)).next(()=>this.computeViews(e,V,H,tr())).next(X=>({batchId:T,changes:ff(X)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new S(t)).next(s=>{let a=ku();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=ku();return this.indexManager.getCollectionParents(e,a).next(f=>De.forEach(f,T=>{const V=(H=t,X=T.child(a),new su(X,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,X;return this.getDocumentsMatchingCollectionQuery(e,V,s).next(H=>{H.forEach((X,de)=>{c=c.insert(X,de)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((T,V)=>{const H=V.getKey();null===c.get(H)&&(c=c.insert(H,Bi.newInvalidDocument(H)))});let f=ku();return c.forEach((T,V)=>{const H=a.get(T);void 0!==H&&Lu(H.mutation,V,Gs.empty(),Jr.now()),dc(t,V)&&(f=f.insert(T,V))}),f})}}class Vf{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return De.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Wi(s.createTime)}),De.resolve()}getNamedQuery(e,t){return De.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:Bu(s.bundledQuery),readTime:Wi(s.readTime)}),De.resolve();var s}}class _d{constructor(){this.overlays=new Wr(S.comparator),this.ls=new Map}getOverlay(e,t){return De.resolve(this.overlays.get(t))}getOverlays(e,t){const s=_u();return De.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.we(e,t,c)}),De.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(s)),De.resolve()}getOverlaysForCollection(e,t,s){const a=_u(),c=t.length+1,f=new S(t.child("")),T=this.overlays.getIteratorFrom(f);for(;T.hasNext();){const V=T.getNext().value,H=V.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===c&&V.largestBatchId>s&&a.set(V.getKey(),V)}return De.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new Wr((H,X)=>H-X);const f=this.overlays.getIterator();for(;f.hasNext();){const H=f.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>s){let X=c.get(H.largestBatchId);null===X&&(X=_u(),c=c.insert(H.largestBatchId,X)),X.set(H.getKey(),H)}}const T=_u(),V=c.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((H,X)=>T.set(H,X)),!(T.size()>=a)););return De.resolve(T)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const f=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new au(t,s));let c=this.ls.get(t);void 0===c&&(c=tr(),this.ls.set(t,c)),this.ls.set(t,c.add(s.key))}}class vd{constructor(){this.fs=new Ui(Ws.ds),this.ws=new Ui(Ws._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new Ws(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new Ws(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new S(new mn([])),s=new Ws(t,e),a=new Ws(t,e+1),c=[];return this.ws.forEachInRange([s,a],f=>{this.ys(f),c.push(f.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new S(new mn([])),s=new Ws(t,e),a=new Ws(t,e+1);let c=tr();return this.ws.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new Ws(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Ws{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return S.comparator(e.key,t.key)||vn(e.As,t.As)}static _s(e,t){return vn(e.As,t.As)||S.comparator(e.key,t.key)}}class xh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ui(Ws.ds)}checkEmpty(e){return De.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.vs;this.vs++;const f=new nd(c,t,s,a);this.mutationQueue.push(f);for(const T of a)this.Rs=this.Rs.add(new Ws(T.key,c)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return De.resolve(f)}lookupMutationBatch(e,t){return De.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),c=a<0?0:a;return De.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ws(t,0),a=new Ws(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],f=>{const T=this.Ps(f.As);c.push(T)}),De.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ui(vn);return t.forEach(a=>{const c=new Ws(a,0),f=new Ws(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,f],T=>{s=s.add(T.As)})}),De.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;S.isDocumentKey(c)||(c=c.child(""));const f=new Ws(new S(c),0);let T=new Ui(vn);return this.Rs.forEachWhile(V=>{const H=V.key.path;return!!s.isPrefixOf(H)&&(H.length===a&&(T=T.add(V.As)),!0)},f),De.resolve(this.Vs(T))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){qt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return De.forEach(t.mutations,a=>{const c=new Ws(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new Ws(t,0),a=this.Rs.firstAfterOrEqual(s);return De.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return De.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Uf{constructor(e){this.Ds=e,this.docs=new Wr(S.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,f=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return De.resolve(s?s.document.mutableCopy():Bi.newInvalidDocument(t))}getEntries(e,t){let s=uo();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Bi.newInvalidDocument(a))}),De.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=uo();const f=t.path,T=new S(f.child("")),V=this.docs.getIteratorFrom(T);for(;V.hasNext();){const{key:H,value:{document:X}}=V.getNext();if(!f.isPrefixOf(H.path))break;H.path.length>f.length+1||Ut(Ze(X),s)<=0||(a.has(X.key)||dc(t,X))&&(c=c.insert(X.key,X.mutableCopy()))}return De.resolve(c)}getAllFromCollectionGroup(e,t,s,a){Rt()}Cs(e,t){return De.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Cm(this)}getSize(e){return De.resolve(this.size)}}class Cm extends Pe{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),De.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Ed{constructor(e){this.persistence=e,this.xs=new mu(t=>Xu(t),La),this.lastRemoteSnapshotVersion=tn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new vd,this.targetCount=0,this.Ms=bc.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),De.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new bc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,De.resolve()}updateTargetData(e,t){return this.Fn(t),De.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.xs.forEach((f,T)=>{T.sequenceNumber<=t&&null===s.get(T.targetId)&&(this.xs.delete(f),c.push(this.removeMatchingKeysForTargetId(e,T.targetId)),a++)}),De.waitFor(c).next(()=>a)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return De.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),De.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),De.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),De.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return De.resolve(s)}containsKey(e,t){return De.resolve(this.ks.containsKey(t))}}class wd{constructor(e,t){this.$s={},this.overlays={},this.Os=new Fi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Ed(this),this.indexManager=new Of,this.remoteDocumentCache=new Uf(s=>this.referenceDelegate.Ls(s)),this.serializer=new wc(t),this.qs=new Vf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _d,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new xh(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){tt("MemoryPersistence","Starting transaction:",e);const a=new Sc(this.Os.next());return this.referenceDelegate.Us(),s(a).next(c=>this.referenceDelegate.Ks(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Gs(e,t){return De.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class Sc extends xn{constructor(e){super(),this.currentSequenceNumber=e}}class Bf{constructor(e){this.persistence=e,this.Qs=new vd,this.js=null}static zs(e){return new Bf(e)}get Ws(){if(this.js)return this.js;throw Rt()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),De.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),De.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),De.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Ws.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.Ws,s=>{const a=S.fromPath(s);return this.Hs(e,a).next(c=>{c||t.removeEntry(a,tn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return De.or([()=>De.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Am{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=tr(),a=tr();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Am(e,t.fromCache,s,a)}}class Mm{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(c=>c||this.Gi(e,t,a,s)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(Jd(t))return De.resolve(null);let s=oa(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=th(t,null,"F"),s=oa(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=tr(...c);return this.Ui.getDocuments(e,f).next(T=>this.indexManager.getMinOffset(e,s).next(V=>{const H=this.ji(t,T);return this.zi(t,H,f,V.readTime)?this.Ki(e,th(t,null,"F")):this.Wi(e,H,t,V)}))})))}Gi(e,t,s,a){return Jd(t)||a.isEqual(tn.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(c=>{const f=this.ji(t,c);return this.zi(t,f,s,a)?this.Qi(e,t):(jn()<=Ce.in.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),rl(t)),this.Wi(e,f,t,function ke(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=tn.fromTimestamp(1e9===s?new Jr(t+1,0):new Jr(t,s));return new yt(a,S.empty(),e)}(a,-1)))})}ji(e,t){let s=new Ui(Zc(e));return t.forEach((a,c)=>{dc(e,c)&&(s=s.add(c))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Qi(e,t){return jn()<=Ce.in.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",rl(t)),this.Ui.getDocumentsMatchingQuery(e,t,yt.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(f=>{c=c.insert(f.key,f)}),c))}}class Dd{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new Wr(vn),this.Yi=new mu(c=>Xu(c),La),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mh(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function rg(r,e){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,w.Z)(function*(r,e){const t=Tt(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],T=[];let V=tr();for(const H of a){f.push(H.batchId);for(const X of H.mutations)V=V.add(X.key)}for(const H of c){T.push(H.batchId);for(const X of H.mutations)V=V.add(X.key)}return t.localDocuments.getDocuments(s,V).next(H=>({er:H,removedBatchIds:f,addedBatchIds:T}))})})}),Cd.apply(this,arguments)}function ig(r){const e=Tt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Zy(r,e){const t=Tt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function bd(r,e,t){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,w.Z)(function*(r,e,t){const s=Tt(r),a=s.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!Ns(f))throw f;tt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),Gf.apply(this,arguments)}function zf(r,e,t){const s=Tt(r);let a=tn.min(),c=tr();return s.persistence.runTransaction("Execute query","readonly",f=>function(T,V,H){const X=Tt(T),de=X.Yi.get(H);return void 0!==de?De.resolve(X.Ji.get(de)):X.Bs.getTargetData(V,H)}(s,f,oa(e)).next(T=>{if(T)return a=T.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(f,T.targetId).next(V=>{c=V})}).next(()=>s.Hi.getDocumentsMatchingQuery(f,e,t?a:tn.min(),t?c:tr())).next(T=>(function Wf(r,e,t){let s=r.Xi.get(e)||tn.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Xi.set(e,s)}(s,function Dl(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),T),{documents:T,ir:c})))}class Gl{constructor(){this.activeTargetIds=function rh(){return fc}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ad{constructor(){this.Hr=new Gl,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Gl,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lg{Yr(e){}shutdown(){}}class kh{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fh=null;function Lh(){return null===Fh?Fh=268435456+Math.round(2147483648*Math.random()):Fh++,"0x"+Fh.toString(16)}const cg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dg{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ua="WebChannelConnection";class hg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,c){const f=Lh(),T=this.To(e,t);tt("RestConnection",`Sending RPC '${e}' ${f}:`,T,s);const V={};return this.Eo(V,a,c),this.Ao(e,T,V,s).then(H=>(tt("RestConnection",`Received RPC '${e}' ${f}: `,H),H),H=>{throw Sr("RestConnection",`RPC '${e}' ${f} failed with error: `,H,"url: ",T,"request:",s),H})}vo(e,t,s,a,c,f){return this.Io(e,t,s,a,c)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Un,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}To(e,t){return`${this.mo}/v1/${t}:${cg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const c=Lh();return new Promise((f,T)=>{const V=new K;V.setWithCredentials(!0),V.listenOnce(Ra.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case ja.NO_ERROR:const X=V.getResponseJson();tt(ua,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(X)),f(X);break;case ja.TIMEOUT:tt(ua,`RPC '${e}' ${c} timed out`),T(new ot(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case ja.HTTP_ERROR:const de=V.getStatus();if(tt(ua,`RPC '${e}' ${c} failed with status:`,de,"response text:",V.getResponseText()),de>0){let Fe=V.getResponseJson();Array.isArray(Fe)&&(Fe=Fe[0]);const Xe=Fe?.error;if(Xe&&Xe.status&&Xe.message){const Dt=function(Qt){const Xt=Qt.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(Xt)>=0?Xt:Ue.UNKNOWN}(Xe.status);T(new ot(Dt,Xe.message))}else T(new ot(Ue.UNKNOWN,"Server responded with status "+V.getStatus()))}else T(new ot(Ue.UNAVAILABLE,"Connection failed."));break;default:Rt()}}finally{tt(ua,`RPC '${e}' ${c} completed.`)}});const H=JSON.stringify(a);tt(ua,`RPC '${e}' ${c} sending request:`,a),V.send(t,"POST",H,s,15)})}Ro(e,t,s){const a=Lh(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=ta(),T=Qa(),V={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(V.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(V.xmlHttpFactory=new $({})),this.Eo(V.initMessageHeaders,t,s),V.encodeInitMessageHeaders=!0;const X=c.join("");tt(ua,`Creating RPC '${e}' stream ${a}: ${X}`,V);const de=f.createWebChannel(X,V);let Fe=!1,Xe=!1;const Dt=new dg({ro:Xt=>{Xe?tt(ua,`Not sending because RPC '${e}' stream ${a} is closed:`,Xt):(Fe||(tt(ua,`Opening RPC '${e}' stream ${a} transport.`),de.open(),Fe=!0),tt(ua,`RPC '${e}' stream ${a} sending:`,Xt),de.send(Xt))},oo:()=>de.close()}),Qt=(Xt,lr,qr)=>{Xt.listen(lr,Ir=>{try{qr(Ir)}catch(Fo){setTimeout(()=>{throw Fo},0)}})};return Qt(de,O.EventType.OPEN,()=>{Xe||tt(ua,`RPC '${e}' stream ${a} transport opened.`)}),Qt(de,O.EventType.CLOSE,()=>{Xe||(Xe=!0,tt(ua,`RPC '${e}' stream ${a} transport closed`),Dt.wo())}),Qt(de,O.EventType.ERROR,Xt=>{Xe||(Xe=!0,Sr(ua,`RPC '${e}' stream ${a} transport errored:`,Xt),Dt.wo(new ot(Ue.UNAVAILABLE,"The operation could not be completed")))}),Qt(de,O.EventType.MESSAGE,Xt=>{var lr;if(!Xe){const qr=Xt.data[0];qt(!!qr);const Fo=qr.error||(null===(lr=qr[0])||void 0===lr?void 0:lr.error);if(Fo){tt(ua,`RPC '${e}' stream ${a} received error:`,Fo);const fo=Fo.status;let rs=function(Bc){const hm=lo[Bc];if(void 0!==hm)return Bp(hm)}(fo),$a=Fo.message;void 0===rs&&(rs=Ue.INTERNAL,$a="Unknown error status: "+fo+" with message "+Fo.message),Xe=!0,Dt.wo(new ot(rs,$a)),de.close()}else tt(ua,`RPC '${e}' stream ${a} received:`,qr),Dt._o(qr)}}),Qt(T,Ha.STAT_EVENT,Xt=>{Xt.stat===M.PROXY?tt(ua,`RPC '${e}' stream ${a} detected buffering proxy`):Xt.stat===M.NOPROXY&&tt(ua,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Dt.fo()},0),Dt}}function Kf(){return typeof document<"u"?document:null}function Md(r){return new Hp(r,!0)}class fg{constructor(e,t,s=1e3,a=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&tt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class pg{constructor(e,t,s,a,c,f,T,V){this.ii=e,this.$o=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=T,this.listener=V,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new fg(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,w.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,w.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,w.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===Ue.RESOURCE_EXHAUSTED?(ln(t.toString()),ln("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===Ue.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new ot(Ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,w.Z)(function*(){e.state=0,e.start()}))}tu(e){return tt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Om extends pg{constructor(e,t,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Cf(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(V=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:Rt(),a=e.targetChange.targetIds||[],c=function(V,H){return V.useProto3Json?(qt(void 0===H||"string"==typeof H),ao.fromBase64String(H||"")):(qt(void 0===H||H instanceof Uint8Array),ao.fromUint8Array(H||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,T=f&&function(V){const H=void 0===V.code?Ue.UNKNOWN:Bp(V.code);return new ot(H,V.message||"")}(f);t=new hh(s,a,c,T||null)}else if("documentChange"in e){const s=e.documentChange,a=ci(r,s.document.name),c=Wi(s.document.updateTime),f=s.document.createTime?Wi(s.document.createTime):tn.min(),T=new To({mapValue:{fields:s.document.fields}}),V=Bi.newFoundDocument(a,c,f,T);t=new yc(s.targetIds||[],s.removedTargetIds||[],V.key,V)}else if("documentDelete"in e){const s=e.documentDelete,a=ci(r,s.document),c=s.readTime?Wi(s.readTime):tn.min(),f=Bi.newNoDocument(a,c);t=new yc([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=ci(r,s.document);t=new yc([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Rt();{const s=e.filter,{count:a=0,unchangedNames:c}=s,f=new Up(a,c);t=new dh(s.targetId,f)}}var V;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return tn.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?tn.min():c.readTime?Wi(c.readTime):tn.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=vc(this.serializer),t.addTarget=function(a,c){let f;const T=c.target;if(f=Wc(T)?{documents:Fl(a,T)}:{query:Ec(a,T)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=wf(a,c.resumeToken);const V=fh(a,c.expectedCount);null!==V&&(f.expectedCount=V)}else if(c.snapshotVersion.compareTo(tn.min())>0){f.readTime=Ol(a,c.snapshotVersion.toTimestamp());const V=fh(a,c.expectedCount);null!==V&&(f.expectedCount=V)}return f}(this.serializer,e);const s=function vh(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=vc(this.serializer),t.removeTarget=e,this.Wo(t)}}class Qy extends pg{constructor(e,t,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function vm(r,e){return r&&r.length>0?(qt(void 0!==e),r.map(t=>function(s,a){let c=Wi(s.updateTime?s.updateTime:a);return c.isEqual(tn.min())&&(c=Wi(a)),new sh(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Wi(e.commitTime);return this.listener.cu(s,t)}return qt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=vc(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>function ll(r,e){let t;if(e instanceof Vu)t={update:od(r,e.key,e.value)};else if(e instanceof Pl)t={delete:_c(r,e.key)};else if(e instanceof Va)t={update:od(r,e.key,e.data),updateMask:Ll(e.fieldMask)};else{if(!(e instanceof td))return Rt();t={verify:_c(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const f=c.transform;if(f instanceof Tl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ou)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof vu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof al)return{fieldPath:c.field.canonicalString(),increment:f.gt};throw Rt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:ph(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Rt()),t;var a}(this.serializer,s))};this.Wo(t)}}class Jy extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new ot(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Io(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ot(Ue.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.vo(e,t,s,c,f,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(Ue.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}function gg(){return gg=(0,w.Z)(function*(r,e,t){var s;const a=Tt(r),{request:c,du:f}=function(X,de,Fe){const Xe=Ec(X,de),Dt={},Qt=[];let Xt=0;return Fe.forEach(lr=>{const qr="aggregate_"+Xt++;Dt[qr]=lr.alias,"count"===lr.yt?Qt.push({alias:qr,count:{}}):"avg"===lr.yt?Qt.push({alias:qr,avg:{field:wu(lr.fieldPath)}}):"sum"===lr.yt&&Qt.push({alias:qr,sum:{field:wu(lr.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:Qt,structuredQuery:Xe.structuredQuery},parent:Xe.parent},du:Dt}}(a.serializer,oa(e),t),T=c.parent;a.connection.po||delete c.parent;const V=(yield a.vo("RunAggregationQuery",T,c,1)).filter(X=>!!X.result);qt(1===V.length);const H=null===(s=V[0].result)||void 0===s?void 0:s.aggregateFields;return Object.keys(H).reduce((X,de)=>(X[f[de]]=H[de],X),{})}),gg.apply(this,arguments)}class Xy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ln(t),this.mu=!1):tt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class xv{constructor(e,t,s,a,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(T=>{s.enqueueAndForget((0,w.Z)(function*(){var V;zl(f)&&(tt("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,w.Z)(function*(H){const X=Tt(H);X.vu.add(4),yield xd(X),X.bu.set("Unknown"),X.vu.delete(4),yield Mc(X)}),function(H){return V.apply(this,arguments)})(f))}))}),this.bu=new Xy(s,a)}}function Mc(r){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,w.Z)(function*(r){if(zl(r))for(const e of r.Ru)yield e(!0)}),Zf.apply(this,arguments)}function xd(r){return mg.apply(this,arguments)}function mg(){return mg=(0,w.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),mg.apply(this,arguments)}function Yf(r,e){const t=Tt(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),_g(t)?Vh(t):Hu(t).Ko()&&yg(t,e))}function Pd(r,e){const t=Tt(r),s=Hu(t);t.Au.delete(e),s.Ko()&&km(t,e),0===t.Au.size&&(s.Ko()?s.jo():zl(t)&&t.bu.set("Unknown"))}function yg(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hu(r).su(e)}function km(r,e){r.Vu.qt(e),Hu(r).iu(e)}function Vh(r){r.Vu=new ym({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),Hu(r).start(),r.bu.gu()}function _g(r){return zl(r)&&!Hu(r).Uo()&&r.Au.size>0}function zl(r){return 0===Tt(r).vu.size}function Fm(r){r.Vu=void 0}function e_(r){return vg.apply(this,arguments)}function vg(){return vg=(0,w.Z)(function*(r){r.Au.forEach((e,t)=>{yg(r,e)})}),vg.apply(this,arguments)}function ju(r,e){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,w.Z)(function*(r,e){Fm(r),_g(r)?(r.bu.Iu(e),Vh(r)):r.bu.set("Unknown")}),Uh.apply(this,arguments)}function t_(r,e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,w.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof hh&&2===e.state&&e.cause)try{yield(s=(0,w.Z)(function*(a,c){const f=c.cause;for(const T of c.targetIds)a.Au.has(T)&&(yield a.remoteSyncer.rejectListen(T,f),a.Au.delete(T),a.Vu.removeTarget(T))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Bh(r,s)}else if(e instanceof yc?r.Vu.Ht(e):e instanceof dh?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(tn.min()))try{const s=yield ig(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const f=a.Vu.ce(c);return f.targetChanges.forEach((T,V)=>{if(T.resumeToken.approximateByteSize()>0){const H=a.Au.get(V);H&&a.Au.set(V,H.withResumeToken(T.resumeToken,c))}}),f.targetMismatches.forEach((T,V)=>{const H=a.Au.get(T);if(!H)return;a.Au.set(T,H.withResumeToken(ao.EMPTY_BYTE_STRING,H.snapshotVersion)),km(a,T);const X=new uu(H.target,T,V,H.sequenceNumber);yg(a,X)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(s){tt("RemoteStore","Failed to raise snapshot:",s),yield Bh(r,s)}var s}),Eg.apply(this,arguments)}function Bh(r,e,t){return wg.apply(this,arguments)}function wg(){return wg=(0,w.Z)(function*(r,e,t){if(!Ns(e))throw e;r.vu.add(1),yield xd(r),r.bu.set("Offline"),t||(t=()=>ig(r.localStore)),r.asyncQueue.enqueueRetryable((0,w.Z)(function*(){tt("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield Mc(r)}))}),wg.apply(this,arguments)}function Lm(r,e){return e().catch(t=>Bh(r,t,e))}function Nd(r){return $h.apply(this,arguments)}function $h(){return $h=(0,w.Z)(function*(r){const e=Tt(r),t=Wl(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;n_(e);)try{const a=yield Zy(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,r_(e,a)}catch(a){yield Bh(e,a)}jh(e)&&Hh(e)}),$h.apply(this,arguments)}function n_(r){return zl(r)&&r.Eu.length<10}function r_(r,e){r.Eu.push(e);const t=Wl(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function jh(r){return zl(r)&&!Wl(r).Uo()&&r.Eu.length>0}function Hh(r){Wl(r).start()}function Qf(r){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,w.Z)(function*(r){Wl(r).hu()}),Vm.apply(this,arguments)}function Ig(r){return Um.apply(this,arguments)}function Um(){return Um=(0,w.Z)(function*(r){const e=Wl(r);for(const t of r.Eu)e.uu(t.mutations)}),Um.apply(this,arguments)}function Bm(r,e,t){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,w.Z)(function*(r,e,t){const s=r.Eu.shift(),a=lh.from(s,e,t);yield Lm(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Nd(r)}),Jf.apply(this,arguments)}function $m(r,e){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,w.Z)(function*(r,e){var t;e&&Wl(r).ou&&(yield(t=(0,w.Z)(function*(s,a){if(function ch(r){switch(r){default:return Rt();case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0}}(c=a.code)&&c!==Ue.ABORTED){const f=s.Eu.shift();Wl(s).Qo(),yield Lm(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield Nd(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),jh(r)&&Hh(r)}),Xf.apply(this,arguments)}function ep(r,e){return Du.apply(this,arguments)}function Du(){return Du=(0,w.Z)(function*(r,e){const t=Tt(r);t.asyncQueue.verifyOperationInProgress(),tt("RemoteStore","RemoteStore received new credentials");const s=zl(t);t.vu.add(3),yield xd(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Mc(t)}),Du.apply(this,arguments)}function Od(){return Od=(0,w.Z)(function*(r,e){const t=Tt(r);e?(t.vu.delete(2),yield Mc(t)):e||(t.vu.add(2),yield xd(t),t.bu.set("Unknown"))}),Od.apply(this,arguments)}function Hu(r){return r.Su||(r.Su=function(e,t,s){const a=Tt(e);return a.fu(),new Om(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:e_.bind(null,r),ao:ju.bind(null,r),nu:t_.bind(null,r)}),r.Ru.push(function(){var e=(0,w.Z)(function*(t){t?(r.Su.Qo(),_g(r)?Vh(r):r.bu.set("Unknown")):(yield r.Su.stop(),Fm(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function Wl(r){return r.Du||(r.Du=function(e,t,s){const a=Tt(e);return a.fu(),new Qy(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:Qf.bind(null,r),ao:$m.bind(null,r),au:Ig.bind(null,r),cu:Bm.bind(null,r)}),r.Ru.push(function(){var e=(0,w.Z)(function*(t){t?(r.Du.Qo(),yield Nd(r)):(yield r.Du.stop(),r.Eu.length>0&&(tt("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class tp{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,c){const f=Date.now()+s,T=new tp(e,t,f,a,c);return T.start(s),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ot(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xc(r,e){if(ln("AsyncQueue",`${e}: ${r}`),Ns(r))return new ot(Ue.UNAVAILABLE,`${e}: ${r}`);throw r}class kd{constructor(e){this.comparator=e?(t,s)=>e(t,s)||S.comparator(t.key,s.key):(t,s)=>S.comparator(t.key,s.key),this.keyedMap=ku(),this.sortedSet=new Wr(this.comparator)}static emptySet(e){return new kd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new kd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class jm{constructor(){this.Cu=new Wr(S.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Rt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Gu{constructor(e,t,s,a,c,f,T,V,H){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=T,this.excludesMetadataChanges=V,this.hasCachedResults=H}static fromInitialDocuments(e,t,s,a,c){const f=[];return t.forEach(T=>{f.push({type:0,doc:T})}),new Gu(e,t,kd.emptySet(t),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class i_{constructor(){this.Nu=void 0,this.listeners=[]}}class Pv{constructor(){this.queries=new mu(e=>hf(e),nl),this.onlineState="Unknown",this.ku=new Set}}function Dg(r,e){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,w.Z)(function*(r,e){const t=Tt(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new i_),a)try{c.Nu=yield t.onListen(s)}catch(f){const T=xc(f,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(T)}t.queries.set(s,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&Sg(t)}),Cg.apply(this,arguments)}function Tg(r,e){return bg.apply(this,arguments)}function bg(){return bg=(0,w.Z)(function*(r,e){const t=Tt(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),bg.apply(this,arguments)}function s_(r,e){const t=Tt(r);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const T of f.listeners)T.$u(a)&&(s=!0);f.Nu=a}}s&&Sg(t)}function o_(r,e,t){const s=Tt(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function Sg(r){r.ku.forEach(e=>{e.next()})}class np{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Gu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Gu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class zm{constructor(e){this.key=e}}class Wm{constructor(e){this.key=e}}class qm{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=tr(),this.mutatedKeys=tr(),this.tc=Zc(e),this.ec=new kd(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new jm,a=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,f=a,T=!1;const V="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,H="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((X,de)=>{const Fe=a.get(X),Xe=dc(this.query,de)?de:null,Dt=!!Fe&&this.mutatedKeys.has(Fe.key),Qt=!!Xe&&(Xe.hasLocalMutations||this.mutatedKeys.has(Xe.key)&&Xe.hasCommittedMutations);let Xt=!1;Fe&&Xe?Fe.data.isEqual(Xe.data)?Dt!==Qt&&(s.track({type:3,doc:Xe}),Xt=!0):this.rc(Fe,Xe)||(s.track({type:2,doc:Xe}),Xt=!0,(V&&this.tc(Xe,V)>0||H&&this.tc(Xe,H)<0)&&(T=!0)):!Fe&&Xe?(s.track({type:0,doc:Xe}),Xt=!0):Fe&&!Xe&&(s.track({type:1,doc:Fe}),Xt=!0,(V||H)&&(T=!0)),Xt&&(Xe?(f=f.add(Xe),c=Qt?c.add(X):c.delete(X)):(f=f.delete(X),c=c.delete(X)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const X="F"===this.query.limitType?f.last():f.first();f=f.delete(X.key),c=c.delete(X.key),s.track({type:1,doc:X})}return{ec:f,ic:s,zi:T,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((H,X)=>function(de,Fe){const Xe=Dt=>{switch(Dt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt()}};return Xe(de)-Xe(Fe)}(H.type,X.type)||this.tc(H.doc,X.doc)),this.oc(s);const f=t?this.uc():[],T=0===this.Zu.size&&this.current?1:0,V=T!==this.Xu;return this.Xu=T,0!==c.length||V?{snapshot:new Gu(this.query,e.ec,a,c,e.mutatedKeys,0===T,V,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new jm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=tr(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new Wm(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new zm(s))}),t}hc(e){this.Yu=e.ir,this.Zu=tr();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Gu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class a_{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class u_{constructor(e){this.key=e,this.fc=!1}}class l_{constructor(e,t,s,a,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new mu(T=>hf(T),nl),this._c=new Map,this.mc=new Set,this.gc=new Wr(S.comparator),this.yc=new Map,this.Ic=new vd,this.Tc={},this.Ec=new Map,this.Ac=bc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Km(r,e){return rp.apply(this,arguments)}function rp(){return rp=(0,w.Z)(function*(r,e){const t=function kg(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ty.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zu.bind(null,e),e.dc.nu=s_.bind(null,e.eventManager),e.dc.Pc=o_.bind(null,e.eventManager),e}(r);let s,a;const c=t.wc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.lc();else{const f=yield function Td(r,e){const t=Tt(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(c=>c?(a=c,De.resolve(a)):t.Bs.allocateTargetId(s).next(f=>(a=new uu(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}(t.localStore,oa(e)),T=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield function xg(r,e,t,s,a){return Zm.apply(this,arguments)}(t,e,s,"current"===T,f.resumeToken),t.isPrimaryClient&&Yf(t.remoteStore,f)}return a}),rp.apply(this,arguments)}function Zm(){return Zm=(0,w.Z)(function*(r,e,t,s,a){r.Rc=(de,Fe,Xe)=>{return(Dt=(0,w.Z)(function*(Qt,Xt,lr,qr){let Ir=Xt.view.sc(lr);Ir.zi&&(Ir=yield zf(Qt.localStore,Xt.query,!1).then(({documents:rs})=>Xt.view.sc(rs,Ir)));const Fo=qr&&qr.targetChanges.get(Xt.targetId),fo=Xt.view.applyChanges(Ir,Qt.isPrimaryClient,Fo);return Yl(Qt,Xt.targetId,fo.cc),fo.snapshot}),function(Qt,Xt,lr,qr){return Dt.apply(this,arguments)})(r,de,Fe,Xe);var Dt};const c=yield zf(r.localStore,e,!0),f=new qm(e,c.ir),T=f.sc(c.documents),V=Rl.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),H=f.applyChanges(T,r.isPrimaryClient,V);Yl(r,t,H.cc);const X=new a_(e,t,f);return r.wc.set(e,X),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),H.snapshot}),Zm.apply(this,arguments)}function Ym(r,e){return Qm.apply(this,arguments)}function Qm(){return Qm=(0,w.Z)(function*(r,e){const t=Tt(r),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!nl(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield bd(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Pd(t.remoteStore,s.targetId),Cu(t,s.targetId)}).catch(Yt))):(Cu(t,s.targetId),yield bd(t.localStore,s.targetId,!0))}),Qm.apply(this,arguments)}function Pg(){return Pg=(0,w.Z)(function*(r,e,t){const s=function Vd(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ea.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sp.bind(null,e),e}(r);try{const a=yield function(c,f){const T=Tt(c),V=Jr.now(),H=f.reduce((Fe,Xe)=>Fe.add(Xe.key),tr());let X,de;return T.persistence.runTransaction("Locally write mutations","readwrite",Fe=>{let Xe=uo(),Dt=tr();return T.Zi.getEntries(Fe,H).next(Qt=>{Xe=Qt,Xe.forEach((Xt,lr)=>{lr.isValidDocument()||(Dt=Dt.add(Xt))})}).next(()=>T.localDocuments.getOverlayedDocuments(Fe,Xe)).next(Qt=>{X=Qt;const Xt=[];for(const lr of f){const qr=uh(lr,X.get(lr.key).overlayedDocument);null!=qr&&Xt.push(new Va(lr.key,qr,Is(qr.value.mapValue),ps.exists(!0)))}return T.mutationQueue.addMutationBatch(Fe,V,Xt,f)}).next(Qt=>{de=Qt;const Xt=Qt.applyToLocalDocumentSet(X,Dt);return T.documentOverlayCache.saveOverlays(Fe,Qt.batchId,Xt)})}).then(()=>({batchId:de.batchId,changes:ff(X)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,f,T){let V=c.Tc[c.currentUser.toKey()];V||(V=new Wr(vn)),V=V.insert(f,T),c.Tc[c.currentUser.toKey()]=V}(s,a.batchId,t),yield Ba(s,a.changes),yield Nd(s.remoteStore)}catch(a){const c=xc(a,"Failed to persist write");t.reject(c)}}),Pg.apply(this,arguments)}function Jm(r,e){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,w.Z)(function*(r,e){const t=Tt(r);try{const s=yield function Ky(r,e){const t=Tt(r),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const T=[];e.targetChanges.forEach((X,de)=>{const Fe=a.get(de);if(!Fe)return;T.push(t.Bs.removeMatchingKeys(c,X.removedDocuments,de).next(()=>t.Bs.addMatchingKeys(c,X.addedDocuments,de)));let Xe=Fe.withSequenceNumber(c.currentSequenceNumber);var Dt,Qt,Xt;null!==e.targetMismatches.get(de)?Xe=Xe.withResumeToken(ao.EMPTY_BYTE_STRING,tn.min()).withLastLimboFreeSnapshotVersion(tn.min()):X.resumeToken.approximateByteSize()>0&&(Xe=Xe.withResumeToken(X.resumeToken,s)),a=a.insert(de,Xe),Qt=Xe,Xt=X,(0===(Dt=Fe).resumeToken.approximateByteSize()||Qt.snapshotVersion.toMicroseconds()-Dt.snapshotVersion.toMicroseconds()>=3e8||Xt.addedDocuments.size+Xt.modifiedDocuments.size+Xt.removedDocuments.size>0)&&T.push(t.Bs.updateTargetData(c,Xe))});let V=uo(),H=tr();if(e.documentUpdates.forEach(X=>{e.resolvedLimboDocuments.has(X)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(c,X))}),T.push(function Pm(r,e,t){let s=tr(),a=tr();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=uo();return t.forEach((T,V)=>{const H=c.get(T);V.isFoundDocument()!==H.isFoundDocument()&&(a=a.add(T)),V.isNoDocument()&&V.version.isEqual(tn.min())?(e.removeEntry(T,V.readTime),f=f.insert(T,V)):!H.isValidDocument()||V.version.compareTo(H.version)>0||0===V.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(V),f=f.insert(T,V)):tt("LocalStore","Ignoring outdated watch update for ",T,". Current version:",H.version," Watch version:",V.version)}),{nr:f,sr:a}})}(c,f,e.documentUpdates).next(X=>{V=X.nr,H=X.sr})),!s.isEqual(tn.min())){const X=t.Bs.getLastRemoteSnapshotVersion(c).next(de=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,s));T.push(X)}return De.waitFor(T).next(()=>f.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,V,H)).next(()=>V)}).then(c=>(t.Ji=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const f=t.yc.get(c);f&&(qt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.fc=!0:a.modifiedDocuments.size>0?qt(f.fc):a.removedDocuments.size>0&&(qt(f.fc),f.fc=!1))}),yield Ba(t,s,e)}catch(s){yield Yt(s)}}),Gh.apply(this,arguments)}function Xm(r,e,t){const s=Tt(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((c,f)=>{const T=f.view.Mu(e);T.snapshot&&a.push(T.snapshot)}),function(c,f){const T=Tt(c);T.onlineState=f;let V=!1;T.queries.forEach((H,X)=>{for(const de of X.listeners)de.Mu(f)&&(V=!0)}),V&&Sg(T)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function zu(r,e,t){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,w.Z)(function*(r,e,t){const s=Tt(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),c=a&&a.key;if(c){let f=new Wr(S.comparator);f=f.insert(c,Bi.newNoDocument(c,tn.min()));const T=tr().add(c),V=new Eu(tn.min(),new Map,new Wr(vn),f,T);yield Jm(s,V),s.gc=s.gc.remove(c),s.yc.delete(e),Ql(s)}else yield bd(s.localStore,e,!1).then(()=>Cu(s,e,t)).catch(Yt)}),Pc.apply(this,arguments)}function Ea(r,e){return pl.apply(this,arguments)}function pl(){return pl=(0,w.Z)(function*(r,e){const t=Tt(r),s=e.batch.batchId;try{const a=yield function qy(r,e){const t=Tt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(f,T,V,H){const X=V.batch,de=X.keys();let Fe=De.resolve();return de.forEach(Xe=>{Fe=Fe.next(()=>H.getEntry(T,Xe)).next(Dt=>{const Qt=V.docVersions.get(Xe);qt(null!==Qt),Dt.version.compareTo(Qt)<0&&(X.applyToRemoteDocument(Dt,V),Dt.isValidDocument()&&(Dt.setReadTime(V.commitVersion),H.addEntry(Dt)))})}),Fe.next(()=>f.mutationQueue.removeMutationBatch(T,X))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let T=tr();for(let V=0;V<f.mutationResults.length;++V)f.mutationResults[V].transformResults.length>0&&(T=T.add(f.batch.mutations[V].key));return T}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);Zl(t,s,null),Kl(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Ba(t,a)}catch(a){yield Yt(a)}}),pl.apply(this,arguments)}function sp(r,e,t){return Ua.apply(this,arguments)}function Ua(){return Ua=(0,w.Z)(function*(r,e,t){const s=Tt(r);try{const a=yield function(c,f){const T=Tt(c);return T.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let H;return T.mutationQueue.lookupMutationBatch(V,f).next(X=>(qt(null!==X),H=X.keys(),T.mutationQueue.removeMutationBatch(V,X))).next(()=>T.mutationQueue.performConsistencyCheck(V)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(V,H,f)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(V,H)).next(()=>T.localDocuments.getDocuments(V,H))})}(s.localStore,e);Zl(s,e,t),Kl(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Ba(s,a)}catch(a){yield Yt(a)}}),Ua.apply(this,arguments)}function Kl(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function Zl(r,e,t){const s=Tt(r);let a=s.Tc[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function Cu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.wc.delete(s),t&&r.dc.Pc(s,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(s=>{r.Ic.containsKey(s)||Nc(r,s)})}function Nc(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(Pd(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),Ql(r))}function Yl(r,e,t){for(const s of t)s instanceof zm?(r.Ic.addReference(s.key,e),Fd(r,s)):s instanceof Wm?(tt("SyncEngine","Document no longer in limbo: "+s.key),r.Ic.removeReference(s.key,e),r.Ic.containsKey(s.key)||Nc(r,s.key)):Rt()}function Fd(r,e){const t=e.key,s=t.path.canonicalString();r.gc.get(t)||r.mc.has(s)||(tt("SyncEngine","New document in limbo: "+t),r.mc.add(s),Ql(r))}function Ql(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new S(mn.fromString(e)),s=r.Ac.next();r.yc.set(s,new u_(t)),r.gc=r.gc.insert(t,s),Yf(r.remoteStore,new uu(oa(Ou(t.path)),s,"TargetPurposeLimboResolution",Fi.ct))}}function Ba(r,e,t){return op.apply(this,arguments)}function op(){return op=(0,w.Z)(function*(r,e,t){const s=Tt(r),a=[],c=[],f=[];var T;s.wc.isEmpty()||(s.wc.forEach((T,V)=>{f.push(s.Rc(V,e,t).then(H=>{if((H||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(V.targetId,H?.fromCache?"not-current":"current"),H){a.push(H);const X=Am.Li(V.targetId,H);c.push(X)}}))}),yield Promise.all(f),s.dc.nu(a),yield(T=(0,w.Z)(function*(V,H){const X=Tt(V);try{yield X.persistence.runTransaction("notifyLocalViewChanges","readwrite",de=>De.forEach(H,Fe=>De.forEach(Fe.Fi,Xe=>X.persistence.referenceDelegate.addReference(de,Fe.targetId,Xe)).next(()=>De.forEach(Fe.Bi,Xe=>X.persistence.referenceDelegate.removeReference(de,Fe.targetId,Xe)))))}catch(de){if(!Ns(de))throw de;tt("LocalStore","Failed to update sequence numbers: "+de)}for(const de of H){const Fe=de.targetId;if(!de.fromCache){const Xe=X.Ji.get(Fe),Qt=Xe.withLastLimboFreeSnapshotVersion(Xe.snapshotVersion);X.Ji=X.Ji.insert(Fe,Qt)}}}),function(V,H){return T.apply(this,arguments)})(s.localStore,c))}),op.apply(this,arguments)}function ey(r,e){return ap.apply(this,arguments)}function ap(){return ap=(0,w.Z)(function*(r,e){const t=Tt(r);if(!t.currentUser.isEqual(e)){tt("SyncEngine","User change. New user:",e.toKey());const s=yield rg(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(f=>{f.forEach(T=>{T.reject(new ot(Ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Ba(t,s.er)}var a}),ap.apply(this,arguments)}function ty(r,e){const t=Tt(r),s=t.yc.get(e);if(s&&s.fc)return tr().add(s.key);{let a=tr();const c=t._c.get(e);if(!c)return a;for(const f of c){const T=t.wc.get(f);a=a.unionWith(T.view.nc)}return a}}class Wh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,w.Z)(function*(){t.serializer=Md(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function xm(r,e,t,s){return new Dd(r,e,t,s)}(this.persistence,new Mm,e.initialUser,this.serializer)}createPersistence(e){return new wd(Bf.zs,this.serializer)}createSharedClientState(e){return new Ad}terminate(){var e=this;return(0,w.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Rc{initialize(e,t){var s=this;return(0,w.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>Xm(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=ey.bind(null,s.syncEngine),yield function Rd(r,e){return Od.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Pv}createDatastore(e){const t=Md(e.databaseInfo.databaseId),s=new hg(e.databaseInfo);return new Jy(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=T=>Xm(this.syncEngine,T,0),f=kh.D()?new kh:new lg,new xv(t,s,a,c,f);var t,s,a,c,f}createSyncEngine(e,t){return function(s,a,c,f,T,V,H){const X=new l_(s,a,c,f,T,V);return H&&(X.vc=!0),X}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,w.Z)(function*(t){const s=Tt(t);tt("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield xd(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class qh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ln("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ly{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=_t.UNAUTHENTICATED,this.clientId=_l.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,w.Z)(function*(T){tt("FirestoreClient","Received user=",T.uid),yield c.authCredentialListener(T),c.user=T});return function(T){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(tt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,w.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ot(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,w.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=xc(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Kh(r,e){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,w.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),tt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,w.Z)(function*(c){s.isEqual(c)||(yield rg(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Lg.apply(this,arguments)}function Vg(r,e){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,w.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield function Ud(r){return Zh.apply(this,arguments)}(r);tt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>ep(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>ep(e.remoteStore,c)),r._onlineComponents=e}),Ug.apply(this,arguments)}function Zh(){return Zh=(0,w.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){tt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Kh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Bg(r){return"FirebaseError"===r.name?r.code===Ue.FAILED_PRECONDITION||r.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}(t))throw t;Sr("Error using user provided cache. Falling back to memory cache: "+t),yield Kh(r,new Wh)}}else tt("FirestoreClient","Using default OfflineComponentProvider"),yield Kh(r,new Wh);return r._offlineComponents}),Zh.apply(this,arguments)}function Yh(r){return yp.apply(this,arguments)}function yp(){return yp=(0,w.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(tt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Vg(r,r._uninitializedComponentsProvider._online)):(tt("FirestoreClient","Using default OnlineComponentProvider"),yield Vg(r,new Rc))),r._onlineComponents}),yp.apply(this,arguments)}function gl(r){return Wu.apply(this,arguments)}function Wu(){return Wu=(0,w.Z)(function*(r){const e=yield Yh(r),t=e.eventManager;return t.onListen=Km.bind(null,e.syncEngine),t.onUnlisten=Ym.bind(null,e.syncEngine),t}),Wu.apply(this,arguments)}function dy(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const qg=new Map;function Kg(r,e,t){if(!t)throw new ot(Ue.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Zg(r){if(!S.isDocumentKey(r))throw new ot(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function hy(r){if(S.isDocumentKey(r))throw new ot(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function vp(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Rt()}function xr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ot(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vp(r);throw new ot(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class Yg{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new ot(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ot(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function ko(r,e,t,s){if(!0===e&&!0===s)throw new ot(Ue.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=dy(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new ot(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ot(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ot(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yg(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ta;switch(t.type){case"firstParty":return new Ja(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ot(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=qg.get(e);t&&(tt("ComponentProvider","Removing Datastore"),qg.delete(e),t.terminate())}(this),Promise.resolve()}}class co{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new co(this.firestore,e,this._key)}}class la{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class Tu extends la{constructor(e,t,s){super(e,t,Ou(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new co(this.firestore,null,new S(e))}withConverter(e){return new Tu(this.firestore,e,this._path)}}function m_(r,e,...t){if(r=(0,ee.m9)(r),Kg("collection","path",e),r instanceof Bd){const s=mn.fromString(e,...t);return hy(s),new Tu(r,null,s)}{if(!(r instanceof co||r instanceof Tu))throw new ot(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(mn.fromString(e,...t));return hy(s),new Tu(r.firestore,null,s)}}function __(r,e,...t){if(r=(0,ee.m9)(r),1===arguments.length&&(e=_l.A()),Kg("doc","path",e),r instanceof Bd){const s=mn.fromString(e,...t);return Zg(s),new co(r,null,new S(s))}{if(!(r instanceof co||r instanceof Tu))throw new ot(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(mn.fromString(e,...t));return Zg(s),new co(r.firestore,r instanceof Tu?r.converter:null,new S(s))}}class qu{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new fg(this,"async_queue_retry"),this.Xc=()=>{const t=Kf();t&&tt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Kf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Kf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ui;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,w.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ns(t))throw t;tt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,ln("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=tp.createAndSchedule(this,e,t,s,c=>this.na(c));return this.zc.push(a),a}Zc(){this.Wc&&Rt()}verifyOperationInProgress(){}sa(){var e=this;return(0,w.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Qg(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Fr extends Bd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new qu,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||py(this),this._firestoreClient.terminate()}}function ho(r){return r._firestoreClient||py(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function py(r){var e,t,s;const a=r._freezeSettings(),c=(T=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Ju(r._databaseId,T,r._persistenceKey,(H=a).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,dy(H.experimentalLongPollingOptions),H.useFetchStreams));var T,H;r._firestoreClient=new ly(r._authCredentials,r._appCheckCredentials,r._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class Xl{constructor(e="count",t){this._aggregateType=e,this._internalFieldPath=t,this.type="AggregateField"}}class C_{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class ec{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ec(ao.fromBase64String(e))}catch(t){throw new ot(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ec(ao.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Oc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ot(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function Xg(){return new Oc("__name__")}class jd{constructor(e){this._methodName=e}}class Ip{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ot(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ot(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vn(this._lat,e._lat)||vn(this._long,e._long)}}const yy=/^__.*__$/;class _y{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Va(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vu(e,this.data,t,this.fieldTransforms)}}class em{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Va(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tm(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt()}}class Jh{constructor(e,t,s,a,c,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Jh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Cp(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(tm(this.ca)&&yy.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class vy{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Md(e)}ya(e,t,s,a=!1){return new Jh({ca:e,methodName:t,ga:s,path:Mn.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kc(r){const e=r._freezeSettings(),t=Md(r._databaseId);return new vy(r._databaseId,!!e.ignoreUndefinedProperties,t)}function nm(r,e,t,s,a,c={}){const f=r.ya(c.merge||c.mergeFields?2:0,e,t,a);im("Data must be an object, but it was:",f,s);const T=Cy(s,f);let V,H;if(c.merge)V=new Gs(f.fieldMask),H=f.fieldTransforms;else if(c.mergeFields){const X=[];for(const de of c.mergeFields){const Fe=ef(e,de,t);if(!f.contains(Fe))throw new ot(Ue.INVALID_ARGUMENT,`Field '${Fe}' is specified in your field mask but missing from your input data.`);sm(X,Fe)||X.push(Fe)}V=new Gs(X),H=f.fieldTransforms.filter(de=>V.covers(de.field))}else V=null,H=f.fieldTransforms;return new _y(new To(T),V,H)}class Xh extends jd{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}function Fc(r,e){if(Ty(r=(0,ee.m9)(r)))return im("Unsupported field value:",e,r),Cy(r,e);if(r instanceof jd)return function(t,s){if(!tm(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const f of t){let T=Fc(f,s.wa(c));null==T&&(T={nullValue:"NULL_VALUE"}),a.push(T),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,ee.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return pc(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Jr.fromDate(t);return{timestampValue:Ol(s.serializer,a)}}if(t instanceof Jr){const a=new Jr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ol(s.serializer,a)}}if(t instanceof Ip)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ec)return{bytesValue:wf(s.serializer,t._byteString)};if(t instanceof co){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gh(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${vp(t)}`)}(r,e)}function Cy(r,e){const t={};return Oo(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(r,(s,a)=>{const c=Fc(a,e.ha(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function Ty(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Jr||r instanceof Ip||r instanceof ec||r instanceof co||r instanceof jd)}function im(r,e,t){if(!Ty(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=vp(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function ef(r,e,t){if((e=(0,ee.m9)(e))instanceof Oc)return e._internalPath;if("string"==typeof e)return Dp(r,e);throw Cp("Field path arguments must be of type string or ",r,!1,void 0,t)}const A_=new RegExp("[~\\*/\\[\\]]");function Dp(r,e,t){if(e.search(A_)>=0)throw Cp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Oc(...e.split("."))._internalPath}catch{throw Cp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Cp(r,e,t,s,a){const c=s&&!s.isEmpty(),f=void 0!==a;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let V="";return(c||f)&&(V+=" (found",c&&(V+=` in field ${s}`),f&&(V+=` in document ${a}`),V+=")"),new ot(Ue.INVALID_ARGUMENT,T+r+V)}function sm(r,e){return r.some(t=>t.isEqual(e))}class Tp{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new co(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new by(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class by extends Tp{data(){return super.data()}}function tf(r,e){return"string"==typeof e?Dp(r,e):e instanceof Oc?e._internalPath:e._delegate._internalPath}class bp{}class Sy extends bp{}function Ay(r,e,...t){let s=[];e instanceof bp&&s.push(e),s=s.concat(t),function(a){const c=a.filter(T=>T instanceof Lc).length,f=a.filter(T=>T instanceof Hd).length;if(c>1||c>0&&f>0)throw new ot(Ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class Hd extends Sy{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Hd(e,t,s)}_apply(e){const t=this._parse(e);return sf(e._query,t),new la(e.firestore,e.converter,cc(e._query,t))}_parse(e){const t=kc(e.firestore);return function(a,c,f,T,V,H,X){let de;if(V.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new ot(Ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){Ny(X,H);const Fe=[];for(const Xe of X)Fe.push(Vc(T,a,Xe));de={arrayValue:{values:Fe}}}else de=Vc(T,a,X)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||Ny(X,H),de=function Dy(r,e,t,s=!1){return Fc(t,r.ya(s?4:3,e))}(f,"where",X,"in"===H||"not-in"===H);return ne.create(V,H,de)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function My(r,e,t){const s=e,a=tf("where",r);return Hd._create(a,s,t)}class Lc extends bp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Lc(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:he.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const f=a.getFlattenedFilters();for(const T of f)sf(c,T),c=cc(c,T)}(e._query,t),new la(e.firestore,e.converter,cc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Vc(r,e,t){if("string"==typeof(t=(0,ee.m9)(t))){if(""===t)throw new ot(Ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eh(e)&&-1!==t.indexOf("/"))throw new ot(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(mn.fromString(t));if(!S.isDocumentKey(s))throw new ot(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return nu(r,new S(s))}if(t instanceof co)return nu(r,t._key);throw new ot(Ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vp(t)}.`)}function Ny(r,e){if(!Array.isArray(r)||0===r.length)throw new ot(Ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sf(r,e){if(e.isInequality()){const s=tl(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new ot(Ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=Xd(r);null!==c&&function af(r,e,t){if(!t.isEqual(e))throw new ot(Ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,a,c)}const t=function(s,a){for(const c of s)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ot(Ue.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class jv{convertValue(e,t="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ns(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Rt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Es(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new Ip(ns(e.latitude),ns(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Hc(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const t=eu(e);return new Jr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=mn.fromString(e);qt(Af(s));const a=new sa(s.get(1),s.get(3)),c=new S(s.popFirst(5));return a.isEqual(t)||ln(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Sp(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Uc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zd extends Tp{constructor(e,t,s,a,c,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(tf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Ap extends zd{data(e={}){return super.data(e)}}class Zu{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Uc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Ap(this._firestore,this._userDataWriter,s.key,s,new Uc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ot(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new Ap(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Uc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const T=new Ap(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Uc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let V=-1,H=-1;return 0!==f.type&&(V=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),H=c.indexOf(f.doc.key)),{type:O_(f.type),doc:T,oldIndex:V,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function O_(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt()}}function k_(r){r=xr(r,co);const e=xr(r.firestore,Fr);return function Jl(r,e,t={}){const s=new ui;return r.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function(a,c,f,T,V){const H=new qh({next:de=>{c.enqueueAndForget(()=>Tg(a,X));const Fe=de.docs.has(f);!Fe&&de.fromCache?V.reject(new ot(Ue.UNAVAILABLE,"Failed to get document because the client is offline.")):Fe&&de.fromCache&&T&&"server"===T.source?V.reject(new ot(Ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):V.resolve(de)},error:de=>V.reject(de)}),X=new np(Ou(f.path),H,{includeMetadataChanges:!0,Ku:!0});return Dg(a,X)}(yield gl(r),r.asyncQueue,e,t,s)})),s.promise}(ho(e),r._key).then(t=>lm(e,r,t))}class bu extends jv{constructor(e){super(),this.firestore=e}convertBytes(e){return new ec(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new co(this.firestore,null,t)}}function uf(r,e,t){r=xr(r,co);const s=xr(r.firestore,Fr),a=Sp(r.converter,e,t);return Wd(s,[nm(kc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,ps.none())])}function U_(r,e,t,...s){r=xr(r,co);const a=xr(r.firestore,Fr),c=kc(a);let f;return f="string"==typeof(e=(0,ee.m9)(e))||e instanceof Oc?function Iy(r,e,t,s,a,c){const f=r.ya(1,e,t),T=[ef(e,s,t)],V=[a];if(c.length%2!=0)throw new ot(Ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Fe=0;Fe<c.length;Fe+=2)T.push(ef(e,c[Fe])),V.push(c[Fe+1]);const H=[],X=To.empty();for(let Fe=T.length-1;Fe>=0;--Fe)if(!sm(H,T[Fe])){const Xe=T[Fe];let Dt=V[Fe];Dt=(0,ee.m9)(Dt);const Qt=f.da(Xe);if(Dt instanceof Xh)H.push(Xe);else{const Xt=Fc(Dt,Qt);null!=Xt&&(H.push(Xe),X.set(Xe,Xt))}}const de=new Gs(H);return new em(X,de,f.fieldTransforms)}(c,"updateDoc",r._key,e,t,s):function wy(r,e,t,s){const a=r.ya(1,e,t);im("Data must be an object, but it was:",a,s);const c=[],f=To.empty();Es(s,(V,H)=>{const X=Dp(e,V,t);H=(0,ee.m9)(H);const de=a.da(X);if(H instanceof Xh)c.push(X);else{const Fe=Fc(H,de);null!=Fe&&(c.push(X),f.set(X,Fe))}});const T=new Gs(c);return new em(f,T,a.fieldTransforms)}(c,"updateDoc",r._key,e),Wd(a,[f.toMutation(r._key,ps.exists(!0))])}function B_(r,e){const t=xr(r.firestore,Fr),s=__(r),a=Sp(r.converter,e);return Wd(t,[nm(kc(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,ps.exists(!1))]).then(()=>s)}function Oy(r,...e){var t,s,a;r=(0,ee.m9)(r);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Qg(e[f])||(c=e[f],f++);const T={includeMetadataChanges:c.includeMetadataChanges};if(Qg(e[f])){const de=e[f];e[f]=null===(t=de.next)||void 0===t?void 0:t.bind(de),e[f+1]=null===(s=de.error)||void 0===s?void 0:s.bind(de),e[f+2]=null===(a=de.complete)||void 0===a?void 0:a.bind(de)}let V,H,X;if(r instanceof co)H=xr(r.firestore,Fr),X=Ou(r._key.path),V={next:de=>{e[f]&&e[f](lm(H,r,de))},error:e[f+1],complete:e[f+2]};else{const de=xr(r,la);H=xr(de.firestore,Fr),X=de._query;const Fe=new bu(H);V={next:Xe=>{e[f]&&e[f](new Zu(H,Fe,de,Xe))},error:e[f+1],complete:e[f+2]},function om(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new ot(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(r._query)}return function(de,Fe,Xe,Dt){const Qt=new qh(Dt),Xt=new np(Fe,Qt,Xe);return de.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return Dg(yield gl(de),Xt)})),()=>{Qt.Dc(),de.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return Tg(yield gl(de),Xt)}))}}(ho(H),X,T,V)}function Wd(r,e){return function(t,s){const a=new ui;return t.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function ip(r,e,t){return Pg.apply(this,arguments)}(yield function _p(r){return Yh(r).then(e=>e.syncEngine)}(t),s,a)})),a.promise}(ho(r),e)}function lm(r,e,t){const s=t.docs.get(e._key),a=new bu(r);return new zd(r,a,e._key,s,new Uc(t.hasPendingWrites,t.fromCache),e.converter)}function ky(r){return function j_(r,e){const t=xr(r.firestore,Fr),s=ho(t),a=function(c,f){const T=[];for(const V in c)Object.prototype.hasOwnProperty.call(c,V)&&T.push(f(c[V],V));return T}(e,(c,f)=>new ul(f,c._aggregateType,c._internalFieldPath));return function(c,f,T){const V=new ui;return c.asyncQueue.enqueueAndForget((0,w.Z)(function*(){try{const H=yield function Hg(r){return Yh(r).then(e=>e.datastore)}(c);V.resolve(function Za(r,e,t){return gg.apply(this,arguments)}(H,f,T))}catch(H){V.reject(H)}})),V.promise}(s,r._query,a).then(c=>function(f,T,V){const H=new bu(f);return new C_(T,H,V)}(t,r,c))}(r,{count:new Xl("count")})}!function(r,e=!0){Un=re.Jn,(0,re.Xd)(new k.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),f=new Fr(new ya(t.getProvider("auth-internal")),new Su(t.getProvider("app-check-internal")),function(T,V){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new ot(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sa(T.options.projectId,V)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,re.KN)(Ke,"3.13.0",r),(0,re.KN)(Ke,"3.13.0","esm2017")}()},5861:(nn,Qe,Y)=>{function w(k,Ce,ee,Se,Ve,ce,Be){try{var ie=k[ce](Be),ye=ie.value}catch(xe){return void ee(xe)}ie.done?Ce(ye):Promise.resolve(ye).then(Se,Ve)}function re(k){return function(){var Ce=this,ee=arguments;return new Promise(function(Se,Ve){var ce=k.apply(Ce,ee);function Be(ye){w(ce,Se,Ve,Be,ie,"next",ye)}function ie(ye){w(ce,Se,Ve,Be,ie,"throw",ye)}Be(void 0)})}}Y.d(Qe,{Z:()=>re})}},nn=>{nn(nn.s=5963)}]);