"use strict";(self.webpackChunkguild_raiding_app=self.webpackChunkguild_raiding_app||[]).push([[179],{3692:(rn,Ye,Y)=>{Y.d(Ye,{Ot:()=>De,ZF:()=>mn,hX:()=>nt,z6:()=>ee});var w=Y(259),re=Y(1571),B=Y(4976);class De{constructor(pt){return pt}}class ee{constructor(){return(0,w.C6)()}}const he=new re.OlP("angularfire2._apps"),$e={provide:De,useFactory:function Ue(Fe){return Fe&&1===Fe.length?Fe[0]:new De((0,w.Mq)())},deps:[[new re.FiY,he]]},ie={provide:ee,deps:[[new re.FiY,he]]};function ye(Fe){return(pt,Ge)=>{const dt=pt.runOutsideAngular(()=>Fe(Ge));return new De(dt)}}let Pe=(()=>{class Fe{constructor(Ge){(0,w.KN)("angularfire",B.q4.full,"core"),(0,w.KN)("angularfire",B.q4.full,"app"),(0,w.KN)("angular",re.q4F.full,Ge.toString())}}return Fe.\u0275fac=function(Ge){return new(Ge||Fe)(re.LFG(re.Lbi))},Fe.\u0275mod=re.oAB({type:Fe}),Fe.\u0275inj=re.cJS({providers:[$e,ie]}),Fe})();function nt(Fe,...pt){return{ngModule:Pe,providers:[{provide:he,useFactory:ye(Fe),multi:!0,deps:[re.R0b,re.zs3,B.HU,...pt]}]}}const mn=(0,B.u3)(w.ZF,!0)},5465:(rn,Ye,Y)=>{Y.d(Ye,{gx:()=>Ol,fD:()=>cl,Xb:()=>dl,v0:()=>Ch,Aj:()=>dd,AR:()=>ll,e5:()=>Ff});var w=Y(4976),re=Y(1571),B=Y(3692),De=Y(259),ee=Y(5861),Se=Y(6881),Ue=Y(4859),he=Y(2090),$e=Y(1877);const ie=new Map,ye={activated:!1,tokenObservers:[]},Pe={initialized:!1,enabled:!1};function nt(y){return ie.get(y)||Object.assign({},ye)}function yt(){return Pe}const _t="https://content-firebaseappcheck.googleapis.com/v1",Wn="exchangeDebugToken",En={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class pt{constructor(d,p,I,U,q){if(this.operation=d,this.retryPolicy=p,this.getWaitDuration=I,this.lowerBound=U,this.upperBound=q,this.pending=null,this.nextErrorWaitInterval=U,U>q)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(d){var p=this;return(0,ee.Z)(function*(){p.stop();try{p.pending=new he.BH,yield function Ge(y){return new Promise(d=>{setTimeout(d,y)})}(p.getNextRun(d)),p.pending.resolve(),yield p.pending.promise,p.pending=new he.BH,yield p.operation(),p.pending.resolve(),yield p.pending.promise,p.process(!0).catch(()=>{})}catch(I){p.retryPolicy(I)?p.process(!1).catch(()=>{}):p.stop()}})()}getNextRun(d){if(d)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const p=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),p}}}const Mt=new he.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function yn(y){if(!nt(y).activated)throw Mt.create("use-before-activation",{appName:y.name})}function sn(y,d){return ht.apply(this,arguments)}function ht(){return(ht=(0,ee.Z)(function*({url:y,body:d},p){const I={"Content-Type":"application/json"},U=p.getImmediate({optional:!0});if(U){const On=yield U.getHeartbeatsHeader();On&&(I["X-Firebase-Client"]=On)}const q={method:"POST",body:JSON.stringify(d),headers:I};let _e,Re;try{_e=yield fetch(y,q)}catch(On){throw Mt.create("fetch-network-error",{originalErrorMessage:On?.message})}if(200!==_e.status)throw Mt.create("fetch-status-error",{httpStatus:_e.status});try{Re=yield _e.json()}catch(On){throw Mt.create("fetch-parse-error",{originalErrorMessage:On?.message})}const lt=Re.ttl.match(/^([\d.]+)(s)$/);if(!lt||!lt[2]||isNaN(Number(lt[1])))throw Mt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Re.ttl}`});const Ut=1e3*Number(lt[1]),gn=Date.now();return{token:Re.token,expireTimeMillis:gn+Ut,issuedAtTimeMillis:gn}})).apply(this,arguments)}function et(y,d){const{projectId:p,appId:I,apiKey:U}=y.options;return{url:`${_t}/projects/${p}/apps/${I}:${Wn}?key=${U}`,body:{debug_token:d}}}const rt="firebase-app-check-database",gt=1,mt="firebase-app-check-store";let Rn=null;function ei(y,d){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,ee.Z)(function*(y,d){const I=(yield function kn(){return Rn||(Rn=new Promise((y,d)=>{try{const p=indexedDB.open(rt,gt);p.onsuccess=I=>{y(I.target.result)},p.onerror=I=>{var U;d(Mt.create("storage-open",{originalErrorMessage:null===(U=I.target.error)||void 0===U?void 0:U.message}))},p.onupgradeneeded=I=>{0===I.oldVersion&&I.target.result.createObjectStore(mt,{keyPath:"compositeKey"})}}catch(p){d(Mt.create("storage-open",{originalErrorMessage:p?.message}))}}),Rn)}()).transaction(mt,"readwrite"),q=I.objectStore(mt).put({compositeKey:y,value:d});return new Promise((_e,Re)=>{q.onsuccess=lt=>{_e()},I.onerror=lt=>{var Ut;Re(Mt.create("storage-set",{originalErrorMessage:null===(Ut=lt.target.error)||void 0===Ut?void 0:Ut.message}))}})})).apply(this,arguments)}const Gr=new $e.Yd("@firebase/app-check");function cn(y,d){return(0,he.hl)()?function Gt(y,d){return ei(function Or(y){return`${y.options.appId}-${y.name}`}(y),d)}(y,d).catch(p=>{Gr.warn(`Failed to write token to IndexedDB. Error: ${p}`)}):Promise.resolve()}function Un(){return yt().enabled}function ni(){return hs.apply(this,arguments)}function hs(){return(hs=(0,ee.Z)(function*(){const y=yt();if(y.enabled&&y.token)return y.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ki={error:"UNKNOWN_ERROR"};function Si(y){return he.US.encodeString(JSON.stringify(y),!1)}function hn(y){return qt.apply(this,arguments)}function qt(){return(qt=(0,ee.Z)(function*(y,d=!1){const p=y.app;yn(p);const I=nt(p);let q,U=I.token;if(U&&!$n(U)&&(I.token=void 0,U=void 0),!U){const lt=yield I.cachedTokenPromise;lt&&($n(lt)?U=lt:yield cn(p,void 0))}if(!d&&U&&$n(U))return{token:U.token};let Re,_e=!1;if(Un()){I.exchangeTokenPromise||(I.exchangeTokenPromise=sn(et(p,yield ni()),y.heartbeatServiceProvider).finally(()=>{I.exchangeTokenPromise=void 0}),_e=!0);const lt=yield I.exchangeTokenPromise;return yield cn(p,lt),I.token=lt,{token:lt.token}}try{I.exchangeTokenPromise||(I.exchangeTokenPromise=I.provider.getToken().finally(()=>{I.exchangeTokenPromise=void 0}),_e=!0),U=yield nt(p).exchangeTokenPromise}catch(lt){"appCheck/throttled"===lt.code?Gr.warn(lt.message):Gr.error(lt),q=lt}return U?q?Re=$n(U)?{token:U.token,internalError:q}:Hs(q):(Re={token:U.token},I.token=U,yield cn(p,U)):Re=Hs(q),_e&&function Mi(y,d){const p=nt(y).tokenObservers;for(const I of p)try{"EXTERNAL"===I.type&&null!=d.error?I.error(d.error):I.next(d)}catch{}}(p,Re),Re})).apply(this,arguments)}function kt(y){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,ee.Z)(function*(y){const d=y.app;yn(d);const{provider:p}=nt(d);if(Un()){const I=yield ni(),{token:U}=yield sn(et(d,I),y.heartbeatServiceProvider);return{token:U}}{const{token:I}=yield p.getToken();return{token:I}}})).apply(this,arguments)}function kr(y,d){const p=nt(y),I=p.tokenObservers.filter(U=>U.next!==d);0===I.length&&p.tokenRefresher&&p.tokenRefresher.isRunning()&&p.tokenRefresher.stop(),p.tokenObservers=I}function Ai(y){const{app:d}=y,p=nt(d);let I=p.tokenRefresher;I||(I=function sr(y){const{app:d}=y;return new pt((0,ee.Z)(function*(){let I;if(I=nt(d).token?yield hn(y,!0):yield hn(y),I.error)throw I.error;if(I.internalError)throw I.internalError}),()=>!0,()=>{const p=nt(d);if(p.token){let I=p.token.issuedAtTimeMillis+.5*(p.token.expireTimeMillis-p.token.issuedAtTimeMillis)+3e5;return I=Math.min(I,p.token.expireTimeMillis-3e5),Math.max(0,I-Date.now())}return 0},En.RETRIAL_MIN_WAIT,En.RETRIAL_MAX_WAIT)}(y),p.tokenRefresher=I),!I.isRunning()&&p.isTokenAutoRefreshEnabled&&I.start()}function $n(y){return y.expireTimeMillis-Date.now()>0}function Hs(y){return{token:Si(Ki),error:y}}class Kn{constructor(d,p){this.app=d,this.heartbeatServiceProvider=p}_delete(){const{tokenObservers:d}=nt(this.app);for(const p of d)kr(this.app,p.next);return Promise.resolve()}}const Ht="app-check-internal";!function on(){(0,Se.Xd)(new Ue.wA("app-check",y=>function or(y,d){return new Kn(y,d)}(y.getProvider("app").getImmediate(),y.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,d,p)=>{y.getProvider(Ht).initialize()})),(0,Se.Xd)(new Ue.wA(Ht,y=>function Zn(y){return{getToken:d=>hn(y,d),getLimitedUseToken:()=>kt(y),addTokenListener:d=>function zr(y,d,p,I){const{app:U}=y,q=nt(U);if(q.tokenObservers=[...q.tokenObservers,{next:p,error:I,type:d}],q.token&&$n(q.token)){const Re=q.token;Promise.resolve().then(()=>{p({token:Re.token}),Ai(y)}).catch(()=>{})}q.cachedTokenPromise.then(()=>Ai(y))}(y,"INTERNAL",d),removeTokenListener:d=>kr(y.app,d)}}(y.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Se.KN)("@firebase/app-check","0.8.0")}();class dr{constructor(){return(0,w.vb)("app-check")}}typeof window<"u"&&window;var Ns=Y(655);const Ji=function Qi(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Xi=new he.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mr=new $e.Yd("@firebase/auth");function ur(y,...d){mr.logLevel<=$e.in.ERROR&&mr.error(`Auth (${Se.Jn}): ${y}`,...d)}function br(y,...d){throw ao(y,...d)}function Wr(y,...d){return ao(y,...d)}function ao(y,...d){if("string"!=typeof y){const p=d[0],I=[...d.slice(1)];return I[0]&&(I[0].appName=y.name),y._errorFactory.create(p,...I)}return Xi.create(y,...d)}function vt(y,d,...p){if(!y)throw ao(d,...p)}function pi(y){const d="INTERNAL ASSERTION FAILED: "+y;throw ur(d),new Error(d)}function Pi(y,d){y||pi(d)}function Ri(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Ko(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Hn{constructor(d,p){this.shortDelay=d,this.longDelay=p,Pi(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,he.uI)()||(0,he.b$)()}get(){return function Ni(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function nr(){return"http:"===Ko()||"https:"===Ko()}()||(0,he.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ji(y,d){Pi(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class Is{static initialize(d,p,I){this.fetchImpl=d,p&&(this.headersImpl=p),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ws=new Hn(3e4,6e4);function lr(y,d){return y.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:y.tenantId}):d}function pr(y,d,p,I){return us.apply(this,arguments)}function us(){return(us=(0,ee.Z)(function*(y,d,p,I,U={}){return Os(y,U,(0,ee.Z)(function*(){let q={},_e={};I&&("GET"===d?_e=I:q={body:JSON.stringify(I)});const Re=(0,he.xO)(Object.assign({key:y.config.apiKey},_e)).slice(1),lt=yield y._getAdditionalHeaders();return lt["Content-Type"]="application/json",y.languageCode&&(lt["X-Firebase-Locale"]=y.languageCode),Is.fetch()(uo(y,y.config.apiHost,p,Re),Object.assign({method:d,headers:lt,referrerPolicy:"no-referrer"},q))}))})).apply(this,arguments)}function Os(y,d,p){return Io.apply(this,arguments)}function Io(){return(Io=(0,ee.Z)(function*(y,d,p){y._canInitEmulator=!1;const I=Object.assign(Object.assign({},Sr),d);try{const U=new Vo(y),q=yield Promise.race([p(),U.promise]);U.clearNetworkTimeout();const _e=yield q.json();if("needConfirmation"in _e)throw Ds(y,"account-exists-with-different-credential",_e);if(q.ok&&!("errorMessage"in _e))return _e;{const Re=q.ok?_e.errorMessage:_e.error.message,[lt,Ut]=Re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===lt)throw Ds(y,"credential-already-in-use",_e);if("EMAIL_EXISTS"===lt)throw Ds(y,"email-already-in-use",_e);if("USER_DISABLED"===lt)throw Ds(y,"user-disabled",_e);const gn=I[lt]||lt.toLowerCase().replace(/[_\s]+/g,"-");if(Ut)throw function Xn(y,d,p){const I=Object.assign(Object.assign({},Ji()),{[d]:p});return new he.LL("auth","Firebase",I).create(d,{appName:y.name})}(y,gn,Ut);br(y,gn)}}catch(U){if(U instanceof he.ZR)throw U;br(y,"network-request-failed",{message:String(U)})}})).apply(this,arguments)}function Qr(y,d,p,I){return ps.apply(this,arguments)}function ps(){return(ps=(0,ee.Z)(function*(y,d,p,I,U={}){const q=yield pr(y,d,p,I,U);return"mfaPendingCredential"in q&&br(y,"multi-factor-auth-required",{_serverResponse:q}),q})).apply(this,arguments)}function uo(y,d,p,I){const U=`${d}${p}?${I}`;return y.config.emulator?ji(y.config,U):`${y.config.apiScheme}://${U}`}class Vo{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,I)=>{this.timer=setTimeout(()=>I(Wr(this.auth,"network-request-failed")),Ws.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ds(y,d,p){const I={appName:y.name};p.email&&(I.email=p.email),p.phoneNumber&&(I.phoneNumber=p.phoneNumber);const U=Wr(y,d,I);return U.customData._tokenResponse=p,U}function Hi(){return(Hi=(0,ee.Z)(function*(y,d){return pr(y,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Co(){return(Co=(0,ee.Z)(function*(y,d){return pr(y,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Qo(y){if(y)try{const d=new Date(Number(y));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function ha(){return(ha=(0,ee.Z)(function*(y,d=!1){const p=(0,he.m9)(y),I=yield p.getIdToken(d),U=lo(I);vt(U&&U.exp&&U.auth_time&&U.iat,p.auth,"internal-error");const q="object"==typeof U.firebase?U.firebase:void 0,_e=q?.sign_in_provider;return{claims:U,token:I,authTime:Qo(Oi(U.auth_time)),issuedAtTime:Qo(Oi(U.iat)),expirationTime:Qo(Oi(U.exp)),signInProvider:_e||null,signInSecondFactor:q?.sign_in_second_factor||null}})).apply(this,arguments)}function Oi(y){return 1e3*Number(y)}function lo(y){const[d,p,I]=y.split(".");if(void 0===d||void 0===p||void 0===I)return ur("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,he.tV)(p);return U?JSON.parse(U):(ur("Failed to decode base64 JWT payload"),null)}catch(U){return ur("Caught error parsing JWT payload as JSON",U?.toString()),null}}function Fs(y,d){return co.apply(this,arguments)}function co(){return(co=(0,ee.Z)(function*(y,d,p=!1){if(p)return d;try{return yield d}catch(I){throw I instanceof he.ZR&&function To({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(I)&&y.auth.currentUser===y&&(yield y.auth.signOut()),I}})).apply(this,arguments)}class ki{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const U=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const I=this.getInterval(d);this.timerId=setTimeout((0,ee.Z)(function*(){yield p.iteration()}),I)}iteration(){var d=this;return(0,ee.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&d.schedule(!0))}d.schedule()})()}}class Ls{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qo(this.lastLoginAt),this.creationTime=Qo(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ts(y){return gs.apply(this,arguments)}function gs(){return gs=(0,ee.Z)(function*(y){var d;const p=y.auth,I=yield y.getIdToken(),U=yield Fs(y,function Yo(y,d){return Co.apply(this,arguments)}(p,{idToken:I}));vt(U?.users.length,p,"internal-error");const q=U.users[0];y._notifyReloadListener(q);const _e=null!==(d=q.providerUserInfo)&&void 0!==d&&d.length?function Ar(y){return y.map(d=>{var{providerId:p}=d,I=(0,Ns._T)(d,["providerId"]);return{providerId:p,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(q.providerUserInfo):[],Re=function Uo(y,d){return[...y.filter(I=>!d.some(U=>U.providerId===I.providerId)),...d]}(y.providerData,_e),gn=!!y.isAnonymous&&!(y.email&&q.passwordHash||Re?.length),On={uid:q.localId,displayName:q.displayName||null,photoURL:q.photoUrl||null,email:q.email||null,emailVerified:q.emailVerified||!1,phoneNumber:q.phoneNumber||null,tenantId:q.tenantId||null,providerData:Re,metadata:new Ls(q.createdAt,q.lastLoginAt),isAnonymous:gn};Object.assign(y,On)}),gs.apply(this,arguments)}function Vr(){return(Vr=(0,ee.Z)(function*(y){const d=(0,he.m9)(y);yield Ts(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Sa(){return(Sa=(0,ee.Z)(function*(y,d){const p=yield Os(y,{},(0,ee.Z)(function*(){const I=(0,he.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:U,apiKey:q}=y.config,_e=uo(y,U,"/v1/token",`key=${q}`),Re=yield y._getAdditionalHeaders();return Re["Content-Type"]="application/x-www-form-urlencoded",Is.fetch()(_e,{method:"POST",headers:Re,body:I})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Gi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){vt(d.idToken,"internal-error"),vt(typeof d.idToken<"u","internal-error"),vt(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Cs(y){const d=lo(y);return vt(d,"internal-error"),vt(typeof d.exp<"u","internal-error"),vt(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var I=this;return(0,ee.Z)(function*(){return vt(!I.accessToken||I.refreshToken,d,"user-token-expired"),p||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(d,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var I=this;return(0,ee.Z)(function*(){const{accessToken:U,refreshToken:q,expiresIn:_e}=yield function gi(y,d){return Sa.apply(this,arguments)}(d,p);I.updateTokensAndExpiration(U,q,Number(_e))})()}updateTokensAndExpiration(d,p,I){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(d,p){const{refreshToken:I,accessToken:U,expirationTime:q}=p,_e=new Gi;return I&&(vt("string"==typeof I,"internal-error",{appName:d}),_e.refreshToken=I),U&&(vt("string"==typeof U,"internal-error",{appName:d}),_e.accessToken=U),q&&(vt("number"==typeof q,"internal-error",{appName:d}),_e.expirationTime=q),_e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Gi,this.toJSON())}_performRefresh(){return pi("not implemented")}}function rr(y,d){vt("string"==typeof y||typeof y>"u","internal-error",{appName:d})}class ms{constructor(d){var{uid:p,auth:I,stsTokenManager:U}=d,q=(0,Ns._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ki(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=I,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=q.displayName||null,this.email=q.email||null,this.emailVerified=q.emailVerified||!1,this.phoneNumber=q.phoneNumber||null,this.photoURL=q.photoURL||null,this.isAnonymous=q.isAnonymous||!1,this.tenantId=q.tenantId||null,this.providerData=q.providerData?[...q.providerData]:[],this.metadata=new Ls(q.createdAt||void 0,q.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,ee.Z)(function*(){const I=yield Fs(p,p.stsTokenManager.getToken(p.auth,d));return vt(I,p.auth,"internal-error"),p.accessToken!==I&&(p.accessToken=I,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),I})()}getIdTokenResult(d){return function ba(y){return ha.apply(this,arguments)}(this,d)}reload(){return function bo(y){return Vr.apply(this,arguments)}(this)}_assign(d){this!==d&&(vt(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new ms(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var I=this;return(0,ee.Z)(function*(){let U=!1;d.idToken&&d.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(d),U=!0),p&&(yield Ts(I)),yield I.auth._persistUserIfCurrent(I),U&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var d=this;return(0,ee.Z)(function*(){const p=yield d.getIdToken();return yield Fs(d,function ks(y,d){return Hi.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var I,U,q,_e,Re,lt,Ut,gn;const On=null!==(I=p.displayName)&&void 0!==I?I:void 0,Bs=null!==(U=p.email)&&void 0!==U?U:void 0,In=null!==(q=p.phoneNumber)&&void 0!==q?q:void 0,Bl=null!==(_e=p.photoURL)&&void 0!==_e?_e:void 0,md=null!==(Re=p.tenantId)&&void 0!==Re?Re:void 0,yd=null!==(lt=p._redirectEventId)&&void 0!==lt?lt:void 0,Mh=null!==(Ut=p.createdAt)&&void 0!==Ut?Ut:void 0,Vf=null!==(gn=p.lastLoginAt)&&void 0!==gn?gn:void 0,{uid:_d,emailVerified:vd,isAnonymous:$s,providerData:xh,stsTokenManager:Uf}=p;vt(_d&&Uf,d,"internal-error");const Cm=Gi.fromJSON(this.name,Uf);vt("string"==typeof _d,d,"internal-error"),rr(On,d.name),rr(Bs,d.name),vt("boolean"==typeof vd,d,"internal-error"),vt("boolean"==typeof $s,d,"internal-error"),rr(In,d.name),rr(Bl,d.name),rr(md,d.name),rr(yd,d.name),rr(Mh,d.name),rr(Vf,d.name);const Ed=new ms({uid:_d,auth:d,email:Bs,emailVerified:vd,displayName:On,isAnonymous:$s,photoURL:Bl,phoneNumber:In,tenantId:md,stsTokenManager:Cm,createdAt:Mh,lastLoginAt:Vf});return xh&&Array.isArray(xh)&&(Ed.providerData=xh.map(wd=>Object.assign({},wd))),yd&&(Ed._redirectEventId=yd),Ed}static _fromIdTokenResponse(d,p,I=!1){return(0,ee.Z)(function*(){const U=new Gi;U.updateFromServerResponse(p);const q=new ms({uid:p.localId,auth:d,stsTokenManager:U,isAnonymous:I});return yield Ts(q),q})()}}const So=new Map;function vi(y){Pi(y instanceof Function,"Expected a class definition");let d=So.get(y);return d?(Pi(d instanceof y,"Instance stored in cache mismatched with class"),d):(d=new y,So.set(y,d),d)}const Li=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ee.Z)(function*(){return!0})()}_set(p,I){var U=this;return(0,ee.Z)(function*(){U.storage[p]=I})()}_get(p){var I=this;return(0,ee.Z)(function*(){const U=I.storage[p];return void 0===U?null:U})()}_remove(p){var I=this;return(0,ee.Z)(function*(){delete I.storage[p]})()}_addListener(p,I){}_removeListener(p,I){}}return y.type="NONE",y})();function ci(y,d,p){return`firebase:${y}:${d}:${p}`}class Vs{constructor(d,p,I){this.persistence=d,this.auth=p,this.userKey=I;const{config:U,name:q}=this.auth;this.fullUserKey=ci(this.userKey,U.apiKey,q),this.fullPersistenceKey=ci("persistence",U.apiKey,q),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,ee.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?ms._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,ee.Z)(function*(){if(p.persistence===d)return;const I=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,I?p.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,I="authUser"){return(0,ee.Z)(function*(){if(!p.length)return new Vs(vi(Li),d,I);const U=(yield Promise.all(p.map(function(){var Ut=(0,ee.Z)(function*(gn){if(yield gn._isAvailable())return gn});return function(gn){return Ut.apply(this,arguments)}}()))).filter(Ut=>Ut);let q=U[0]||vi(Li);const _e=ci(I,d.config.apiKey,d.name);let Re=null;for(const Ut of p)try{const gn=yield Ut._get(_e);if(gn){const On=ms._fromJSON(d,gn);Ut!==q&&(Re=On),q=Ut;break}}catch{}const lt=U.filter(Ut=>Ut._shouldAllowMigration);return q._shouldAllowMigration&&lt.length?(q=lt[0],Re&&(yield q._set(_e,Re.toJSON())),yield Promise.all(p.map(function(){var Ut=(0,ee.Z)(function*(gn){if(gn!==q)try{yield gn._remove(_e)}catch{}});return function(gn){return Ut.apply(this,arguments)}}())),new Vs(q,d,I)):new Vs(q,d,I)})()}}function ho(y){const d=y.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Xo(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Ao(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(fo(d))return"Blackberry";if(Mo(d))return"Webos";if(qs(d))return"Safari";if((d.includes("chrome/")||an(d))&&!d.includes("edge/"))return"Chrome";if(ea(d))return"Android";{const I=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function Ao(y=(0,he.z$)()){return/firefox\//i.test(y)}function qs(y=(0,he.z$)()){const d=y.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function an(y=(0,he.z$)()){return/crios\//i.test(y)}function Xo(y=(0,he.z$)()){return/iemobile/i.test(y)}function ea(y=(0,he.z$)()){return/android/i.test(y)}function fo(y=(0,he.z$)()){return/blackberry/i.test(y)}function Mo(y=(0,he.z$)()){return/webos/i.test(y)}function F(y=(0,he.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function le(y=(0,he.z$)()){return F(y)||ea(y)||Mo(y)||fo(y)||/windows phone/i.test(y)||Xo(y)}function cr(y,d=[]){let p;switch(y){case"Browser":p=ho((0,he.z$)());break;case"Worker":p=`${ho((0,he.z$)())}-${y}`;break;default:p=y}const I=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${Se.Jn}/${I}`}function Ks(y,d){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,ee.Z)(function*(y,d){return pr(y,"GET","/v2/recaptchaConfig",lr(y,d))})).apply(this,arguments)}function ts(y){return void 0!==y&&void 0!==y.enterprise}class po{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function xo(y){return new Promise((d,p)=>{const I=document.createElement("script");I.setAttribute("src",y),I.onload=d,I.onerror=U=>{const q=Wr("internal-error");q.customData=U,p(q)},I.type="text/javascript",I.charset="UTF-8",function go(){var y,d;return null!==(d=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==d?d:document}().appendChild(I)})}function fa(y){return`__${y}${Math.floor(1e6*Math.random())}`}const ta="NO_RECAPTCHA";class Po{constructor(d){this.type="recaptcha-enterprise",this.auth=Tn(d)}verify(d="verify",p=!1){var I=this;return(0,ee.Z)(function*(){function q(){return q=(0,ee.Z)(function*(Re){if(!p){if(null==Re.tenantId&&null!=Re._agentRecaptchaConfig)return Re._agentRecaptchaConfig.siteKey;if(null!=Re.tenantId&&void 0!==Re._tenantRecaptchaConfigs[Re.tenantId])return Re._tenantRecaptchaConfigs[Re.tenantId].siteKey}return new Promise(function(){var lt=(0,ee.Z)(function*(Ut,gn){Ks(Re,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(On=>{if(void 0!==On.recaptchaKey){const Bs=new po(On);return null==Re.tenantId?Re._agentRecaptchaConfig=Bs:Re._tenantRecaptchaConfigs[Re.tenantId]=Bs,Ut(Bs.siteKey)}gn(new Error("recaptcha Enterprise site key undefined"))}).catch(On=>{gn(On)})});return function(Ut,gn){return lt.apply(this,arguments)}}())}),q.apply(this,arguments)}function _e(Re,lt,Ut){const gn=window.grecaptcha;ts(gn)?gn.enterprise.ready(()=>{gn.enterprise.execute(Re,{action:d}).then(On=>{lt(On)}).catch(()=>{lt(ta)})}):Ut(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Re,lt)=>{(function U(Re){return q.apply(this,arguments)})(I.auth).then(Ut=>{if(!p&&ts(window.grecaptcha))_e(Ut,Re,lt);else{if(typeof window>"u")return void lt(new Error("RecaptchaVerifier is only supported in browser"));xo("https://www.google.com/recaptcha/enterprise.js?render="+Ut).then(()=>{_e(Ut,Re,lt)}).catch(gn=>{lt(gn)})}}).catch(Ut=>{lt(Ut)})})})()}}function oi(y,d,p){return wi.apply(this,arguments)}function wi(){return(wi=(0,ee.Z)(function*(y,d,p,I=!1){const U=new Po(y);let q;try{q=yield U.verify(p)}catch{q=yield U.verify(p,!0)}const _e=Object.assign({},d);return Object.assign(_e,I?{captchaResp:q}:{captchaResponse:q}),Object.assign(_e,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(_e,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),_e})).apply(this,arguments)}class bs{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const I=q=>new Promise((_e,Re)=>{try{_e(d(q))}catch(lt){Re(lt)}});I.onAbort=p,this.queue.push(I);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,ee.Z)(function*(){if(p.auth.currentUser===d)return;const I=[];try{for(const U of p.queue)yield U(d),U.onAbort&&I.push(U.onAbort)}catch(U){I.reverse();for(const q of I)try{q()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:U?.message})}})()}}class _a{constructor(d,p,I,U){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=I,this.config=U,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bo(this),this.idTokenSubscription=new Bo(this),this.beforeStateQueue=new bs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xi,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=U.sdkClientVersion}_initializeWithPersistence(d,p){var I=this;return p&&(this._popupRedirectResolver=vi(p)),this._initializationPromise=this.queue((0,ee.Z)(function*(){var U,q;if(!I._deleted&&(I.persistenceManager=yield Vs.create(I,d),!I._deleted)){if(null!==(U=I._popupRedirectResolver)&&void 0!==U&&U._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(p),I.lastNotifiedUid=(null===(q=I.currentUser)||void 0===q?void 0:q.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,ee.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUser(d){var p=this;return(0,ee.Z)(function*(){var I;const U=yield p.assertedPersistence.getCurrentUser();let q=U,_e=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Re=null===(I=p.redirectUser)||void 0===I?void 0:I._redirectEventId,lt=q?._redirectEventId,Ut=yield p.tryRedirectSignIn(d);(!Re||Re===lt)&&Ut?.user&&(q=Ut.user,_e=!0)}if(!q)return p.directlySetCurrentUser(null);if(!q._redirectEventId){if(_e)try{yield p.beforeStateQueue.runMiddleware(q)}catch(Re){q=U,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Re))}return q?p.reloadAndSetCurrentUserOrClear(q):p.directlySetCurrentUser(null)}return vt(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===q._redirectEventId?p.directlySetCurrentUser(q):p.reloadAndSetCurrentUserOrClear(q)})()}tryRedirectSignIn(d){var p=this;return(0,ee.Z)(function*(){let I=null;try{I=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,ee.Z)(function*(){try{yield Ts(d)}catch(I){if("auth/network-request-failed"!==I?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function es(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var d=this;return(0,ee.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,ee.Z)(function*(){const I=d?(0,he.m9)(d):null;return I&&vt(I.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(I&&I._clone(p))})()}_updateCurrentUser(d,p=!1){var I=this;return(0,ee.Z)(function*(){if(!I._deleted)return d&&vt(I.tenantId===d.tenantId,I,"tenant-id-mismatch"),p||(yield I.beforeStateQueue.runMiddleware(d)),I.queue((0,ee.Z)(function*(){yield I.directlySetCurrentUser(d),I.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,ee.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var p=this;return this.queue((0,ee.Z)(function*(){yield p.assertedPersistence.setPersistence(vi(d))}))}initializeRecaptchaConfig(){var d=this;return(0,ee.Z)(function*(){const p=yield Ks(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new po(p);null==d.tenantId?d._agentRecaptchaConfig=I:d._tenantRecaptchaConfigs[d.tenantId]=I,I.emailPasswordEnabled&&new Po(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new he.LL("auth","Firebase",d())}onAuthStateChanged(d,p,I){return this.registerStateListener(this.authStateSubscription,d,p,I)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,I){return this.registerStateListener(this.idTokenSubscription,d,p,I)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var I=this;return(0,ee.Z)(function*(){const U=yield I.getOrInitRedirectPersistenceManager(p);return null===d?U.removeCurrentUser():U.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,ee.Z)(function*(){if(!p.redirectPersistenceManager){const I=d&&vi(d)||p._popupRedirectResolver;vt(I,p,"argument-error"),p.redirectPersistenceManager=yield Vs.create(p,[vi(I._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,ee.Z)(function*(){var I,U;return p._isInitialized&&(yield p.queue((0,ee.Z)(function*(){}))),(null===(I=p._currentUser)||void 0===I?void 0:I._redirectEventId)===d?p._currentUser:(null===(U=p.redirectUser)||void 0===U?void 0:U._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,ee.Z)(function*(){if(d===p.currentUser)return p.queue((0,ee.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,I,U){if(this._deleted)return()=>{};const q="function"==typeof p?p:p.next.bind(p),_e=this._isInitialized?Promise.resolve():this._initializationPromise;return vt(_e,this,"internal-error"),_e.then(()=>q(this.currentUser)),"function"==typeof p?d.addObserver(p,I,U):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,ee.Z)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=cr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,ee.Z)(function*(){var p;const I={"X-Client-Version":d.clientVersion};d.app.options.appId&&(I["X-Firebase-gmpid"]=d.app.options.appId);const U=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();U&&(I["X-Firebase-Client"]=U);const q=yield d._getAppCheckToken();return q&&(I["X-Firebase-AppCheck"]=q),I})()}_getAppCheckToken(){var d=this;return(0,ee.Z)(function*(){var p;const I=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return I?.error&&function oo(y,...d){mr.logLevel<=$e.in.WARN&&mr.warn(`Auth (${Se.Jn}): ${y}`,...d)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function Tn(y){return(0,he.m9)(y)}class Bo{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,he.ne)(p=>this.observer=p)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ro(y){const d=y.indexOf(":");return d<0?"":y.substr(0,d+1)}function ga(y){if(!y)return null;const d=Number(y);return isNaN(d)?null:d}class ns{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return pi("not implemented")}_getIdTokenResponse(d){return pi("not implemented")}_linkToIdToken(d,p){return pi("not implemented")}_getReauthenticationResolver(d){return pi("not implemented")}}function ls(y,d){return $o.apply(this,arguments)}function $o(){return($o=(0,ee.Z)(function*(y,d){return pr(y,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Ss(y,d){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,ee.Z)(function*(y,d){return Qr(y,"POST","/v1/accounts:signInWithPassword",lr(y,d))})).apply(this,arguments)}function tt(){return(tt=(0,ee.Z)(function*(y,d){return Qr(y,"POST","/v1/accounts:signInWithEmailLink",lr(y,d))})).apply(this,arguments)}function Nn(){return(Nn=(0,ee.Z)(function*(y,d){return Qr(y,"POST","/v1/accounts:signInWithEmailLink",lr(y,d))})).apply(this,arguments)}class An extends ns{constructor(d,p,I,U=null){super("password",I),this._email=d,this._password=p,this._tenantId=U}static _fromEmailAndPassword(d,p){return new An(d,p,"password")}static _fromEmailAndCode(d,p,I=null){return new An(d,p,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,ee.Z)(function*(){var I;switch(p.signInMethod){case"password":const U={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=d._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const q=yield oi(d,U,"signInWithPassword");return Ss(d,q)}return Ss(d,U).catch(function(){var q=(0,ee.Z)(function*(_e){if("auth/missing-recaptcha-token"===_e.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Re=yield oi(d,U,"signInWithPassword");return Ss(d,Re)}return Promise.reject(_e)});return function(_e){return q.apply(this,arguments)}}());case"emailLink":return function He(y,d){return tt.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:br(d,"internal-error")}})()}_linkToIdToken(d,p){var I=this;return(0,ee.Z)(function*(){switch(I.signInMethod){case"password":return ls(d,{idToken:p,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function It(y,d){return Nn.apply(this,arguments)}(d,{idToken:p,email:I._email,oobCode:I._password});default:br(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Gn(y,d){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,ee.Z)(function*(y,d){return Qr(y,"POST","/v1/accounts:signInWithIdp",lr(y,d))})).apply(this,arguments)}class va{constructor(d){var p,I,U,q,_e,Re;const lt=(0,he.zd)((0,he.pd)(d)),Ut=null!==(p=lt.apiKey)&&void 0!==p?p:null,gn=null!==(I=lt.oobCode)&&void 0!==I?I:null,On=function $a(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=lt.mode)&&void 0!==U?U:null);vt(Ut&&gn&&On,"argument-error"),this.apiKey=Ut,this.operation=On,this.code=gn,this.continueUrl=null!==(q=lt.continueUrl)&&void 0!==q?q:null,this.languageCode=null!==(_e=lt.languageCode)&&void 0!==_e?_e:null,this.tenantId=null!==(Re=lt.tenantId)&&void 0!==Re?Re:null}static parseLink(d){const p=function Aa(y){const d=(0,he.zd)((0,he.pd)(y)).link,p=d?(0,he.zd)((0,he.pd)(d)).deep_link_id:null,I=(0,he.zd)((0,he.pd)(y)).deep_link_id;return(I?(0,he.zd)((0,he.pd)(I)).link:null)||I||p||d||y}(d);try{return new va(p)}catch{return null}}}let au=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,I){return An._fromEmailAndPassword(p,I)}static credentialWithLink(p,I){const U=va.parseLink(I);return vt(U,"argument-error"),An._fromEmailAndCode(p,U.code,U.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ho{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Cu extends Ho{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}function be(y,d){return St.apply(this,arguments)}function St(){return(St=(0,ee.Z)(function*(y,d){return Qr(y,"POST","/v1/accounts:signUp",lr(y,d))})).apply(this,arguments)}class it{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,I,U=!1){return(0,ee.Z)(function*(){const q=yield ms._fromIdTokenResponse(d,I,U),_e=ot(I);return new it({user:q,providerId:_e,_tokenResponse:I,operationType:p})})()}static _forOperation(d,p,I){return(0,ee.Z)(function*(){yield d._updateTokensIfNecessary(I,!0);const U=ot(I);return new it({user:d,providerId:U,_tokenResponse:I,operationType:p})})()}}function ot(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}class tn extends he.ZR{constructor(d,p,I,U){var q;super(p.code,p.message),this.operationType=I,this.user=U,Object.setPrototypeOf(this,tn.prototype),this.customData={appName:d.name,tenantId:null!==(q=d.tenantId)&&void 0!==q?q:void 0,_serverResponse:p.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(d,p,I,U){return new tn(d,p,I,U)}}function yr(y,d,p,I){return("reauthenticate"===d?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(q=>{throw"auth/multi-factor-auth-required"===q.code?tn._fromErrorAndOperation(y,q,d,I):q})}function Di(y,d){return Go.apply(this,arguments)}function Go(){return(Go=(0,ee.Z)(function*(y,d,p=!1){const I=yield Fs(y,d._linkToIdToken(y.auth,yield y.getIdToken()),p);return it._forOperation(y,"link",I)})).apply(this,arguments)}function li(y,d){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,ee.Z)(function*(y,d,p=!1){const{auth:I}=y,U="reauthenticate";try{const q=yield Fs(y,yr(I,U,d,y),p);vt(q.idToken,I,"internal-error");const _e=lo(q.idToken);vt(_e,I,"internal-error");const{sub:Re}=_e;return vt(y.uid===Re,I,"user-mismatch"),it._forOperation(y,U,q)}catch(q){throw"auth/user-not-found"===q?.code&&br(I,"user-mismatch"),q}})).apply(this,arguments)}function $r(y,d){return No.apply(this,arguments)}function No(){return(No=(0,ee.Z)(function*(y,d,p=!1){const I="signIn",U=yield yr(y,I,d),q=yield it._fromIdTokenResponse(y,I,U);return p||(yield y._updateCurrentUser(q.user)),q})).apply(this,arguments)}function Me(y,d){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,ee.Z)(function*(y,d){return $r(Tn(y),d)})).apply(this,arguments)}function uu(y,d,p){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,ee.Z)(function*(y,d,p){var I;const U=Tn(y),q={returnSecureToken:!0,email:d,password:p,clientType:"CLIENT_TYPE_WEB"};let _e;if(null!==(I=U._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Ut=yield oi(U,q,"signUpPassword");_e=be(U,Ut)}else _e=be(U,q).catch(function(){var Ut=(0,ee.Z)(function*(gn){if("auth/missing-recaptcha-token"===gn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const On=yield oi(U,q,"signUpPassword");return be(U,On)}return Promise.reject(gn)});return function(gn){return Ut.apply(this,arguments)}}());const Re=yield _e.catch(Ut=>Promise.reject(Ut)),lt=yield it._fromIdTokenResponse(U,"signIn",Re);return yield U._updateCurrentUser(lt.user),lt}),Ma.apply(this,arguments)}function Xl(y,d,p){return Me((0,he.m9)(y),au.credential(d,p))}function ss(y,d,p,I){return(0,he.m9)(y).onAuthStateChanged(d,p,I)}const Xa="__sak";class Gc{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Xa,"1"),this.storage.removeItem(Xa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const du=(()=>{class y extends Gc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,I)=>this.onStorageEvent(p,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ic(){const y=(0,he.z$)();return qs(y)||F(y)}()&&function ft(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=le(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const I of Object.keys(this.listeners)){const U=this.storage.getItem(I),q=this.localCache[I];U!==q&&p(I,q,U)}}onStorageEvent(p,I=!1){if(!p.key)return void this.forAllChangedKeys((Re,lt,Ut)=>{this.notifyListeners(Re,Ut)});const U=p.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Re=this.storage.getItem(U);if(p.newValue!==Re)null!==p.newValue?this.storage.setItem(U,p.newValue):this.storage.removeItem(U);else if(this.localCache[U]===p.newValue&&!I)return}const q=()=>{const Re=this.storage.getItem(U);!I&&this.localCache[U]===Re||this.notifyListeners(U,Re)},_e=this.storage.getItem(U);!function Z(){return(0,he.w1)()&&10===document.documentMode}()||_e===p.newValue||p.newValue===p.oldValue?q():setTimeout(q,10)}notifyListeners(p,I){this.localCache[p]=I;const U=this.listeners[p];if(U)for(const q of Array.from(U))q(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,I,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:I,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,I){var U=()=>super._set,q=this;return(0,ee.Z)(function*(){yield U().call(q,p,I),q.localCache[p]=JSON.stringify(I)})()}_get(p){var I=()=>super._get,U=this;return(0,ee.Z)(function*(){const q=yield I().call(U,p);return U.localCache[p]=JSON.stringify(q),q})()}_remove(p){var I=()=>super._remove,U=this;return(0,ee.Z)(function*(){yield I().call(U,p),delete U.localCache[p]})()}}return y.type="LOCAL",y})(),oc=(()=>{class y extends Gc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,I){}_removeListener(p,I){}}return y.type="SESSION",y})();let ac=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const I=this.receivers.find(q=>q.isListeningto(p));if(I)return I;const U=new y(p);return this.receivers.push(U),U}isListeningto(p){return this.eventTarget===p}handleEvent(p){var I=this;return(0,ee.Z)(function*(){const U=p,{eventId:q,eventType:_e,data:Re}=U.data,lt=I.handlersMap[_e];if(!lt?.size)return;U.ports[0].postMessage({status:"ack",eventId:q,eventType:_e});const Ut=Array.from(lt).map(function(){var On=(0,ee.Z)(function*(Bs){return Bs(U.origin,Re)});return function(Bs){return On.apply(this,arguments)}}()),gn=yield function tu(y){return Promise.all(y.map(function(){var d=(0,ee.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(I){return{fulfilled:!1,reason:I}}});return function(p){return d.apply(this,arguments)}}()))}(Ut);U.ports[0].postMessage({status:"done",eventId:q,eventType:_e,response:gn})})()}_subscribe(p,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(I)}_unsubscribe(p,I){this.handlersMap[p]&&I&&this.handlersMap[p].delete(I),(!I||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function xs(y="",d=10){let p="";for(let I=0;I<d;I++)p+=Math.floor(10*Math.random());return y+p}class Eo{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,I=50){var U=this;return(0,ee.Z)(function*(){const q=typeof MessageChannel<"u"?new MessageChannel:null;if(!q)throw new Error("connection_unavailable");let _e,Re;return new Promise((lt,Ut)=>{const gn=xs("",20);q.port1.start();const On=setTimeout(()=>{Ut(new Error("unsupported_event"))},I);Re={messageChannel:q,onMessage(Bs){const In=Bs;if(In.data.eventId===gn)switch(In.data.status){case"ack":clearTimeout(On),_e=setTimeout(()=>{Ut(new Error("timeout"))},3e3);break;case"done":clearTimeout(_e),lt(In.data.response);break;default:clearTimeout(On),clearTimeout(_e),Ut(new Error("invalid_response"))}}},U.handlers.add(Re),q.port1.addEventListener("message",Re.onMessage),U.target.postMessage({eventType:d,eventId:gn,data:p},[q.port2])}).finally(()=>{Re&&U.removeMessageHandler(Re)})})()}}function ws(){return window}function Ca(){return typeof ws().WorkerGlobalScope<"u"&&"function"==typeof ws().importScripts}function yl(){return(yl=(0,ee.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const G="firebaseLocalStorageDb",ne=1,pe="firebaseLocalStorage",Ce="fbase_key";class We{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Nt(y,d){return y.transaction([pe],d?"readwrite":"readonly").objectStore(pe)}function Vt(){const y=indexedDB.open(G,ne);return new Promise((d,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const I=y.result;try{I.createObjectStore(pe,{keyPath:Ce})}catch(U){p(U)}}),y.addEventListener("success",(0,ee.Z)(function*(){const I=y.result;I.objectStoreNames.contains(pe)?d(I):(I.close(),yield function At(){const y=indexedDB.deleteDatabase(G);return new We(y).toPromise()}(),d(yield Vt()))}))})}function Dn(y,d,p){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,ee.Z)(function*(y,d,p){const I=Nt(y,!0).put({[Ce]:d,value:p});return new We(I).toPromise()})).apply(this,arguments)}function Ps(){return(Ps=(0,ee.Z)(function*(y,d){const p=Nt(y,!1).get(d),I=yield new We(p).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Ru(y,d){const p=Nt(y,!0).delete(d);return new We(p).toPromise()}const Ra=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,ee.Z)(function*(){return p.db||(p.db=yield Vt()),p.db})()}_withRetries(p){var I=this;return(0,ee.Z)(function*(){let U=0;for(;;)try{const q=yield I._openDb();return yield p(q)}catch(q){if(U++>3)throw q;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,ee.Z)(function*(){return Ca()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,ee.Z)(function*(){p.receiver=ac._getInstance(function x(){return Ca()?self:null}()),p.receiver._subscribe("keyChanged",function(){var I=(0,ee.Z)(function*(U,q){return{keyProcessed:(yield p._poll()).includes(q.key)}});return function(U,q){return I.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var I=(0,ee.Z)(function*(U,q){return["keyChanged"]});return function(U,q){return I.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,ee.Z)(function*(){var I,U;if(p.activeServiceWorker=yield function ml(){return yl.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Eo(p.activeServiceWorker);const q=yield p.sender._send("ping",{},800);q&&null!==(I=q[0])&&void 0!==I&&I.fulfilled&&null!==(U=q[0])&&void 0!==U&&U.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var I=this;return(0,ee.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function C(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:p},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ee.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Vt();return yield Dn(p,Xa,"1"),yield Ru(p,Xa),!0}catch{}return!1})()}_withPendingWrite(p){var I=this;return(0,ee.Z)(function*(){I.pendingWrites++;try{yield p()}finally{I.pendingWrites--}})()}_set(p,I){var U=this;return(0,ee.Z)(function*(){return U._withPendingWrite((0,ee.Z)(function*(){return yield U._withRetries(q=>Dn(q,p,I)),U.localCache[p]=I,U.notifyServiceWorker(p)}))})()}_get(p){var I=this;return(0,ee.Z)(function*(){const U=yield I._withRetries(q=>function qo(y,d){return Ps.apply(this,arguments)}(q,p));return I.localCache[p]=U,U})()}_remove(p){var I=this;return(0,ee.Z)(function*(){return I._withPendingWrite((0,ee.Z)(function*(){return yield I._withRetries(U=>Ru(U,p)),delete I.localCache[p],I.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,ee.Z)(function*(){const I=yield p._withRetries(_e=>{const Re=Nt(_e,!1).getAll();return new We(Re).toPromise()});if(!I)return[];if(0!==p.pendingWrites)return[];const U=[],q=new Set;for(const{fbase_key:_e,value:Re}of I)q.add(_e),JSON.stringify(p.localCache[_e])!==JSON.stringify(Re)&&(p.notifyListeners(_e,Re),U.push(_e));for(const _e of Object.keys(p.localCache))p.localCache[_e]&&!q.has(_e)&&(p.notifyListeners(_e,null),U.push(_e));return U})()}notifyListeners(p,I){this.localCache[p]=I;const U=this.listeners[p];if(U)for(const q of Array.from(U))q(I)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,ee.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(I)}_removeListener(p,I){this.listeners[p]&&(this.listeners[p].delete(I),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();fa("rcb"),new Hn(3e4,6e4);class Ou extends ns{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Gn(d,this._buildIdpRequest())}_linkToIdToken(d,p){return Gn(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return Gn(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function ff(y){return $r(y.auth,new Ou(y),y.bypassAuthState)}function gu(y){const{auth:d,user:p}=y;return vt(p,d,"internal-error"),li(p,new Ou(y),y.bypassAuthState)}function hc(y){return nl.apply(this,arguments)}function nl(){return(nl=(0,ee.Z)(function*(y){const{auth:d,user:p}=y;return vt(p,d,"internal-error"),Di(p,new Ou(y),y.bypassAuthState)})).apply(this,arguments)}class pf{constructor(d,p,I,U,q=!1){this.auth=d,this.resolver=I,this.user=U,this.bypassAuthState=q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,ee.Z)(function*(I,U){d.pendingPromise={resolve:I,reject:U};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(q){d.reject(q)}});return function(I,U){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,ee.Z)(function*(){const{urlResponse:I,sessionId:U,postBody:q,tenantId:_e,error:Re,type:lt}=d;if(Re)return void p.reject(Re);const Ut={auth:p.auth,requestUri:I,sessionId:U,tenantId:_e||void 0,postBody:q||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(lt)(Ut))}catch(gn){p.reject(gn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return ff;case"linkViaPopup":case"linkViaRedirect":return hc;case"reauthViaPopup":case"reauthViaRedirect":return gu;default:br(this.auth,"internal-error")}}resolve(d){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Hn(2e3,1e4);const ih="pendingRedirect",il=new Map;class wl extends pf{constructor(d,p,I=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,I),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,ee.Z)(function*(){let I=il.get(p.auth._key());if(!I){try{const q=(yield function Il(y,d){return ru.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;I=()=>Promise.resolve(q)}catch(U){I=()=>Promise.reject(U)}il.set(p.auth._key(),I)}return p.bypassAuthState||il.set(p.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,I=this;return(0,ee.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(I,d);if("unknown"!==d.type){if(d.eventId){const U=yield I.auth._redirectUserForId(d.eventId);if(U)return I.user=U,p().call(I,d);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,ee.Z)(function*(){})()}cleanUp(){}}function ru(){return(ru=(0,ee.Z)(function*(y,d){const p=function Dl(y){return ci(ih,y.config.apiKey,y.name)}(d),I=function Xc(y){return vi(y._redirectPersistence)}(y);if(!(yield I._isAvailable()))return!1;const U="true"===(yield I._get(p));return yield I._remove(p),U})).apply(this,arguments)}function sl(y,d){il.set(y._key(),d)}function Lu(y,d){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,ee.Z)(function*(y,d,p=!1){const I=Tn(y),U=function pu(y,d){return d?vi(d):(vt(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}(I,d),_e=yield new wl(I,U,p).execute();return _e&&!p&&(delete _e.user._redirectEventId,yield I._persistUserIfCurrent(_e.user),yield I._setRedirectUser(null,d)),_e})).apply(this,arguments)}class Al{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(d,I)&&(p=!0,this.sendToConsumer(d,I),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function lh(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nd(y);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var I;if(d.error&&!nd(d)){const U=(null===(I=d.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";p.onError(Wr(this.auth,U))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const I=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&I}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(td(d))}saveEventToCache(d){this.cachedEventUids.add(td(d)),this.lastProcessedEventTime=Date.now()}}function td(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(d=>d).join("-")}function nd({type:y,error:d}){return"unknown"===y&&"auth/no-auth-event"===d?.code}function ol(){return(ol=(0,ee.Z)(function*(y,d={}){return pr(y,"GET","/v1/projects",d)})).apply(this,arguments)}const Up=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eo=/^https?/;function ch(){return ch=(0,ee.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:d}=yield function iu(y){return ol.apply(this,arguments)}(y);for(const p of d)try{if(Bp(p))return}catch{}br(y,"unauthorized-domain")}),ch.apply(this,arguments)}function Bp(y){const d=Ri(),{protocol:p,hostname:I}=new URL(d);if(y.startsWith("chrome-extension://")){const _e=new URL(y);return""===_e.hostname&&""===I?"chrome-extension:"===p&&y.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&_e.hostname===I}if(!eo.test(p))return!1;if(Up.test(y))return I===y;const U=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(I)}const mf=new Hn(3e4,6e4);function Ml(){const y=ws().___jsl;if(y?.H)for(const d of Object.keys(y.H))if(y.H[d].r=y.H[d].r||[],y.H[d].L=y.H[d].L||[],y.H[d].r=[...y.H[d].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let rd=null;const vf=new Hn(5e3,15e3),mc="__/auth/iframe",Ta="emulator/auth/iframe",yu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yc(y){const d=y.config;vt(d.authDomain,y,"auth-domain-config-required");const p=d.emulator?ji(d,Ta):`https://${y.config.authDomain}/${mc}`,I={apiKey:d.apiKey,appName:y.name,v:Se.Jn},U=xl.get(y.config.apiHost);U&&(I.eid=U);const q=y._getFrameworks();return q.length&&(I.fw=q.join(",")),`${p}?${(0,he.xO)(I).slice(1)}`}function hh(){return hh=(0,ee.Z)(function*(y){const d=yield function _f(y){return rd=rd||function yf(y){return new Promise((d,p)=>{var I,U,q;function _e(){Ml(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Ml(),p(Wr(y,"network-request-failed"))},timeout:mf.get()})}if(null!==(U=null===(I=ws().gapi)||void 0===I?void 0:I.iframes)&&void 0!==U&&U.Iframe)d(gapi.iframes.getContext());else{if(null===(q=ws().gapi)||void 0===q||!q.load){const Re=fa("iframefcb");return ws()[Re]=()=>{gapi.load?_e():p(Wr(y,"network-request-failed"))},xo(`https://apis.google.com/js/api.js?onload=${Re}`).catch(lt=>p(lt))}_e()}}).catch(d=>{throw rd=null,d})}(y),rd}(y),p=ws().gapi;return vt(p,y,"internal-error"),d.open({where:document.body,url:yc(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yu,dontclear:!0},I=>new Promise(function(){var U=(0,ee.Z)(function*(q,_e){yield I.restyle({setHideOnLeave:!1});const Re=Wr(y,"network-request-failed"),lt=ws().setTimeout(()=>{_e(Re)},vf.get());function Ut(){ws().clearTimeout(lt),q(I)}I.ping(Ut).then(Ut,()=>{_e(Re)})});return function(q,_e){return U.apply(this,arguments)}}()))}),hh.apply(this,arguments)}const $p={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ym=500,id=600,sd="_blank",_m="http://localhost";class jp{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const fh="__/auth/handler",Pl="emulator/auth/handler",wf=encodeURIComponent("fac");function ph(y,d,p,I,U,q){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,ee.Z)(function*(y,d,p,I,U,q){vt(y.config.authDomain,y,"auth-domain-config-required"),vt(y.config.apiKey,y,"invalid-api-key");const _e={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:I,v:Se.Jn,eventId:U};if(d instanceof Ho){d.setDefaultLanguage(y.languageCode),_e.providerId=d.providerId||"",(0,he.xb)(d.getCustomParameters())||(_e.customParameters=JSON.stringify(d.getCustomParameters()));for(const[gn,On]of Object.entries(q||{}))_e[gn]=On}if(d instanceof Cu){const gn=d.getScopes().filter(On=>""!==On);gn.length>0&&(_e.scopes=gn.join(","))}y.tenantId&&(_e.tid=y.tenantId);const Re=_e;for(const gn of Object.keys(Re))void 0===Re[gn]&&delete Re[gn];const lt=yield y._getAppCheckToken(),Ut=lt?`#${wf}=${encodeURIComponent(lt)}`:"";return`${function gh({config:y}){return y.emulator?ji(y,Pl):`https://${y.authDomain}/${fh}`}(y)}?${(0,he.xO)(Re).slice(1)}${Ut}`})).apply(this,arguments)}const Rl="webStorageSupport",di=class _c{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oc,this._completeRedirectFn=Lu,this._overrideRedirectResult=sl}_openPopup(d,p,I,U){var q=this;return(0,ee.Z)(function*(){var _e;Pi(null===(_e=q.eventManagers[d._key()])||void 0===_e?void 0:_e.manager,"_initialize() not called before _openPopup()");const Re=yield ph(d,p,I,Ri(),U);return function Ef(y,d,p,I=ym,U=id){const q=Math.max((window.screen.availHeight-U)/2,0).toString(),_e=Math.max((window.screen.availWidth-I)/2,0).toString();let Re="";const lt=Object.assign(Object.assign({},$p),{width:I.toString(),height:U.toString(),top:q,left:_e}),Ut=(0,he.z$)().toLowerCase();p&&(Re=an(Ut)?sd:p),Ao(Ut)&&(d=d||_m,lt.scrollbars="yes");const gn=Object.entries(lt).reduce((Bs,[In,Bl])=>`${Bs}${In}=${Bl},`,"");if(function R(y=(0,he.z$)()){var d;return F(y)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Ut)&&"_self"!==Re)return function Hp(y,d){const p=document.createElement("a");p.href=y,p.target=d;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(I)}(d||"",Re),new jp(null);const On=window.open(d||"",Re,gn);vt(On,y,"popup-blocked");try{On.focus()}catch{}return new jp(On)}(d,Re,xs())})()}_openRedirect(d,p,I,U){var q=this;return(0,ee.Z)(function*(){return yield q._originValidation(d),function bi(y){ws().location.href=y}(yield ph(d,p,I,Ri(),U)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:U,promise:q}=this.eventManagers[p];return U?Promise.resolve(U):(Pi(q,"If manager is not set, promise should be"),q)}const I=this.initAndGetManager(d);return this.eventManagers[p]={promise:I},I.catch(()=>{delete this.eventManagers[p]}),I}initAndGetManager(d){var p=this;return(0,ee.Z)(function*(){const I=yield function dh(y){return hh.apply(this,arguments)}(d),U=new Al(d);return I.register("authEvent",q=>(vt(q?.authEvent,d,"invalid-auth-event"),{status:U.onEvent(q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:U},p.iframes[d._key()]=I,U})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(Rl,{type:Rl},U=>{var q;const _e=null===(q=U?.[0])||void 0===q?void 0:q[Rl];void 0!==_e&&p(!!_e),br(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function jr(y){return ch.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return le()||qs()||F()}};var Cf="@firebase/auth";class Tf{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,ee.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(I=>{d(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);p&&(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const _h=(0,he.Pz)("authIdTokenMaxAge")||300;let vh=null;const Eh=y=>function(){var d=(0,ee.Z)(function*(p){const I=p&&(yield p.getIdTokenResult()),U=I&&((new Date).getTime()-Date.parse(I.issuedAtTime))/1e3;if(U&&U>_h)return;const q=I?.token;vh!==q&&(vh=q,yield fetch(y,{method:q?"POST":"DELETE",headers:q?{Authorization:`Bearer ${q}`}:{}}))});return function(p){return d.apply(this,arguments)}}();function Em(y=(0,Se.Mq)()){const d=(0,Se.qX)(y,"auth");if(d.isInitialized())return d.getImmediate();const p=function pa(y,d){const p=(0,Se.qX)(y,"auth");if(p.isInitialized()){const U=p.getImmediate(),q=p.getOptions();if((0,he.vZ)(q,d??{}))return U;br(U,"already-initialized")}return p.initialize({options:d})}(y,{popupRedirectResolver:di,persistence:[Ra,du,oc]}),I=(0,he.Pz)("authTokenSyncURL");if(I){const q=Eh(I);(function Qa(y,d,p){(0,he.m9)(y).beforeAuthStateChanged(d,p)})(p,q,()=>q(p.currentUser)),function jc(y,d,p,I){(0,he.m9)(y).onIdTokenChanged(d,p,I)}(p,_e=>q(_e))}const U=(0,he.q4)("auth");return U&&function mo(y,d,p){const I=Tn(y);vt(I._canInitEmulator,I,"emulator-config-failed"),vt(/^https?:\/\//.test(d),I,"invalid-emulator-scheme");const U=!!p?.disableWarnings,q=Ro(d),{host:_e,port:Re}=function yo(y){const d=Ro(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(d.length));if(!p)return{host:"",port:null};const I=p[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(I);if(U){const q=U[1];return{host:q,port:ga(I.substr(q.length+1))}}{const[q,_e]=I.split(":");return{host:q,port:ga(_e)}}}(d);I.config.emulator={url:`${q}//${_e}${null===Re?"":`:${Re}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:_e,port:Re,protocol:q.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function Ka(){function y(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(p,`http://${U}`),p}!function Nl(y){(0,Se.Xd)(new Ue.wA("auth",(d,{options:p})=>{const I=d.getProvider("app").getImmediate(),U=d.getProvider("heartbeat"),q=d.getProvider("app-check-internal"),{apiKey:_e,authDomain:Re}=I.options;vt(_e&&!_e.includes(":"),"invalid-api-key",{appName:I.name});const lt={apiKey:_e,authDomain:Re,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cr(y)},Ut=new _a(I,U,q,lt);return function Ur(y,d){const p=d?.persistence||[],I=(Array.isArray(p)?p:[p]).map(vi);d?.errorMap&&y._updateErrorMap(d.errorMap),y._initializeWithPersistence(I,d?.popupRedirectResolver)}(Ut,p),Ut},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,I)=>{d.getProvider("auth-internal").initialize()})),(0,Se.Xd)(new Ue.wA("auth-internal",d=>{const p=Tn(d.getProvider("auth").getImmediate());return new Tf(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Se.KN)(Cf,"0.23.2",function vm(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,Se.KN)(Cf,"0.23.2","esm2017")}("Browser");var Gp=Y(9751);function bf(y){return new Gp.y(function(d){return{unsubscribe:ss(y,d.next.bind(d),d.error.bind(d),d.complete.bind(d))}})}class Ol{constructor(d){return d}}const wc=new re.OlP("angularfire2.auth-instances");function Vu(y){return(d,p)=>{const I=d.runOutsideAngular(()=>y(p));return new Ol(I)}}const ud={provide:class Af{constructor(){return(0,w.vb)("auth")}},deps:[[new re.FiY,wc]]},vu={provide:Ol,useFactory:function Mf(y,d){const p=(0,w.JM)("auth",y,d);return p&&new Ol(p)},deps:[[new re.FiY,wc],B.Ot]};let ou=(()=>{class y{constructor(){(0,De.KN)("angularfire",w.q4.full,"auth")}}return y.\u0275fac=function(p){return new(p||y)},y.\u0275mod=re.oAB({type:y}),y.\u0275inj=re.cJS({providers:[vu,ud]}),y})();function ll(y,...d){return{ngModule:ou,providers:[{provide:wc,useFactory:Vu(y),multi:!0,deps:[re.R0b,re.zs3,w.HU,B.z6,[new re.FiY,dr],...d]}]}}const cl=(0,w.u3)(bf,!0),dl=(0,w.u3)(uu,!0),Ch=(0,w.u3)(Em,!0),dd=(0,w.u3)(ss,!0),Ff=(0,w.u3)(Xl,!0)},3562:(rn,Ye,Y)=>{Y.d(Ye,{gg:()=>Et,Um:()=>rt,ET:()=>Cr,hJ:()=>Gr,BS:()=>Yt,JU:()=>Un,Jm:()=>ni,QT:()=>qt,IO:()=>ar,pl:()=>de,r7:()=>ge,ar:()=>ve});var w=Y(4976),re=Y(1571),B=Y(3692),De=Y(259),ee=Y(7396),Se=Y(9751),Ue=Y(4004),he={includeMetadataChanges:!1};function Mt(Ne,qe){return void 0===qe&&(qe={}),function pt(Ne){return function $e(Ne,qe){return void 0===qe&&(qe=he),new Se.y(function(xt){return{unsubscribe:(0,ee.cf)(Ne,qe,{next:xt.next.bind(xt),error:xt.error.bind(xt),complete:xt.complete.bind(xt)})}})}(Ne,{includeMetadataChanges:!0}).pipe((0,Ue.U)(function(qe){return qe.docs}))}(Ne).pipe((0,Ue.U)(function(xt){return xt.map(function(Jt){return function Pe(Ne,qe){void 0===qe&&(qe={});var xt=Ne.data();return!Ne.exists()||"object"!=typeof xt||null===xt||qe.idField&&(xt[qe.idField]=Ne.id),xt}(Jt,qe)})}))}class Et{constructor(qe){return qe}}const yn="firestore",sn=new re.OlP("angularfire2.firestore-instances"),Ae={provide:class Cn{constructor(){return(0,w.vb)(yn)}},deps:[[new re.FiY,sn]]},et={provide:Et,useFactory:function ht(Ne,qe){const xt=(0,w.JM)(yn,Ne,qe);return xt&&new Et(xt)},deps:[[new re.FiY,sn],B.Ot]};let rt=(()=>{class Ne{constructor(){(0,De.KN)("angularfire",w.q4.full,"fst")}}return Ne.\u0275fac=function(xt){return new(xt||Ne)},Ne.\u0275mod=re.oAB({type:Ne}),Ne.\u0275inj=re.cJS({providers:[et,Ae]}),Ne})();const Yt=(0,w.u3)(Mt,!0),Cr=(0,w.u3)(ee.ET,!0),Gr=(0,w.u3)(ee.hJ,!0),Un=(0,w.u3)(ee.JU,!0),ni=(0,w.u3)(ee.Jm,!0),qt=(0,w.u3)(ee.QT,!0),ar=(0,w.u3)(ee.IO,!0),de=(0,w.u3)(ee.pl,!0),ge=(0,w.u3)(ee.r7,!0),ve=(0,w.u3)(ee.ar,!0)},4976:(rn,Ye,Y)=>{Y.d(Ye,{q4:()=>ja,HU:()=>oc,vb:()=>Yd,JM:()=>Zd,u3:()=>yl});var w=Y(1571),re=Y(259),B=Y(5861),De=Y(6881),ee=Y(2090),Se=Y(4859),Ue=Y(1877);const he=(C,x)=>x.some(G=>C instanceof G);let $e,ie;const nt=new WeakMap,at=new WeakMap,yt=new WeakMap,_t=new WeakMap,mn=new WeakMap;let En={get(C,x,G){if(C instanceof IDBTransaction){if("done"===x)return at.get(C);if("objectStoreNames"===x)return C.objectStoreNames||yt.get(C);if("store"===x)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return dt(C[x])},set:(C,x,G)=>(C[x]=G,!0),has:(C,x)=>C instanceof IDBTransaction&&("done"===x||"store"===x)||x in C};function Ge(C){return"function"==typeof C?function pt(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pe(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...x){return C.apply(Mt(this),x),dt(nt.get(this))}:function(...x){return dt(C.apply(Mt(this),x))}:function(x,...G){const ne=C.call(Mt(this),x,...G);return yt.set(ne,x.sort?x.sort():[x]),dt(ne)}}(C):(C instanceof IDBTransaction&&function Wn(C){if(at.has(C))return;const x=new Promise((G,ne)=>{const pe=()=>{C.removeEventListener("complete",Ce),C.removeEventListener("error",We),C.removeEventListener("abort",We)},Ce=()=>{G(),pe()},We=()=>{ne(C.error||new DOMException("AbortError","AbortError")),pe()};C.addEventListener("complete",Ce),C.addEventListener("error",We),C.addEventListener("abort",We)});at.set(C,x)}(C),he(C,function ye(){return $e||($e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,En):C)}function dt(C){if(C instanceof IDBRequest)return function Bt(C){const x=new Promise((G,ne)=>{const pe=()=>{C.removeEventListener("success",Ce),C.removeEventListener("error",We)},Ce=()=>{G(dt(C.result)),pe()},We=()=>{ne(C.error),pe()};C.addEventListener("success",Ce),C.addEventListener("error",We)});return x.then(G=>{G instanceof IDBCursor&&nt.set(G,C)}).catch(()=>{}),mn.set(x,C),x}(C);if(_t.has(C))return _t.get(C);const x=Ge(C);return x!==C&&(_t.set(C,x),mn.set(x,C)),x}const Mt=C=>mn.get(C),Cn=["get","getKey","getAll","getAllKeys","count"],jt=["put","add","delete","clear"],sn=new Map;function ht(C,x){if(!(C instanceof IDBDatabase)||x in C||"string"!=typeof x)return;if(sn.get(x))return sn.get(x);const G=x.replace(/FromIndex$/,""),ne=x!==G,pe=jt.includes(G);if(!(G in(ne?IDBIndex:IDBObjectStore).prototype)||!pe&&!Cn.includes(G))return;const Ce=function(){var We=(0,B.Z)(function*(Nt,...At){const Vt=this.transaction(Nt,pe?"readwrite":"readonly");let Dn=Vt.store;return ne&&(Dn=Dn.index(At.shift())),(yield Promise.all([Dn[G](...At),pe&&Vt.done]))[0]});return function(At){return We.apply(this,arguments)}}();return sn.set(x,Ce),Ce}!function Fe(C){En=C(En)}(C=>({...C,get:(x,G,ne)=>ht(x,G)||C.get(x,G,ne),has:(x,G)=>!!ht(x,G)||C.has(x,G)}));const ze="@firebase/installations",Ae="0.6.4",et=1e4,rt=`w:${Ae}`,gt="FIS_v2",mt="https://firebaseinstallations.googleapis.com/v1",ln=36e5,Gt=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pt(C){return C instanceof ee.ZR&&C.code.includes("request-failed")}function Vn({projectId:C}){return`${mt}/projects/${C}/installations`}function ei(C){return{token:C.token,requestStatus:2,expiresIn:Tr(C.expiresIn),creationTime:Date.now()}}function Cr(C,x){return xn.apply(this,arguments)}function xn(){return(xn=(0,B.Z)(function*(C,x){const ne=(yield x.json()).error;return Gt.create("request-failed",{requestName:C,serverCode:ne.code,serverMessage:ne.message,serverStatus:ne.status})})).apply(this,arguments)}function yi({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Gr(C){return qi.apply(this,arguments)}function qi(){return(qi=(0,B.Z)(function*(C){const x=yield C();return x.status>=500&&x.status<600?C():x})).apply(this,arguments)}function Tr(C){return Number(C.replace("s","000"))}function ti(){return(ti=(0,B.Z)(function*({appConfig:C,heartbeatServiceProvider:x},{fid:G}){const ne=Vn(C),pe=yi(C),Ce=x.getImmediate({optional:!0});if(Ce){const Vt=yield Ce.getHeartbeatsHeader();Vt&&pe.append("x-firebase-client",Vt)}const Nt={method:"POST",headers:pe,body:JSON.stringify({fid:G,authVersion:gt,appId:C.appId,sdkVersion:rt})},At=yield Gr(()=>fetch(ne,Nt));if(At.ok){const Vt=yield At.json();return{fid:Vt.fid||G,registrationStatus:2,refreshToken:Vt.refreshToken,authToken:ei(Vt.authToken)}}throw yield Cr("Create Installation",At)})).apply(this,arguments)}function Un(C){return new Promise(x=>{setTimeout(x,C)})}const hs=/^[cdef][\w-]{21}$/,zt="";function Ki(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const G=function Si(C){return function ni(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return hs.test(G)?G:zt}catch{return zt}}function hn(C){return`${C.appName}!${C.appId}`}const qt=new Map;function kt(C,x){const G=hn(C);kr(G,x),function Ai(C,x){const G=function Mi(){return!sr&&"BroadcastChannel"in self&&(sr=new BroadcastChannel("[Firebase] FID Change"),sr.onmessage=C=>{kr(C.data.key,C.data.fid)}),sr}();G&&G.postMessage({key:C,fid:x}),function $n(){0===qt.size&&sr&&(sr.close(),sr=null)}()}(G,x)}function kr(C,x){const G=qt.get(C);if(G)for(const ne of G)ne(x)}let sr=null;const Hs="firebase-installations-database",Kn=1,or="firebase-installations-store";let Zn=null;function Fr(){return Zn||(Zn=function Et(C,x,{blocked:G,upgrade:ne,blocking:pe,terminated:Ce}={}){const We=indexedDB.open(C,x),Nt=dt(We);return ne&&We.addEventListener("upgradeneeded",At=>{ne(dt(We.result),At.oldVersion,At.newVersion,dt(We.transaction))}),G&&We.addEventListener("blocked",()=>G()),Nt.then(At=>{Ce&&At.addEventListener("close",()=>Ce()),pe&&At.addEventListener("versionchange",()=>pe())}).catch(()=>{}),Nt}(Hs,Kn,{upgrade:(C,x)=>{0===x&&C.createObjectStore(or)}})),Zn}function Xt(C,x){return _i.apply(this,arguments)}function _i(){return(_i=(0,B.Z)(function*(C,x){const G=hn(C),pe=(yield Fr()).transaction(or,"readwrite"),Ce=pe.objectStore(or),We=yield Ce.get(G);return yield Ce.put(x,G),yield pe.done,(!We||We.fid!==x.fid)&&kt(C,x.fid),x})).apply(this,arguments)}function ar(C){return hi.apply(this,arguments)}function hi(){return(hi=(0,B.Z)(function*(C){const x=hn(C),ne=(yield Fr()).transaction(or,"readwrite");yield ne.objectStore(or).delete(x),yield ne.done})).apply(this,arguments)}function ri(C,x){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,B.Z)(function*(C,x){const G=hn(C),pe=(yield Fr()).transaction(or,"readwrite"),Ce=pe.objectStore(or),We=yield Ce.get(G),Nt=x(We);return void 0===Nt?yield Ce.delete(G):yield Ce.put(Nt,G),yield pe.done,Nt&&(!We||We.fid!==Nt.fid)&&kt(C,Nt.fid),Nt})).apply(this,arguments)}function me(C){return de.apply(this,arguments)}function de(){return de=(0,B.Z)(function*(C){let x;const G=yield ri(C.appConfig,ne=>{const pe=function we(C){return ve(C||{fid:Ki(),registrationStatus:0})}(ne),Ce=function Ze(C,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(Gt.create("app-offline"))};const G={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},ne=function ke(C,x){return bt.apply(this,arguments)}(C,G);return{installationEntry:G,registrationPromise:ne}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:Ee(C)}:{installationEntry:x}}(C,pe);return x=Ce.registrationPromise,Ce.installationEntry});return G.fid===zt?{installationEntry:yield x}:{installationEntry:G,registrationPromise:x}}),de.apply(this,arguments)}function bt(){return bt=(0,B.Z)(function*(C,x){try{const G=yield function Pr(C,x){return ti.apply(this,arguments)}(C,x);return Xt(C.appConfig,G)}catch(G){throw Pt(G)&&409===G.customData.serverCode?yield ar(C.appConfig):yield Xt(C.appConfig,{fid:x.fid,registrationStatus:0}),G}}),bt.apply(this,arguments)}function Ee(C){return ge.apply(this,arguments)}function ge(){return(ge=(0,B.Z)(function*(C){let x=yield se(C.appConfig);for(;1===x.registrationStatus;)yield Un(100),x=yield se(C.appConfig);if(0===x.registrationStatus){const{installationEntry:G,registrationPromise:ne}=yield me(C);return ne||G}return x})).apply(this,arguments)}function se(C){return ri(C,x=>{if(!x)throw Gt.create("installation-not-found");return ve(x)})}function ve(C){return function Ke(C){return 1===C.registrationStatus&&C.registrationTime+et<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function qe(){return(qe=(0,B.Z)(function*({appConfig:C,heartbeatServiceProvider:x},G){const ne=function xt(C,{fid:x}){return`${Vn(C)}/${x}/authTokens:generate`}(C,G),pe=function Or(C,{refreshToken:x}){const G=yi(C);return G.append("Authorization",function cn(C){return`${gt} ${C}`}(x)),G}(C,G),Ce=x.getImmediate({optional:!0});if(Ce){const Vt=yield Ce.getHeartbeatsHeader();Vt&&pe.append("x-firebase-client",Vt)}const Nt={method:"POST",headers:pe,body:JSON.stringify({installation:{sdkVersion:rt,appId:C.appId}})},At=yield Gr(()=>fetch(ne,Nt));if(At.ok)return ei(yield At.json());throw yield Cr("Generate Auth Token",At)})).apply(this,arguments)}function Jt(C){return Jn.apply(this,arguments)}function Jn(){return Jn=(0,B.Z)(function*(C,x=!1){let G;const ne=yield ri(C.appConfig,Ce=>{if(!_n(Ce))throw Gt.create("not-registered");const We=Ce.authToken;if(!x&&function jn(C){return 2===C.requestStatus&&!function dr(C){const x=Date.now();return x<C.creationTime||C.creationTime+C.expiresIn<x+ln}(C)}(We))return Ce;if(1===We.requestStatus)return G=function je(C,x){return xe.apply(this,arguments)}(C,x),Ce;{if(!navigator.onLine)throw Gt.create("app-offline");const Nt=function Er(C){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:x})}(Ce);return G=function Ht(C,x){return on.apply(this,arguments)}(C,Nt),Nt}});return G?yield G:ne.authToken}),Jn.apply(this,arguments)}function xe(){return(xe=(0,B.Z)(function*(C,x){let G=yield ct(C.appConfig);for(;1===G.authToken.requestStatus;)yield Un(100),G=yield ct(C.appConfig);const ne=G.authToken;return 0===ne.requestStatus?Jt(C,x):ne})).apply(this,arguments)}function ct(C){return ri(C,x=>{if(!_n(x))throw Gt.create("not-registered");return function as(C){return 1===C.requestStatus&&C.requestTime+et<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function on(){return on=(0,B.Z)(function*(C,x){try{const G=yield function Ne(C,x){return qe.apply(this,arguments)}(C,x),ne=Object.assign(Object.assign({},x),{authToken:G});return yield Xt(C.appConfig,ne),G}catch(G){if(!Pt(G)||401!==G.customData.serverCode&&404!==G.customData.serverCode){const ne=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield Xt(C.appConfig,ne)}else yield ar(C.appConfig);throw G}}),on.apply(this,arguments)}function _n(C){return void 0!==C&&2===C.registrationStatus}function gr(){return(gr=(0,B.Z)(function*(C){const x=C,{installationEntry:G,registrationPromise:ne}=yield me(x);return ne?ne.catch(console.error):Jt(x).catch(console.error),G.fid})).apply(this,arguments)}function $i(){return $i=(0,B.Z)(function*(C,x=!1){const G=C;return yield function Rr(C){return Zi.apply(this,arguments)}(G),(yield Jt(G,x)).token}),$i.apply(this,arguments)}function Zi(){return(Zi=(0,B.Z)(function*(C){const{registrationPromise:x}=yield me(C);x&&(yield x)})).apply(this,arguments)}function fr(C){return Gt.create("missing-app-config-values",{valueName:C})}const xi="installations",io=C=>{const x=C.getProvider("app").getImmediate(),G=function Ns(C){if(!C||!C.options)throw fr("App Configuration");if(!C.name)throw fr("App Name");const x=["projectId","apiKey","appId"];for(const G of x)if(!C.options[G])throw fr(G);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(x);return{app:x,appConfig:G,heartbeatServiceProvider:(0,De.qX)(x,"heartbeat"),_delete:()=>Promise.resolve()}},so=C=>{const x=C.getProvider("app").getImmediate(),G=(0,De.qX)(x,xi).getImmediate();return{getId:()=>function Sn(C){return gr.apply(this,arguments)}(G),getToken:pe=>function hr(C){return $i.apply(this,arguments)}(G,pe)}};(function wn(){(0,De.Xd)(new Se.wA(xi,io,"PUBLIC")),(0,De.Xd)(new Se.wA("installations-internal",so,"PRIVATE"))})(),(0,De.KN)(ze,Ae),(0,De.KN)(ze,Ae,"esm2017");const Qi="@firebase/remote-config",mr=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ws{constructor(x,G,ne,pe){this.client=x,this.storage=G,this.storageCache=ne,this.logger=pe}isCachedDataFresh(x,G){if(!G)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ne=Date.now()-G,pe=ne<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ne}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${pe}.`),pe}fetch(x){var G=this;return(0,B.Z)(function*(){const[ne,pe]=yield Promise.all([G.storage.getLastSuccessfulFetchTimestampMillis(),G.storage.getLastSuccessfulFetchResponse()]);if(pe&&G.isCachedDataFresh(x.cacheMaxAgeMillis,ne))return pe;x.eTag=pe&&pe.eTag;const Ce=yield G.client.fetch(x),We=[G.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ce.status&&We.push(G.storage.setLastSuccessfulFetchResponse(Ce)),yield Promise.all(We),Ce})()}}function lr(C=navigator){return C.languages&&C.languages[0]||C.language}class pr{constructor(x,G,ne,pe,Ce,We){this.firebaseInstallations=x,this.sdkVersion=G,this.namespace=ne,this.projectId=pe,this.apiKey=Ce,this.appId=We}fetch(x){var G=this;return(0,B.Z)(function*(){const[ne,pe]=yield Promise.all([G.firebaseInstallations.getId(),G.firebaseInstallations.getToken()]),We=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${G.projectId}/namespaces/${G.namespace}:fetch?key=${G.apiKey}`,Nt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},At={sdk_version:G.sdkVersion,app_instance_id:ne,app_instance_id_token:pe,app_id:G.appId,language_code:lr()},Vt={method:"POST",headers:Nt,body:JSON.stringify(At)},Dn=fetch(We,Vt),Pn=new Promise((Pa,Ra)=>{x.signal.addEventListener(()=>{const zc=new Error("The operation was aborted.");zc.name="AbortError",Ra(zc)})});let qo;try{yield Promise.race([Dn,Pn]),qo=yield Dn}catch(Pa){let Ra="fetch-client-network";throw"AbortError"===Pa?.name&&(Ra="fetch-timeout"),mr.create(Ra,{originalErrorMessage:Pa?.message})}let Ps=qo.status;const Ru=qo.headers.get("ETag")||void 0;let uc,hu;if(200===qo.status){let Pa;try{Pa=yield qo.json()}catch(Ra){throw mr.create("fetch-client-parse",{originalErrorMessage:Ra?.message})}uc=Pa.entries,hu=Pa.state}if("INSTANCE_STATE_UNSPECIFIED"===hu?Ps=500:"NO_CHANGE"===hu?Ps=304:("NO_TEMPLATE"===hu||"EMPTY_CONFIG"===hu)&&(uc={}),304!==Ps&&200!==Ps)throw mr.create("fetch-status",{httpStatus:Ps});return{status:Ps,eTag:Ru,config:uc}})()}}class Io{constructor(x,G){this.client=x,this.storage=G}fetch(x){var G=this;return(0,B.Z)(function*(){const ne=(yield G.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return G.attemptFetch(x,ne)})()}attemptFetch(x,{throttleEndTimeMillis:G,backoffCount:ne}){var pe=this;return(0,B.Z)(function*(){yield function us(C,x){return new Promise((G,ne)=>{const pe=Math.max(x-Date.now(),0),Ce=setTimeout(G,pe);C.addEventListener(()=>{clearTimeout(Ce),ne(mr.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,G);try{const Ce=yield pe.client.fetch(x);return yield pe.storage.deleteThrottleMetadata(),Ce}catch(Ce){if(!function Os(C){if(!(C instanceof ee.ZR&&C.customData))return!1;const x=Number(C.customData.httpStatus);return 429===x||500===x||503===x||504===x}(Ce))throw Ce;const We={throttleEndTimeMillis:Date.now()+(0,ee.$s)(ne),backoffCount:ne+1};return yield pe.storage.setThrottleMetadata(We),pe.attemptFetch(x,We)}})()}}class uo{constructor(x,G,ne,pe,Ce){this.app=x,this._client=G,this._storageCache=ne,this._storage=pe,this._logger=Ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vo(C,x){const G=C.target.error||void 0;return mr.create(x,{originalErrorMessage:G&&G?.message})}const Ds="app_namespace_store";class Do{constructor(x,G,ne,pe=function Zo(){return new Promise((C,x)=>{try{const G=indexedDB.open("firebase_remote_config",1);G.onerror=ne=>{x(Vo(ne,"storage-open"))},G.onsuccess=ne=>{C(ne.target.result)},G.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(Ds,{keyPath:"compositeKey"})}}catch(G){x(mr.create("storage-open",{originalErrorMessage:G?.message}))}})}()){this.appId=x,this.appName=G,this.namespace=ne,this.openDbPromise=pe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var G=this;return(0,B.Z)(function*(){const ne=yield G.openDbPromise;return new Promise((pe,Ce)=>{const Nt=ne.transaction([Ds],"readonly").objectStore(Ds),At=G.createCompositeKey(x);try{const Vt=Nt.get(At);Vt.onerror=Dn=>{Ce(Vo(Dn,"storage-get"))},Vt.onsuccess=Dn=>{const Pn=Dn.target.result;pe(Pn?Pn.value:void 0)}}catch(Vt){Ce(mr.create("storage-get",{originalErrorMessage:Vt?.message}))}})})()}set(x,G){var ne=this;return(0,B.Z)(function*(){const pe=yield ne.openDbPromise;return new Promise((Ce,We)=>{const At=pe.transaction([Ds],"readwrite").objectStore(Ds),Vt=ne.createCompositeKey(x);try{const Dn=At.put({compositeKey:Vt,value:G});Dn.onerror=Pn=>{We(Vo(Pn,"storage-set"))},Dn.onsuccess=()=>{Ce()}}catch(Dn){We(mr.create("storage-set",{originalErrorMessage:Dn?.message}))}})})()}delete(x){var G=this;return(0,B.Z)(function*(){const ne=yield G.openDbPromise;return new Promise((pe,Ce)=>{const Nt=ne.transaction([Ds],"readwrite").objectStore(Ds),At=G.createCompositeKey(x);try{const Vt=Nt.delete(At);Vt.onerror=Dn=>{Ce(Vo(Dn,"storage-delete"))},Vt.onsuccess=()=>{pe()}}catch(Vt){Ce(mr.create("storage-delete",{originalErrorMessage:Vt?.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class Yo{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,B.Z)(function*(){const G=x.storage.getLastFetchStatus(),ne=x.storage.getLastSuccessfulFetchTimestampMillis(),pe=x.storage.getActiveConfig(),Ce=yield G;Ce&&(x.lastFetchStatus=Ce);const We=yield ne;We&&(x.lastSuccessfulFetchTimestampMillis=We);const Nt=yield pe;Nt&&(x.activeConfig=Nt)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function ba(){return ha.apply(this,arguments)}function ha(){return(ha=(0,B.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}!function Co(){(0,De.Xd)(new Se.wA("remote-config",function C(x,{instanceIdentifier:G}){const ne=x.getProvider("app").getImmediate(),pe=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw mr.create("registration-window");if(!(0,ee.hl)())throw mr.create("indexed-db-unavailable");const{projectId:Ce,apiKey:We,appId:Nt}=ne.options;if(!Ce)throw mr.create("registration-project-id");if(!We)throw mr.create("registration-api-key");if(!Nt)throw mr.create("registration-app-id");const At=new Do(Nt,ne.name,G=G||"firebase"),Vt=new Yo(At),Dn=new Ue.Yd(Qi);Dn.logLevel=Ue.in.ERROR;const Pn=new pr(pe,De.Jn,G,Ce,We,Nt),qo=new Io(Pn,At),Ps=new Ws(qo,At,Vt,Dn),Ru=new uo(ne,Ps,Vt,At,Dn);return function Pi(C){const x=(0,ee.m9)(C);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(Ru),Ru},"PUBLIC").setMultipleInstances(!0)),(0,De.KN)(Qi,"0.4.4"),(0,De.KN)(Qi,"0.4.4","esm2017")}();const Oi=(C,x)=>x.some(G=>C instanceof G);let lo,Cs;const To=new WeakMap,ki=new WeakMap,Ls=new WeakMap,Ts=new WeakMap,gs=new WeakMap;let Uo={get(C,x,G){if(C instanceof IDBTransaction){if("done"===x)return ki.get(C);if("objectStoreNames"===x)return C.objectStoreNames||Ls.get(C);if("store"===x)return G.objectStoreNames[1]?void 0:G.objectStore(G.objectStoreNames[0])}return Gi(C[x])},set:(C,x,G)=>(C[x]=G,!0),has:(C,x)=>C instanceof IDBTransaction&&("done"===x||"store"===x)||x in C};function Sa(C){return"function"==typeof C?function gi(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function co(){return Cs||(Cs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...x){return C.apply(rr(this),x),Gi(To.get(this))}:function(...x){return Gi(C.apply(rr(this),x))}:function(x,...G){const ne=C.call(rr(this),x,...G);return Ls.set(ne,x.sort?x.sort():[x]),Gi(ne)}}(C):(C instanceof IDBTransaction&&function Vr(C){if(ki.has(C))return;const x=new Promise((G,ne)=>{const pe=()=>{C.removeEventListener("complete",Ce),C.removeEventListener("error",We),C.removeEventListener("abort",We)},Ce=()=>{G(),pe()},We=()=>{ne(C.error||new DOMException("AbortError","AbortError")),pe()};C.addEventListener("complete",Ce),C.addEventListener("error",We),C.addEventListener("abort",We)});ki.set(C,x)}(C),Oi(C,function Fs(){return lo||(lo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Uo):C)}function Gi(C){if(C instanceof IDBRequest)return function bo(C){const x=new Promise((G,ne)=>{const pe=()=>{C.removeEventListener("success",Ce),C.removeEventListener("error",We)},Ce=()=>{G(Gi(C.result)),pe()},We=()=>{ne(C.error),pe()};C.addEventListener("success",Ce),C.addEventListener("error",We)});return x.then(G=>{G instanceof IDBCursor&&To.set(G,C)}).catch(()=>{}),gs.set(x,C),x}(C);if(Ts.has(C))return Ts.get(C);const x=Sa(C);return x!==C&&(Ts.set(C,x),gs.set(x,C)),x}const rr=C=>gs.get(C);function ms(C,x,{blocked:G,upgrade:ne,blocking:pe,terminated:Ce}={}){const We=indexedDB.open(C,x),Nt=Gi(We);return ne&&We.addEventListener("upgradeneeded",At=>{ne(Gi(We.result),At.oldVersion,At.newVersion,Gi(We.transaction))}),G&&We.addEventListener("blocked",()=>G()),Nt.then(At=>{Ce&&At.addEventListener("close",()=>Ce()),pe&&At.addEventListener("versionchange",()=>pe())}).catch(()=>{}),Nt}function So(C,{blocked:x}={}){const G=indexedDB.deleteDatabase(C);return x&&G.addEventListener("blocked",()=>x()),Gi(G).then(()=>{})}const vi=["get","getKey","getAll","getAllKeys","count"],Fi=["put","add","delete","clear"],Li=new Map;function ci(C,x){if(!(C instanceof IDBDatabase)||x in C||"string"!=typeof x)return;if(Li.get(x))return Li.get(x);const G=x.replace(/FromIndex$/,""),ne=x!==G,pe=Fi.includes(G);if(!(G in(ne?IDBIndex:IDBObjectStore).prototype)||!pe&&!vi.includes(G))return;const Ce=function(){var We=(0,B.Z)(function*(Nt,...At){const Vt=this.transaction(Nt,pe?"readwrite":"readonly");let Dn=Vt.store;return ne&&(Dn=Dn.index(At.shift())),(yield Promise.all([Dn[G](...At),pe&&Vt.done]))[0]});return function(At){return We.apply(this,arguments)}}();return Li.set(x,Ce),Ce}!function Ar(C){Uo=C(Uo)}(C=>({...C,get:(x,G,ne)=>ci(x,G)||C.get(x,G,ne),has:(x,G)=>!!ci(x,G)||C.has(x,G)}));const Vs="/firebase-messaging-sw.js",ho="/firebase-cloud-messaging-push-scope",Ao="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",qs="https://fcmregistrations.googleapis.com/v1",an="google.c.a.c_id",Xo="google.c.a.c_l",ea="google.c.a.ts",fo="google.c.a.e";var F=(()=>{return(C=F||(F={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",F;var C})();function k(C){const x=new Uint8Array(C);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function R(C){const G=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ne=atob(G),pe=new Uint8Array(ne.length);for(let Ce=0;Ce<ne.length;++Ce)pe[Ce]=ne.charCodeAt(Ce);return pe}const Z="fcm_token_details_db",le=5,ft="fcm_token_object_Store";function ii(){return ii=(0,B.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ce=>Ce.name).includes(Z))return null;let x=null;return(yield ms(Z,le,{upgrade:(ne=(0,B.Z)(function*(pe,Ce,We,Nt){var At;if(Ce<2||!pe.objectStoreNames.contains(ft))return;const Vt=Nt.objectStore(ft),Dn=yield Vt.index("fcmSenderId").get(C);if(yield Vt.clear(),Dn)if(2===Ce){const Pn=Dn;if(!Pn.auth||!Pn.p256dh||!Pn.endpoint)return;x={token:Pn.fcmToken,createTime:null!==(At=Pn.createTime)&&void 0!==At?At:Date.now(),subscriptionOptions:{auth:Pn.auth,p256dh:Pn.p256dh,endpoint:Pn.endpoint,swScope:Pn.swScope,vapidKey:"string"==typeof Pn.vapidKey?Pn.vapidKey:k(Pn.vapidKey)}}}else if(3===Ce){const Pn=Dn;x={token:Pn.fcmToken,createTime:Pn.createTime,subscriptionOptions:{auth:k(Pn.auth),p256dh:k(Pn.p256dh),endpoint:Pn.endpoint,swScope:Pn.swScope,vapidKey:k(Pn.vapidKey)}}}else if(4===Ce){const Pn=Dn;x={token:Pn.fcmToken,createTime:Pn.createTime,subscriptionOptions:{auth:k(Pn.auth),p256dh:k(Pn.p256dh),endpoint:Pn.endpoint,swScope:Pn.swScope,vapidKey:k(Pn.vapidKey)}}}}),function(Ce,We,Nt,At){return ne.apply(this,arguments)})})).close(),yield So(Z),yield So("fcm_vapid_details_db"),yield So("undefined"),function Dr(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:x}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}(x)?x:null;var ne}),ii.apply(this,arguments)}const Ks="firebase-messaging-database",Zs=1,Jr="firebase-messaging-store";let ts=null;function po(){return ts||(ts=ms(Ks,Zs,{upgrade:(C,x)=>{0===x&&C.createObjectStore(Jr)}})),ts}function go(C){return xo.apply(this,arguments)}function xo(){return xo=(0,B.Z)(function*(C){const x=Po(C),ne=yield(yield po()).transaction(Jr).objectStore(Jr).get(x);if(ne)return ne;{const pe=yield function cr(C){return ii.apply(this,arguments)}(C.appConfig.senderId);if(pe)return yield fa(C,pe),pe}}),xo.apply(this,arguments)}function fa(C,x){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,B.Z)(function*(C,x){const G=Po(C),pe=(yield po()).transaction(Jr,"readwrite");return yield pe.objectStore(Jr).put(x,G),yield pe.done,x})).apply(this,arguments)}function ta(){return(ta=(0,B.Z)(function*(C){const x=Po(C),ne=(yield po()).transaction(Jr,"readwrite");yield ne.objectStore(Jr).delete(x),yield ne.done})).apply(this,arguments)}function Po({appConfig:C}){return C.appId}const wi=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function bs(C,x){return _a.apply(this,arguments)}function _a(){return(_a=(0,B.Z)(function*(C,x){const G=yield Ro(C),ne=ga(x),pe={method:"POST",headers:G,body:JSON.stringify(ne)};let Ce;try{Ce=yield(yield fetch(mo(C.appConfig),pe)).json()}catch(We){throw wi.create("token-subscribe-failed",{errorInfo:We?.toString()})}if(Ce.error)throw wi.create("token-subscribe-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw wi.create("token-subscribe-no-token");return Ce.token})).apply(this,arguments)}function Bo(){return(Bo=(0,B.Z)(function*(C,x){const G=yield Ro(C),ne=ga(x.subscriptionOptions),pe={method:"PATCH",headers:G,body:JSON.stringify(ne)};let Ce;try{Ce=yield(yield fetch(`${mo(C.appConfig)}/${x.token}`,pe)).json()}catch(We){throw wi.create("token-update-failed",{errorInfo:We?.toString()})}if(Ce.error)throw wi.create("token-update-failed",{errorInfo:Ce.error.message});if(!Ce.token)throw wi.create("token-update-no-token");return Ce.token})).apply(this,arguments)}function pa(C,x){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,B.Z)(function*(C,x){const ne={method:"DELETE",headers:yield Ro(C)};try{const Ce=yield(yield fetch(`${mo(C.appConfig)}/${x}`,ne)).json();if(Ce.error)throw wi.create("token-unsubscribe-failed",{errorInfo:Ce.error.message})}catch(pe){throw wi.create("token-unsubscribe-failed",{errorInfo:pe?.toString()})}})).apply(this,arguments)}function mo({projectId:C}){return`${qs}/projects/${C}/registrations`}function Ro(C){return yo.apply(this,arguments)}function yo(){return(yo=(0,B.Z)(function*({appConfig:C,installations:x}){const G=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${G}`})})).apply(this,arguments)}function ga({p256dh:C,auth:x,endpoint:G,vapidKey:ne}){const pe={web:{endpoint:G,auth:x,p256dh:C}};return ne!==Ao&&(pe.web.applicationPubKey=ne),pe}const Ka=6048e5;function rs(){return rs=(0,B.Z)(function*(C){const x=yield function Fn(C,x){return _o.apply(this,arguments)}(C.swRegistration,C.vapidKey),G={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:x.endpoint,auth:k(x.getKey("auth")),p256dh:k(x.getKey("p256dh"))},ne=yield go(C.firebaseDependencies);if(ne){if(function Za(C,x){return x.vapidKey===C.vapidKey&&x.endpoint===C.endpoint&&x.auth===C.auth&&x.p256dh===C.p256dh}(ne.subscriptionOptions,G))return Date.now()>=ne.createTime+Ka?function $o(C,x){return jo.apply(this,arguments)}(C,{token:ne.token,createTime:Date.now(),subscriptionOptions:G}):ne.token;try{yield pa(C.firebaseDependencies,ne.token)}catch(pe){console.warn(pe)}return Br(C.firebaseDependencies,G)}return Br(C.firebaseDependencies,G)}),rs.apply(this,arguments)}function ls(){return ls=(0,B.Z)(function*(C){const x=yield go(C.firebaseDependencies);x&&(yield pa(C.firebaseDependencies,x.token),yield function si(C){return ta.apply(this,arguments)}(C.firebaseDependencies));const G=yield C.swRegistration.pushManager.getSubscription();return!G||G.unsubscribe()}),ls.apply(this,arguments)}function jo(){return jo=(0,B.Z)(function*(C,x){try{const G=yield function Tn(C,x){return Bo.apply(this,arguments)}(C.firebaseDependencies,x),ne=Object.assign(Object.assign({},x),{token:G,createTime:Date.now()});return yield fa(C.firebaseDependencies,ne),G}catch(G){throw yield function ai(C){return ls.apply(this,arguments)}(C),G}}),jo.apply(this,arguments)}function Br(C,x){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,B.Z)(function*(C,x){const ne={token:yield bs(C,x),createTime:Date.now(),subscriptionOptions:x};return yield fa(C,ne),ne.token})).apply(this,arguments)}function _o(){return(_o=(0,B.Z)(function*(C,x){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:R(x)})})).apply(this,arguments)}function Va(C){const x={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Ua(C,x){if(!x.notification)return;C.notification={};const G=x.notification.title;G&&(C.notification.title=G);const ne=x.notification.body;ne&&(C.notification.body=ne);const pe=x.notification.image;pe&&(C.notification.image=pe);const Ce=x.notification.icon;Ce&&(C.notification.icon=Ce)}(x,C),function Ba(C,x){x.data&&(C.data=x.data)}(x,C),function M(C,x){var G,ne,pe,Ce,We;if(!(x.fcmOptions||null!==(G=x.notification)&&void 0!==G&&G.click_action))return;C.fcmOptions={};const Nt=null!==(pe=null===(ne=x.fcmOptions)||void 0===ne?void 0:ne.link)&&void 0!==pe?pe:null===(Ce=x.notification)||void 0===Ce?void 0:Ce.click_action;Nt&&(C.fcmOptions.link=Nt);const At=null===(We=x.fcmOptions)||void 0===We?void 0:We.analytics_label;At&&(C.fcmOptions.analyticsLabel=At)}(x,C),x}function N(C,x){const G=[];for(let ne=0;ne<C.length;ne++)G.push(C.charAt(ne)),ne<x.length&&G.push(x.charAt(ne));return G.join("")}function ue(C){return wi.create("missing-app-config-values",{valueName:C})}N("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),N("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class He{constructor(x,G,ne){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const pe=function K(C){if(!C||!C.options)throw ue("App Configuration Object");if(!C.name)throw ue("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:G}=C;for(const ne of x)if(!G[ne])throw ue(ne);return{appName:C.name,projectId:G.projectId,apiKey:G.apiKey,appId:G.appId,senderId:G.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:pe,installations:G,analyticsProvider:ne}}_delete(){return Promise.resolve()}}function tt(C){return It.apply(this,arguments)}function It(){return(It=(0,B.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Vs,{scope:ho}),C.swRegistration.update().catch(()=>{})}catch(x){throw wi.create("failed-service-worker-registration",{browserErrorMessage:x?.message})}})).apply(this,arguments)}function An(){return(An=(0,B.Z)(function*(C,x){if(!x&&!C.swRegistration&&(yield tt(C)),x||!C.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw wi.create("invalid-sw-registration");C.swRegistration=x}})).apply(this,arguments)}function Ln(){return(Ln=(0,B.Z)(function*(C,x){x?C.vapidKey=x:C.vapidKey||(C.vapidKey=Ao)})).apply(this,arguments)}function fn(){return fn=(0,B.Z)(function*(C,x){if(!navigator)throw wi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wi.create("permission-blocked");return yield function Gn(C,x){return Ln.apply(this,arguments)}(C,x?.vapidKey),yield function Nn(C,x){return An.apply(this,arguments)}(C,x?.serviceWorkerRegistration),function ns(C){return rs.apply(this,arguments)}(C)}),fn.apply(this,arguments)}function As(){return(As=(0,B.Z)(function*(C,x,G){const ne=function Ft(C){switch(C){case F.NOTIFICATION_CLICKED:return"notification_open";case F.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(x);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(ne,{message_id:G[an],message_name:G[Xo],message_time:G[ea],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function vo(){return vo=(0,B.Z)(function*(C,x){const G=x.data;if(!G.isFirebaseMessaging)return;C.onMessageHandler&&G.messageType===F.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Va(G)):C.onMessageHandler.next(Va(G)));const ne=G.data;(function $(C){return"object"==typeof C&&!!C&&an in C})(ne)&&"1"===ne[fo]&&(yield function Mr(C,x,G){return As.apply(this,arguments)}(C,G.messageType,ne))}),vo.apply(this,arguments)}const Tt="@firebase/messaging",ut=C=>{const x=new He(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",G=>function Wt(C,x){return vo.apply(this,arguments)}(x,G)),x},ui=C=>{const x=C.getProvider("messaging").getImmediate();return{getToken:ne=>function Xe(C,x){return fn.apply(this,arguments)}(x,ne)}};function $a(){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,B.Z)(function*(){try{yield(0,ee.eu)()}catch{return!1}return typeof window<"u"&&(0,ee.hl)()&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ys(){(0,De.Xd)(new Se.wA("messaging",ut,"PUBLIC")),(0,De.Xd)(new Se.wA("messaging-internal",ui,"PRIVATE")),(0,De.KN)(Tt,"0.12.4"),(0,De.KN)(Tt,"0.12.4","esm2017")}();const A="analytics",z="firebase_id",te="origin",ce=6e4,oe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Oe="https://www.googletagmanager.com/gtag/js",be=new Ue.Yd("@firebase/analytics"),it=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ot(C){if(!C.startsWith(Oe)){const x=it.create("invalid-gtag-resource",{gtagURL:C});return be.warn(x.message),""}return C}function pn(C){return Promise.all(C.map(x=>x.catch(G=>G)))}function Ii(){return(Ii=(0,B.Z)(function*(C,x,G,ne,pe,Ce){const We=ne[pe];try{if(We)yield x[We];else{const At=(yield pn(G)).find(Vt=>Vt.measurementId===pe);At&&(yield x[At.appId])}}catch(Nt){be.error(Nt)}C("config",pe,Ce)})).apply(this,arguments)}function Di(){return(Di=(0,B.Z)(function*(C,x,G,ne,pe){try{let Ce=[];if(pe&&pe.send_to){let We=pe.send_to;Array.isArray(We)||(We=[We]);const Nt=yield pn(G);for(const At of We){const Vt=Nt.find(Pn=>Pn.measurementId===At),Dn=Vt&&x[Vt.appId];if(!Dn){Ce=[];break}Ce.push(Dn)}}0===Ce.length&&(Ce=Object.values(x)),yield Promise.all(Ce),C("event",ne,pe||{})}catch(Ce){be.error(Ce)}})).apply(this,arguments)}const li=30,No=new class $r{constructor(x={},G=1e3){this.throttleMetadata=x,this.intervalMillis=G}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,G){this.throttleMetadata[x]=G}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Me(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function is(){return(is=(0,B.Z)(function*(C){var x;const{appId:G,apiKey:ne}=C,pe={method:"GET",headers:Me(ne)},Ce=oe.replace("{app-id}",G),We=yield fetch(Ce,pe);if(200!==We.status&&304!==We.status){let Nt="";try{const At=yield We.json();null!==(x=At.error)&&void 0!==x&&x.message&&(Nt=At.error.message)}catch{}throw it.create("config-fetch-failed",{httpStatus:We.status,responseMessage:Nt})}return We.json()})).apply(this,arguments)}function Qt(){return(Qt=(0,B.Z)(function*(C,x=No,G){const{appId:ne,apiKey:pe,measurementId:Ce}=C.options;if(!ne)throw it.create("no-app-id");if(!pe){if(Ce)return{measurementId:Ce,appId:ne};throw it.create("no-api-key")}const We=x.getThrottleMetadata(ne)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Nt=new Qs;return setTimeout((0,B.Z)(function*(){Nt.abort()}),void 0!==G?G:ce),nn({appId:ne,apiKey:pe,measurementId:Ce},We,Nt,x)})).apply(this,arguments)}function nn(C,x,G){return Lt.apply(this,arguments)}function Lt(){return Lt=(0,B.Z)(function*(C,{throttleEndTimeMillis:x,backoffCount:G},ne,pe=No){var Ce;const{appId:We,measurementId:Nt}=C;try{yield function zn(C,x){return new Promise((G,ne)=>{const pe=Math.max(x-Date.now(),0),Ce=setTimeout(G,pe);C.addEventListener(()=>{clearTimeout(Ce),ne(it.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(ne,x)}catch(At){if(Nt)return be.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Nt} provided in the "measurementId" field in the local Firebase config. [${At?.message}]`),{appId:We,measurementId:Nt};throw At}try{const At=yield function Ui(C){return is.apply(this,arguments)}(C);return pe.deleteThrottleMetadata(We),At}catch(At){const Vt=At;if(!function zi(C){if(!(C instanceof ee.ZR&&C.customData))return!1;const x=Number(C.customData.httpStatus);return 429===x||500===x||503===x||504===x}(Vt)){if(pe.deleteThrottleMetadata(We),Nt)return be.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Nt} provided in the "measurementId" field in the local Firebase config. [${Vt?.message}]`),{appId:We,measurementId:Nt};throw At}const Dn=503===Number(null===(Ce=Vt?.customData)||void 0===Ce?void 0:Ce.httpStatus)?(0,ee.$s)(G,pe.intervalMillis,li):(0,ee.$s)(G,pe.intervalMillis),Pn={throttleEndTimeMillis:Date.now()+Dn,backoffCount:G+1};return pe.setThrottleMetadata(We,Pn),be.debug(`Calling attemptFetch again in ${Dn} millis`),nn(C,Pn,ne,pe)}}),Lt.apply(this,arguments)}class Qs{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let _s,Ya;function qn(){return(qn=(0,B.Z)(function*(C,x,G,ne,pe){if(pe&&pe.global)C("event",G,ne);else{const Ce=yield x;C("event",G,Object.assign(Object.assign({},ne),{send_to:Ce}))}})).apply(this,arguments)}function ec(){return(ec=(0,B.Z)(function*(){if(!(0,ee.hl)())return be.warn(it.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(C){return be.warn(it.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function tc(){return tc=(0,B.Z)(function*(C,x,G,ne,pe,Ce,We){var Nt;const At=function na(C){return Qt.apply(this,arguments)}(C);At.then(Ps=>{G[Ps.measurementId]=Ps.appId,C.options.measurementId&&Ps.measurementId!==C.options.measurementId&&be.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Ps.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ps=>be.error(Ps)),x.push(At);const Vt=function Xl(){return ec.apply(this,arguments)}().then(Ps=>{if(Ps)return ne.getId()}),[Dn,Pn]=yield Promise.all([At,Vt]);(function Vi(C){const x=window.document.getElementsByTagName("script");for(const G of Object.values(x))if(G.src&&G.src.includes(Oe)&&G.src.includes(C))return G;return null})(Ce)||function tn(C,x){const G=function dn(C,x){let G;return window.trustedTypes&&(G=window.trustedTypes.createPolicy(C,x)),G}("firebase-js-sdk-policy",{createScriptURL:ot}),ne=document.createElement("script"),pe=`${Oe}?l=${C}&id=${x}`;ne.src=G?G?.createScriptURL(pe):pe,ne.async=!0,document.head.appendChild(ne)}(Ce,Dn.measurementId),Ya&&(pe("consent","default",Ya),function uu(C){Ya=C}(void 0)),pe("js",new Date);const qo=null!==(Nt=We?.config)&&void 0!==Nt?Nt:{};return qo[te]="firebase",qo.update=!0,null!=Pn&&(qo[z]=Pn),pe("config",Dn.measurementId,qo),_s&&(pe("set",_s),function Ma(C){_s=C}(void 0)),Dn.measurementId}),tc.apply(this,arguments)}class sa{constructor(x){this.app=x}_delete(){return delete E[this.app.options.appId],Promise.resolve()}}let E={},D=[];const m={};let W,J,S="dataLayer",V="gtag",Te=!1;function Ot(C,x,G){!function $t(){const C=[];if((0,ee.ru)()&&C.push("This is a browser extension environment."),(0,ee.zI)()||C.push("Cookies are not available."),C.length>0){const x=C.map((ne,pe)=>`(${pe+1}) ${ne}`).join(" "),G=it.create("invalid-analytics-context",{errorInfo:x});be.warn(G.message)}}();const ne=C.options.appId;if(!ne)throw it.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw it.create("no-api-key");be.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=E[ne])throw it.create("already-exists",{id:ne});if(!Te){!function yr(C){let x=[];Array.isArray(window[C])?x=window[C]:window[C]=x}(S);const{wrappedGtag:Ce,gtagCore:We}=function xr(C,x,G,ne,pe){let Ce=function(...We){window[ne].push(arguments)};return window[pe]&&"function"==typeof window[pe]&&(Ce=window[pe]),window[pe]=function Go(C,x,G,ne){function Ce(){return Ce=(0,B.Z)(function*(We,...Nt){try{if("event"===We){const[At,Vt]=Nt;yield function Xr(C,x,G,ne,pe){return Di.apply(this,arguments)}(C,x,G,At,Vt)}else if("config"===We){const[At,Vt]=Nt;yield function _r(C,x,G,ne,pe,Ce){return Ii.apply(this,arguments)}(C,x,G,ne,At,Vt)}else if("consent"===We){const[At]=Nt;C("consent","update",At)}else if("get"===We){const[At,Vt,Dn]=Nt;C("get",At,Vt,Dn)}else if("set"===We){const[At]=Nt;C("set",At)}else C(We,...Nt)}catch(At){be.error(At)}}),Ce.apply(this,arguments)}return function pe(We){return Ce.apply(this,arguments)}}(Ce,C,x,G),{gtagCore:Ce,wrappedGtag:window[pe]}}(E,D,m,S,V);J=Ce,W=We,Te=!0}return E[ne]=function bu(C,x,G,ne,pe,Ce,We){return tc.apply(this,arguments)}(C,D,m,x,W,S,G),new sa(C)}function qr(){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,B.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}const Au="@firebase/analytics";!function Js(){(0,De.Xd)(new Se.wA(A,(x,{options:G})=>Ot(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),G),"PUBLIC")),(0,De.Xd)(new Se.wA("analytics-internal",function C(x){try{const G=x.getProvider(A).getImmediate();return{logEvent:(ne,pe,Ce)=>function Su(C,x,G,ne){C=(0,ee.m9)(C),function ra(C,x,G,ne,pe){return qn.apply(this,arguments)}(J,E[C.app.options.appId],x,G,ne).catch(pe=>be.error(pe))}(G,ne,pe,Ce)}}catch(G){throw it.create("interop-component-reg-failed",{reason:G})}},"PRIVATE")),(0,De.KN)(Au,"0.10.0"),(0,De.KN)(Au,"0.10.0","esm2017")}();var jc=Y(4408),ss=Y(640);const nc=new class Ja extends ss.v{}(class Qa extends jc.o{constructor(x,G){super(x,G),this.scheduler=x,this.work=G}schedule(x,G=0){return G>0?super.schedule(x,G):(this.delay=G,this.state=x,this.scheduler.flush(this),this)}execute(x,G){return G>0||this.closed?super.execute(x,G):this._execute(x,G)}requestAsyncId(x,G,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(x,G,ne):(x.flush(this),0)}});var lu=Y(4986),Yu=Y(9751),aa=Y(8505),ma=Y(9468),rc=Y(5363);const ja=new w.GfV("7.6.1"),Da="__angularfire_symbol__analyticsIsSupportedValue",Mu="__angularfire_symbol__analyticsIsSupported",xa="__angularfire_symbol__remoteConfigIsSupportedValue",xu="__angularfire_symbol__remoteConfigIsSupported",Ha="__angularfire_symbol__messagingIsSupportedValue",Pu="__angularfire_symbol__messagingIsSupported";function Zd(C,x,G){if(x){if(1===x.length)return x[0];const Ce=x.filter(We=>We.app===G);if(1===Ce.length)return Ce[0]}return G.container.getProvider(C).getImmediate({optional:!0})}globalThis[Mu]||(globalThis[Mu]=qr().then(C=>globalThis[Da]=C).catch(()=>globalThis[Da]=!1)),globalThis[Pu]||(globalThis[Pu]=$a().then(C=>globalThis[Ha]=C).catch(()=>globalThis[Ha]=!1)),globalThis[xu]||(globalThis[xu]=ba().then(C=>globalThis[xa]=C).catch(()=>globalThis[xa]=!1));const Yd=(C,x)=>{const G=x?[x]:(0,re.C6)(),ne=[];return G.forEach(pe=>{pe.container.getProvider(C).instances.forEach(We=>{ne.includes(We)||ne.push(We)})}),ne};function eu(){}class du{constructor(x,G=nc){this.zone=x,this.delegate=G}now(){return this.delegate.now()}schedule(x,G,ne){const pe=this.zone;return this.delegate.schedule(function(We){pe.runGuarded(()=>{x.apply(this,[We])})},G,ne)}}class sc{constructor(x){this.zone=x,this.task=null}call(x,G){const ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",eu,{},eu,eu)),G.pipe((0,aa.b)({next:ne,complete:ne,error:ne})).subscribe(x).add(ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let oc=(()=>{class C{constructor(G){this.ngZone=G,this.outsideAngular=G.runOutsideAngular(()=>new du(Zone.current)),this.insideAngular=G.run(()=>new du(Zone.current,lu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(G){return new(G||C)(w.LFG(w.R0b))},C.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function tu(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function xs(C){return tu().ngZone.run(()=>C())}function bi(C){return tu(),function Ca(C){return function(G){return(G=G.lift(new sc(C.ngZone))).pipe((0,ma.R)(C.outsideAngular),(0,rc.Q)(C.insideAngular))}}(tu())(C)}const ml=(C,x)=>function(){const ne=arguments;return x&&setTimeout(()=>{"scheduled"===x.state&&x.invoke()},10),xs(()=>C.apply(void 0,ne))},yl=(C,x)=>function(){let G;const ne=arguments;for(let Ce=0;Ce<arguments.length;Ce++)"function"==typeof ne[Ce]&&(x&&(G||(G=xs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",eu,{},eu,eu)))),ne[Ce]=ml(ne[Ce],G));const pe=function ac(C){return tu().ngZone.runOutsideAngular(()=>C())}(()=>C.apply(this,ne));if(!x){if(pe instanceof Yu.y){const Ce=tu();return pe.pipe((0,ma.R)(Ce.outsideAngular),(0,rc.Q)(Ce.insideAngular))}return xs(()=>pe)}return pe instanceof Yu.y?pe.pipe(bi):pe instanceof Promise?xs(()=>new Promise((Ce,We)=>pe.then(Nt=>xs(()=>Ce(Nt)),Nt=>xs(()=>We(Nt))))):"function"==typeof pe&&G?function(){return setTimeout(()=>{G&&"scheduled"===G.state&&G.invoke()},10),pe.apply(this,arguments)}:xs(()=>pe)}},2090:(rn,Ye,Y)=>{Y.d(Ye,{$s:()=>ar,BH:()=>Ge,L:()=>$e,LL:()=>Yt,Pz:()=>pt,US:()=>Se,ZR:()=>kn,aH:()=>Fe,b$:()=>sn,eu:()=>mt,hl:()=>gt,m9:()=>Lr,ne:()=>hn,pd:()=>Ki,q4:()=>Wn,ru:()=>jt,tV:()=>ie,uI:()=>Et,vZ:()=>ti,w1:()=>ze,xO:()=>hs,xb:()=>cn,z$:()=>Mt,zI:()=>ln,zd:()=>zt});const De=function(me){const de=[];let we=0;for(let Ze=0;Ze<me.length;Ze++){let ke=me.charCodeAt(Ze);ke<128?de[we++]=ke:ke<2048?(de[we++]=ke>>6|192,de[we++]=63&ke|128):55296==(64512&ke)&&Ze+1<me.length&&56320==(64512&me.charCodeAt(Ze+1))?(ke=65536+((1023&ke)<<10)+(1023&me.charCodeAt(++Ze)),de[we++]=ke>>18|240,de[we++]=ke>>12&63|128,de[we++]=ke>>6&63|128,de[we++]=63&ke|128):(de[we++]=ke>>12|224,de[we++]=ke>>6&63|128,de[we++]=63&ke|128)}return de},Se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(me,de){if(!Array.isArray(me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const we=de?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ze=[];for(let ke=0;ke<me.length;ke+=3){const bt=me[ke],Ee=ke+1<me.length,ge=Ee?me[ke+1]:0,se=ke+2<me.length,ve=se?me[ke+2]:0;let qe=(15&ge)<<2|ve>>6,xt=63&ve;se||(xt=64,Ee||(qe=64)),Ze.push(we[bt>>2],we[(3&bt)<<4|ge>>4],we[qe],we[xt])}return Ze.join("")},encodeString(me,de){return this.HAS_NATIVE_SUPPORT&&!de?btoa(me):this.encodeByteArray(De(me),de)},decodeString(me,de){return this.HAS_NATIVE_SUPPORT&&!de?atob(me):function(me){const de=[];let we=0,Ze=0;for(;we<me.length;){const ke=me[we++];if(ke<128)de[Ze++]=String.fromCharCode(ke);else if(ke>191&&ke<224){const bt=me[we++];de[Ze++]=String.fromCharCode((31&ke)<<6|63&bt)}else if(ke>239&&ke<365){const se=((7&ke)<<18|(63&me[we++])<<12|(63&me[we++])<<6|63&me[we++])-65536;de[Ze++]=String.fromCharCode(55296+(se>>10)),de[Ze++]=String.fromCharCode(56320+(1023&se))}else{const bt=me[we++],Ee=me[we++];de[Ze++]=String.fromCharCode((15&ke)<<12|(63&bt)<<6|63&Ee)}}return de.join("")}(this.decodeStringToByteArray(me,de))},decodeStringToByteArray(me,de){this.init_();const we=de?this.charToByteMapWebSafe_:this.charToByteMap_,Ze=[];for(let ke=0;ke<me.length;){const bt=we[me.charAt(ke++)],ge=ke<me.length?we[me.charAt(ke)]:0;++ke;const ve=ke<me.length?we[me.charAt(ke)]:64;++ke;const Ne=ke<me.length?we[me.charAt(ke)]:64;if(++ke,null==bt||null==ge||null==ve||null==Ne)throw new Ue;Ze.push(bt<<2|ge>>4),64!==ve&&(Ze.push(ge<<4&240|ve>>2),64!==Ne&&Ze.push(ve<<6&192|Ne))}return Ze},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let me=0;me<this.ENCODED_VALS.length;me++)this.byteToCharMap_[me]=this.ENCODED_VALS.charAt(me),this.charToByteMap_[this.byteToCharMap_[me]]=me,this.byteToCharMapWebSafe_[me]=this.ENCODED_VALS_WEBSAFE.charAt(me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[me]]=me,me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(me)]=me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(me)]=me)}}};class Ue extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $e=function(me){return function(me){const de=De(me);return Se.encodeByteArray(de,!0)}(me).replace(/\./g,"")},ie=function(me){try{return Se.decodeString(me,!0)}catch(de){console.error("base64Decode failed: ",de)}return null},Bt=()=>{try{return function at(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const me=process.env.__FIREBASE_DEFAULTS__;return me?JSON.parse(me):void 0})()||(()=>{if(typeof document>"u")return;let me;try{me=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const de=me&&ie(me[1]);return de&&JSON.parse(de)})()}catch(me){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${me}`)}},Wn=me=>{var de,we;return null===(we=null===(de=Bt())||void 0===de?void 0:de.emulatorHosts)||void 0===we?void 0:we[me]},Fe=()=>{var me;return null===(me=Bt())||void 0===me?void 0:me.config},pt=me=>{var de;return null===(de=Bt())||void 0===de?void 0:de[`_${me}`]};class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((de,we)=>{this.resolve=de,this.reject=we})}wrapCallback(de){return(we,Ze)=>{we?this.reject(we):this.resolve(Ze),"function"==typeof de&&(this.promise.catch(()=>{}),1===de.length?de(we):de(we,Ze))}}}function Mt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Et(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function jt(){const me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof me&&void 0!==me.id}function sn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ze(){const me=Mt();return me.indexOf("MSIE ")>=0||me.indexOf("Trident/")>=0}function gt(){try{return"object"==typeof indexedDB}catch{return!1}}function mt(){return new Promise((me,de)=>{try{let we=!0;const Ze="validate-browser-context-for-indexeddb-analytics-module",ke=self.indexedDB.open(Ze);ke.onsuccess=()=>{ke.result.close(),we||self.indexedDB.deleteDatabase(Ze),me(!0)},ke.onupgradeneeded=()=>{we=!1},ke.onerror=()=>{var bt;de((null===(bt=ke.error)||void 0===bt?void 0:bt.message)||"")}}catch(we){de(we)}})}function ln(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class kn extends Error{constructor(de,we,Ze){super(we),this.code=de,this.customData=Ze,this.name="FirebaseError",Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yt.prototype.create)}}class Yt{constructor(de,we,Ze){this.service=de,this.serviceName=we,this.errors=Ze}create(de,...we){const Ze=we[0]||{},ke=`${this.service}/${de}`,bt=this.errors[de],Ee=bt?function Gt(me,de){return me.replace(Pt,(we,Ze)=>{const ke=de[Ze];return null!=ke?String(ke):`<${Ze}?>`})}(bt,Ze):"Error";return new kn(ke,`${this.serviceName}: ${Ee} (${ke}).`,Ze)}}const Pt=/\{\$([^}]+)}/g;function cn(me){for(const de in me)if(Object.prototype.hasOwnProperty.call(me,de))return!1;return!0}function ti(me,de){if(me===de)return!0;const we=Object.keys(me),Ze=Object.keys(de);for(const ke of we){if(!Ze.includes(ke))return!1;const bt=me[ke],Ee=de[ke];if(Un(bt)&&Un(Ee)){if(!ti(bt,Ee))return!1}else if(bt!==Ee)return!1}for(const ke of Ze)if(!we.includes(ke))return!1;return!0}function Un(me){return null!==me&&"object"==typeof me}function hs(me){const de=[];for(const[we,Ze]of Object.entries(me))Array.isArray(Ze)?Ze.forEach(ke=>{de.push(encodeURIComponent(we)+"="+encodeURIComponent(ke))}):de.push(encodeURIComponent(we)+"="+encodeURIComponent(Ze));return de.length?"&"+de.join("&"):""}function zt(me){const de={};return me.replace(/^\?/,"").split("&").forEach(Ze=>{if(Ze){const[ke,bt]=Ze.split("=");de[decodeURIComponent(ke)]=decodeURIComponent(bt)}}),de}function Ki(me){const de=me.indexOf("?");if(!de)return"";const we=me.indexOf("#",de);return me.substring(de,we>0?we:void 0)}function hn(me,de){const we=new qt(me,de);return we.subscribe.bind(we)}class qt{constructor(de,we){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=we,this.task.then(()=>{de(this)}).catch(Ze=>{this.error(Ze)})}next(de){this.forEachObserver(we=>{we.next(de)})}error(de){this.forEachObserver(we=>{we.error(de)}),this.close(de)}complete(){this.forEachObserver(de=>{de.complete()}),this.close()}subscribe(de,we,Ze){let ke;if(void 0===de&&void 0===we&&void 0===Ze)throw new Error("Missing Observer.");ke=function Bn(me,de){if("object"!=typeof me||null===me)return!1;for(const we of de)if(we in me&&"function"==typeof me[we])return!0;return!1}(de,["next","error","complete"])?de:{next:de,error:we,complete:Ze},void 0===ke.next&&(ke.next=zr),void 0===ke.error&&(ke.error=zr),void 0===ke.complete&&(ke.complete=zr);const bt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ke.error(this.finalError):ke.complete()}catch{}}),this.observers.push(ke),bt}unsubscribeOne(de){void 0===this.observers||void 0===this.observers[de]||(delete this.observers[de],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(de){if(!this.finalized)for(let we=0;we<this.observers.length;we++)this.sendOne(we,de)}sendOne(de,we){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[de])try{we(this.observers[de])}catch(Ze){typeof console<"u"&&console.error&&console.error(Ze)}})}close(de){this.finalized||(this.finalized=!0,void 0!==de&&(this.finalError=de),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zr(){}const Zn=1e3,Fr=2,Xt=144e5,_i=.5;function ar(me,de=Zn,we=Fr){const Ze=de*Math.pow(we,me),ke=Math.round(_i*Ze*(Math.random()-.5)*2);return Math.min(Xt,Ze+ke)}function Lr(me){return me&&me._delegate?me._delegate:me}},5963:(rn,Ye,Y)=>{var w=Y(1481),re=Y(5912),B=Y(1571),De=Y(5861),ee=Y(5465),Se=Y(3562),Ue=Y(1135),he=Y(5698);let $e=(()=>{class O{constructor(_,A,z){this.auth=_,this.router=A,this.fs=z,this.logged$=new Ue.X(!1),this.guildId$=new Ue.X("")}login(_,A){var z=this;return(0,De.Z)(function*(){const te=yield(0,ee.e5)(z.auth,_,A);return z.logged$.next(!!te.user.uid),z.router.navigateByUrl("/administration/raid-settings"),te})()}register(_){var A=this;return(0,De.Z)(function*(){const{email:z,password:te,guildMaster:ce,guildName:oe,nick:Oe}=_,St=(yield(0,ee.Xb)(A.auth,z,te)).user.uid;if(ce){A.guildId$.next((yield A.createGuild(St,oe)).id);try{A.addNewUser(St,ce,Oe,A.guildId$.getValue())}catch{console.log("nope")}}else A.joinGuild(oe).pipe((0,he.q)(1)).subscribe(it=>{A.guildId$.next(it[0].documentId),A.addNewUser(St,ce,Oe,A.guildId$.getValue()),(0,Se.r7)((0,Se.JU)(A.fs,"guilds",A.guildId$.getValue()),{members:[...it[0].members,St]})});A.login(z,te)})()}createGuild(_,A){return(0,Se.ET)((0,Se.hJ)(this.fs,"guilds"),{createdAt:new Date,guildMaster:_,guildName:A,members:[_]})}joinGuild(_){return(0,Se.BS)((0,Se.IO)((0,Se.hJ)(this.fs,"guilds"),(0,Se.ar)("guildName","==",_)))}addNewUser(_,A,z,te){(0,Se.pl)((0,Se.JU)(this.fs,"users",_),{guildMaster:A,nick:z,guildId:te})}getGuild(_){var A=this;return(0,De.Z)(function*(){return yield(0,Se.QT)((0,Se.JU)(A.fs,"users",_))})()}isLogged(){return(0,ee.Aj)(this.auth,_=>{this.logged$.next(!!_),this.router.getCurrentNavigation()||this.router.navigateByUrl("/dashboard")}),this.logged$}logout(){this.auth.signOut(),this.router.navigateByUrl("/login")}}return O.\u0275fac=function(_){return new(_||O)(B.LFG(ee.gx),B.LFG(re.F0),B.LFG(Se.gg))},O.\u0275prov=B.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();var ie=Y(6895),ye=Y(4004);const Pe=[{name:"Dashboard",visible:!0,path:"dashboard",expanded:!1,active:!0},{name:"Progress",visible:!0,path:"progress",expanded:!1,active:!1,submenus:[{name:"Individual",path:"individual",visible:!0},{name:"Global",path:"global",visible:!0}]},{name:"Raids",visible:!0,path:"raids",expanded:!1,active:!0},{name:"Administration",visible:!0,path:"administration",expanded:!0,active:!1,submenus:[{name:"Raid settings",path:"raid-settings",visible:!0},{name:"Game specification",path:"game-specification",visible:!0},{name:"Member list",path:"member-list",visible:!0}]}],nt=[{name:"Dashboard",visible:!0,path:"dashboard",expanded:!1,active:!0},{name:"Progress",visible:!0,path:"progress",expanded:!1,active:!1,submenus:[{name:"Individual",path:"individual",visible:!0},{name:"Global",path:"global",visible:!0}]},{name:"Raids",visible:!0,path:"raids",expanded:!1,active:!0},{name:"Administration",visible:!1,path:"administration",expanded:!0,active:!1,submenus:[{name:"Raid settings",path:"raid-settings",visible:!0},{name:"Game specification",path:"game-specification",visible:!0},{name:"Member list",path:"member-list",visible:!0}]}];function at(O,g){if(1&O){const _=B.EpF();B.ynx(0),B.TgZ(1,"button",7),B.NdJ("click",function(){B.CHM(_);const z=B.oxw(2).$implicit;return B.KtG(z.expanded=!z.expanded)}),B._uU(2),B.qZA(),B.BQk()}if(2&O){const _=B.oxw(2).$implicit;B.xp6(1),B.MGl("routerLink","/",_.path,""),B.xp6(1),B.Oqu(_.name)}}function yt(O,g){if(1&O){const _=B.EpF();B.TgZ(0,"button",8),B.NdJ("click",function(){B.CHM(_);const z=B.oxw(2).$implicit;return B.KtG(z.expanded=!z.expanded)}),B._uU(1),B.qZA()}if(2&O){const _=B.oxw(2).$implicit;B.xp6(1),B.Oqu(_.name)}}function _t(O,g){if(1&O&&(B.TgZ(0,"li",11)(1,"a",12),B._uU(2),B.qZA()()),2&O){const _=B.oxw().$implicit,A=B.oxw(2).$implicit;B.xp6(1),B.hYB("routerLink","/",A.path,"/",_.path,""),B.xp6(1),B.hij(" ",_.name," ")}}const mn=function(O){return{display:O}};function Bt(O,g){if(1&O&&(B.TgZ(0,"div",9),B.YNc(1,_t,3,3,"li",10),B.qZA()),2&O){const _=g.$implicit,A=B.oxw(2).$implicit;B.Q6J("ngStyle",B.VKq(2,mn,A.expanded?"":"none")),B.xp6(1),B.Q6J("ngIf",_.visible)}}function Wn(O,g){if(1&O&&(B.TgZ(0,"div",3),B.YNc(1,at,3,2,"ng-container",4),B.YNc(2,yt,2,1,"ng-template",null,5,B.W1O),B.YNc(4,Bt,2,4,"div",6),B.qZA()),2&O){const _=B.MAs(3),A=B.oxw().$implicit;B.xp6(1),B.Q6J("ngIf",A.active)("ngIfElse",_),B.xp6(3),B.Q6J("ngForOf",A.submenus)}}function En(O,g){if(1&O&&(B.TgZ(0,"ul",1),B.YNc(1,Wn,5,3,"div",2),B.qZA()),2&O){const _=g.$implicit;B.xp6(1),B.Q6J("ngIf",_.visible)}}let Fe=(()=>{class O{constructor(_,A){this.auth=_,this.fs=A,this.activeLinks=nt,this.getUser()}getUser(){(0,Se.BS)((0,Se.IO)((0,Se.hJ)(this.fs,"users"),(0,Se.ar)((0,Se.Jm)(),"==",this.auth.currentUser?.uid))).pipe((0,he.q)(1),(0,ye.U)(_=>_[0])).subscribe(_=>{console.log(_),_.guildMaster&&(this.activeLinks=Pe)})}}return O.\u0275fac=function(_){return new(_||O)(B.Y36(ee.gx),B.Y36(Se.gg))},O.\u0275cmp=B.Xpm({type:O,selectors:[["app-nav"]],decls:1,vars:1,consts:[["class","nav",4,"ngFor","ngForOf"],[1,"nav"],["class","nav__link",4,"ngIf"],[1,"nav__link"],[4,"ngIf","ngIfElse"],["noActive",""],[3,"ngStyle",4,"ngFor","ngForOf"],[1,"nav__main_menu",3,"routerLink","click"],[1,"nav__main_menu",3,"click"],[3,"ngStyle"],["class","nav__link_submenu",4,"ngIf"],[1,"nav__link_submenu"],["routerLinkActive","active",1,"nav__link_submenu_link",3,"routerLink"]],template:function(_,A){1&_&&B.YNc(0,En,2,1,"ul",0),2&_&&B.Q6J("ngForOf",A.activeLinks)},dependencies:[ie.sg,ie.O5,ie.PC,re.rH,re.Od],styles:[".nav[_ngcontent-%COMP%]{background-color:#00517c;padding:0 5px 1px;min-width:250px}.nav__main_menu[_ngcontent-%COMP%]{text-align:left;width:100%;padding:5px 10px;background-color:#00517c;color:#fff;cursor:pointer}.nav__link_submenu[_ngcontent-%COMP%]{margin-bottom:5px}.nav__link_submenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;background-color:#009df1;padding:5px 10px}.nav__link_submenu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#0072af}.nav__link_submenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#0275b3}.nav__link_submenu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:checked{background-color:#00f}button[_ngcontent-%COMP%]{border-style:none}"]}),O})(),pt=(()=>{class O{constructor(_){this.authService=_,this.userName="test"}logout(){this.authService.logout()}}return O.\u0275fac=function(_){return new(_||O)(B.Y36($e))},O.\u0275cmp=B.Xpm({type:O,selectors:[["app-my-profile"]],decls:9,vars:1,consts:[[1,"my-profile"],["routerLink","add-character"],["routerLink","character-list"],[3,"click"]],template:function(_,A){1&_&&(B.TgZ(0,"div",0)(1,"h2"),B._uU(2),B.qZA(),B.TgZ(3,"button",1),B._uU(4,"Add Character"),B.qZA(),B.TgZ(5,"button",2),B._uU(6,"Character List"),B.qZA(),B.TgZ(7,"button",3),B.NdJ("click",function(){return A.logout()}),B._uU(8,"Logout"),B.qZA()()),2&_&&(B.xp6(2),B.Oqu(A.userName))},dependencies:[re.rH],styles:[".my-profile[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:150px;background-color:#00517c;padding:5px;gap:5px}.my-profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff}.my-profile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-style:none;cursor:pointer;display:block;color:#fff;background-color:#009df1;padding:5px 10px}.my-profile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0275b3}"]}),O})();function Ge(O,g){1&O&&B._UZ(0,"app-nav")}function dt(O,g){1&O&&(B.TgZ(0,"div",2)(1,"button",3),B._uU(2,"Login"),B.qZA(),B.TgZ(3,"button",4),B._uU(4,"Register"),B.qZA()())}function Mt(O,g){1&O&&B._UZ(0,"app-my-profile")}let Et=(()=>{class O{constructor(_){this.auth=_,this.isLogged$=this.auth.isLogged()}}return O.\u0275fac=function(_){return new(_||O)(B.Y36($e))},O.\u0275cmp=B.Xpm({type:O,selectors:[["app-root"]],decls:7,vars:9,consts:[[4,"ngIf"],["class","my-profile",4,"ngIf"],[1,"my-profile"],["routerLink","login","routerLinkActive","active"],["routerLink","register","routerLinkActive","active"]],template:function(_,A){1&_&&(B.YNc(0,Ge,1,0,"app-nav",0),B.ALo(1,"async"),B._UZ(2,"router-outlet"),B.YNc(3,dt,5,0,"div",1),B.ALo(4,"async"),B.YNc(5,Mt,1,0,"app-my-profile",0),B.ALo(6,"async")),2&_&&(B.Q6J("ngIf",B.lcZ(1,3,A.isLogged$)),B.xp6(3),B.Q6J("ngIf",!B.lcZ(4,5,A.isLogged$)),B.xp6(2),B.Q6J("ngIf",B.lcZ(6,7,A.isLogged$)))},dependencies:[ie.O5,Fe,pt,re.lC,re.rH,re.Od,ie.Ov],styles:["[_nghost-%COMP%]{display:flex}.my-profile[_ngcontent-%COMP%]{position:absolute;right:0;display:flex;flex-direction:column;min-width:150px;background-color:#00517c;padding:5px;gap:5px}.my-profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#fff}.my-profile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-style:none;cursor:pointer;display:block;color:#fff;background-color:#009df1;padding:5px 10px}.my-profile[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0275b3}"]}),O})(),yn=(()=>{class O{constructor(_,A){this.router=_,this.auth=A}canActivate(_,A){return(0,ee.fD)(this.auth).pipe((0,ye.U)(z=>!!z||(this.router.navigate(["/login"]),!1)))}}return O.\u0275fac=function(_){return new(_||O)(B.LFG(re.F0),B.LFG(ee.gx))},O.\u0275prov=B.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();const Cn=[{path:"administration",children:[{path:"game-specification",loadChildren:()=>Y.e(469).then(Y.bind(Y,3469)).then(O=>O.GameSpecificationModule)},{path:"member-list",loadChildren:()=>Y.e(401).then(Y.bind(Y,7401)).then(O=>O.MemberListnModule)},{path:"raid-settings",loadChildren:()=>Y.e(496).then(Y.bind(Y,3496)).then(O=>O.RaidSettingsModule)},{path:"",pathMatch:"full",redirectTo:"member-list"},{path:"**",redirectTo:"member-list"}],canActivate:[yn]}];let jt=(()=>{class O{}return O.\u0275fac=function(_){return new(_||O)},O.\u0275mod=B.oAB({type:O}),O.\u0275inj=B.cJS({imports:[re.Bz.forChild(Cn)]}),O})();const sn_firebase={projectId:"guild-raid-app",appId:"1:385457201811:web:5ea1522a00f0976d16e366",databaseURL:"https://guild-raid-app-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"guild-raid-app.appspot.com",apiKey:"AIzaSyBz1Sjy3FGfhGL45XcKOd4UNF5eXAkdNrA",authDomain:"guild-raid-app.firebaseapp.com",messagingSenderId:"385457201811",measurementId:"G-T8Y3VKCKGL"};var ht=Y(3692);let ze=(()=>{class O{constructor(_){this.authService=_}ngOnInit(){}}return O.\u0275fac=function(_){return new(_||O)(B.Y36($e))},O.\u0275cmp=B.Xpm({type:O,selectors:[["app-auth"]],decls:1,vars:0,template:function(_,A){1&_&&B._UZ(0,"router-outlet")},dependencies:[re.lC]}),O})();var Ae=Y(433);const gt=[{path:"",component:ze,children:[{path:"login",component:(()=>{class O{constructor(_,A){this.authService=_,this.fb=A,this.form=this.fb.group({email:["",Ae.kI.required],password:["",Ae.kI.required]})}login(){if(this.form.valid){const{email:_,password:A}=this.form.getRawValue();this.authService.login(_,A)}}}return O.\u0275fac=function(_){return new(_||O)(B.Y36($e),B.Y36(Ae.j3))},O.\u0275cmp=B.Xpm({type:O,selectors:[["app-login"]],decls:5,vars:1,consts:[[3,"formGroup","ngSubmit"],["type","email","placeholder","Enter your email","formControlName","email"],["type","password","placeholder","Enter your password","formControlName","password"],["type","submit"]],template:function(_,A){1&_&&(B.TgZ(0,"form",0),B.NdJ("ngSubmit",function(){return A.login()}),B._UZ(1,"input",1)(2,"input",2),B.TgZ(3,"button",3),B._uU(4,"Login"),B.qZA()()),2&_&&B.Q6J("formGroup",A.form)},dependencies:[Ae._Y,Ae.Fj,Ae.JJ,Ae.JL,Ae.sg,Ae.u],styles:["form[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;min-width:150px;background-color:#00517c;padding:5px;gap:5px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-style:none;cursor:pointer;display:block;color:#fff;background-color:#009df1;padding:5px 10px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0275b3}"]}),O})()},{path:"register",component:(()=>{class O{constructor(_,A){this.fb=_,this.authService=A,this.form=this.fb.group({nick:["",[Ae.kI.required,Ae.kI.minLength(3)]],email:["",[Ae.kI.required,Ae.kI.email]],password:["",[Ae.kI.required,Ae.kI.minLength(5)]],guildMaster:!0,guildName:["",[Ae.kI.required]]}),this.showPassword=!1}onSubmit(){this.form.valid&&this.authService.register(this.form.getRawValue())}}return O.\u0275fac=function(_){return new(_||O)(B.Y36(Ae.j3),B.Y36($e))},O.\u0275cmp=B.Xpm({type:O,selectors:[["app-register"]],decls:19,vars:6,consts:[[3,"formGroup","ngSubmit"],["type","text","placeholder","Enter your nick","formControlName","nick"],["type","email","placeholder","Enter your email","formControlName","email"],["placeholder","Enter your password","formControlName","password",3,"type"],["type","checkbox",3,"value","change"],[1,"master-check"],["type","radio","name","guildMaster","formControlName","guildMaster",3,"value"],["type","text","placeholder","Guild name","formControlName","guildName"],["type","submit",3,"disabled"]],template:function(_,A){1&_&&(B.TgZ(0,"form",0),B.NdJ("ngSubmit",function(){return A.onSubmit()}),B._UZ(1,"input",1)(2,"input",2)(3,"input",3),B.TgZ(4,"label"),B._uU(5,"Show password "),B.TgZ(6,"input",4),B.NdJ("change",function(){return A.showPassword=!A.showPassword}),B.qZA()(),B.TgZ(7,"div",5)(8,"label"),B._UZ(9,"input",6),B.TgZ(10,"span"),B._uU(11,"Create Guild"),B.qZA()(),B.TgZ(12,"label"),B._UZ(13,"input",6),B.TgZ(14,"span"),B._uU(15,"Join Guild"),B.qZA()()(),B._UZ(16,"input",7),B.TgZ(17,"button",8),B._uU(18,"Register"),B.qZA()()),2&_&&(B.Q6J("formGroup",A.form),B.xp6(3),B.Q6J("type",A.showPassword?"text":"password"),B.xp6(3),B.Q6J("value",A.showPassword),B.xp6(3),B.Q6J("value",!0),B.xp6(4),B.Q6J("value",!1),B.xp6(4),B.Q6J("disabled",!A.form.valid))},dependencies:[Ae._Y,Ae.Fj,Ae._,Ae.JJ,Ae.JL,Ae.sg,Ae.u],styles:["form[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;min-width:150px;background-color:#00517c;padding:5px;gap:5px}form[_ngcontent-%COMP%]   .master-check[_ngcontent-%COMP%]{display:flex}form[_ngcontent-%COMP%]   .master-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}form[_ngcontent-%COMP%]   .master-check[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]{color:#fff;background-color:#009df1}form[_ngcontent-%COMP%]   .master-check[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:hover{background-color:#0275b3}form[_ngcontent-%COMP%]   .master-check[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:checked{background-color:#00a6ff}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-style:none;cursor:pointer;display:block;color:#fff;background-color:#009df1;padding:5px 10px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0275b3}"]}),O})()}]}];let mt=(()=>{class O{}return O.\u0275fac=function(_){return new(_||O)},O.\u0275mod=B.oAB({type:O}),O.\u0275inj=B.cJS({providers:[$e],imports:[re.Bz.forChild(gt),Ae.UX]}),O})();const Pt=[{path:"add-character",component:(()=>{class O{}return O.\u0275fac=function(_){return new(_||O)},O.\u0275cmp=B.Xpm({type:O,selectors:[["app-add-character"]],decls:6,vars:0,consts:[["type","text","placeholder","Character name"],["type","text","placeholder","Level"],["type","text","placeholder","Gear score"],["type","text","placeholder","Role"],["type","text","placeholder","Specyfication"]],template:function(_,A){1&_&&(B.TgZ(0,"form"),B._UZ(1,"input",0)(2,"input",1)(3,"input",2)(4,"input",3)(5,"input",4),B.qZA())},styles:["[_nghost-%COMP%]{width:100%;margin:0 20px}"]}),O})(),canActivate:[yn]},{path:"character-list",component:(()=>{class O{}return O.\u0275fac=function(_){return new(_||O)},O.\u0275cmp=B.Xpm({type:O,selectors:[["app-character-list"]],decls:2,vars:0,template:function(_,A){1&_&&(B.TgZ(0,"p"),B._uU(1,"character-list works!"),B.qZA())}}),O})(),canActivate:[yn]},{path:"dashboard",component:(()=>{class O{}return O.\u0275fac=function(_){return new(_||O)},O.\u0275cmp=B.Xpm({type:O,selectors:[["app-dashboard"]],decls:6,vars:0,consts:[["routerLink","user-panel","routerLinkActive","active"],["routerLink","guild-panel","routerLinkActive","active"]],template:function(_,A){1&_&&(B.TgZ(0,"div")(1,"button",0),B._uU(2,"User Panel"),B.qZA(),B.TgZ(3,"button",1),B._uU(4,"Guild Panel"),B.qZA()(),B._UZ(5,"router-outlet"))},dependencies:[re.lC,re.rH,re.Od],styles:["[_nghost-%COMP%]{width:100%}"]}),O})(),children:[{path:"user-panel",component:(()=>{class O{}return O.\u0275fac=function(_){return new(_||O)},O.\u0275cmp=B.Xpm({type:O,selectors:[["app-user-panel"]],decls:2,vars:0,template:function(_,A){1&_&&(B.TgZ(0,"p"),B._uU(1,"user-panel works!"),B.qZA())}}),O})()},{path:"guild-panel",component:(()=>{class O{}return O.\u0275fac=function(_){return new(_||O)},O.\u0275cmp=B.Xpm({type:O,selectors:[["app-guild-panel"]],decls:2,vars:0,template:function(_,A){1&_&&(B.TgZ(0,"p"),B._uU(1,"guild-panel works!"),B.qZA())}}),O})()},{path:"",pathMatch:"full",redirectTo:"user-panel"}],canActivate:[yn]}];let Vn=(()=>{class O{}return O.\u0275fac=function(_){return new(_||O)},O.\u0275mod=B.oAB({type:O}),O.\u0275inj=B.cJS({providers:[yn],imports:[ie.ez,re.Bz.forChild(Pt)]}),O})();const Cr=[{path:"raids",component:(()=>{class O{}return O.\u0275fac=function(_){return new(_||O)},O.\u0275cmp=B.Xpm({type:O,selectors:[["app-raids"]],decls:2,vars:0,template:function(_,A){1&_&&(B.TgZ(0,"p"),B._uU(1,"raids works!"),B.qZA())}}),O})()}];let xn=(()=>{class O{}return O.\u0275fac=function(_){return new(_||O)},O.\u0275mod=B.oAB({type:O}),O.\u0275inj=B.cJS({imports:[ie.ez,re.Bz.forChild(Cr)]}),O})();const yi=[{path:"progress",children:[{path:"individual",loadChildren:()=>Y.e(754).then(Y.bind(Y,3754)).then(O=>O.IndividualModule)},{path:"global",loadChildren:()=>Y.e(91).then(Y.bind(Y,7091)).then(O=>O.GlobalModule)}],canActivate:[yn]}];let Or=(()=>{class O{}return O.\u0275fac=function(_){return new(_||O)},O.\u0275mod=B.oAB({type:O}),O.\u0275inj=B.cJS({imports:[ie.ez,re.Bz.forChild(yi)]}),O})();class Gr{}class qi{}const Tr="*";function Un(O,g=null){return{type:2,steps:O,options:g}}function ni(O){return{type:6,styles:O,offset:null}}function zr(O){Promise.resolve().then(O)}class kr{constructor(g=0,_=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=g+_}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zr(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(g=>g()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(g){this._position=this.totalTime?g*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(g){const _="start"==g?this._onStartFns:this._onDoneFns;_.forEach(A=>A()),_.length=0}}class Ai{constructor(g){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=g;let _=0,A=0,z=0;const te=this.players.length;0==te?zr(()=>this._onFinish()):this.players.forEach(ce=>{ce.onDone(()=>{++_==te&&this._onFinish()}),ce.onDestroy(()=>{++A==te&&this._onDestroy()}),ce.onStart(()=>{++z==te&&this._onStart()})}),this.totalTime=this.players.reduce((ce,oe)=>Math.max(ce,oe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this.players.forEach(g=>g.init())}onStart(g){this._onStartFns.push(g)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(g=>g()),this._onStartFns=[])}onDone(g){this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(g=>g.play())}pause(){this.players.forEach(g=>g.pause())}restart(){this.players.forEach(g=>g.restart())}finish(){this._onFinish(),this.players.forEach(g=>g.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(g=>g.destroy()),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}reset(){this.players.forEach(g=>g.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(g){const _=g*this.totalTime;this.players.forEach(A=>{const z=A.totalTime?Math.min(1,_/A.totalTime):1;A.setPosition(z)})}getPosition(){const g=this.players.reduce((_,A)=>null===_||A.totalTime>_.totalTime?A:_,null);return null!=g?g.getPosition():0}beforeDestroy(){this.players.forEach(g=>{g.beforeDestroy&&g.beforeDestroy()})}triggerCallback(g){const _="start"==g?this._onStartFns:this._onDoneFns;_.forEach(A=>A()),_.length=0}}const sr="!";function $n(O){return new B.vHH(3e3,!1)}function as(){return typeof window<"u"&&typeof window.document<"u"}function Sn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function gr(O){switch(O.length){case 0:return new kr;case 1:return O[0];default:return new Ai(O)}}function hr(O,g,_,A,z=new Map,te=new Map){const ce=[],oe=[];let Oe=-1,be=null;if(A.forEach(St=>{const it=St.get("offset"),ot=it==Oe,pn=ot&&be||new Map;St.forEach((dn,tn)=>{let yr=tn,_r=dn;if("offset"!==tn)switch(yr=g.normalizePropertyName(yr,ce),_r){case sr:_r=z.get(tn);break;case Tr:_r=te.get(tn);break;default:_r=g.normalizeStyleValue(tn,yr,_r,ce)}pn.set(yr,_r)}),ot||oe.push(pn),be=pn,Oe=it}),ce.length)throw function qe(O){return new B.vHH(3502,!1)}();return oe}function $i(O,g,_,A){switch(g){case"start":O.onStart(()=>A(_&&Rr(_,"start",O)));break;case"done":O.onDone(()=>A(_&&Rr(_,"done",O)));break;case"destroy":O.onDestroy(()=>A(_&&Rr(_,"destroy",O)))}}function Rr(O,g,_){const te=Zi(O.element,O.triggerName,O.fromState,O.toState,g||O.phaseName,_.totalTime??O.totalTime,!!_.disabled),ce=O._data;return null!=ce&&(te._data=ce),te}function Zi(O,g,_,A,z="",te=0,ce){return{element:O,triggerName:g,fromState:_,toState:A,phaseName:z,totalTime:te,disabled:!!ce}}function fi(O,g,_){let A=O.get(g);return A||O.set(g,A=_),A}function Gs(O){const g=O.indexOf(":");return[O.substring(1,g),O.slice(g+1)]}let fs=(O,g)=>!1,Rt=(O,g,_)=>[],vn=null;function wr(O){const g=O.parentNode||O.host;return g===vn?null:g}(Sn()||typeof Element<"u")&&(as()?(vn=(()=>document.documentElement)(),fs=(O,g)=>{for(;g;){if(g===O)return!0;g=wr(g)}return!1}):fs=(O,g)=>O.contains(g),Rt=(O,g,_)=>{if(_)return Array.from(O.querySelectorAll(g));const A=O.querySelector(g);return A?[A]:[]});let fr=null,xi=!1;const wn=fs,Qi=Rt;let Ji=(()=>{class O{validateStyleProperty(_){return function Ir(O){fr||(fr=function so(){return typeof document<"u"?document.body:null}()||{},xi=!!fr.style&&"WebkitAppearance"in fr.style);let g=!0;return fr.style&&!function Ns(O){return"ebkit"==O.substring(1,6)}(O)&&(g=O in fr.style,!g&&xi&&(g="Webkit"+O.charAt(0).toUpperCase()+O.slice(1)in fr.style)),g}(_)}matchesElement(_,A){return!1}containsElement(_,A){return wn(_,A)}getParentElement(_){return wr(_)}query(_,A,z){return Qi(_,A,z)}computeStyle(_,A,z){return z||""}animate(_,A,z,te,ce,oe=[],Oe){return new kr(z,te)}}return O.\u0275fac=function(_){return new(_||O)},O.\u0275prov=B.Yz7({token:O,factory:O.\u0275fac}),O})(),Xi=(()=>{class O{}return O.NOOP=new Ji,O})();const Yr=1e3,ur="ng-enter",br="ng-leave",Wr="ng-trigger",Xn=".ng-trigger",zs="ng-animating",ao=".ng-animating";function vt(O){if("number"==typeof O)return O;const g=O.match(/^(-?[\.\d]+)(m?s)/);return!g||g.length<2?0:pi(parseFloat(g[1]),g[2])}function pi(O,g){return"s"===g?O*Yr:O}function Pi(O,g,_){return O.hasOwnProperty("duration")?O:function Ri(O,g,_){let z,te=0,ce="";if("string"==typeof O){const oe=O.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===oe)return g.push($n()),{duration:0,delay:0,easing:""};z=pi(parseFloat(oe[1]),oe[2]);const Oe=oe[3];null!=Oe&&(te=pi(parseFloat(Oe),oe[4]));const be=oe[5];be&&(ce=be)}else z=O;if(!_){let oe=!1,Oe=g.length;z<0&&(g.push(function Hs(){return new B.vHH(3100,!1)}()),oe=!0),te<0&&(g.push(function Kn(){return new B.vHH(3101,!1)}()),oe=!0),oe&&g.splice(Oe,0,$n())}return{duration:z,delay:te,easing:ce}}(O,g,_)}function nr(O,g={}){return Object.keys(O).forEach(_=>{g[_]=O[_]}),g}function Ko(O){const g=new Map;return Object.keys(O).forEach(_=>{g.set(_,O[_])}),g}function Hn(O,g=new Map,_){if(_)for(let[A,z]of _)g.set(A,z);for(let[A,z]of O)g.set(A,z);return g}function ji(O,g,_){return _?g+":"+_+";":""}function Is(O){let g="";for(let _=0;_<O.style.length;_++){const A=O.style.item(_);g+=ji(0,A,O.style.getPropertyValue(A))}for(const _ in O.style)O.style.hasOwnProperty(_)&&!_.startsWith("_")&&(g+=ji(0,Vo(_),O.style[_]));O.setAttribute("style",g)}function Sr(O,g,_){O.style&&(g.forEach((A,z)=>{const te=uo(z);_&&!_.has(z)&&_.set(z,O.style[te]),O.style[te]=A}),Sn()&&Is(O))}function Ws(O,g){O.style&&(g.forEach((_,A)=>{const z=uo(A);O.style[z]=""}),Sn()&&Is(O))}function lr(O){return Array.isArray(O)?1==O.length?O[0]:Un(O):O}const us=new RegExp("{{\\s*(.+?)\\s*}}","g");function Os(O){let g=[];if("string"==typeof O){let _;for(;_=us.exec(O);)g.push(_[1]);us.lastIndex=0}return g}function Io(O,g,_){const A=O.toString(),z=A.replace(us,(te,ce)=>{let oe=g[ce];return null==oe&&(_.push(function Zn(O){return new B.vHH(3003,!1)}()),oe=""),oe.toString()});return z==A?O:z}function Qr(O){const g=[];let _=O.next();for(;!_.done;)g.push(_.value),_=O.next();return g}const ps=/-+([a-z0-9])/g;function uo(O){return O.replace(ps,(...g)=>g[1].toUpperCase())}function Vo(O){return O.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Hi(O,g,_){switch(g.type){case 7:return O.visitTrigger(g,_);case 0:return O.visitState(g,_);case 1:return O.visitTransition(g,_);case 2:return O.visitSequence(g,_);case 3:return O.visitGroup(g,_);case 4:return O.visitAnimate(g,_);case 5:return O.visitKeyframes(g,_);case 6:return O.visitStyle(g,_);case 8:return O.visitReference(g,_);case 9:return O.visitAnimateChild(g,_);case 10:return O.visitAnimateRef(g,_);case 11:return O.visitQuery(g,_);case 12:return O.visitStagger(g,_);default:throw function Fr(O){return new B.vHH(3004,!1)}()}}function Zo(O,g){return window.getComputedStyle(O)[g]}const Oi="*";function lo(O,g){const _=[];return"string"==typeof O?O.split(/\s*,\s*/).forEach(A=>function Cs(O,g,_){if(":"==O[0]){const Oe=function Fs(O,g){switch(O){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(_,A)=>parseFloat(A)>parseFloat(_);case":decrement":return(_,A)=>parseFloat(A)<parseFloat(_);default:return g.push(function se(O){return new B.vHH(3016,!1)}()),"* => *"}}(O,_);if("function"==typeof Oe)return void g.push(Oe);O=Oe}const A=O.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==A||A.length<4)return _.push(function ge(O){return new B.vHH(3015,!1)}()),g;const z=A[1],te=A[2],ce=A[3];g.push(ki(z,ce));"<"==te[0]&&!(z==Oi&&ce==Oi)&&g.push(ki(ce,z))}(A,_,g)):_.push(O),_}const co=new Set(["true","1"]),To=new Set(["false","0"]);function ki(O,g){const _=co.has(O)||To.has(O),A=co.has(g)||To.has(g);return(z,te)=>{let ce=O==Oi||O==z,oe=g==Oi||g==te;return!ce&&_&&"boolean"==typeof z&&(ce=z?co.has(O):To.has(O)),!oe&&A&&"boolean"==typeof te&&(oe=te?co.has(g):To.has(g)),ce&&oe}}const Ts=new RegExp("s*:selfs*,?","g");function gs(O,g,_,A){return new Vr(O).build(g,_,A)}class Vr{constructor(g){this._driver=g}build(g,_,A){const z=new gi(_);return this._resetContextStyleTimingState(z),Hi(this,lr(g),z)}_resetContextStyleTimingState(g){g.currentQuerySelector="",g.collectedStyles=new Map,g.collectedStyles.set("",new Map),g.currentTime=0}visitTrigger(g,_){let A=_.queryCount=0,z=_.depCount=0;const te=[],ce=[];return"@"==g.name.charAt(0)&&_.errors.push(function _i(){return new B.vHH(3006,!1)}()),g.definitions.forEach(oe=>{if(this._resetContextStyleTimingState(_),0==oe.type){const Oe=oe,be=Oe.name;be.toString().split(/\s*,\s*/).forEach(St=>{Oe.name=St,te.push(this.visitState(Oe,_))}),Oe.name=be}else if(1==oe.type){const Oe=this.visitTransition(oe,_);A+=Oe.queryCount,z+=Oe.depCount,ce.push(Oe)}else _.errors.push(function ar(){return new B.vHH(3007,!1)}())}),{type:7,name:g.name,states:te,transitions:ce,queryCount:A,depCount:z,options:null}}visitState(g,_){const A=this.visitStyle(g.styles,_),z=g.options&&g.options.params||null;if(A.containsDynamicStyles){const te=new Set,ce=z||{};A.styles.forEach(oe=>{oe instanceof Map&&oe.forEach(Oe=>{Os(Oe).forEach(be=>{ce.hasOwnProperty(be)||te.add(be)})})}),te.size&&(Qr(te.values()),_.errors.push(function hi(O,g){return new B.vHH(3008,!1)}()))}return{type:0,name:g.name,style:A,options:z?{params:z}:null}}visitTransition(g,_){_.queryCount=0,_.depCount=0;const A=Hi(this,lr(g.animation),_);return{type:1,matchers:lo(g.expr,_.errors),animation:A,queryCount:_.queryCount,depCount:_.depCount,options:rr(g.options)}}visitSequence(g,_){return{type:2,steps:g.steps.map(A=>Hi(this,A,_)),options:rr(g.options)}}visitGroup(g,_){const A=_.currentTime;let z=0;const te=g.steps.map(ce=>{_.currentTime=A;const oe=Hi(this,ce,_);return z=Math.max(z,_.currentTime),oe});return _.currentTime=z,{type:3,steps:te,options:rr(g.options)}}visitAnimate(g,_){const A=function Gi(O,g){if(O.hasOwnProperty("duration"))return O;if("number"==typeof O)return ms(Pi(O,g).duration,0,"");const _=O;if(_.split(/\s+/).some(te=>"{"==te.charAt(0)&&"{"==te.charAt(1))){const te=ms(0,0,"");return te.dynamic=!0,te.strValue=_,te}const z=Pi(_,g);return ms(z.duration,z.delay,z.easing)}(g.timings,_.errors);_.currentAnimateTimings=A;let z,te=g.styles?g.styles:ni({});if(5==te.type)z=this.visitKeyframes(te,_);else{let ce=g.styles,oe=!1;if(!ce){oe=!0;const be={};A.easing&&(be.easing=A.easing),ce=ni(be)}_.currentTime+=A.duration+A.delay;const Oe=this.visitStyle(ce,_);Oe.isEmptyStep=oe,z=Oe}return _.currentAnimateTimings=null,{type:4,timings:A,style:z,options:null}}visitStyle(g,_){const A=this._makeStyleAst(g,_);return this._validateStyleAst(A,_),A}_makeStyleAst(g,_){const A=[],z=Array.isArray(g.styles)?g.styles:[g.styles];for(let oe of z)"string"==typeof oe?oe===Tr?A.push(oe):_.errors.push(new B.vHH(3002,!1)):A.push(Ko(oe));let te=!1,ce=null;return A.forEach(oe=>{if(oe instanceof Map&&(oe.has("easing")&&(ce=oe.get("easing"),oe.delete("easing")),!te))for(let Oe of oe.values())if(Oe.toString().indexOf("{{")>=0){te=!0;break}}),{type:6,styles:A,easing:ce,offset:g.offset,containsDynamicStyles:te,options:null}}_validateStyleAst(g,_){const A=_.currentAnimateTimings;let z=_.currentTime,te=_.currentTime;A&&te>0&&(te-=A.duration+A.delay),g.styles.forEach(ce=>{"string"!=typeof ce&&ce.forEach((oe,Oe)=>{const be=_.collectedStyles.get(_.currentQuerySelector),St=be.get(Oe);let it=!0;St&&(te!=z&&te>=St.startTime&&z<=St.endTime&&(_.errors.push(function me(O,g,_,A,z){return new B.vHH(3010,!1)}()),it=!1),te=St.startTime),it&&be.set(Oe,{startTime:te,endTime:z}),_.options&&function pr(O,g,_){const A=g.params||{},z=Os(O);z.length&&z.forEach(te=>{A.hasOwnProperty(te)||_.push(function or(O){return new B.vHH(3001,!1)}())})}(oe,_.options,_.errors)})})}visitKeyframes(g,_){const A={type:5,styles:[],options:null};if(!_.currentAnimateTimings)return _.errors.push(function de(){return new B.vHH(3011,!1)}()),A;let te=0;const ce=[];let oe=!1,Oe=!1,be=0;const St=g.steps.map(_r=>{const Ii=this._makeStyleAst(_r,_);let Xr=null!=Ii.offset?Ii.offset:function Sa(O){if("string"==typeof O)return null;let g=null;if(Array.isArray(O))O.forEach(_=>{if(_ instanceof Map&&_.has("offset")){const A=_;g=parseFloat(A.get("offset")),A.delete("offset")}});else if(O instanceof Map&&O.has("offset")){const _=O;g=parseFloat(_.get("offset")),_.delete("offset")}return g}(Ii.styles),Di=0;return null!=Xr&&(te++,Di=Ii.offset=Xr),Oe=Oe||Di<0||Di>1,oe=oe||Di<be,be=Di,ce.push(Di),Ii});Oe&&_.errors.push(function we(){return new B.vHH(3012,!1)}()),oe&&_.errors.push(function Ze(){return new B.vHH(3200,!1)}());const it=g.steps.length;let ot=0;te>0&&te<it?_.errors.push(function ke(){return new B.vHH(3202,!1)}()):0==te&&(ot=1/(it-1));const pn=it-1,dn=_.currentTime,tn=_.currentAnimateTimings,yr=tn.duration;return St.forEach((_r,Ii)=>{const Xr=ot>0?Ii==pn?1:ot*Ii:ce[Ii],Di=Xr*yr;_.currentTime=dn+tn.delay+Di,tn.duration=Di,this._validateStyleAst(_r,_),_r.offset=Xr,A.styles.push(_r)}),A}visitReference(g,_){return{type:8,animation:Hi(this,lr(g.animation),_),options:rr(g.options)}}visitAnimateChild(g,_){return _.depCount++,{type:9,options:rr(g.options)}}visitAnimateRef(g,_){return{type:10,animation:this.visitReference(g.animation,_),options:rr(g.options)}}visitQuery(g,_){const A=_.currentQuerySelector,z=g.options||{};_.queryCount++,_.currentQuery=g;const[te,ce]=function Uo(O){const g=!!O.split(/\s*,\s*/).find(_=>":self"==_);return g&&(O=O.replace(Ts,"")),O=O.replace(/@\*/g,Xn).replace(/@\w+/g,_=>Xn+"-"+_.slice(1)).replace(/:animating/g,ao),[O,g]}(g.selector);_.currentQuerySelector=A.length?A+" "+te:te,fi(_.collectedStyles,_.currentQuerySelector,new Map);const oe=Hi(this,lr(g.animation),_);return _.currentQuery=null,_.currentQuerySelector=A,{type:11,selector:te,limit:z.limit||0,optional:!!z.optional,includeSelf:ce,animation:oe,originalSelector:g.selector,options:rr(g.options)}}visitStagger(g,_){_.currentQuery||_.errors.push(function bt(){return new B.vHH(3013,!1)}());const A="full"===g.timings?{duration:0,delay:0,easing:"full"}:Pi(g.timings,_.errors,!0);return{type:12,animation:Hi(this,lr(g.animation),_),timings:A,options:null}}}class gi{constructor(g){this.errors=g,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rr(O){return O?(O=nr(O)).params&&(O.params=function Ar(O){return O?nr(O):null}(O.params)):O={},O}function ms(O,g,_){return{duration:O,delay:g,easing:_}}function So(O,g,_,A,z,te,ce=null,oe=!1){return{type:1,element:O,keyframes:g,preStyleProps:_,postStyleProps:A,duration:z,delay:te,totalTime:z+te,easing:ce,subTimeline:oe}}class vi{constructor(){this._map=new Map}get(g){return this._map.get(g)||[]}append(g,_){let A=this._map.get(g);A||this._map.set(g,A=[]),A.push(..._)}has(g){return this._map.has(g)}clear(){this._map.clear()}}const ci=new RegExp(":enter","g"),ho=new RegExp(":leave","g");function Ao(O,g,_,A,z,te=new Map,ce=new Map,oe,Oe,be=[]){return(new qs).buildKeyframes(O,g,_,A,z,te,ce,oe,Oe,be)}class qs{buildKeyframes(g,_,A,z,te,ce,oe,Oe,be,St=[]){be=be||new vi;const it=new Xo(g,_,be,z,te,St,[]);it.options=Oe;const ot=Oe.delay?vt(Oe.delay):0;it.currentTimeline.delayNextStep(ot),it.currentTimeline.setStyles([ce],null,it.errors,Oe),Hi(this,A,it);const pn=it.timelines.filter(dn=>dn.containsAnimation());if(pn.length&&oe.size){let dn;for(let tn=pn.length-1;tn>=0;tn--){const yr=pn[tn];if(yr.element===_){dn=yr;break}}dn&&!dn.allowOnlyTimelineStyles()&&dn.setStyles([oe],null,it.errors,Oe)}return pn.length?pn.map(dn=>dn.buildKeyframes()):[So(_,[],[],[],0,ot,"",!1)]}visitTrigger(g,_){}visitState(g,_){}visitTransition(g,_){}visitAnimateChild(g,_){const A=_.subInstructions.get(_.element);if(A){const z=_.createSubContext(g.options),te=_.currentTimeline.currentTime,ce=this._visitSubInstructions(A,z,z.options);te!=ce&&_.transformIntoNewTimeline(ce)}_.previousNode=g}visitAnimateRef(g,_){const A=_.createSubContext(g.options);A.transformIntoNewTimeline(),this._applyAnimationRefDelays([g.options,g.animation.options],_,A),this.visitReference(g.animation,A),_.transformIntoNewTimeline(A.currentTimeline.currentTime),_.previousNode=g}_applyAnimationRefDelays(g,_,A){for(const z of g){const te=z?.delay;if(te){const ce="number"==typeof te?te:vt(Io(te,z?.params??{},_.errors));A.delayNextStep(ce)}}}_visitSubInstructions(g,_,A){let te=_.currentTimeline.currentTime;const ce=null!=A.duration?vt(A.duration):null,oe=null!=A.delay?vt(A.delay):null;return 0!==ce&&g.forEach(Oe=>{const be=_.appendInstructionToTimeline(Oe,ce,oe);te=Math.max(te,be.duration+be.delay)}),te}visitReference(g,_){_.updateOptions(g.options,!0),Hi(this,g.animation,_),_.previousNode=g}visitSequence(g,_){const A=_.subContextCount;let z=_;const te=g.options;if(te&&(te.params||te.delay)&&(z=_.createSubContext(te),z.transformIntoNewTimeline(),null!=te.delay)){6==z.previousNode.type&&(z.currentTimeline.snapshotCurrentStyles(),z.previousNode=an);const ce=vt(te.delay);z.delayNextStep(ce)}g.steps.length&&(g.steps.forEach(ce=>Hi(this,ce,z)),z.currentTimeline.applyStylesToKeyframe(),z.subContextCount>A&&z.transformIntoNewTimeline()),_.previousNode=g}visitGroup(g,_){const A=[];let z=_.currentTimeline.currentTime;const te=g.options&&g.options.delay?vt(g.options.delay):0;g.steps.forEach(ce=>{const oe=_.createSubContext(g.options);te&&oe.delayNextStep(te),Hi(this,ce,oe),z=Math.max(z,oe.currentTimeline.currentTime),A.push(oe.currentTimeline)}),A.forEach(ce=>_.currentTimeline.mergeTimelineCollectedStyles(ce)),_.transformIntoNewTimeline(z),_.previousNode=g}_visitTiming(g,_){if(g.dynamic){const A=g.strValue;return Pi(_.params?Io(A,_.params,_.errors):A,_.errors)}return{duration:g.duration,delay:g.delay,easing:g.easing}}visitAnimate(g,_){const A=_.currentAnimateTimings=this._visitTiming(g.timings,_),z=_.currentTimeline;A.delay&&(_.incrementTime(A.delay),z.snapshotCurrentStyles());const te=g.style;5==te.type?this.visitKeyframes(te,_):(_.incrementTime(A.duration),this.visitStyle(te,_),z.applyStylesToKeyframe()),_.currentAnimateTimings=null,_.previousNode=g}visitStyle(g,_){const A=_.currentTimeline,z=_.currentAnimateTimings;!z&&A.hasCurrentStyleProperties()&&A.forwardFrame();const te=z&&z.easing||g.easing;g.isEmptyStep?A.applyEmptyStep(te):A.setStyles(g.styles,te,_.errors,_.options),_.previousNode=g}visitKeyframes(g,_){const A=_.currentAnimateTimings,z=_.currentTimeline.duration,te=A.duration,oe=_.createSubContext().currentTimeline;oe.easing=A.easing,g.styles.forEach(Oe=>{oe.forwardTime((Oe.offset||0)*te),oe.setStyles(Oe.styles,Oe.easing,_.errors,_.options),oe.applyStylesToKeyframe()}),_.currentTimeline.mergeTimelineCollectedStyles(oe),_.transformIntoNewTimeline(z+te),_.previousNode=g}visitQuery(g,_){const A=_.currentTimeline.currentTime,z=g.options||{},te=z.delay?vt(z.delay):0;te&&(6===_.previousNode.type||0==A&&_.currentTimeline.hasCurrentStyleProperties())&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=an);let ce=A;const oe=_.invokeQuery(g.selector,g.originalSelector,g.limit,g.includeSelf,!!z.optional,_.errors);_.currentQueryTotal=oe.length;let Oe=null;oe.forEach((be,St)=>{_.currentQueryIndex=St;const it=_.createSubContext(g.options,be);te&&it.delayNextStep(te),be===_.element&&(Oe=it.currentTimeline),Hi(this,g.animation,it),it.currentTimeline.applyStylesToKeyframe(),ce=Math.max(ce,it.currentTimeline.currentTime)}),_.currentQueryIndex=0,_.currentQueryTotal=0,_.transformIntoNewTimeline(ce),Oe&&(_.currentTimeline.mergeTimelineCollectedStyles(Oe),_.currentTimeline.snapshotCurrentStyles()),_.previousNode=g}visitStagger(g,_){const A=_.parentContext,z=_.currentTimeline,te=g.timings,ce=Math.abs(te.duration),oe=ce*(_.currentQueryTotal-1);let Oe=ce*_.currentQueryIndex;switch(te.duration<0?"reverse":te.easing){case"reverse":Oe=oe-Oe;break;case"full":Oe=A.currentStaggerTime}const St=_.currentTimeline;Oe&&St.delayNextStep(Oe);const it=St.currentTime;Hi(this,g.animation,_),_.previousNode=g,A.currentStaggerTime=z.currentTime-it+(z.startTime-A.currentTimeline.startTime)}}const an={};class Xo{constructor(g,_,A,z,te,ce,oe,Oe){this._driver=g,this.element=_,this.subInstructions=A,this._enterClassName=z,this._leaveClassName=te,this.errors=ce,this.timelines=oe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=an,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Oe||new ea(this._driver,_,0),oe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(g,_){if(!g)return;const A=g;let z=this.options;null!=A.duration&&(z.duration=vt(A.duration)),null!=A.delay&&(z.delay=vt(A.delay));const te=A.params;if(te){let ce=z.params;ce||(ce=this.options.params={}),Object.keys(te).forEach(oe=>{(!_||!ce.hasOwnProperty(oe))&&(ce[oe]=Io(te[oe],ce,this.errors))})}}_copyOptions(){const g={};if(this.options){const _=this.options.params;if(_){const A=g.params={};Object.keys(_).forEach(z=>{A[z]=_[z]})}}return g}createSubContext(g=null,_,A){const z=_||this.element,te=new Xo(this._driver,z,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(z,A||0));return te.previousNode=this.previousNode,te.currentAnimateTimings=this.currentAnimateTimings,te.options=this._copyOptions(),te.updateOptions(g),te.currentQueryIndex=this.currentQueryIndex,te.currentQueryTotal=this.currentQueryTotal,te.parentContext=this,this.subContextCount++,te}transformIntoNewTimeline(g){return this.previousNode=an,this.currentTimeline=this.currentTimeline.fork(this.element,g),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(g,_,A){const z={duration:_??g.duration,delay:this.currentTimeline.currentTime+(A??0)+g.delay,easing:""},te=new fo(this._driver,g.element,g.keyframes,g.preStyleProps,g.postStyleProps,z,g.stretchStartingKeyframe);return this.timelines.push(te),z}incrementTime(g){this.currentTimeline.forwardTime(this.currentTimeline.duration+g)}delayNextStep(g){g>0&&this.currentTimeline.delayNextStep(g)}invokeQuery(g,_,A,z,te,ce){let oe=[];if(z&&oe.push(this.element),g.length>0){g=(g=g.replace(ci,"."+this._enterClassName)).replace(ho,"."+this._leaveClassName);let be=this._driver.query(this.element,g,1!=A);0!==A&&(be=A<0?be.slice(be.length+A,be.length):be.slice(0,A)),oe.push(...be)}return!te&&0==oe.length&&ce.push(function Ee(O){return new B.vHH(3014,!1)}()),oe}}class ea{constructor(g,_,A,z){this._driver=g,this.element=_,this.startTime=A,this._elementTimelineStylesLookup=z,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(_),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(_,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(g){const _=1===this._keyframes.size&&this._pendingStyles.size;this.duration||_?(this.forwardTime(this.currentTime+g),_&&this.snapshotCurrentStyles()):this.startTime+=g}fork(g,_){return this.applyStylesToKeyframe(),new ea(this._driver,g,_||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(g){this.applyStylesToKeyframe(),this.duration=g,this._loadKeyframe()}_updateStyle(g,_){this._localTimelineStyles.set(g,_),this._globalTimelineStyles.set(g,_),this._styleSummary.set(g,{time:this.currentTime,value:_})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(g){g&&this._previousKeyframe.set("easing",g);for(let[_,A]of this._globalTimelineStyles)this._backFill.set(_,A||Tr),this._currentKeyframe.set(_,Tr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(g,_,A,z){_&&this._previousKeyframe.set("easing",_);const te=z&&z.params||{},ce=function F(O,g){const _=new Map;let A;return O.forEach(z=>{if("*"===z){A=A||g.keys();for(let te of A)_.set(te,Tr)}else Hn(z,_)}),_}(g,this._globalTimelineStyles);for(let[oe,Oe]of ce){const be=Io(Oe,te,A);this._pendingStyles.set(oe,be),this._localTimelineStyles.has(oe)||this._backFill.set(oe,this._globalTimelineStyles.get(oe)??Tr),this._updateStyle(oe,be)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((g,_)=>{this._currentKeyframe.set(_,g)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((g,_)=>{this._currentKeyframe.has(_)||this._currentKeyframe.set(_,g)}))}snapshotCurrentStyles(){for(let[g,_]of this._localTimelineStyles)this._pendingStyles.set(g,_),this._updateStyle(g,_)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const g=[];for(let _ in this._currentKeyframe)g.push(_);return g}mergeTimelineCollectedStyles(g){g._styleSummary.forEach((_,A)=>{const z=this._styleSummary.get(A);(!z||_.time>z.time)&&this._updateStyle(A,_.value)})}buildKeyframes(){this.applyStylesToKeyframe();const g=new Set,_=new Set,A=1===this._keyframes.size&&0===this.duration;let z=[];this._keyframes.forEach((oe,Oe)=>{const be=Hn(oe,new Map,this._backFill);be.forEach((St,it)=>{St===sr?g.add(it):St===Tr&&_.add(it)}),A||be.set("offset",Oe/this.duration),z.push(be)});const te=g.size?Qr(g.values()):[],ce=_.size?Qr(_.values()):[];if(A){const oe=z[0],Oe=new Map(oe);oe.set("offset",0),Oe.set("offset",1),z=[oe,Oe]}return So(this.element,z,te,ce,this.duration,this.startTime,this.easing,!1)}}class fo extends ea{constructor(g,_,A,z,te,ce,oe=!1){super(g,_,ce.delay),this.keyframes=A,this.preStyleProps=z,this.postStyleProps=te,this._stretchStartingKeyframe=oe,this.timings={duration:ce.duration,delay:ce.delay,easing:ce.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let g=this.keyframes,{delay:_,duration:A,easing:z}=this.timings;if(this._stretchStartingKeyframe&&_){const te=[],ce=A+_,oe=_/ce,Oe=Hn(g[0]);Oe.set("offset",0),te.push(Oe);const be=Hn(g[0]);be.set("offset",Mo(oe)),te.push(be);const St=g.length-1;for(let it=1;it<=St;it++){let ot=Hn(g[it]);const pn=ot.get("offset");ot.set("offset",Mo((_+pn*A)/ce)),te.push(ot)}A=ce,_=0,z="",g=te}return So(this.element,g,this.preStyleProps,this.postStyleProps,A,_,z,!0)}}function Mo(O,g=3){const _=Math.pow(10,g-1);return Math.round(O*_)/_}class R{}const le=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ft extends R{normalizePropertyName(g,_){return uo(g)}normalizeStyleValue(g,_,A,z){let te="";const ce=A.toString().trim();if(le.has(_)&&0!==A&&"0"!==A)if("number"==typeof A)te="px";else{const oe=A.match(/^[+-]?[\d\.]+([a-z]*)$/);oe&&0==oe[1].length&&z.push(function Xt(O,g){return new B.vHH(3005,!1)}())}return ce+te}}function cr(O,g,_,A,z,te,ce,oe,Oe,be,St,it,ot){return{type:0,element:O,triggerName:g,isRemovalTransition:z,fromState:_,fromStyles:te,toState:A,toStyles:ce,timelines:oe,queriedElements:Oe,preStyleProps:be,postStyleProps:St,totalTime:it,errors:ot}}const ii={};class Dr{constructor(g,_,A){this._triggerName=g,this.ast=_,this._stateStyles=A}match(g,_,A,z){return function Zs(O,g,_,A,z){return O.some(te=>te(g,_,A,z))}(this.ast.matchers,g,_,A,z)}buildStyles(g,_,A){let z=this._stateStyles.get("*");return void 0!==g&&(z=this._stateStyles.get(g?.toString())||z),z?z.buildStyles(_,A):new Map}build(g,_,A,z,te,ce,oe,Oe,be,St){const it=[],ot=this.ast.options&&this.ast.options.params||ii,dn=this.buildStyles(A,oe&&oe.params||ii,it),tn=Oe&&Oe.params||ii,yr=this.buildStyles(z,tn,it),_r=new Set,Ii=new Map,Xr=new Map,Di="void"===z,Go={params:Jr(tn,ot),delay:this.ast.options?.delay},xr=St?[]:Ao(g,_,this.ast.animation,te,ce,dn,yr,Go,be,it);let Vi=0;if(xr.forEach(Ys=>{Vi=Math.max(Ys.duration+Ys.delay,Vi)}),it.length)return cr(_,this._triggerName,A,z,Di,dn,yr,[],[],Ii,Xr,Vi,it);xr.forEach(Ys=>{const $r=Ys.element,No=fi(Ii,$r,new Set);Ys.preStyleProps.forEach(Ui=>No.add(Ui));const Me=fi(Xr,$r,new Set);Ys.postStyleProps.forEach(Ui=>Me.add(Ui)),$r!==_&&_r.add($r)});const li=Qr(_r.values());return cr(_,this._triggerName,A,z,Di,dn,yr,xr,li,Ii,Xr,Vi)}}function Jr(O,g){const _=nr(g);for(const A in O)O.hasOwnProperty(A)&&null!=O[A]&&(_[A]=O[A]);return _}class ts{constructor(g,_,A){this.styles=g,this.defaultParams=_,this.normalizer=A}buildStyles(g,_){const A=new Map,z=nr(this.defaultParams);return Object.keys(g).forEach(te=>{const ce=g[te];null!==ce&&(z[te]=ce)}),this.styles.styles.forEach(te=>{"string"!=typeof te&&te.forEach((ce,oe)=>{ce&&(ce=Io(ce,z,_));const Oe=this.normalizer.normalizePropertyName(oe,_);ce=this.normalizer.normalizeStyleValue(oe,Oe,ce,_),A.set(oe,ce)})}),A}}class go{constructor(g,_,A){this.name=g,this.ast=_,this._normalizer=A,this.transitionFactories=[],this.states=new Map,_.states.forEach(z=>{this.states.set(z.name,new ts(z.style,z.options&&z.options.params||{},A))}),fa(this.states,"true","1"),fa(this.states,"false","0"),_.transitions.forEach(z=>{this.transitionFactories.push(new Dr(g,z,this.states))}),this.fallbackTransition=function xo(O,g,_){return new Dr(O,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ce,oe)=>!0],options:null,queryCount:0,depCount:0},g)}(g,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(g,_,A,z){return this.transitionFactories.find(ce=>ce.match(g,_,A,z))||null}matchStyles(g,_,A){return this.fallbackTransition.buildStyles(g,_,A)}}function fa(O,g,_){O.has(g)?O.has(_)||O.set(_,O.get(g)):O.has(_)&&O.set(g,O.get(_))}const Ei=new vi;class si{constructor(g,_,A){this.bodyNode=g,this._driver=_,this._normalizer=A,this._animations=new Map,this._playersById=new Map,this.players=[]}register(g,_){const A=[],z=[],te=gs(this._driver,_,A,z);if(A.length)throw function xt(O){return new B.vHH(3503,!1)}();this._animations.set(g,te)}_buildPlayer(g,_,A){const z=g.element,te=hr(0,this._normalizer,0,g.keyframes,_,A);return this._driver.animate(z,te,g.duration,g.delay,g.easing,[],!0)}create(g,_,A={}){const z=[],te=this._animations.get(g);let ce;const oe=new Map;if(te?(ce=Ao(this._driver,_,te,ur,br,new Map,new Map,A,Ei,z),ce.forEach(St=>{const it=fi(oe,St.element,new Map);St.postStyleProps.forEach(ot=>it.set(ot,null))})):(z.push(function Jt(){return new B.vHH(3300,!1)}()),ce=[]),z.length)throw function Jn(O){return new B.vHH(3504,!1)}();oe.forEach((St,it)=>{St.forEach((ot,pn)=>{St.set(pn,this._driver.computeStyle(it,pn,Tr))})});const be=gr(ce.map(St=>{const it=oe.get(St.element);return this._buildPlayer(St,new Map,it)}));return this._playersById.set(g,be),be.onDestroy(()=>this.destroy(g)),this.players.push(be),be}destroy(g){const _=this._getPlayer(g);_.destroy(),this._playersById.delete(g);const A=this.players.indexOf(_);A>=0&&this.players.splice(A,1)}_getPlayer(g){const _=this._playersById.get(g);if(!_)throw function je(O){return new B.vHH(3301,!1)}();return _}listen(g,_,A,z){const te=Zi(_,"","","");return $i(this._getPlayer(g),A,te,z),()=>{}}command(g,_,A,z){if("register"==A)return void this.register(g,z[0]);if("create"==A)return void this.create(g,_,z[0]||{});const te=this._getPlayer(g);switch(A){case"play":te.play();break;case"pause":te.pause();break;case"reset":te.reset();break;case"restart":te.restart();break;case"finish":te.finish();break;case"init":te.init();break;case"setPosition":te.setPosition(parseFloat(z[0]));break;case"destroy":this.destroy(g)}}}const ta="ng-animate-queued",oi="ng-animate-disabled",Tn=[],Bo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pa={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ur="__ng_removed";class mo{get params(){return this.options.params}constructor(g,_=""){this.namespaceId=_;const A=g&&g.hasOwnProperty("value");if(this.value=function ai(O){return O??null}(A?g.value:g),A){const te=nr(g);delete te.value,this.options=te}else this.options={};this.options.params||(this.options.params={})}absorbOptions(g){const _=g.params;if(_){const A=this.options.params;Object.keys(_).forEach(z=>{null==A[z]&&(A[z]=_[z])})}}}const Ro="void",yo=new mo(Ro);class ga{constructor(g,_,A){this.id=g,this.hostElement=_,this._engine=A,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+g,Fn(_,this._hostClassName)}listen(g,_,A,z){if(!this._triggers.has(_))throw function xe(O,g){return new B.vHH(3302,!1)}();if(null==A||0==A.length)throw function ct(O){return new B.vHH(3303,!1)}();if(!function $o(O){return"start"==O||"done"==O}(A))throw function Ht(O,g){return new B.vHH(3400,!1)}();const te=fi(this._elementListeners,g,[]),ce={name:_,phase:A,callback:z};te.push(ce);const oe=fi(this._engine.statesByElement,g,new Map);return oe.has(_)||(Fn(g,Wr),Fn(g,Wr+"-"+_),oe.set(_,yo)),()=>{this._engine.afterFlush(()=>{const Oe=te.indexOf(ce);Oe>=0&&te.splice(Oe,1),this._triggers.has(_)||oe.delete(_)})}}register(g,_){return!this._triggers.has(g)&&(this._triggers.set(g,_),!0)}_getTrigger(g){const _=this._triggers.get(g);if(!_)throw function on(O){return new B.vHH(3401,!1)}();return _}trigger(g,_,A,z=!0){const te=this._getTrigger(_),ce=new ns(this.id,_,g);let oe=this._engine.statesByElement.get(g);oe||(Fn(g,Wr),Fn(g,Wr+"-"+_),this._engine.statesByElement.set(g,oe=new Map));let Oe=oe.get(_);const be=new mo(A,this.id);if(!(A&&A.hasOwnProperty("value"))&&Oe&&be.absorbOptions(Oe.options),oe.set(_,be),Oe||(Oe=yo),be.value!==Ro&&Oe.value===be.value){if(!function Ba(O,g){const _=Object.keys(O),A=Object.keys(g);if(_.length!=A.length)return!1;for(let z=0;z<_.length;z++){const te=_[z];if(!g.hasOwnProperty(te)||O[te]!==g[te])return!1}return!0}(Oe.params,be.params)){const tn=[],yr=te.matchStyles(Oe.value,Oe.params,tn),_r=te.matchStyles(be.value,be.params,tn);tn.length?this._engine.reportError(tn):this._engine.afterFlush(()=>{Ws(g,yr),Sr(g,_r)})}return}const ot=fi(this._engine.playersByElement,g,[]);ot.forEach(tn=>{tn.namespaceId==this.id&&tn.triggerName==_&&tn.queued&&tn.destroy()});let pn=te.matchTransition(Oe.value,be.value,g,be.params),dn=!1;if(!pn){if(!z)return;pn=te.fallbackTransition,dn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:_,transition:pn,fromState:Oe,toState:be,player:ce,isFallbackTransition:dn}),dn||(Fn(g,ta),ce.onStart(()=>{_o(g,ta)})),ce.onDone(()=>{let tn=this.players.indexOf(ce);tn>=0&&this.players.splice(tn,1);const yr=this._engine.playersByElement.get(g);if(yr){let _r=yr.indexOf(ce);_r>=0&&yr.splice(_r,1)}}),this.players.push(ce),ot.push(ce),ce}deregister(g){this._triggers.delete(g),this._engine.statesByElement.forEach(_=>_.delete(g)),this._elementListeners.forEach((_,A)=>{this._elementListeners.set(A,_.filter(z=>z.name!=g))})}clearElementCache(g){this._engine.statesByElement.delete(g),this._elementListeners.delete(g);const _=this._engine.playersByElement.get(g);_&&(_.forEach(A=>A.destroy()),this._engine.playersByElement.delete(g))}_signalRemovalForInnerTriggers(g,_){const A=this._engine.driver.query(g,Xn,!0);A.forEach(z=>{if(z[Ur])return;const te=this._engine.fetchNamespacesByElement(z);te.size?te.forEach(ce=>ce.triggerLeaveAnimation(z,_,!1,!0)):this.clearElementCache(z)}),this._engine.afterFlushAnimationsDone(()=>A.forEach(z=>this.clearElementCache(z)))}triggerLeaveAnimation(g,_,A,z){const te=this._engine.statesByElement.get(g),ce=new Map;if(te){const oe=[];if(te.forEach((Oe,be)=>{if(ce.set(be,Oe.value),this._triggers.has(be)){const St=this.trigger(g,be,Ro,z);St&&oe.push(St)}}),oe.length)return this._engine.markElementAsRemoved(this.id,g,!0,_,ce),A&&gr(oe).onDone(()=>this._engine.processLeaveNode(g)),!0}return!1}prepareLeaveAnimationListeners(g){const _=this._elementListeners.get(g),A=this._engine.statesByElement.get(g);if(_&&A){const z=new Set;_.forEach(te=>{const ce=te.name;if(z.has(ce))return;z.add(ce);const Oe=this._triggers.get(ce).fallbackTransition,be=A.get(ce)||yo,St=new mo(Ro),it=new ns(this.id,ce,g);this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:ce,transition:Oe,fromState:be,toState:St,player:it,isFallbackTransition:!0})})}}removeNode(g,_){const A=this._engine;if(g.childElementCount&&this._signalRemovalForInnerTriggers(g,_),this.triggerLeaveAnimation(g,_,!0))return;let z=!1;if(A.totalAnimations){const te=A.players.length?A.playersByQueriedElement.get(g):[];if(te&&te.length)z=!0;else{let ce=g;for(;ce=ce.parentNode;)if(A.statesByElement.get(ce)){z=!0;break}}}if(this.prepareLeaveAnimationListeners(g),z)A.markElementAsRemoved(this.id,g,!1,_);else{const te=g[Ur];(!te||te===Bo)&&(A.afterFlush(()=>this.clearElementCache(g)),A.destroyInnerAnimations(g),A._onRemovalComplete(g,_))}}insertNode(g,_){Fn(g,this._hostClassName)}drainQueuedTransitions(g){const _=[];return this._queue.forEach(A=>{const z=A.player;if(z.destroyed)return;const te=A.element,ce=this._elementListeners.get(te);ce&&ce.forEach(oe=>{if(oe.name==A.triggerName){const Oe=Zi(te,A.triggerName,A.fromState.value,A.toState.value);Oe._data=g,$i(A.player,oe.phase,Oe,oe.callback)}}),z.markedForDestroy?this._engine.afterFlush(()=>{z.destroy()}):_.push(A)}),this._queue=[],_.sort((A,z)=>{const te=A.transition.ast.depCount,ce=z.transition.ast.depCount;return 0==te||0==ce?te-ce:this._engine.driver.containsElement(A.element,z.element)?1:-1})}destroy(g){this.players.forEach(_=>_.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,g)}elementContainsData(g){let _=!1;return this._elementListeners.has(g)&&(_=!0),_=!!this._queue.find(A=>A.element===g)||_,_}}class Ka{_onRemovalComplete(g,_){this.onRemovalComplete(g,_)}constructor(g,_,A){this.bodyNode=g,this.driver=_,this._normalizer=A,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(z,te)=>{}}get queuedPlayers(){const g=[];return this._namespaceList.forEach(_=>{_.players.forEach(A=>{A.queued&&g.push(A)})}),g}createNamespace(g,_){const A=new ga(g,_,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,_)?this._balanceNamespaceList(A,_):(this.newHostElements.set(_,A),this.collectEnterElement(_)),this._namespaceLookup[g]=A}_balanceNamespaceList(g,_){const A=this._namespaceList,z=this.namespacesByHostElement;if(A.length-1>=0){let ce=!1,oe=this.driver.getParentElement(_);for(;oe;){const Oe=z.get(oe);if(Oe){const be=A.indexOf(Oe);A.splice(be+1,0,g),ce=!0;break}oe=this.driver.getParentElement(oe)}ce||A.unshift(g)}else A.push(g);return z.set(_,g),g}register(g,_){let A=this._namespaceLookup[g];return A||(A=this.createNamespace(g,_)),A}registerTrigger(g,_,A){let z=this._namespaceLookup[g];z&&z.register(_,A)&&this.totalAnimations++}destroy(g,_){if(!g)return;const A=this._fetchNamespace(g);this.afterFlush(()=>{this.namespacesByHostElement.delete(A.hostElement),delete this._namespaceLookup[g];const z=this._namespaceList.indexOf(A);z>=0&&this._namespaceList.splice(z,1)}),this.afterFlushAnimationsDone(()=>A.destroy(_))}_fetchNamespace(g){return this._namespaceLookup[g]}fetchNamespacesByElement(g){const _=new Set,A=this.statesByElement.get(g);if(A)for(let z of A.values())if(z.namespaceId){const te=this._fetchNamespace(z.namespaceId);te&&_.add(te)}return _}trigger(g,_,A,z){if(ls(_)){const te=this._fetchNamespace(g);if(te)return te.trigger(_,A,z),!0}return!1}insertNode(g,_,A,z){if(!ls(_))return;const te=_[Ur];if(te&&te.setForRemoval){te.setForRemoval=!1,te.setForMove=!0;const ce=this.collectedLeaveElements.indexOf(_);ce>=0&&this.collectedLeaveElements.splice(ce,1)}if(g){const ce=this._fetchNamespace(g);ce&&ce.insertNode(_,A)}z&&this.collectEnterElement(_)}collectEnterElement(g){this.collectedEnterElements.push(g)}markElementAsDisabled(g,_){_?this.disabledNodes.has(g)||(this.disabledNodes.add(g),Fn(g,oi)):this.disabledNodes.has(g)&&(this.disabledNodes.delete(g),_o(g,oi))}removeNode(g,_,A,z){if(ls(_)){const te=g?this._fetchNamespace(g):null;if(te?te.removeNode(_,z):this.markElementAsRemoved(g,_,!1,z),A){const ce=this.namespacesByHostElement.get(_);ce&&ce.id!==g&&ce.removeNode(_,z)}}else this._onRemovalComplete(_,z)}markElementAsRemoved(g,_,A,z,te){this.collectedLeaveElements.push(_),_[Ur]={namespaceId:g,setForRemoval:z,hasAnimation:A,removedBeforeQueried:!1,previousTriggersValues:te}}listen(g,_,A,z,te){return ls(_)?this._fetchNamespace(g).listen(_,A,z,te):()=>{}}_buildInstruction(g,_,A,z,te){return g.transition.build(this.driver,g.element,g.fromState.value,g.toState.value,A,z,g.fromState.options,g.toState.options,_,te)}destroyInnerAnimations(g){let _=this.driver.query(g,Xn,!0);_.forEach(A=>this.destroyActiveAnimationsForElement(A)),0!=this.playersByQueriedElement.size&&(_=this.driver.query(g,ao,!0),_.forEach(A=>this.finishActiveQueriedAnimationOnElement(A)))}destroyActiveAnimationsForElement(g){const _=this.playersByElement.get(g);_&&_.forEach(A=>{A.queued?A.markedForDestroy=!0:A.destroy()})}finishActiveQueriedAnimationOnElement(g){const _=this.playersByQueriedElement.get(g);_&&_.forEach(A=>A.finish())}whenRenderingDone(){return new Promise(g=>{if(this.players.length)return gr(this.players).onDone(()=>g());g()})}processLeaveNode(g){const _=g[Ur];if(_&&_.setForRemoval){if(g[Ur]=Bo,_.namespaceId){this.destroyInnerAnimations(g);const A=this._fetchNamespace(_.namespaceId);A&&A.clearElementCache(g)}this._onRemovalComplete(g,_.setForRemoval)}g.classList?.contains(oi)&&this.markElementAsDisabled(g,!1),this.driver.query(g,".ng-animate-disabled",!0).forEach(A=>{this.markElementAsDisabled(A,!1)})}flush(g=-1){let _=[];if(this.newHostElements.size&&(this.newHostElements.forEach((A,z)=>this._balanceNamespaceList(A,z)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let A=0;A<this.collectedEnterElements.length;A++)Fn(this.collectedEnterElements[A],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const A=[];try{_=this._flushAnimations(A,g)}finally{for(let z=0;z<A.length;z++)A[z]()}}else for(let A=0;A<this.collectedLeaveElements.length;A++)this.processLeaveNode(this.collectedLeaveElements[A]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(A=>A()),this._flushFns=[],this._whenQuietFns.length){const A=this._whenQuietFns;this._whenQuietFns=[],_.length?gr(_).onDone(()=>{A.forEach(z=>z())}):A.forEach(z=>z())}}reportError(g){throw function _n(O){return new B.vHH(3402,!1)}()}_flushAnimations(g,_){const A=new vi,z=[],te=new Map,ce=[],oe=new Map,Oe=new Map,be=new Map,St=new Set;this.disabledNodes.forEach(Qt=>{St.add(Qt);const nn=this.driver.query(Qt,".ng-animate-queued",!0);for(let Lt=0;Lt<nn.length;Lt++)St.add(nn[Lt])});const it=this.bodyNode,ot=Array.from(this.statesByElement.keys()),pn=Ss(ot,this.collectedEnterElements),dn=new Map;let tn=0;pn.forEach((Qt,nn)=>{const Lt=ur+tn++;dn.set(nn,Lt),Qt.forEach(zn=>Fn(zn,Lt))});const yr=[],_r=new Set,Ii=new Set;for(let Qt=0;Qt<this.collectedLeaveElements.length;Qt++){const nn=this.collectedLeaveElements[Qt],Lt=nn[Ur];Lt&&Lt.setForRemoval&&(yr.push(nn),_r.add(nn),Lt.hasAnimation?this.driver.query(nn,".ng-star-inserted",!0).forEach(zn=>_r.add(zn)):Ii.add(nn))}const Xr=new Map,Di=Ss(ot,Array.from(_r));Di.forEach((Qt,nn)=>{const Lt=br+tn++;Xr.set(nn,Lt),Qt.forEach(zn=>Fn(zn,Lt))}),g.push(()=>{pn.forEach((Qt,nn)=>{const Lt=dn.get(nn);Qt.forEach(zn=>_o(zn,Lt))}),Di.forEach((Qt,nn)=>{const Lt=Xr.get(nn);Qt.forEach(zn=>_o(zn,Lt))}),yr.forEach(Qt=>{this.processLeaveNode(Qt)})});const Go=[],xr=[];for(let Qt=this._namespaceList.length-1;Qt>=0;Qt--)this._namespaceList[Qt].drainQueuedTransitions(_).forEach(Lt=>{const zn=Lt.player,zi=Lt.element;if(Go.push(zn),this.collectedEnterElements.length){const cs=zi[Ur];if(cs&&cs.setForMove){if(cs.previousTriggersValues&&cs.previousTriggersValues.has(Lt.triggerName)){const Ci=cs.previousTriggersValues.get(Lt.triggerName),Yn=this.statesByElement.get(Lt.element);if(Yn&&Yn.has(Lt.triggerName)){const wa=Yn.get(Lt.triggerName);wa.value=Ci,Yn.set(Lt.triggerName,wa)}}return void zn.destroy()}}const Qs=!it||!this.driver.containsElement(it,zi),_s=Xr.get(zi),ra=dn.get(zi),qn=this._buildInstruction(Lt,A,ra,_s,Qs);if(qn.errors&&qn.errors.length)return void xr.push(qn);if(Qs)return zn.onStart(()=>Ws(zi,qn.fromStyles)),zn.onDestroy(()=>Sr(zi,qn.toStyles)),void z.push(zn);if(Lt.isFallbackTransition)return zn.onStart(()=>Ws(zi,qn.fromStyles)),zn.onDestroy(()=>Sr(zi,qn.toStyles)),void z.push(zn);const zo=[];qn.timelines.forEach(cs=>{cs.stretchStartingKeyframe=!0,this.disabledNodes.has(cs.element)||zo.push(cs)}),qn.timelines=zo,A.append(zi,qn.timelines),ce.push({instruction:qn,player:zn,element:zi}),qn.queriedElements.forEach(cs=>fi(oe,cs,[]).push(zn)),qn.preStyleProps.forEach((cs,Ci)=>{if(cs.size){let Yn=Oe.get(Ci);Yn||Oe.set(Ci,Yn=new Set),cs.forEach((wa,Wi)=>Yn.add(Wi))}}),qn.postStyleProps.forEach((cs,Ci)=>{let Yn=be.get(Ci);Yn||be.set(Ci,Yn=new Set),cs.forEach((wa,Wi)=>Yn.add(Wi))})});if(xr.length){const Qt=[];xr.forEach(nn=>{Qt.push(function dr(O,g){return new B.vHH(3505,!1)}())}),Go.forEach(nn=>nn.destroy()),this.reportError(Qt)}const Vi=new Map,li=new Map;ce.forEach(Qt=>{const nn=Qt.element;A.has(nn)&&(li.set(nn,nn),this._beforeAnimationBuild(Qt.player.namespaceId,Qt.instruction,Vi))}),z.forEach(Qt=>{const nn=Qt.element;this._getPreviousPlayers(nn,!1,Qt.namespaceId,Qt.triggerName,null).forEach(zn=>{fi(Vi,nn,[]).push(zn),zn.destroy()})});const Ys=yr.filter(Qt=>M(Qt,Oe,be)),$r=new Map;Br($r,this.driver,Ii,be,Tr).forEach(Qt=>{M(Qt,Oe,be)&&Ys.push(Qt)});const Me=new Map;pn.forEach((Qt,nn)=>{Br(Me,this.driver,new Set(Qt),Oe,sr)}),Ys.forEach(Qt=>{const nn=$r.get(Qt),Lt=Me.get(Qt);$r.set(Qt,new Map([...Array.from(nn?.entries()??[]),...Array.from(Lt?.entries()??[])]))});const Ui=[],is=[],na={};ce.forEach(Qt=>{const{element:nn,player:Lt,instruction:zn}=Qt;if(A.has(nn)){if(St.has(nn))return Lt.onDestroy(()=>Sr(nn,zn.toStyles)),Lt.disabled=!0,Lt.overrideTotalTime(zn.totalTime),void z.push(Lt);let zi=na;if(li.size>1){let _s=nn;const ra=[];for(;_s=_s.parentNode;){const qn=li.get(_s);if(qn){zi=qn;break}ra.push(_s)}ra.forEach(qn=>li.set(qn,zi))}const Qs=this._buildAnimation(Lt.namespaceId,zn,Vi,te,Me,$r);if(Lt.setRealPlayer(Qs),zi===na)Ui.push(Lt);else{const _s=this.playersByElement.get(zi);_s&&_s.length&&(Lt.parentPlayer=gr(_s)),z.push(Lt)}}else Ws(nn,zn.fromStyles),Lt.onDestroy(()=>Sr(nn,zn.toStyles)),is.push(Lt),St.has(nn)&&z.push(Lt)}),is.forEach(Qt=>{const nn=te.get(Qt.element);if(nn&&nn.length){const Lt=gr(nn);Qt.setRealPlayer(Lt)}}),z.forEach(Qt=>{Qt.parentPlayer?Qt.syncPlayerEvents(Qt.parentPlayer):Qt.destroy()});for(let Qt=0;Qt<yr.length;Qt++){const nn=yr[Qt],Lt=nn[Ur];if(_o(nn,br),Lt&&Lt.hasAnimation)continue;let zn=[];if(oe.size){let Qs=oe.get(nn);Qs&&Qs.length&&zn.push(...Qs);let _s=this.driver.query(nn,ao,!0);for(let ra=0;ra<_s.length;ra++){let qn=oe.get(_s[ra]);qn&&qn.length&&zn.push(...qn)}}const zi=zn.filter(Qs=>!Qs.destroyed);zi.length?Za(this,nn,zi):this.processLeaveNode(nn)}return yr.length=0,Ui.forEach(Qt=>{this.players.push(Qt),Qt.onDone(()=>{Qt.destroy();const nn=this.players.indexOf(Qt);this.players.splice(nn,1)}),Qt.play()}),Ui}elementContainsData(g,_){let A=!1;const z=_[Ur];return z&&z.setForRemoval&&(A=!0),this.playersByElement.has(_)&&(A=!0),this.playersByQueriedElement.has(_)&&(A=!0),this.statesByElement.has(_)&&(A=!0),this._fetchNamespace(g).elementContainsData(_)||A}afterFlush(g){this._flushFns.push(g)}afterFlushAnimationsDone(g){this._whenQuietFns.push(g)}_getPreviousPlayers(g,_,A,z,te){let ce=[];if(_){const oe=this.playersByQueriedElement.get(g);oe&&(ce=oe)}else{const oe=this.playersByElement.get(g);if(oe){const Oe=!te||te==Ro;oe.forEach(be=>{be.queued||!Oe&&be.triggerName!=z||ce.push(be)})}}return(A||z)&&(ce=ce.filter(oe=>!(A&&A!=oe.namespaceId||z&&z!=oe.triggerName))),ce}_beforeAnimationBuild(g,_,A){const te=_.element,ce=_.isRemovalTransition?void 0:g,oe=_.isRemovalTransition?void 0:_.triggerName;for(const Oe of _.timelines){const be=Oe.element,St=be!==te,it=fi(A,be,[]);this._getPreviousPlayers(be,St,ce,oe,_.toState).forEach(pn=>{const dn=pn.getRealPlayer();dn.beforeDestroy&&dn.beforeDestroy(),pn.destroy(),it.push(pn)})}Ws(te,_.fromStyles)}_buildAnimation(g,_,A,z,te,ce){const oe=_.triggerName,Oe=_.element,be=[],St=new Set,it=new Set,ot=_.timelines.map(dn=>{const tn=dn.element;St.add(tn);const yr=tn[Ur];if(yr&&yr.removedBeforeQueried)return new kr(dn.duration,dn.delay);const _r=tn!==Oe,Ii=function Va(O){const g=[];return Ua(O,g),g}((A.get(tn)||Tn).map(Vi=>Vi.getRealPlayer())).filter(Vi=>!!Vi.element&&Vi.element===tn),Xr=te.get(tn),Di=ce.get(tn),Go=hr(0,this._normalizer,0,dn.keyframes,Xr,Di),xr=this._buildPlayer(dn,Go,Ii);if(dn.subTimeline&&z&&it.add(tn),_r){const Vi=new ns(g,oe,tn);Vi.setRealPlayer(xr),be.push(Vi)}return xr});be.forEach(dn=>{fi(this.playersByQueriedElement,dn.element,[]).push(dn),dn.onDone(()=>function rs(O,g,_){let A=O.get(g);if(A){if(A.length){const z=A.indexOf(_);A.splice(z,1)}0==A.length&&O.delete(g)}return A}(this.playersByQueriedElement,dn.element,dn))}),St.forEach(dn=>Fn(dn,zs));const pn=gr(ot);return pn.onDestroy(()=>{St.forEach(dn=>_o(dn,zs)),Sr(Oe,_.toStyles)}),it.forEach(dn=>{fi(z,dn,[]).push(pn)}),pn}_buildPlayer(g,_,A){return _.length>0?this.driver.animate(g.element,_,g.duration,g.delay,g.easing,A):new kr(g.duration,g.delay)}}class ns{constructor(g,_,A){this.namespaceId=g,this.triggerName=_,this.element=A,this._player=new kr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(g){this._containsRealPlayer||(this._player=g,this._queuedCallbacks.forEach((_,A)=>{_.forEach(z=>$i(g,A,void 0,z))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(g.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(g){this.totalTime=g}syncPlayerEvents(g){const _=this._player;_.triggerCallback&&g.onStart(()=>_.triggerCallback("start")),g.onDone(()=>this.finish()),g.onDestroy(()=>this.destroy())}_queueEvent(g,_){fi(this._queuedCallbacks,g,[]).push(_)}onDone(g){this.queued&&this._queueEvent("done",g),this._player.onDone(g)}onStart(g){this.queued&&this._queueEvent("start",g),this._player.onStart(g)}onDestroy(g){this.queued&&this._queueEvent("destroy",g),this._player.onDestroy(g)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(g){this.queued||this._player.setPosition(g)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(g){const _=this._player;_.triggerCallback&&_.triggerCallback(g)}}function ls(O){return O&&1===O.nodeType}function jo(O,g){const _=O.style.display;return O.style.display=g??"none",_}function Br(O,g,_,A,z){const te=[];_.forEach(Oe=>te.push(jo(Oe)));const ce=[];A.forEach((Oe,be)=>{const St=new Map;Oe.forEach(it=>{const ot=g.computeStyle(be,it,z);St.set(it,ot),(!ot||0==ot.length)&&(be[Ur]=pa,ce.push(be))}),O.set(be,St)});let oe=0;return _.forEach(Oe=>jo(Oe,te[oe++])),ce}function Ss(O,g){const _=new Map;if(O.forEach(oe=>_.set(oe,[])),0==g.length)return _;const A=1,z=new Set(g),te=new Map;function ce(oe){if(!oe)return A;let Oe=te.get(oe);if(Oe)return Oe;const be=oe.parentNode;return Oe=_.has(be)?be:z.has(be)?A:ce(be),te.set(oe,Oe),Oe}return g.forEach(oe=>{const Oe=ce(oe);Oe!==A&&_.get(Oe).push(oe)}),_}function Fn(O,g){O.classList?.add(g)}function _o(O,g){O.classList?.remove(g)}function Za(O,g,_){gr(_).onDone(()=>O.processLeaveNode(g))}function Ua(O,g){for(let _=0;_<O.length;_++){const A=O[_];A instanceof Ai?Ua(A.players,g):g.push(A)}}function M(O,g,_){const A=_.get(O);if(!A)return!1;let z=g.get(O);return z?A.forEach(te=>z.add(te)):g.set(O,A),_.delete(O),!0}class ${constructor(g,_,A){this.bodyNode=g,this._driver=_,this._normalizer=A,this._triggerCache={},this.onRemovalComplete=(z,te)=>{},this._transitionEngine=new Ka(g,_,A),this._timelineEngine=new si(g,_,A),this._transitionEngine.onRemovalComplete=(z,te)=>this.onRemovalComplete(z,te)}registerTrigger(g,_,A,z,te){const ce=g+"-"+z;let oe=this._triggerCache[ce];if(!oe){const Oe=[],be=[],St=gs(this._driver,te,Oe,be);if(Oe.length)throw function Ne(O,g){return new B.vHH(3404,!1)}();oe=function po(O,g,_){return new go(O,g,_)}(z,St,this._normalizer),this._triggerCache[ce]=oe}this._transitionEngine.registerTrigger(_,z,oe)}register(g,_){this._transitionEngine.register(g,_)}destroy(g,_){this._transitionEngine.destroy(g,_)}onInsert(g,_,A,z){this._transitionEngine.insertNode(g,_,A,z)}onRemove(g,_,A,z){this._transitionEngine.removeNode(g,_,z||!1,A)}disableAnimations(g,_){this._transitionEngine.markElementAsDisabled(g,_)}process(g,_,A,z){if("@"==A.charAt(0)){const[te,ce]=Gs(A);this._timelineEngine.command(te,_,ce,z)}else this._transitionEngine.trigger(g,_,A,z)}listen(g,_,A,z,te){if("@"==A.charAt(0)){const[ce,oe]=Gs(A);return this._timelineEngine.listen(ce,_,oe,te)}return this._transitionEngine.listen(g,_,A,z,te)}flush(g=-1){this._transitionEngine.flush(g)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let K=(()=>{class O{constructor(_,A,z){this._element=_,this._startStyles=A,this._endStyles=z,this._state=0;let te=O.initialStylesByElement.get(_);te||O.initialStylesByElement.set(_,te=new Map),this._initialStyles=te}start(){this._state<1&&(this._startStyles&&Sr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sr(this._element,this._initialStyles),this._endStyles&&(Sr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(O.initialStylesByElement.delete(this._element),this._startStyles&&(Ws(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ws(this._element,this._endStyles),this._endStyles=null),Sr(this._element,this._initialStyles),this._state=3)}}return O.initialStylesByElement=new WeakMap,O})();function ue(O){let g=null;return O.forEach((_,A)=>{(function He(O){return"display"===O||"position"===O})(A)&&(g=g||new Map,g.set(A,_))}),g}class tt{constructor(g,_,A,z){this.element=g,this.keyframes=_,this.options=A,this._specialStyles=z,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=A.duration,this._delay=A.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const g=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,g,this.options),this._finalKeyframe=g.length?g[g.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(g){const _=[];return g.forEach(A=>{_.push(Object.fromEntries(A))}),_}_triggerWebAnimation(g,_,A){return g.animate(this._convertKeyframesToObject(_),A)}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(g=>g()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}setPosition(g){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=g*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const g=new Map;this.hasStarted()&&this._finalKeyframe.forEach((A,z)=>{"offset"!==z&&g.set(z,this._finished?A:Zo(this.element,z))}),this.currentSnapshot=g}triggerCallback(g){const _="start"===g?this._onStartFns:this._onDoneFns;_.forEach(A=>A()),_.length=0}}class It{validateStyleProperty(g){return!0}validateAnimatableStyleProperty(g){return!0}matchesElement(g,_){return!1}containsElement(g,_){return wn(g,_)}getParentElement(g){return wr(g)}query(g,_,A){return Qi(g,_,A)}computeStyle(g,_,A){return window.getComputedStyle(g)[_]}animate(g,_,A,z,te,ce=[]){const Oe={duration:A,delay:z,fill:0==z?"both":"forwards"};te&&(Oe.easing=te);const be=new Map,St=ce.filter(pn=>pn instanceof tt);(function Ds(O,g){return 0===O||0===g})(A,z)&&St.forEach(pn=>{pn.currentSnapshot.forEach((dn,tn)=>be.set(tn,dn))});let it=function Ni(O){return O.length?O[0]instanceof Map?O:O.map(g=>Ko(g)):[]}(_).map(pn=>Hn(pn));it=function ks(O,g,_){if(_.size&&g.length){let A=g[0],z=[];if(_.forEach((te,ce)=>{A.has(ce)||z.push(ce),A.set(ce,te)}),z.length)for(let te=1;te<g.length;te++){let ce=g[te];z.forEach(oe=>ce.set(oe,Zo(O,oe)))}}return g}(g,it,be);const ot=function N(O,g){let _=null,A=null;return Array.isArray(g)&&g.length?(_=ue(g[0]),g.length>1&&(A=ue(g[g.length-1]))):g instanceof Map&&(_=ue(g)),_||A?new K(O,_,A):null}(g,it);return new tt(g,it,Oe,ot)}}let Nn=(()=>{class O extends Gr{constructor(_,A){super(),this._nextAnimationId=0,this._renderer=_.createRenderer(A.body,{id:"0",encapsulation:B.ifc.None,styles:[],data:{animation:[]}})}build(_){const A=this._nextAnimationId.toString();this._nextAnimationId++;const z=Array.isArray(_)?Un(_):_;return Ln(this._renderer,null,A,"register",[z]),new An(A,this._renderer)}}return O.\u0275fac=function(_){return new(_||O)(B.LFG(B.FYo),B.LFG(ie.K0))},O.\u0275prov=B.Yz7({token:O,factory:O.\u0275fac}),O})();class An extends qi{constructor(g,_){super(),this._id=g,this._renderer=_}create(g,_){return new Gn(this._id,g,_||{},this._renderer)}}class Gn{constructor(g,_,A,z){this.id=g,this.element=_,this._renderer=z,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",A)}_listen(g,_){return this._renderer.listen(this.element,`@@${this.id}:${g}`,_)}_command(g,..._){return Ln(this._renderer,this.element,this.id,g,_)}onDone(g){this._listen("done",g)}onStart(g){this._listen("start",g)}onDestroy(g){this._listen("destroy",g)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(g){this._command("setPosition",g)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ln(O,g,_,A,z){return O.setProperty(g,`@@${_}:${A}`,z)}const fn="@.disabled";let Mr=(()=>{class O{constructor(_,A,z){this.delegate=_,this.engine=A,this._zone=z,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),A.onRemovalComplete=(te,ce)=>{const oe=ce?.parentNode(te);oe&&ce.removeChild(oe,te)}}createRenderer(_,A){const te=this.delegate.createRenderer(_,A);if(!(_&&A&&A.data&&A.data.animation)){let St=this._rendererCache.get(te);return St||(St=new As("",te,this.engine,()=>this._rendererCache.delete(te)),this._rendererCache.set(te,St)),St}const ce=A.id,oe=A.id+"-"+this._currentId;this._currentId++,this.engine.register(oe,_);const Oe=St=>{Array.isArray(St)?St.forEach(Oe):this.engine.registerTrigger(ce,oe,_,St.name,St)};return A.data.animation.forEach(Oe),new Ft(this,oe,te,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(_,A,z){_>=0&&_<this._microtaskId?this._zone.run(()=>A(z)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(te=>{const[ce,oe]=te;ce(oe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([A,z]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return O.\u0275fac=function(_){return new(_||O)(B.LFG(B.FYo),B.LFG($),B.LFG(B.R0b))},O.\u0275prov=B.Yz7({token:O,factory:O.\u0275fac}),O})();class As{constructor(g,_,A,z){this.namespaceId=g,this.delegate=_,this.engine=A,this._onDestroy=z,this.destroyNode=this.delegate.destroyNode?te=>_.destroyNode(te):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(g,_){return this.delegate.createElement(g,_)}createComment(g){return this.delegate.createComment(g)}createText(g){return this.delegate.createText(g)}appendChild(g,_){this.delegate.appendChild(g,_),this.engine.onInsert(this.namespaceId,_,g,!1)}insertBefore(g,_,A,z=!0){this.delegate.insertBefore(g,_,A),this.engine.onInsert(this.namespaceId,_,g,z)}removeChild(g,_,A){this.engine.onRemove(this.namespaceId,_,this.delegate,A)}selectRootElement(g,_){return this.delegate.selectRootElement(g,_)}parentNode(g){return this.delegate.parentNode(g)}nextSibling(g){return this.delegate.nextSibling(g)}setAttribute(g,_,A,z){this.delegate.setAttribute(g,_,A,z)}removeAttribute(g,_,A){this.delegate.removeAttribute(g,_,A)}addClass(g,_){this.delegate.addClass(g,_)}removeClass(g,_){this.delegate.removeClass(g,_)}setStyle(g,_,A,z){this.delegate.setStyle(g,_,A,z)}removeStyle(g,_,A){this.delegate.removeStyle(g,_,A)}setProperty(g,_,A){"@"==_.charAt(0)&&_==fn?this.disableAnimations(g,!!A):this.delegate.setProperty(g,_,A)}setValue(g,_){this.delegate.setValue(g,_)}listen(g,_,A){return this.delegate.listen(g,_,A)}disableAnimations(g,_){this.engine.disableAnimations(g,_)}}class Ft extends As{constructor(g,_,A,z,te){super(_,A,z,te),this.factory=g,this.namespaceId=_}setProperty(g,_,A){"@"==_.charAt(0)?"."==_.charAt(1)&&_==fn?this.disableAnimations(g,A=void 0===A||!!A):this.engine.process(this.namespaceId,g,_.slice(1),A):this.delegate.setProperty(g,_,A)}listen(g,_,A){if("@"==_.charAt(0)){const z=function Wt(O){switch(O){case"body":return document.body;case"document":return document;case"window":return window;default:return O}}(g);let te=_.slice(1),ce="";return"@"!=te.charAt(0)&&([te,ce]=function vo(O){const g=O.indexOf(".");return[O.substring(0,g),O.slice(g+1)]}(te)),this.engine.listen(this.namespaceId,z,te,ce,oe=>{this.factory.scheduleListenerCallback(oe._data||-1,A,oe)})}return this.delegate.listen(g,_,A)}}const ui=[{provide:Gr,useClass:Nn},{provide:R,useFactory:function Be(){return new ft}},{provide:$,useClass:(()=>{class O extends ${constructor(_,A,z,te){super(_.body,A,z)}ngOnDestroy(){this.flush()}}return O.\u0275fac=function(_){return new(_||O)(B.LFG(ie.K0),B.LFG(Xi),B.LFG(R),B.LFG(B.z2F))},O.\u0275prov=B.Yz7({token:O,factory:O.\u0275fac}),O})()},{provide:B.FYo,useFactory:function ut(O,g,_){return new Mr(O,g,_)},deps:[w.se,$,B.R0b]}],ys=[{provide:Xi,useFactory:()=>new It},{provide:B.QbO,useValue:"BrowserAnimations"},...ui],$a=[{provide:Xi,useClass:Ji},{provide:B.QbO,useValue:"NoopAnimations"},...ui];let Aa=(()=>{class O{static withConfig(_){return{ngModule:O,providers:_.disableAnimations?$a:ys}}}return O.\u0275fac=function(_){return new(_||O)},O.\u0275mod=B.oAB({type:O}),O.\u0275inj=B.cJS({providers:ys,imports:[w.b2]}),O})();const Ho=[{path:"**",redirectTo:"dashboard"}];let Cu=(()=>{class O{}return O.\u0275fac=function(_){return new(_||O)},O.\u0275mod=B.oAB({type:O,bootstrap:[Et]}),O.\u0275inj=B.cJS({providers:[yn],imports:[w.b2,ie.ez,jt,mt,Vn,xn,Or,re.Bz.forRoot(Ho),(0,ht.hX)(()=>(0,ht.ZF)(sn_firebase)),Se.Um,(0,ee.AR)(()=>(0,ee.v0)()),Aa]}),O})();w.q6().bootstrapModule(Cu).catch(O=>console.error(O))},1135:(rn,Ye,Y)=>{Y.d(Ye,{X:()=>re});var w=Y(7579);class re extends w.x{constructor(De){super(),this._value=De}get value(){return this.getValue()}_subscribe(De){const ee=super._subscribe(De);return!ee.closed&&De.next(this._value),ee}getValue(){const{hasError:De,thrownError:ee,_value:Se}=this;if(De)throw ee;return this._throwIfClosed(),Se}next(De){super.next(this._value=De)}}},9751:(rn,Ye,Y)=>{Y.d(Ye,{y:()=>he});var w=Y(930),re=Y(727),B=Y(8822),De=Y(9635),ee=Y(2416),Se=Y(576),Ue=Y(2806);let he=(()=>{class Pe{constructor(at){at&&(this._subscribe=at)}lift(at){const yt=new Pe;return yt.source=this,yt.operator=at,yt}subscribe(at,yt,_t){const mn=function ye(Pe){return Pe&&Pe instanceof w.Lv||function ie(Pe){return Pe&&(0,Se.m)(Pe.next)&&(0,Se.m)(Pe.error)&&(0,Se.m)(Pe.complete)}(Pe)&&(0,re.Nn)(Pe)}(at)?at:new w.Hp(at,yt,_t);return(0,Ue.x)(()=>{const{operator:Bt,source:Wn}=this;mn.add(Bt?Bt.call(mn,Wn):Wn?this._subscribe(mn):this._trySubscribe(mn))}),mn}_trySubscribe(at){try{return this._subscribe(at)}catch(yt){at.error(yt)}}forEach(at,yt){return new(yt=$e(yt))((_t,mn)=>{const Bt=new w.Hp({next:Wn=>{try{at(Wn)}catch(En){mn(En),Bt.unsubscribe()}},error:mn,complete:_t});this.subscribe(Bt)})}_subscribe(at){var yt;return null===(yt=this.source)||void 0===yt?void 0:yt.subscribe(at)}[B.L](){return this}pipe(...at){return(0,De.U)(at)(this)}toPromise(at){return new(at=$e(at))((yt,_t)=>{let mn;this.subscribe(Bt=>mn=Bt,Bt=>_t(Bt),()=>yt(mn))})}}return Pe.create=nt=>new Pe(nt),Pe})();function $e(Pe){var nt;return null!==(nt=Pe??ee.v.Promise)&&void 0!==nt?nt:Promise}},7579:(rn,Ye,Y)=>{Y.d(Ye,{x:()=>Ue});var w=Y(9751),re=Y(727);const De=(0,Y(3888).d)($e=>function(){$e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=Y(8737),Se=Y(2806);let Ue=(()=>{class $e extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ye){const Pe=new he(this,this);return Pe.operator=ye,Pe}_throwIfClosed(){if(this.closed)throw new De}next(ye){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Pe of this.currentObservers)Pe.next(ye)}})}error(ye){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ye;const{observers:Pe}=this;for(;Pe.length;)Pe.shift().error(ye)}})}complete(){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ye}=this;for(;ye.length;)ye.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ye;return(null===(ye=this.observers)||void 0===ye?void 0:ye.length)>0}_trySubscribe(ye){return this._throwIfClosed(),super._trySubscribe(ye)}_subscribe(ye){return this._throwIfClosed(),this._checkFinalizedStatuses(ye),this._innerSubscribe(ye)}_innerSubscribe(ye){const{hasError:Pe,isStopped:nt,observers:at}=this;return Pe||nt?re.Lc:(this.currentObservers=null,at.push(ye),new re.w0(()=>{this.currentObservers=null,(0,ee.P)(at,ye)}))}_checkFinalizedStatuses(ye){const{hasError:Pe,thrownError:nt,isStopped:at}=this;Pe?ye.error(nt):at&&ye.complete()}asObservable(){const ye=new w.y;return ye.source=this,ye}}return $e.create=(ie,ye)=>new he(ie,ye),$e})();class he extends Ue{constructor(ie,ye){super(),this.destination=ie,this.source=ye}next(ie){var ye,Pe;null===(Pe=null===(ye=this.destination)||void 0===ye?void 0:ye.next)||void 0===Pe||Pe.call(ye,ie)}error(ie){var ye,Pe;null===(Pe=null===(ye=this.destination)||void 0===ye?void 0:ye.error)||void 0===Pe||Pe.call(ye,ie)}complete(){var ie,ye;null===(ye=null===(ie=this.destination)||void 0===ie?void 0:ie.complete)||void 0===ye||ye.call(ie)}_subscribe(ie){var ye,Pe;return null!==(Pe=null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(ie))&&void 0!==Pe?Pe:re.Lc}}},930:(rn,Ye,Y)=>{Y.d(Ye,{Hp:()=>_t,Lv:()=>Pe});var w=Y(576),re=Y(727),B=Y(2416),De=Y(7849),ee=Y(5032);const Se=$e("C",void 0,void 0);function $e(Fe,pt,Ge){return{kind:Fe,value:pt,error:Ge}}var ie=Y(3410),ye=Y(2806);class Pe extends re.w0{constructor(pt){super(),this.isStopped=!1,pt?(this.destination=pt,(0,re.Nn)(pt)&&pt.add(this)):this.destination=En}static create(pt,Ge,dt){return new _t(pt,Ge,dt)}next(pt){this.isStopped?Wn(function he(Fe){return $e("N",Fe,void 0)}(pt),this):this._next(pt)}error(pt){this.isStopped?Wn(function Ue(Fe){return $e("E",void 0,Fe)}(pt),this):(this.isStopped=!0,this._error(pt))}complete(){this.isStopped?Wn(Se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pt){this.destination.next(pt)}_error(pt){try{this.destination.error(pt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const nt=Function.prototype.bind;function at(Fe,pt){return nt.call(Fe,pt)}class yt{constructor(pt){this.partialObserver=pt}next(pt){const{partialObserver:Ge}=this;if(Ge.next)try{Ge.next(pt)}catch(dt){mn(dt)}}error(pt){const{partialObserver:Ge}=this;if(Ge.error)try{Ge.error(pt)}catch(dt){mn(dt)}else mn(pt)}complete(){const{partialObserver:pt}=this;if(pt.complete)try{pt.complete()}catch(Ge){mn(Ge)}}}class _t extends Pe{constructor(pt,Ge,dt){let Mt;if(super(),(0,w.m)(pt)||!pt)Mt={next:pt??void 0,error:Ge??void 0,complete:dt??void 0};else{let Et;this&&B.v.useDeprecatedNextContext?(Et=Object.create(pt),Et.unsubscribe=()=>this.unsubscribe(),Mt={next:pt.next&&at(pt.next,Et),error:pt.error&&at(pt.error,Et),complete:pt.complete&&at(pt.complete,Et)}):Mt=pt}this.destination=new yt(Mt)}}function mn(Fe){B.v.useDeprecatedSynchronousErrorHandling?(0,ye.O)(Fe):(0,De.h)(Fe)}function Wn(Fe,pt){const{onStoppedNotification:Ge}=B.v;Ge&&ie.z.setTimeout(()=>Ge(Fe,pt))}const En={closed:!0,next:ee.Z,error:function Bt(Fe){throw Fe},complete:ee.Z}},727:(rn,Ye,Y)=>{Y.d(Ye,{Lc:()=>Se,w0:()=>ee,Nn:()=>Ue});var w=Y(576);const B=(0,Y(3888).d)($e=>function(ye){$e(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((Pe,nt)=>`${nt+1}) ${Pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye});var De=Y(8737);class ee{constructor(ie){this.initialTeardown=ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ie;if(!this.closed){this.closed=!0;const{_parentage:ye}=this;if(ye)if(this._parentage=null,Array.isArray(ye))for(const at of ye)at.remove(this);else ye.remove(this);const{initialTeardown:Pe}=this;if((0,w.m)(Pe))try{Pe()}catch(at){ie=at instanceof B?at.errors:[at]}const{_finalizers:nt}=this;if(nt){this._finalizers=null;for(const at of nt)try{he(at)}catch(yt){ie=ie??[],yt instanceof B?ie=[...ie,...yt.errors]:ie.push(yt)}}if(ie)throw new B(ie)}}add(ie){var ye;if(ie&&ie!==this)if(this.closed)he(ie);else{if(ie instanceof ee){if(ie.closed||ie._hasParent(this))return;ie._addParent(this)}(this._finalizers=null!==(ye=this._finalizers)&&void 0!==ye?ye:[]).push(ie)}}_hasParent(ie){const{_parentage:ye}=this;return ye===ie||Array.isArray(ye)&&ye.includes(ie)}_addParent(ie){const{_parentage:ye}=this;this._parentage=Array.isArray(ye)?(ye.push(ie),ye):ye?[ye,ie]:ie}_removeParent(ie){const{_parentage:ye}=this;ye===ie?this._parentage=null:Array.isArray(ye)&&(0,De.P)(ye,ie)}remove(ie){const{_finalizers:ye}=this;ye&&(0,De.P)(ye,ie),ie instanceof ee&&ie._removeParent(this)}}ee.EMPTY=(()=>{const $e=new ee;return $e.closed=!0,$e})();const Se=ee.EMPTY;function Ue($e){return $e instanceof ee||$e&&"closed"in $e&&(0,w.m)($e.remove)&&(0,w.m)($e.add)&&(0,w.m)($e.unsubscribe)}function he($e){(0,w.m)($e)?$e():$e.unsubscribe()}},2416:(rn,Ye,Y)=>{Y.d(Ye,{v:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(rn,Ye,Y)=>{Y.d(Ye,{z:()=>ee});var w=Y(8189),B=Y(3269),De=Y(8996);function ee(...Se){return function re(){return(0,w.J)(1)}()((0,De.D)(Se,(0,B.yG)(Se)))}},515:(rn,Ye,Y)=>{Y.d(Ye,{E:()=>re});const re=new(Y(9751).y)(ee=>ee.complete())},8996:(rn,Ye,Y)=>{Y.d(Ye,{D:()=>pt});var w=Y(8421),re=Y(5363),B=Y(9468),Se=Y(9751),he=Y(2202),$e=Y(576),ie=Y(9672);function Pe(Ge,dt){if(!Ge)throw new Error("Iterable cannot be null");return new Se.y(Mt=>{(0,ie.f)(Mt,dt,()=>{const Et=Ge[Symbol.asyncIterator]();(0,ie.f)(Mt,dt,()=>{Et.next().then(yn=>{yn.done?Mt.complete():Mt.next(yn.value)})},0,!0)})})}var nt=Y(3670),at=Y(8239),yt=Y(1144),_t=Y(6495),mn=Y(2206),Bt=Y(4532),Wn=Y(3260);function pt(Ge,dt){return dt?function Fe(Ge,dt){if(null!=Ge){if((0,nt.c)(Ge))return function De(Ge,dt){return(0,w.Xf)(Ge).pipe((0,B.R)(dt),(0,re.Q)(dt))}(Ge,dt);if((0,yt.z)(Ge))return function Ue(Ge,dt){return new Se.y(Mt=>{let Et=0;return dt.schedule(function(){Et===Ge.length?Mt.complete():(Mt.next(Ge[Et++]),Mt.closed||this.schedule())})})}(Ge,dt);if((0,at.t)(Ge))return function ee(Ge,dt){return(0,w.Xf)(Ge).pipe((0,B.R)(dt),(0,re.Q)(dt))}(Ge,dt);if((0,mn.D)(Ge))return Pe(Ge,dt);if((0,_t.T)(Ge))return function ye(Ge,dt){return new Se.y(Mt=>{let Et;return(0,ie.f)(Mt,dt,()=>{Et=Ge[he.h](),(0,ie.f)(Mt,dt,()=>{let yn,Cn;try{({value:yn,done:Cn}=Et.next())}catch(jt){return void Mt.error(jt)}Cn?Mt.complete():Mt.next(yn)},0,!0)}),()=>(0,$e.m)(Et?.return)&&Et.return()})}(Ge,dt);if((0,Wn.L)(Ge))return function En(Ge,dt){return Pe((0,Wn.Q)(Ge),dt)}(Ge,dt)}throw(0,Bt.z)(Ge)}(Ge,dt):(0,w.Xf)(Ge)}},8421:(rn,Ye,Y)=>{Y.d(Ye,{Xf:()=>nt});var w=Y(655),re=Y(1144),B=Y(8239),De=Y(9751),ee=Y(3670),Se=Y(2206),Ue=Y(4532),he=Y(6495),$e=Y(3260),ie=Y(576),ye=Y(7849),Pe=Y(8822);function nt(Fe){if(Fe instanceof De.y)return Fe;if(null!=Fe){if((0,ee.c)(Fe))return function at(Fe){return new De.y(pt=>{const Ge=Fe[Pe.L]();if((0,ie.m)(Ge.subscribe))return Ge.subscribe(pt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,re.z)(Fe))return function yt(Fe){return new De.y(pt=>{for(let Ge=0;Ge<Fe.length&&!pt.closed;Ge++)pt.next(Fe[Ge]);pt.complete()})}(Fe);if((0,B.t)(Fe))return function _t(Fe){return new De.y(pt=>{Fe.then(Ge=>{pt.closed||(pt.next(Ge),pt.complete())},Ge=>pt.error(Ge)).then(null,ye.h)})}(Fe);if((0,Se.D)(Fe))return Bt(Fe);if((0,he.T)(Fe))return function mn(Fe){return new De.y(pt=>{for(const Ge of Fe)if(pt.next(Ge),pt.closed)return;pt.complete()})}(Fe);if((0,$e.L)(Fe))return function Wn(Fe){return Bt((0,$e.Q)(Fe))}(Fe)}throw(0,Ue.z)(Fe)}function Bt(Fe){return new De.y(pt=>{(function En(Fe,pt){var Ge,dt,Mt,Et;return(0,w.mG)(this,void 0,void 0,function*(){try{for(Ge=(0,w.KL)(Fe);!(dt=yield Ge.next()).done;)if(pt.next(dt.value),pt.closed)return}catch(yn){Mt={error:yn}}finally{try{dt&&!dt.done&&(Et=Ge.return)&&(yield Et.call(Ge))}finally{if(Mt)throw Mt.error}}pt.complete()})})(Fe,pt).catch(Ge=>pt.error(Ge))})}},6451:(rn,Ye,Y)=>{Y.d(Ye,{T:()=>Se});var w=Y(8189),re=Y(8421),B=Y(515),De=Y(3269),ee=Y(8996);function Se(...Ue){const he=(0,De.yG)(Ue),$e=(0,De._6)(Ue,1/0),ie=Ue;return ie.length?1===ie.length?(0,re.Xf)(ie[0]):(0,w.J)($e)((0,ee.D)(ie,he)):B.E}},9646:(rn,Ye,Y)=>{Y.d(Ye,{of:()=>B});var w=Y(3269),re=Y(8996);function B(...De){const ee=(0,w.yG)(De);return(0,re.D)(De,ee)}},5403:(rn,Ye,Y)=>{Y.d(Ye,{x:()=>re});var w=Y(930);function re(De,ee,Se,Ue,he){return new B(De,ee,Se,Ue,he)}class B extends w.Lv{constructor(ee,Se,Ue,he,$e,ie){super(ee),this.onFinalize=$e,this.shouldUnsubscribe=ie,this._next=Se?function(ye){try{Se(ye)}catch(Pe){ee.error(Pe)}}:super._next,this._error=he?function(ye){try{he(ye)}catch(Pe){ee.error(Pe)}finally{this.unsubscribe()}}:super._error,this._complete=Ue?function(){try{Ue()}catch(ye){ee.error(ye)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Se}=this;super.unsubscribe(),!Se&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}}},9300:(rn,Ye,Y)=>{Y.d(Ye,{h:()=>B});var w=Y(4482),re=Y(5403);function B(De,ee){return(0,w.e)((Se,Ue)=>{let he=0;Se.subscribe((0,re.x)(Ue,$e=>De.call(ee,$e,he++)&&Ue.next($e)))})}},4004:(rn,Ye,Y)=>{Y.d(Ye,{U:()=>B});var w=Y(4482),re=Y(5403);function B(De,ee){return(0,w.e)((Se,Ue)=>{let he=0;Se.subscribe((0,re.x)(Ue,$e=>{Ue.next(De.call(ee,$e,he++))}))})}},8189:(rn,Ye,Y)=>{Y.d(Ye,{J:()=>B});var w=Y(5577),re=Y(4671);function B(De=1/0){return(0,w.z)(re.y,De)}},5577:(rn,Ye,Y)=>{Y.d(Ye,{z:()=>he});var w=Y(4004),re=Y(8421),B=Y(4482),De=Y(9672),ee=Y(5403),Ue=Y(576);function he($e,ie,ye=1/0){return(0,Ue.m)(ie)?he((Pe,nt)=>(0,w.U)((at,yt)=>ie(Pe,at,nt,yt))((0,re.Xf)($e(Pe,nt))),ye):("number"==typeof ie&&(ye=ie),(0,B.e)((Pe,nt)=>function Se($e,ie,ye,Pe,nt,at,yt,_t){const mn=[];let Bt=0,Wn=0,En=!1;const Fe=()=>{En&&!mn.length&&!Bt&&ie.complete()},pt=dt=>Bt<Pe?Ge(dt):mn.push(dt),Ge=dt=>{at&&ie.next(dt),Bt++;let Mt=!1;(0,re.Xf)(ye(dt,Wn++)).subscribe((0,ee.x)(ie,Et=>{nt?.(Et),at?pt(Et):ie.next(Et)},()=>{Mt=!0},void 0,()=>{if(Mt)try{for(Bt--;mn.length&&Bt<Pe;){const Et=mn.shift();yt?(0,De.f)(ie,yt,()=>Ge(Et)):Ge(Et)}Fe()}catch(Et){ie.error(Et)}}))};return $e.subscribe((0,ee.x)(ie,pt,()=>{En=!0,Fe()})),()=>{_t?.()}}(Pe,nt,$e,ye)))}},5363:(rn,Ye,Y)=>{Y.d(Ye,{Q:()=>De});var w=Y(9672),re=Y(4482),B=Y(5403);function De(ee,Se=0){return(0,re.e)((Ue,he)=>{Ue.subscribe((0,B.x)(he,$e=>(0,w.f)(he,ee,()=>he.next($e),Se),()=>(0,w.f)(he,ee,()=>he.complete(),Se),$e=>(0,w.f)(he,ee,()=>he.error($e),Se)))})}},8675:(rn,Ye,Y)=>{Y.d(Ye,{O:()=>De});var w=Y(7272),re=Y(3269),B=Y(4482);function De(...ee){const Se=(0,re.yG)(ee);return(0,B.e)((Ue,he)=>{(Se?(0,w.z)(ee,Ue,Se):(0,w.z)(ee,Ue)).subscribe(he)})}},9468:(rn,Ye,Y)=>{Y.d(Ye,{R:()=>re});var w=Y(4482);function re(B,De=0){return(0,w.e)((ee,Se)=>{Se.add(B.schedule(()=>ee.subscribe(Se),De))})}},3900:(rn,Ye,Y)=>{Y.d(Ye,{w:()=>De});var w=Y(8421),re=Y(4482),B=Y(5403);function De(ee,Se){return(0,re.e)((Ue,he)=>{let $e=null,ie=0,ye=!1;const Pe=()=>ye&&!$e&&he.complete();Ue.subscribe((0,B.x)(he,nt=>{$e?.unsubscribe();let at=0;const yt=ie++;(0,w.Xf)(ee(nt,yt)).subscribe($e=(0,B.x)(he,_t=>he.next(Se?Se(nt,_t,yt,at++):_t),()=>{$e=null,Pe()}))},()=>{ye=!0,Pe()}))})}},5698:(rn,Ye,Y)=>{Y.d(Ye,{q:()=>De});var w=Y(515),re=Y(4482),B=Y(5403);function De(ee){return ee<=0?()=>w.E:(0,re.e)((Se,Ue)=>{let he=0;Se.subscribe((0,B.x)(Ue,$e=>{++he<=ee&&(Ue.next($e),ee<=he&&Ue.complete())}))})}},8505:(rn,Ye,Y)=>{Y.d(Ye,{b:()=>ee});var w=Y(576),re=Y(4482),B=Y(5403),De=Y(4671);function ee(Se,Ue,he){const $e=(0,w.m)(Se)||Ue||he?{next:Se,error:Ue,complete:he}:Se;return $e?(0,re.e)((ie,ye)=>{var Pe;null===(Pe=$e.subscribe)||void 0===Pe||Pe.call($e);let nt=!0;ie.subscribe((0,B.x)(ye,at=>{var yt;null===(yt=$e.next)||void 0===yt||yt.call($e,at),ye.next(at)},()=>{var at;nt=!1,null===(at=$e.complete)||void 0===at||at.call($e),ye.complete()},at=>{var yt;nt=!1,null===(yt=$e.error)||void 0===yt||yt.call($e,at),ye.error(at)},()=>{var at,yt;nt&&(null===(at=$e.unsubscribe)||void 0===at||at.call($e)),null===(yt=$e.finalize)||void 0===yt||yt.call($e)}))}):De.y}},4408:(rn,Ye,Y)=>{Y.d(Ye,{o:()=>ee});var w=Y(727);class re extends w.w0{constructor(Ue,he){super()}schedule(Ue,he=0){return this}}const B={setInterval(Se,Ue,...he){const{delegate:$e}=B;return $e?.setInterval?$e.setInterval(Se,Ue,...he):setInterval(Se,Ue,...he)},clearInterval(Se){const{delegate:Ue}=B;return(Ue?.clearInterval||clearInterval)(Se)},delegate:void 0};var De=Y(8737);class ee extends re{constructor(Ue,he){super(Ue,he),this.scheduler=Ue,this.work=he,this.pending=!1}schedule(Ue,he=0){var $e;if(this.closed)return this;this.state=Ue;const ie=this.id,ye=this.scheduler;return null!=ie&&(this.id=this.recycleAsyncId(ye,ie,he)),this.pending=!0,this.delay=he,this.id=null!==($e=this.id)&&void 0!==$e?$e:this.requestAsyncId(ye,this.id,he),this}requestAsyncId(Ue,he,$e=0){return B.setInterval(Ue.flush.bind(Ue,this),$e)}recycleAsyncId(Ue,he,$e=0){if(null!=$e&&this.delay===$e&&!1===this.pending)return he;null!=he&&B.clearInterval(he)}execute(Ue,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $e=this._execute(Ue,he);if($e)return $e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ue,he){let ie,$e=!1;try{this.work(Ue)}catch(ye){$e=!0,ie=ye||new Error("Scheduled action threw falsy error")}if($e)return this.unsubscribe(),ie}unsubscribe(){if(!this.closed){const{id:Ue,scheduler:he}=this,{actions:$e}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,De.P)($e,this),null!=Ue&&(this.id=this.recycleAsyncId(he,Ue,null)),this.delay=null,super.unsubscribe()}}}},640:(rn,Ye,Y)=>{Y.d(Ye,{v:()=>B});const w={now:()=>(w.delegate||Date).now(),delegate:void 0};class re{constructor(ee,Se=re.now){this.schedulerActionCtor=ee,this.now=Se}schedule(ee,Se=0,Ue){return new this.schedulerActionCtor(this,ee).schedule(Ue,Se)}}re.now=w.now;class B extends re{constructor(ee,Se=re.now){super(ee,Se),this.actions=[],this._active=!1}flush(ee){const{actions:Se}=this;if(this._active)return void Se.push(ee);let Ue;this._active=!0;do{if(Ue=ee.execute(ee.state,ee.delay))break}while(ee=Se.shift());if(this._active=!1,Ue){for(;ee=Se.shift();)ee.unsubscribe();throw Ue}}}},4986:(rn,Ye,Y)=>{Y.d(Ye,{P:()=>De,z:()=>B});var w=Y(4408);const B=new(Y(640).v)(w.o),De=B},3410:(rn,Ye,Y)=>{Y.d(Ye,{z:()=>w});const w={setTimeout(re,B,...De){const{delegate:ee}=w;return ee?.setTimeout?ee.setTimeout(re,B,...De):setTimeout(re,B,...De)},clearTimeout(re){const{delegate:B}=w;return(B?.clearTimeout||clearTimeout)(re)},delegate:void 0}},2202:(rn,Ye,Y)=>{Y.d(Ye,{h:()=>re});const re=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(rn,Ye,Y)=>{Y.d(Ye,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(rn,Ye,Y)=>{Y.d(Ye,{_6:()=>Se,jO:()=>De,yG:()=>ee});var w=Y(576),re=Y(3532);function B(Ue){return Ue[Ue.length-1]}function De(Ue){return(0,w.m)(B(Ue))?Ue.pop():void 0}function ee(Ue){return(0,re.K)(B(Ue))?Ue.pop():void 0}function Se(Ue,he){return"number"==typeof B(Ue)?Ue.pop():he}},4742:(rn,Ye,Y)=>{Y.d(Ye,{D:()=>ee});const{isArray:w}=Array,{getPrototypeOf:re,prototype:B,keys:De}=Object;function ee(Ue){if(1===Ue.length){const he=Ue[0];if(w(he))return{args:he,keys:null};if(function Se(Ue){return Ue&&"object"==typeof Ue&&re(Ue)===B}(he)){const $e=De(he);return{args:$e.map(ie=>he[ie]),keys:$e}}}return{args:Ue,keys:null}}},8737:(rn,Ye,Y)=>{function w(re,B){if(re){const De=re.indexOf(B);0<=De&&re.splice(De,1)}}Y.d(Ye,{P:()=>w})},3888:(rn,Ye,Y)=>{function w(re){const De=re(ee=>{Error.call(ee),ee.stack=(new Error).stack});return De.prototype=Object.create(Error.prototype),De.prototype.constructor=De,De}Y.d(Ye,{d:()=>w})},1810:(rn,Ye,Y)=>{function w(re,B){return re.reduce((De,ee,Se)=>(De[ee]=B[Se],De),{})}Y.d(Ye,{n:()=>w})},2806:(rn,Ye,Y)=>{Y.d(Ye,{O:()=>De,x:()=>B});var w=Y(2416);let re=null;function B(ee){if(w.v.useDeprecatedSynchronousErrorHandling){const Se=!re;if(Se&&(re={errorThrown:!1,error:null}),ee(),Se){const{errorThrown:Ue,error:he}=re;if(re=null,Ue)throw he}}else ee()}function De(ee){w.v.useDeprecatedSynchronousErrorHandling&&re&&(re.errorThrown=!0,re.error=ee)}},9672:(rn,Ye,Y)=>{function w(re,B,De,ee=0,Se=!1){const Ue=B.schedule(function(){De(),Se?re.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(re.add(Ue),!Se)return Ue}Y.d(Ye,{f:()=>w})},4671:(rn,Ye,Y)=>{function w(re){return re}Y.d(Ye,{y:()=>w})},1144:(rn,Ye,Y)=>{Y.d(Ye,{z:()=>w});const w=re=>re&&"number"==typeof re.length&&"function"!=typeof re},2206:(rn,Ye,Y)=>{Y.d(Ye,{D:()=>re});var w=Y(576);function re(B){return Symbol.asyncIterator&&(0,w.m)(B?.[Symbol.asyncIterator])}},576:(rn,Ye,Y)=>{function w(re){return"function"==typeof re}Y.d(Ye,{m:()=>w})},3670:(rn,Ye,Y)=>{Y.d(Ye,{c:()=>B});var w=Y(8822),re=Y(576);function B(De){return(0,re.m)(De[w.L])}},6495:(rn,Ye,Y)=>{Y.d(Ye,{T:()=>B});var w=Y(2202),re=Y(576);function B(De){return(0,re.m)(De?.[w.h])}},8239:(rn,Ye,Y)=>{Y.d(Ye,{t:()=>re});var w=Y(576);function re(B){return(0,w.m)(B?.then)}},3260:(rn,Ye,Y)=>{Y.d(Ye,{L:()=>De,Q:()=>B});var w=Y(655),re=Y(576);function B(ee){return(0,w.FC)(this,arguments,function*(){const Ue=ee.getReader();try{for(;;){const{value:he,done:$e}=yield(0,w.qq)(Ue.read());if($e)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(he)}}finally{Ue.releaseLock()}})}function De(ee){return(0,re.m)(ee?.getReader)}},3532:(rn,Ye,Y)=>{Y.d(Ye,{K:()=>re});var w=Y(576);function re(B){return B&&(0,w.m)(B.schedule)}},4482:(rn,Ye,Y)=>{Y.d(Ye,{A:()=>re,e:()=>B});var w=Y(576);function re(De){return(0,w.m)(De?.lift)}function B(De){return ee=>{if(re(ee))return ee.lift(function(Se){try{return De(Se,this)}catch(Ue){this.error(Ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(rn,Ye,Y)=>{Y.d(Ye,{Z:()=>De});var w=Y(4004);const{isArray:re}=Array;function De(ee){return(0,w.U)(Se=>function B(ee,Se){return re(Se)?ee(...Se):ee(Se)}(ee,Se))}},5032:(rn,Ye,Y)=>{function w(){}Y.d(Ye,{Z:()=>w})},9635:(rn,Ye,Y)=>{Y.d(Ye,{U:()=>B,z:()=>re});var w=Y(4671);function re(...De){return B(De)}function B(De){return 0===De.length?w.y:1===De.length?De[0]:function(Se){return De.reduce((Ue,he)=>he(Ue),Se)}}},7849:(rn,Ye,Y)=>{Y.d(Ye,{h:()=>B});var w=Y(2416),re=Y(3410);function B(De){re.z.setTimeout(()=>{const{onUnhandledError:ee}=w.v;if(!ee)throw De;ee(De)})}},4532:(rn,Ye,Y)=>{function w(re){return new TypeError(`You provided ${null!==re&&"object"==typeof re?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Y.d(Ye,{z:()=>w})},655:(rn,Ye,Y)=>{function De(ze,Ae){var et={};for(var rt in ze)Object.prototype.hasOwnProperty.call(ze,rt)&&Ae.indexOf(rt)<0&&(et[rt]=ze[rt]);if(null!=ze&&"function"==typeof Object.getOwnPropertySymbols){var gt=0;for(rt=Object.getOwnPropertySymbols(ze);gt<rt.length;gt++)Ae.indexOf(rt[gt])<0&&Object.prototype.propertyIsEnumerable.call(ze,rt[gt])&&(et[rt[gt]]=ze[rt[gt]])}return et}function Pe(ze,Ae,et,rt){return new(et||(et=Promise))(function(mt,ln){function Rn(Gt){try{Yt(rt.next(Gt))}catch(Pt){ln(Pt)}}function kn(Gt){try{Yt(rt.throw(Gt))}catch(Pt){ln(Pt)}}function Yt(Gt){Gt.done?mt(Gt.value):function gt(mt){return mt instanceof et?mt:new et(function(ln){ln(mt)})}(Gt.value).then(Rn,kn)}Yt((rt=rt.apply(ze,Ae||[])).next())})}function Fe(ze){return this instanceof Fe?(this.v=ze,this):new Fe(ze)}function pt(ze,Ae,et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var gt,rt=et.apply(ze,Ae||[]),mt=[];return gt={},ln("next"),ln("throw"),ln("return"),gt[Symbol.asyncIterator]=function(){return this},gt;function ln(Vn){rt[Vn]&&(gt[Vn]=function(ei){return new Promise(function(Cr,xn){mt.push([Vn,ei,Cr,xn])>1||Rn(Vn,ei)})})}function Rn(Vn,ei){try{!function kn(Vn){Vn.value instanceof Fe?Promise.resolve(Vn.value.v).then(Yt,Gt):Pt(mt[0][2],Vn)}(rt[Vn](ei))}catch(Cr){Pt(mt[0][3],Cr)}}function Yt(Vn){Rn("next",Vn)}function Gt(Vn){Rn("throw",Vn)}function Pt(Vn,ei){Vn(ei),mt.shift(),mt.length&&Rn(mt[0][0],mt[0][1])}}function dt(ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,Ae=ze[Symbol.asyncIterator];return Ae?Ae.call(ze):(ze=function _t(ze){var Ae="function"==typeof Symbol&&Symbol.iterator,et=Ae&&ze[Ae],rt=0;if(et)return et.call(ze);if(ze&&"number"==typeof ze.length)return{next:function(){return ze&&rt>=ze.length&&(ze=void 0),{value:ze&&ze[rt++],done:!ze}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(ze),et={},rt("next"),rt("throw"),rt("return"),et[Symbol.asyncIterator]=function(){return this},et);function rt(mt){et[mt]=ze[mt]&&function(ln){return new Promise(function(Rn,kn){!function gt(mt,ln,Rn,kn){Promise.resolve(kn).then(function(Yt){mt({value:Yt,done:Rn})},ln)}(Rn,kn,(ln=ze[mt](ln)).done,ln.value)})}}}Y.d(Ye,{FC:()=>pt,KL:()=>dt,_T:()=>De,mG:()=>Pe,qq:()=>Fe})},6895:(rn,Ye,Y)=>{Y.d(Ye,{Do:()=>Wn,EM:()=>ha,HT:()=>De,JF:()=>co,K0:()=>Se,Mx:()=>$i,NF:()=>Yo,O5:()=>fr,Ov:()=>ao,PC:()=>Yr,S$:()=>_t,Ts:()=>Sr,V_:()=>$e,Ye:()=>En,b0:()=>Bt,bD:()=>ks,ez:()=>Ds,mk:()=>fi,q:()=>B,sg:()=>wr,w_:()=>ee});var w=Y(1571);let re=null;function B(){return re}function De(M){re||(re=M)}class ee{}const Se=new w.OlP("DocumentToken");let Ue=(()=>{class M{historyGo(N){throw new Error("Not implemented")}}return M.\u0275fac=function(N){return new(N||M)},M.\u0275prov=w.Yz7({token:M,factory:function(){return function he(){return(0,w.LFG)(ie)}()},providedIn:"platform"}),M})();const $e=new w.OlP("Location Initialized");let ie=(()=>{class M extends Ue{constructor(N){super(),this._doc=N,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(N){const K=B().getGlobalEventTarget(this._doc,"window");return K.addEventListener("popstate",N,!1),()=>K.removeEventListener("popstate",N)}onHashChange(N){const K=B().getGlobalEventTarget(this._doc,"window");return K.addEventListener("hashchange",N,!1),()=>K.removeEventListener("hashchange",N)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(N){this._location.pathname=N}pushState(N,K,ue){ye()?this._history.pushState(N,K,ue):this._location.hash=ue}replaceState(N,K,ue){ye()?this._history.replaceState(N,K,ue):this._location.hash=ue}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return M.\u0275fac=function(N){return new(N||M)(w.LFG(Se))},M.\u0275prov=w.Yz7({token:M,factory:function(){return function Pe(){return new ie((0,w.LFG)(Se))}()},providedIn:"platform"}),M})();function ye(){return!!window.history.pushState}function nt(M,$){if(0==M.length)return $;if(0==$.length)return M;let N=0;return M.endsWith("/")&&N++,$.startsWith("/")&&N++,2==N?M+$.substring(1):1==N?M+$:M+"/"+$}function at(M){const $=M.match(/#|\?|$/),N=$&&$.index||M.length;return M.slice(0,N-("/"===M[N-1]?1:0))+M.slice(N)}function yt(M){return M&&"?"!==M[0]?"?"+M:M}let _t=(()=>{class M{historyGo(N){throw new Error("Not implemented")}}return M.\u0275fac=function(N){return new(N||M)},M.\u0275prov=w.Yz7({token:M,factory:function(){return(0,w.f3M)(Bt)},providedIn:"root"}),M})();const mn=new w.OlP("appBaseHref");let Bt=(()=>{class M extends _t{constructor(N,K){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=K??this._platformLocation.getBaseHrefFromDOM()??(0,w.f3M)(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return nt(this._baseHref,N)}path(N=!1){const K=this._platformLocation.pathname+yt(this._platformLocation.search),ue=this._platformLocation.hash;return ue&&N?`${K}${ue}`:K}pushState(N,K,ue,He){const tt=this.prepareExternalUrl(ue+yt(He));this._platformLocation.pushState(N,K,tt)}replaceState(N,K,ue,He){const tt=this.prepareExternalUrl(ue+yt(He));this._platformLocation.replaceState(N,K,tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return M.\u0275fac=function(N){return new(N||M)(w.LFG(Ue),w.LFG(mn,8))},M.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),Wn=(()=>{class M extends _t{constructor(N,K){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=K&&(this._baseHref=K)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let K=this._platformLocation.hash;return null==K&&(K="#"),K.length>0?K.substring(1):K}prepareExternalUrl(N){const K=nt(this._baseHref,N);return K.length>0?"#"+K:K}pushState(N,K,ue,He){let tt=this.prepareExternalUrl(ue+yt(He));0==tt.length&&(tt=this._platformLocation.pathname),this._platformLocation.pushState(N,K,tt)}replaceState(N,K,ue,He){let tt=this.prepareExternalUrl(ue+yt(He));0==tt.length&&(tt=this._platformLocation.pathname),this._platformLocation.replaceState(N,K,tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return M.\u0275fac=function(N){return new(N||M)(w.LFG(Ue),w.LFG(mn,8))},M.\u0275prov=w.Yz7({token:M,factory:M.\u0275fac}),M})(),En=(()=>{class M{constructor(N){this._subject=new w.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const K=this._locationStrategy.getBaseHref();this._basePath=function dt(M){if(new RegExp("^(https?:)?//").test(M)){const[,N]=M.split(/\/\/[^\/]+/);return N}return M}(at(Ge(K))),this._locationStrategy.onPopState(ue=>{this._subject.emit({url:this.path(!0),pop:!0,state:ue.state,type:ue.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,K=""){return this.path()==this.normalize(N+yt(K))}normalize(N){return M.stripTrailingSlash(function pt(M,$){if(!M||!$.startsWith(M))return $;const N=$.substring(M.length);return""===N||["/",";","?","#"].includes(N[0])?N:$}(this._basePath,Ge(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,K="",ue=null){this._locationStrategy.pushState(ue,"",N,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+yt(K)),ue)}replaceState(N,K="",ue=null){this._locationStrategy.replaceState(ue,"",N,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+yt(K)),ue)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(K=>{this._notifyUrlChangeListeners(K.url,K.state)})),()=>{const K=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(K,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",K){this._urlChangeListeners.forEach(ue=>ue(N,K))}subscribe(N,K,ue){return this._subject.subscribe({next:N,error:K,complete:ue})}}return M.normalizeQueryParams=yt,M.joinWithSlash=nt,M.stripTrailingSlash=at,M.\u0275fac=function(N){return new(N||M)(w.LFG(_t))},M.\u0275prov=w.Yz7({token:M,factory:function(){return function Fe(){return new En((0,w.LFG)(_t))}()},providedIn:"root"}),M})();function Ge(M){return M.replace(/\/index.html$/,"")}function $i(M,$){$=encodeURIComponent($);for(const N of M.split(";")){const K=N.indexOf("="),[ue,He]=-1==K?[N,""]:[N.slice(0,K),N.slice(K+1)];if(ue.trim()===$)return decodeURIComponent(He)}return null}const Rr=/\s+/,Zi=[];let fi=(()=>{class M{constructor(N,K,ue,He){this._iterableDiffers=N,this._keyValueDiffers=K,this._ngEl=ue,this._renderer=He,this.initialClasses=Zi,this.stateMap=new Map}set klass(N){this.initialClasses=null!=N?N.trim().split(Rr):Zi}set ngClass(N){this.rawClass="string"==typeof N?N.trim().split(Rr):N}ngDoCheck(){for(const K of this.initialClasses)this._updateState(K,!0);const N=this.rawClass;if(Array.isArray(N)||N instanceof Set)for(const K of N)this._updateState(K,!0);else if(null!=N)for(const K of Object.keys(N))this._updateState(K,Boolean(N[K]));this._applyStateDiff()}_updateState(N,K){const ue=this.stateMap.get(N);void 0!==ue?(ue.enabled!==K&&(ue.changed=!0,ue.enabled=K),ue.touched=!0):this.stateMap.set(N,{enabled:K,changed:!0,touched:!0})}_applyStateDiff(){for(const N of this.stateMap){const K=N[0],ue=N[1];ue.changed?(this._toggleClass(K,ue.enabled),ue.changed=!1):ue.touched||(ue.enabled&&this._toggleClass(K,!1),this.stateMap.delete(K)),ue.touched=!1}}_toggleClass(N,K){(N=N.trim()).length>0&&N.split(Rr).forEach(ue=>{K?this._renderer.addClass(this._ngEl.nativeElement,ue):this._renderer.removeClass(this._ngEl.nativeElement,ue)})}}return M.\u0275fac=function(N){return new(N||M)(w.Y36(w.ZZ4),w.Y36(w.aQg),w.Y36(w.SBq),w.Y36(w.Qsj))},M.\u0275dir=w.lG2({type:M,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),M})();class vn{constructor($,N,K,ue){this.$implicit=$,this.ngForOf=N,this.index=K,this.count=ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wr=(()=>{class M{set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}constructor(N,K,ue){this._viewContainer=N,this._template=K,this._differs=ue,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const K=this._viewContainer;N.forEachOperation((ue,He,tt)=>{if(null==ue.previousIndex)K.createEmbeddedView(this._template,new vn(ue.item,this._ngForOf,-1,-1),null===tt?void 0:tt);else if(null==tt)K.remove(null===He?void 0:He);else if(null!==He){const It=K.get(He);K.move(It,tt),Yi(It,ue)}});for(let ue=0,He=K.length;ue<He;ue++){const It=K.get(ue).context;It.index=ue,It.count=He,It.ngForOf=this._ngForOf}N.forEachIdentityChange(ue=>{Yi(K.get(ue.currentIndex),ue)})}static ngTemplateContextGuard(N,K){return!0}}return M.\u0275fac=function(N){return new(N||M)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))},M.\u0275dir=w.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),M})();function Yi(M,$){M.context.$implicit=$.item}let fr=(()=>{class M{constructor(N,K){this._viewContainer=N,this._context=new xi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=K}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){Ir("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){Ir("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,K){return!0}}return M.\u0275fac=function(N){return new(N||M)(w.Y36(w.s_b),w.Y36(w.Rgc))},M.\u0275dir=w.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),M})();class xi{constructor(){this.$implicit=null,this.ngIf=null}}function Ir(M,$){if($&&!$.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,w.AaK)($)}'.`)}let Yr=(()=>{class M{constructor(N,K,ue){this._ngEl=N,this._differs=K,this._renderer=ue,this._ngStyle=null,this._differ=null}set ngStyle(N){this._ngStyle=N,!this._differ&&N&&(this._differ=this._differs.find(N).create())}ngDoCheck(){if(this._differ){const N=this._differ.diff(this._ngStyle);N&&this._applyChanges(N)}}_setStyle(N,K){const[ue,He]=N.split("."),tt=-1===ue.indexOf("-")?void 0:w.JOm.DashCase;null!=K?this._renderer.setStyle(this._ngEl.nativeElement,ue,He?`${K}${He}`:K,tt):this._renderer.removeStyle(this._ngEl.nativeElement,ue,tt)}_applyChanges(N){N.forEachRemovedItem(K=>this._setStyle(K.key,null)),N.forEachAddedItem(K=>this._setStyle(K.key,K.currentValue)),N.forEachChangedItem(K=>this._setStyle(K.key,K.currentValue))}}return M.\u0275fac=function(N){return new(N||M)(w.Y36(w.SBq),w.Y36(w.aQg),w.Y36(w.Qsj))},M.\u0275dir=w.lG2({type:M,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),M})();class br{createSubscription($,N){return $.subscribe({next:N,error:K=>{throw K}})}dispose($){$.unsubscribe()}}class Wr{createSubscription($,N){return $.then(N,K=>{throw K})}dispose($){}}const Xn=new Wr,zs=new br;let ao=(()=>{class M{constructor(N){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=N}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(N){return this._obj?N!==this._obj?(this._dispose(),this.transform(N)):this._latestValue:(N&&this._subscribe(N),this._latestValue)}_subscribe(N){this._obj=N,this._strategy=this._selectStrategy(N),this._subscription=this._strategy.createSubscription(N,K=>this._updateLatestValue(N,K))}_selectStrategy(N){if((0,w.QGY)(N))return Xn;if((0,w.F4k)(N))return zs;throw function ur(M,$){return new w.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(N,K){N===this._obj&&(this._latestValue=K,this._ref.markForCheck())}}return M.\u0275fac=function(N){return new(N||M)(w.Y36(w.sBO,16))},M.\u0275pipe=w.Yjl({name:"async",type:M,pure:!1,standalone:!0}),M})(),Sr=(()=>{class M{transform(N){return JSON.stringify(N,null,2)}}return M.\u0275fac=function(N){return new(N||M)},M.\u0275pipe=w.Yjl({name:"json",type:M,pure:!1,standalone:!0}),M})(),Ds=(()=>{class M{}return M.\u0275fac=function(N){return new(N||M)},M.\u0275mod=w.oAB({type:M}),M.\u0275inj=w.cJS({}),M})();const ks="browser";function Yo(M){return M===ks}let ha=(()=>{class M{}return M.\u0275prov=(0,w.Yz7)({token:M,providedIn:"root",factory:()=>new Oi((0,w.LFG)(Se),window)}),M})();class Oi{constructor($,N){this.document=$,this.window=N,this.offset=()=>[0,0]}setOffset($){this.offset=Array.isArray($)?()=>$:$}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition($){this.supportsScrolling()&&this.window.scrollTo($[0],$[1])}scrollToAnchor($){if(!this.supportsScrolling())return;const N=function Cs(M,$){const N=M.getElementById($)||M.getElementsByName($)[0];if(N)return N;if("function"==typeof M.createTreeWalker&&M.body&&(M.body.createShadowRoot||M.body.attachShadow)){const K=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let ue=K.currentNode;for(;ue;){const He=ue.shadowRoot;if(He){const tt=He.getElementById($)||He.querySelector(`[name="${$}"]`);if(tt)return tt}ue=K.nextNode()}}return null}(this.document,$);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration($){if(this.supportScrollRestoration()){const N=this.window.history;N&&N.scrollRestoration&&(N.scrollRestoration=$)}}scrollToElement($){const N=$.getBoundingClientRect(),K=N.left+this.window.pageXOffset,ue=N.top+this.window.pageYOffset,He=this.offset();this.window.scrollTo(K-He[0],ue-He[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const $=lo(this.window.history)||lo(Object.getPrototypeOf(this.window.history));return!(!$||!$.writable&&!$.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function lo(M){return Object.getOwnPropertyDescriptor(M,"scrollRestoration")}class co{}},1571:(rn,Ye,Y)=>{Y.d(Ye,{QbO:()=>Gw,tb:()=>dE,AFp:()=>eE,ip1:()=>X0,CZH:()=>$y,hGG:()=>MI,z2F:()=>Hy,sBO:()=>fI,Sil:()=>Zw,_Vd:()=>Ga,EJc:()=>qw,Xts:()=>Ec,SBq:()=>Dc,lqb:()=>Uu,qLn:()=>hd,vpe:()=>Jl,XFs:()=>zt,OlP:()=>Lt,zs3:()=>Sc,ZZ4:()=>Sv,aQg:()=>Av,soG:()=>jy,YKP:()=>a0,h0i:()=>Rp,PXZ:()=>uI,R0b:()=>Zu,FiY:()=>qr,Lbi:()=>Hw,g9A:()=>nE,Qsj:()=>Pf,FYo:()=>dd,JOm:()=>xs,tp0:()=>vs,Rgc:()=>gm,dDg:()=>iI,eoX:()=>lE,q4F:()=>Nf,GfV:()=>bh,s_b:()=>Vy,ifc:()=>ge,MMx:()=>tv,Lck:()=>UE,eFA:()=>fE,Gpc:()=>yt,f3M:()=>ri,$WT:()=>$i,_c5:()=>AI,c2e:()=>zw,zSh:()=>vu,wAp:()=>bn,vHH:()=>Fe,lri:()=>aE,rWj:()=>uE,D6c:()=>xI,cg1:()=>xy,kL8:()=>rf,dqk:()=>Bn,Z0I:()=>qi,eJc:()=>dv,CqO:()=>Nc,QGY:()=>gp,F4k:()=>Fg,RDi:()=>Vp,AaK:()=>Pe,qOj:()=>Ag,TTD:()=>Cs,_Bn:()=>o0,jDz:()=>l0,xp6:()=>Bl,uIk:()=>Rg,ekj:()=>Ep,Suo:()=>x0,Xpm:()=>xe,lG2:()=>Er,Yz7:()=>xn,cJS:()=>Or,oAB:()=>_n,Yjl:()=>as,Y36:()=>Ac,_UZ:()=>zh,BQk:()=>pp,ynx:()=>Vd,qZA:()=>fp,TgZ:()=>Ld,EpF:()=>oy,n5z:()=>Go,LFG:()=>ar,$8M:()=>Ys,$Z:()=>ag,NdJ:()=>mp,CRH:()=>P0,oxw:()=>Kh,ALo:()=>I0,lcZ:()=>D0,Q6J:()=>hp,MGl:()=>Ud,hYB:()=>Zh,VKq:()=>m0,iGM:()=>M0,MAs:()=>dp,KtG:()=>ii,CHM:()=>cr,P3R:()=>al,YNc:()=>cp,W1O:()=>k0,_uU:()=>Oc,Oqu:()=>Xg,hij:()=>jd});var w=Y(7579),re=Y(727),B=Y(9751),De=Y(6451),ee=Y(8421),Se=Y(930),Ue=Y(4482);function $e(n,i,...o){if(!0===i)return void n();if(!1===i)return;const u=new Se.Hp({next:()=>{u.unsubscribe(),n()}});return(0,ee.Xf)(i(...o)).subscribe(u)}function ie(n){for(let i in n)if(n[i]===ie)return i;throw Error("Could not find renamed property on target object.")}function ye(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function Pe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Pe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function nt(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const at=ie({__forward_ref__:ie});function yt(n){return n.__forward_ref__=yt,n.toString=function(){return Pe(this())},n}function _t(n){return mn(n)?n():n}function mn(n){return"function"==typeof n&&n.hasOwnProperty(at)&&n.__forward_ref__===yt}function Bt(n){return n&&!!n.\u0275providers}const En="https://g.co/ng/security#xss";class Fe extends Error{constructor(i,o){super(pt(i,o)),this.code=i}}function pt(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function Ge(n){return"string"==typeof n?n:null==n?"":String(n)}function Cn(n,i){throw new Fe(-201,!1)}function Gt(n,i){null==n&&function Pt(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function xn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Or(n){return{providers:n.providers||[],imports:n.imports||[]}}function Gr(n){return Tr(n,ti)||Tr(n,ni)}function qi(n){return null!==Gr(n)}function Tr(n,i){return n.hasOwnProperty(i)?n[i]:null}function Pr(n){return n&&(n.hasOwnProperty(Un)||n.hasOwnProperty(hs))?n[Un]:null}const ti=ie({\u0275prov:ie}),Un=ie({\u0275inj:ie}),ni=ie({ngInjectableDef:ie}),hs=ie({ngInjectorDef:ie});var zt=(()=>((zt=zt||{})[zt.Default=0]="Default",zt[zt.Host=1]="Host",zt[zt.Self=2]="Self",zt[zt.SkipSelf=4]="SkipSelf",zt[zt.Optional=8]="Optional",zt))();let Ki;function hn(n){const i=Ki;return Ki=n,i}function qt(n,i,o){const u=Gr(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&zt.Optional?null:void 0!==i?i:void Cn(Pe(n))}const Bn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),sr={},Mi="__NG_DI_FLAG__",$n="ngTempTokenPath",Hs="ngTokenPath",Kn=/\n/gm,or="\u0275",Zn="__source";let Fr;function Xt(n){const i=Fr;return Fr=n,i}function _i(n,i=zt.Default){if(void 0===Fr)throw new Fe(-203,!1);return null===Fr?qt(n,void 0,i):Fr.get(n,i&zt.Optional?null:void 0,i)}function ar(n,i=zt.Default){return(function Si(){return Ki}()||_i)(_t(n),i)}function ri(n,i=zt.Default){return ar(n,Lr(i))}function Lr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function me(n){const i=[];for(let o=0;o<n.length;o++){const u=_t(n[o]);if(Array.isArray(u)){if(0===u.length)throw new Fe(900,!1);let l,h=zt.Default;for(let v=0;v<u.length;v++){const b=u[v],P=we(b);"number"==typeof P?-1===P?l=b.token:h|=P:l=b}i.push(ar(l,h))}else i.push(ar(u))}return i}function de(n,i){return n[Mi]=i,n.prototype[Mi]=i,n}function we(n){return n[Mi]}function bt(n){return{toString:n}.toString()}var Ee=(()=>((Ee=Ee||{})[Ee.OnPush=0]="OnPush",Ee[Ee.Default=1]="Default",Ee))(),ge=(()=>{return(n=ge||(ge={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ge;var n})();const se={},ve=[],Ke=ie({\u0275cmp:ie}),Ne=ie({\u0275dir:ie}),qe=ie({\u0275pipe:ie}),xt=ie({\u0275mod:ie}),Jt=ie({\u0275fac:ie}),Jn=ie({__NG_ELEMENT_ID__:ie});let je=0;function xe(n){return bt(()=>{const i=Zi(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ee.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||ge.Emulated,id:"c"+je++,styles:n.styles||ve,_:null,schemas:n.schemas||null,tView:null};fi(o);const u=n.dependencies;return o.directiveDefs=Gs(u,!1),o.pipeDefs=Gs(u,!0),o})}function Ht(n){return Sn(n)||gr(n)}function on(n){return null!==n}function _n(n){return bt(()=>({type:n.type,bootstrap:n.bootstrap||ve,declarations:n.declarations||ve,imports:n.imports||ve,exports:n.exports||ve,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function dr(n,i){if(null==n)return se;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,i&&(i[l]=h)}return o}function Er(n){return bt(()=>{const i=Zi(n);return fi(i),i})}function as(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Sn(n){return n[Ke]||null}function gr(n){return n[Ne]||null}function hr(n){return n[qe]||null}function $i(n){const i=Sn(n)||gr(n)||hr(n);return null!==i&&i.standalone}function Rr(n,i){const o=n[xt]||null;if(!o&&!0===i)throw new Error(`Type ${Pe(n)} does not have '\u0275mod' property.`);return o}function Zi(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||ve,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dr(n.inputs,i),outputs:dr(n.outputs)}}function fi(n){n.features?.forEach(i=>i(n))}function Gs(n,i){if(!n)return null;const o=i?hr:Ht;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(on)}const fs=0,Rt=1,vn=2,wr=3,Yi=4,Ns=5,fr=6,xi=7,Ir=8,io=9,so=10,wn=11,Qi=12,wo=13,Ji=14,Xi=15,Yr=16,mr=17,oo=18,ur=19,br=20,Wr=21,Xn=22,ao=1,vt=2,pi=7,Pi=8,Ri=9,nr=10;function Ni(n){return Array.isArray(n)&&"object"==typeof n[ao]}function es(n){return Array.isArray(n)&&!0===n[ao]}function Hn(n){return 0!=(4&n.flags)}function ji(n){return n.componentOffset>-1}function Is(n){return 1==(1&n.flags)}function Sr(n){return!!n.template}function Ws(n){return 0!=(256&n[vn])}function Oi(n,i){return n.hasOwnProperty(Jt)?n[Jt]:null}class lo{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Cs(){return Fs}function Fs(n){return n.type.prototype.ngOnChanges&&(n.setInput=To),co}function co(){const n=Ls(this),i=n?.current;if(i){const o=n.previous;if(o===se)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function To(n,i,o,u){const l=this.declaredInputs[o],h=Ls(n)||function Ts(n,i){return n[ki]=i}(n,{previous:se,current:null}),v=h.current||(h.current={}),b=h.previous,P=b[l];v[l]=new lo(P&&P.currentValue,i,b===se),n[u]=i}Cs.ngInherit=!0;const ki="__ngSimpleChanges__";function Ls(n){return n[ki]||null}const Vr=function(n,i,o){};function gi(n){for(;Array.isArray(n);)n=n[fs];return n}function Gi(n,i){return gi(i[n])}function rr(n,i){return gi(i[n.index])}function So(n,i){return n.data[i]}function vi(n,i){return n[i]}function Fi(n,i){const o=i[n];return Ni(o)?o:o[fs]}function ci(n){return 64==(64&n[vn])}function ho(n,i){return null==i?null:n[i]}function Ao(n){n[oo]=0}function qs(n,i){n[Ns]+=i;let o=n,u=n[wr];for(;null!==u&&(1===i&&1===o[Ns]||-1===i&&0===o[Ns]);)u[Ns]+=i,o=u,u=u[wr]}const an={lFrame:ns(null),bindingsEnabled:!0};function k(){return an.bindingsEnabled}function le(){return an.lFrame.lView}function ft(){return an.lFrame.tView}function cr(n){return an.lFrame.contextLView=n,n[Ir]}function ii(n){return an.lFrame.contextLView=null,n}function Dr(){let n=Ks();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ks(){return an.lFrame.currentTNode}function Jr(n,i){const o=an.lFrame;o.currentTNode=n,o.isParent=i}function ts(){return an.lFrame.isParent}function po(){an.lFrame.isParent=!1}function Ei(){const n=an.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Po(){return an.lFrame.bindingIndex++}function oi(n){const i=an.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function _a(n,i){const o=an.lFrame;o.bindingIndex=o.bindingRootIndex=n,Bo(i)}function Bo(n){an.lFrame.currentDirectiveIndex=n}function Ur(){return an.lFrame.currentQueryIndex}function mo(n){an.lFrame.currentQueryIndex=n}function Ro(n){const i=n[Rt];return 2===i.type?i.declTNode:1===i.type?n[fr]:null}function yo(n,i,o){if(o&zt.SkipSelf){let l=i,h=n;for(;!(l=l.parent,null!==l||o&zt.Host||(l=Ro(h),null===l||(h=h[Xi],10&l.type))););if(null===l)return!1;i=l,n=h}const u=an.lFrame=Ka();return u.currentTNode=i,u.lView=n,!0}function ga(n){const i=Ka(),o=n[Rt];an.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Ka(){const n=an.lFrame,i=null===n?null:n.child;return null===i?ns(n):i}function ns(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function rs(){const n=an.lFrame;return an.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ai=rs;function ls(){const n=rs();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Br(){return an.lFrame.selectedIndex}function Ss(n){an.lFrame.selectedIndex=n}function Fn(){const n=an.lFrame;return So(n.tView,n.selectedIndex)}function $(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:P,ngAfterViewChecked:j,ngOnDestroy:Q}=h;v&&(n.contentHooks??(n.contentHooks=[])).push(-o,v),b&&((n.contentHooks??(n.contentHooks=[])).push(o,b),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,b)),P&&(n.viewHooks??(n.viewHooks=[])).push(-o,P),j&&((n.viewHooks??(n.viewHooks=[])).push(o,j),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,j)),null!=Q&&(n.destroyHooks??(n.destroyHooks=[])).push(o,Q)}}function N(n,i,o){He(n,i,3,o)}function K(n,i,o,u){(3&n[vn])===o&&He(n,i,o,u)}function ue(n,i){let o=n[vn];(3&o)===i&&(o&=2047,o+=1,n[vn]=o)}function He(n,i,o,u){const h=u??-1,v=i.length-1;let b=0;for(let P=void 0!==u?65535&n[oo]:0;P<v;P++)if("number"==typeof i[P+1]){if(b=i[P],null!=u&&b>=u)break}else i[P]<0&&(n[oo]+=65536),(b<h||-1==h)&&(tt(n,o,i,P),n[oo]=(4294901760&n[oo])+P+2),P++}function tt(n,i,o,u){const l=o[u]<0,h=o[u+1],b=n[l?-o[u]:o[u]];if(l){if(n[vn]>>11<n[oo]>>16&&(3&n[vn])===i){n[vn]+=2048,Vr(4,b,h);try{h.call(b)}finally{Vr(5,b,h)}}}else{Vr(4,b,h);try{h.call(b)}finally{Vr(5,b,h)}}}const It=-1;class Nn{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Wt(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const h=o[u++],v=o[u++],b=o[u++];n.setAttribute(i,v,b,h)}else{const h=l,v=o[++u];Tt(h)?n.setProperty(i,h,v):n.setAttribute(i,h,v),u++}}return u}function vo(n){return 3===n||4===n||6===n}function Tt(n){return 64===n.charCodeAt(0)}function Be(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||ut(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function ut(n,i,o,u,l){let h=0,v=n.length;if(-1===i)v=-1;else for(;h<n.length;){const b=n[h++];if("number"==typeof b){if(b===i){v=-1;break}if(b>i){v=h-1;break}}}for(;h<n.length;){const b=n[h];if("number"==typeof b)break;if(b===o){if(null===u)return void(null!==l&&(n[h+1]=l));if(u===n[h+1])return void(n[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==v&&(n.splice(v,0,i),h=v+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==l&&n.splice(h++,0,l)}function ui(n){return n!==It}function ys(n){return 32767&n}function Aa(n,i){let o=function $a(n){return n>>16}(n),u=i;for(;o>0;)u=u[Xi],o--;return u}let va=!0;function Ea(n){const i=va;return va=n,i}const Ho=255,Cu=5;let O=0;const g={};function A(n,i){const o=te(n,i);if(-1!==o)return o;const u=i[Rt];u.firstCreatePass&&(n.injectorIndex=i.length,z(u.data,n),z(i,null),z(u.blueprint,null));const l=ce(n,i),h=n.injectorIndex;if(ui(l)){const v=ys(l),b=Aa(l,i),P=b[Rt].data;for(let j=0;j<8;j++)i[h+j]=b[v+j]|P[v+j]}return i[h+8]=l,h}function z(n,i){n.push(0,0,0,0,0,0,0,0,i)}function te(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function ce(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=li(l),null===u)return It;if(o++,l=l[Xi],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return It}function oe(n,i,o){!function _(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Jn)&&(u=o[Jn]),null==u&&(u=o[Jn]=O++);const l=u&Ho;i.data[n+(l>>Cu)]|=1<<l}(n,i,o)}function be(n,i,o){if(o&zt.Optional||void 0!==n)return n;Cn()}function St(n,i,o,u){if(o&zt.Optional&&void 0===u&&(u=null),!(o&(zt.Self|zt.Host))){const l=n[io],h=hn(void 0);try{return l?l.get(i,u,o&zt.Optional):qt(i,u,o&zt.Optional)}finally{hn(h)}}return be(u,0,o)}function it(n,i,o,u=zt.Default,l){if(null!==n){if(1024&i[vn]){const v=function Vi(n,i,o,u,l){let h=n,v=i;for(;null!==h&&null!==v&&1024&v[vn]&&!(256&v[vn]);){const b=ot(h,v,o,u|zt.Self,g);if(b!==g)return b;let P=h.parent;if(!P){const j=v[Wr];if(j){const Q=j.get(o,g,u);if(Q!==g)return Q}P=li(v),v=v[Xi]}h=P}return l}(n,i,o,u,g);if(v!==g)return v}const h=ot(n,i,o,u,g);if(h!==g)return h}return St(i,o,u,l)}function ot(n,i,o,u,l){const h=function yr(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Jn)?n[Jn]:void 0;return"number"==typeof i?i>=0?i&Ho:Di:i}(o);if("function"==typeof h){if(!yo(i,n,u))return u&zt.Host?be(l,0,u):St(i,o,u,l);try{const v=h(u);if(null!=v||u&zt.Optional)return v;Cn()}finally{ai()}}else if("number"==typeof h){let v=null,b=te(n,i),P=It,j=u&zt.Host?i[Yr][fr]:null;for((-1===b||u&zt.SkipSelf)&&(P=-1===b?ce(n,i):i[b+8],P!==It&&Ii(u,!1)?(v=i[Rt],b=ys(P),i=Aa(P,i)):b=-1);-1!==b;){const Q=i[Rt];if(_r(h,b,Q.data)){const ae=pn(b,i,o,v,u,j);if(ae!==g)return ae}P=i[b+8],P!==It&&Ii(u,i[Rt].data[b+8]===j)&&_r(h,b,i)?(v=Q,b=ys(P),i=Aa(P,i)):b=-1}}return l}function pn(n,i,o,u,l,h){const v=i[Rt],b=v.data[n+8],Q=dn(b,v,o,null==u?ji(b)&&va:u!=v&&0!=(3&b.type),l&zt.Host&&h===b);return null!==Q?tn(i,v,Q,b):g}function dn(n,i,o,u,l){const h=n.providerIndexes,v=i.data,b=1048575&h,P=n.directiveStart,Q=h>>20,Ie=l?b+Q:n.directiveEnd;for(let Ve=u?b:b+Q;Ve<Ie;Ve++){const st=v[Ve];if(Ve<P&&o===st||Ve>=P&&st.type===o)return Ve}if(l){const Ve=v[P];if(Ve&&Sr(Ve)&&Ve.type===o)return P}return null}function tn(n,i,o,u){let l=n[o];const h=i.data;if(function An(n){return n instanceof Nn}(l)){const v=l;v.resolving&&function Mt(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${n}${o}`)}(function dt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ge(n)}(h[o]));const b=Ea(v.canSeeViewProviders);v.resolving=!0;const P=v.injectImpl?hn(v.injectImpl):null;yo(n,u,zt.Default);try{l=n[o]=v.factory(void 0,h,n,u),i.firstCreatePass&&o>=u.directiveStart&&function M(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=i.type.prototype;if(u){const v=Fs(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,v)}l&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,l),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],i)}finally{null!==P&&hn(P),Ea(b),v.resolving=!1,ai()}}return l}function _r(n,i,o){return!!(o[i+(n>>Cu)]&1<<n)}function Ii(n,i){return!(n&zt.Self||n&zt.Host&&i)}class Xr{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return it(this._tNode,this._lView,i,Lr(u),o)}}function Di(){return new Xr(Dr(),le())}function Go(n){return bt(()=>{const i=n.prototype.constructor,o=i[Jt]||xr(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const h=l[Jt]||xr(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function xr(n){return mn(n)?()=>{const i=xr(_t(n));return i&&i()}:Oi(n)}function li(n){const i=n[Rt],o=i.type;return 2===o?i.declTNode:1===o?n[fr]:null}function Ys(n){return function Oe(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(vo(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===i)return o[l+1];l+=2}}}return null}(Dr(),n)}const No="__parameters__";function na(n,i,o){return bt(()=>{const u=function is(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...h){if(this instanceof l)return u.apply(this,h),this;const v=new l(...h);return b.annotation=v,b;function b(P,j,Q){const ae=P.hasOwnProperty(No)?P[No]:Object.defineProperty(P,No,{value:[]})[No];for(;ae.length<=Q;)ae.push(null);return(ae[Q]=ae[Q]||[]).push(v),P}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Lt{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=xn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ia(n,i){n.forEach(o=>Array.isArray(o)?Ia(o,i):i(o))}function Ya(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function uu(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function sa(n,i,o){let u=D(n,i);return u>=0?n[1|u]=o:(u=~u,function bu(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function E(n,i){const o=D(n,i);if(o>=0)return n[1|o]}function D(n,i){return function S(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const h=u+(l-u>>1),v=n[h<<o];if(i===v)return h<<o;v>i?l=h:u=h+1}return~(l<<o)}(n,i,1)}const qr=de(na("Optional"),8),vs=de(na("SkipSelf"),4);var xs=(()=>((xs=xs||{})[xs.Important=1]="Important",xs[xs.DashCase=2]="DashCase",xs))();const ml=new Map;let yl=0;const At="__ngContext__";function Vt(n,i){Ni(i)?(n[At]=i[br],function x(n){ml.set(n[br],n)}(i)):n[At]=i}let Qd;function lc(n,i){return Qd(n,i)}function Na(n){const i=n[wr];return es(i)?i[wr]:i}function Kc(n){return nu(n[wo])}function _l(n){return nu(n[Yi])}function nu(n){for(;null!==n&&!es(n);)n=n[Yi];return n}function Ju(n,i,o,u,l){if(null!=u){let h,v=!1;es(u)?h=u:Ni(u)&&(v=!0,u=u[fs]);const b=gi(u);0===n&&null!==o?null==l?pu(i,o,b):Xs(i,o,b,l||null,!0):1===n&&null!==o?Xs(i,o,b,l||null,!0):2===n?function ih(n,i,o){const u=hc(n,i);u&&function ff(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,b,v):3===n&&i.destroyNode(b),null!=h&&function Jc(n,i,o,u,l){const h=o[pi];h!==gi(o)&&Ju(i,n,u,h,l);for(let b=nr;b<o.length;b++){const P=o[b];wl(P[Rt],P,n,i,u,h)}}(i,n,h,o,l)}}function Xu(n,i,o){return n.createElement(i,o)}function hf(n,i){const o=n[Ri],u=o.indexOf(i),l=i[wr];512&i[vn]&&(i[vn]&=-513,qs(l,-1)),o.splice(u,1)}function tl(n,i){if(n.length<=nr)return;const o=nr+i,u=n[o];if(u){const l=u[mr];null!==l&&l!==n&&hf(l,u),i>0&&(n[o-1][Yi]=u[Yi]);const h=uu(n,nr+i);!function eh(n,i){wl(n,i,i[wn],2,null,null),i[fs]=null,i[fr]=null}(u[Rt],u);const v=h[ur];null!==v&&v.detachView(h[Rt]),u[wr]=null,u[Yi]=null,u[vn]&=-65}return u}function dc(n,i){if(!(128&i[vn])){const o=i[wn];o.destroyNode&&wl(n,i,o,3,null,null),function cc(n){let i=n[wo];if(!i)return El(n[Rt],n);for(;i;){let o=null;if(Ni(i))o=i[wo];else{const u=i[nr];u&&(o=u)}if(!o){for(;i&&!i[Yi]&&i!==n;)Ni(i)&&El(i[Rt],i),i=i[wr];null===i&&(i=n),Ni(i)&&El(i[Rt],i),o=i&&i[Yi]}i=o}}(i)}}function El(n,i){if(!(128&i[vn])){i[vn]&=-65,i[vn]|=128,function nh(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof Nn)){const h=o[u+1];if(Array.isArray(h))for(let v=0;v<h.length;v+=2){const b=l[h[v]],P=h[v+1];Vr(4,b,P);try{P.call(b)}finally{Vr(5,b,P)}}else{Vr(4,l,h);try{h.call(l)}finally{Vr(5,l,h)}}}}}(n,i),function Zc(n,i){const o=n.cleanup,u=i[xi];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const v=o[h+3];v>=0?u[l=v]():u[l=-v].unsubscribe(),h+=2}else{const v=u[l=o[h+1]];o[h].call(v)}if(null!==u){for(let h=l+1;h<u.length;h++)(0,u[h])();i[xi]=null}}(n,i),1===i[Rt].type&&i[wn].destroy();const o=i[mr];if(null!==o&&es(i[wr])){o!==i[wr]&&hf(o,i);const u=i[ur];null!==u&&u.detachView(n)}!function ne(n){ml.delete(n[br])}(i)}}function fu(n,i,o){return function Yc(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[fs];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:h}=n.data[u.directiveStart+l];if(h===ge.None||h===ge.Emulated)return null}return rr(u,o)}}(n,i.parent,o)}function Xs(n,i,o,u,l){n.insertBefore(i,o,u,l)}function pu(n,i,o){n.appendChild(i,o)}function Ou(n,i,o,u,l){null!==u?Xs(n,i,o,u,l):pu(n,i,o)}function hc(n,i){return n.parentNode(i)}let fc,ah,uh,Qn=function Fp(n,i,o){return 40&n.type?rr(n,o):null};function rl(n,i,o,u){const l=fu(n,u,i),h=i[wn],b=function pf(n,i,o){return Qn(n,i,o)}(u.parent||i[fr],u,i);if(null!=l)if(Array.isArray(o))for(let P=0;P<o.length;P++)Ou(h,l,o[P],b,!1);else Ou(h,l,o,b,!1);void 0!==fc&&fc(h,u,i,o,l)}function Qc(n,i){if(null!==i){const o=i.type;if(3&o)return rr(i,n);if(4&o)return ku(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return Qc(n,u);{const l=n[i.index];return es(l)?ku(-1,l):gi(l)}}if(32&o)return lc(i,n)()||gi(n[i.index]);{const u=pc(n,i);return null!==u?Array.isArray(u)?u[0]:Qc(Na(n[Yr]),u):Qc(n,i.next)}}return null}function pc(n,i){return null!==i?n[Yr][fr].projection[i.projection]:null}function ku(n,i){const o=nr+n+1;if(o<i.length){const u=i[o],l=u[Rt].firstChild;if(null!==l)return Qc(u,l)}return i[pi]}function il(n,i,o,u,l,h,v){for(;null!=o;){const b=u[o.index],P=o.type;if(v&&0===i&&(b&&Vt(gi(b),u),o.flags|=2),32!=(32&o.flags))if(8&P)il(n,i,o.child,u,l,h,!1),Ju(i,n,l,b,h);else if(32&P){const j=lc(o,u);let Q;for(;Q=j();)Ju(i,n,l,Q,h);Ju(i,n,l,b,h)}else 16&P?ru(n,i,u,o,l,h):Ju(i,n,l,b,h);o=v?o.projectionNext:o.next}}function wl(n,i,o,u,l,h){il(o,u,n.firstChild,i,l,h,!1)}function ru(n,i,o,u,l,h){const v=o[Yr],P=v[fr].projection[u.projection];if(Array.isArray(P))for(let j=0;j<P.length;j++)Ju(i,n,l,P[j],h);else il(n,i,P,v[wr],l,h,!0)}function sl(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Xc(n,i,o){const{mergedAttrs:u,classes:l,styles:h}=o;null!==u&&Wt(n,i,u),null!==l&&sl(n,i,l),null!==h&&function Lp(n,i,o){n.setAttribute(i,"style",o)}(n,i,h)}function Vp(n){ah=n}function ed(n){return function Sl(){if(void 0===uh&&(uh=null,Bn.trustedTypes))try{uh=Bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return uh}()?.createScriptURL(n)||n}class gc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${En})`}}function iu(n){return n instanceof gc?n.changingThisBreaksApplicationSecurity:n}function ol(n,i){const o=function Up(n){return n instanceof gc&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${En})`)}return o===i}const vf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var di=(()=>((di=di||{})[di.NONE=0]="NONE",di[di.HTML=1]="HTML",di[di.STYLE=2]="STYLE",di[di.SCRIPT=3]="SCRIPT",di[di.URL=4]="URL",di[di.RESOURCE_URL=5]="RESOURCE_URL",di))();function vc(n){const i=Nl();return i?i.sanitize(di.URL,n)||"":ol(n,"URL")?iu(n):function mc(n){return(n=String(n)).match(vf)?n:"unsafe:"+n}(Ge(n))}function Df(n){const i=Nl();if(i)return ed(i.sanitize(di.RESOURCE_URL,n)||"");if(ol(n,"ResourceURL"))return ed(iu(n));throw new Fe(904,!1)}function al(n,i,o){return function Cf(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Df:vc}(i,o)(n)}function Nl(){const n=le();return n&&n[Qi]}const Ec=new Lt("ENVIRONMENT_INITIALIZER"),_h=new Lt("INJECTOR",-1),vh=new Lt("INJECTOR_DEF_TYPES");class Eh{get(i,o=sr){if(o===sr){const u=new Error(`NullInjectorError: No provider for ${Pe(i)}!`);throw u.name="NullInjectorError",u}return o}}function Gp(...n){return{\u0275providers:bf(0,n),\u0275fromNgModule:!0}}function bf(n,...i){const o=[],u=new Set;let l;return Ia(i,h=>{const v=h;ul(v,o,[],u)&&(l||(l=[]),l.push(v))}),void 0!==l&&_u(l,o),o}function _u(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];Ol(l,h=>{i.push(h)})}}function ul(n,i,o,u){if(!(n=_t(n)))return!1;let l=null,h=Pr(n);const v=!h&&Sn(n);if(h||v){if(v&&!v.standalone)return!1;l=n}else{const P=n.ngModule;if(h=Pr(P),!h)return!1;l=P}const b=u.has(l);if(v){if(b)return!1;if(u.add(l),v.dependencies){const P="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const j of P)ul(j,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!b){let j;u.add(l);try{Ia(h.imports,Q=>{ul(Q,i,o,u)&&(j||(j=[]),j.push(Q))})}finally{}void 0!==j&&_u(j,i)}if(!b){const j=Oi(l)||(()=>new l);i.push({provide:l,useFactory:j,deps:ve},{provide:vh,useValue:l,multi:!0},{provide:Ec,useValue:()=>ar(l),multi:!0})}const P=h.providers;null==P||b||Ol(P,Q=>{i.push(Q)})}}return l!==n&&void 0!==n.providers}function Ol(n,i){for(let o of n)Bt(o)&&(o=o.\u0275providers),Array.isArray(o)?Ol(o,i):i(o)}const Af=ie({provide:String,useValue:ie});function su(n){return null!==n&&"object"==typeof n&&Af in n}function Vu(n){return"function"==typeof n}const vu=new Lt("Set Injector scope."),ou={},ll={};let cl;function ld(){return void 0===cl&&(cl=new Eh),cl}class Uu{}class wh extends Uu{get destroyed(){return this._destroyed}constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ch(i,v=>this.processProvider(v)),this.records.set(_h,dl(void 0,this)),l.has("environment")&&this.records.set(Uu,dl(void 0,this));const h=this.records.get(vu);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(vh.multi,ve,zt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=Xt(this),u=hn(void 0);try{return i()}finally{Xt(o),hn(u)}}get(i,o=sr,u=zt.Default){this.assertNotDestroyed(),u=Lr(u);const l=Xt(this),h=hn(void 0);try{if(!(u&zt.SkipSelf)){let b=this.records.get(i);if(void 0===b){const P=function kl(n){return"function"==typeof n||"object"==typeof n&&n instanceof Lt}(i)&&Gr(i);b=P&&this.injectableDefInScope(P)?dl(Ih(i),ou):null,this.records.set(i,b)}if(null!=b)return this.hydrate(i,b)}return(u&zt.Self?ld():this.parent).get(i,o=u&zt.Optional&&o===sr?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[$n]=v[$n]||[]).unshift(Pe(i)),l)throw v;return function Ze(n,i,o,u){const l=n[$n];throw i[Zn]&&l.unshift(i[Zn]),n.message=function ke(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==or?n.slice(2):n;let l=Pe(i);if(Array.isArray(i))l=i.map(Pe).join(" -> ");else if("object"==typeof i){let h=[];for(let v in i)if(i.hasOwnProperty(v)){let b=i[v];h.push(v+":"+("string"==typeof b?JSON.stringify(b):Pe(b)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(Kn,"\n  ")}`}("\n"+n.message,l,o,u),n[Hs]=l,n[$n]=null,n}(v,i,"R3InjectorError",this.source)}throw v}finally{hn(h),Xt(l)}}resolveInjectorInitializers(){const i=Xt(this),o=hn(void 0);try{const u=this.get(Ec.multi,ve,zt.Self);for(const l of u)l()}finally{Xt(i),hn(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(Pe(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processProvider(i){let o=Vu(i=_t(i))?i:_t(i&&i.provide);const u=function wm(n){return su(n)?dl(void 0,n.useValue):dl(xf(n),ou)}(i);if(Vu(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=dl(void 0,ou,!0),l.factory=()=>me(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===ou&&(o.value=ll,o.value=o.factory()),"object"==typeof o.value&&o.value&&function cd(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=_t(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Ih(n){const i=Gr(n),o=null!==i?i.factory:Oi(n);if(null!==o)return o;if(n instanceof Lt)throw new Fe(204,!1);if(n instanceof Function)return function zp(n){const i=n.length;if(i>0)throw function Ma(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new Fe(204,!1);const o=function cn(n){return n&&(n[ti]||n[ni])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Fe(204,!1)}function xf(n,i,o){let u;if(Vu(n)){const l=_t(n);return Oi(l)||Ih(l)}if(su(n))u=()=>_t(n.useValue);else if(function Mf(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...me(n.deps||[]));else if(function wc(n){return!(!n||!n.useExisting)}(n))u=()=>ar(_t(n.useExisting));else{const l=_t(n&&(n.useClass||n.provide));if(!function Dh(n){return!!n.deps}(n))return Oi(l)||Ih(l);u=()=>new l(...me(n.deps))}return u}function dl(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Ch(n,i){for(const o of n)Array.isArray(o)?Ch(o,i):o&&Bt(o)?Ch(o.\u0275providers,i):i(o)}class Wp{}class qp{}class Fl{resolveComponentFactory(i){throw function Im(n){const i=Error(`No component factory found for ${Pe(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Ga=(()=>{class n{}return n.NULL=new Fl,n})();function Zp(){return Ic(Dr(),le())}function Ic(n,i){return new Dc(rr(n,i))}let Dc=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Zp,n})();function Dm(n){return n instanceof Dc?n.nativeElement:n}class dd{}let Pf=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Yp(){const n=le(),o=Fi(Dr().index,n);return(Ni(o)?o:n)[wn]}(),n})(),Rf=(()=>{class n{}return n.\u0275prov=xn({token:n,providedIn:"root",factory:()=>null}),n})();class bh{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Nf=new bh("15.2.8"),Cc={},Of="ngOriginalError";function Tc(n){return n[Of]}class hd{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Tc(i);for(;o&&Tc(o);)o=Tc(o);return o||null}}function za(n){return n instanceof Function?n():n}function eg(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=i.length;if(l+h===u||n.charCodeAt(l+h)<=32)return l}o=l+1}}const Ul="ng-template";function tg(n,i,o){let u=0,l=!0;for(;u<n.length;){let h=n[u++];if("string"==typeof h&&l){const v=n[u++];if(o&&"class"===h&&-1!==eg(v.toLowerCase(),i,0))return!0}else{if(1===h){for(;u<n.length&&"string"==typeof(h=n[u++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function Bu(n){return 4===n.type&&n.value!==Ul}function y(n,i,o){return i===(4!==n.type||o?n.value:Ul)}function d(n,i,o){let u=4;const l=n.attrs||[],h=function _e(n){for(let i=0;i<n.length;i++)if(vo(n[i]))return i;return n.length}(l);let v=!1;for(let b=0;b<i.length;b++){const P=i[b];if("number"!=typeof P){if(!v)if(4&u){if(u=2|1&u,""!==P&&!y(n,P,o)||""===P&&1===i.length){if(p(u))return!1;v=!0}}else{const j=8&u?P:i[++b];if(8&u&&null!==n.attrs){if(!tg(n.attrs,j,o)){if(p(u))return!1;v=!0}continue}const ae=I(8&u?"class":P,l,Bu(n),o);if(-1===ae){if(p(u))return!1;v=!0;continue}if(""!==j){let Ie;Ie=ae>h?"":l[ae+1].toLowerCase();const Ve=8&u?Ie:null;if(Ve&&-1!==eg(Ve,j,0)||2&u&&j!==Ie){if(p(u))return!1;v=!0}}}}else{if(!v&&!p(u)&&!p(P))return!1;if(v&&p(P))continue;v=!1,u=P|1&u}}return p(u)||v}function p(n){return 0==(1&n)}function I(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let h=!1;for(;l<i.length;){const v=i[l];if(v===n)return l;if(3===v||6===v)h=!0;else{if(1===v||2===v){let b=i[++l];for(;"string"==typeof b;)b=i[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=h?1:2}return-1}return function Re(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function U(n,i,o=!1){for(let u=0;u<i.length;u++)if(d(n,i[u],o))return!0;return!1}function Ut(n,i){return n?":not("+i.trim()+")":i}function gn(n){let i=n[0],o=1,u=2,l="",h=!1;for(;o<n.length;){let v=n[o];if("string"==typeof v)if(2&u){const b=n[++o];l+="["+v+(b.length>0?'="'+b+'"':"")+"]"}else 8&u?l+="."+v:4&u&&(l+=" "+v);else""!==l&&!p(v)&&(i+=Ut(h,l),l=""),u=v,h=h||!p(u);o++}return""!==l&&(i+=Ut(h,l)),i}const In={};function Bl(n){md(ft(),le(),Br()+n,!1)}function md(n,i,o,u){if(!u)if(3==(3&i[vn])){const h=n.preOrderCheckHooks;null!==h&&N(i,h,o)}else{const h=n.preOrderHooks;null!==h&&K(i,h,0,o)}Ss(o)}function Ed(n,i=null,o=null,u){const l=wd(n,i,o,u);return l.resolveInjectorInitializers(),l}function wd(n,i=null,o=null,u,l=new Set){const h=[o||ve,Gp(n)];return u=u||("object"==typeof n?void 0:Pe(n)),new wh(h,i||ld(),u||null,l)}let Sc=(()=>{class n{static create(o,u){if(Array.isArray(o))return Ed({name:""},u,o,"");{const l=o.name??"";return Ed({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=sr,n.NULL=new Eh,n.\u0275prov=xn({token:n,providedIn:"any",factory:()=>ar(_h)}),n.__NG_ELEMENT_ID__=-1,n})();function Ac(n,i=zt.Default){const o=le();return null===o?ar(n,i):it(Dr(),o,_t(n),i)}function ag(){throw new Error("invalid")}function Rh(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const v=n.data[h];mo(o[u]),v.contentQueries(2,i[h],h)}}}function Sd(n,i,o,u,l,h,v,b,P,j,Q){const ae=i.blueprint.slice();return ae[fs]=l,ae[vn]=76|u,(null!==Q||n&&1024&n[vn])&&(ae[vn]|=1024),Ao(ae),ae[wr]=ae[Xi]=n,ae[Ir]=o,ae[so]=v||n&&n[so],ae[wn]=b||n&&n[wn],ae[Qi]=P||n&&n[Qi]||null,ae[io]=j||n&&n[io]||null,ae[fr]=h,ae[br]=function C(){return yl++}(),ae[Wr]=Q,ae[Yr]=2==i.type?n[Yr]:ae,ae}function $l(n,i,o,u,l){let h=n.data[i];if(null===h)h=function Oh(n,i,o,u,l){const h=Ks(),v=ts(),P=n.data[i]=function fg(n,i,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?h:h&&h.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=P),null!==h&&(v?null==h.child&&null!==P.parent&&(h.child=P):null===h.next&&(h.next=P,P.prev=h)),P}(n,i,o,u,l),function wi(){return an.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const v=function Zs(){const n=an.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===v?-1:v.injectorIndex}return Jr(h,!0),h}function Ad(n,i,o,u){if(0===o)return-1;const l=i.length;for(let h=0;h<o;h++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function lg(n,i,o){ga(i);try{const u=n.viewQuery;null!==u&&Ig(1,u,o);const l=n.template;null!==l&&Fh(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Rh(n,i),n.staticViewQueries&&Ig(2,n.viewQuery,o);const h=n.components;null!==h&&function qf(n,i){for(let o=0;o<i.length;o++)n_(n,i[o])}(i,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[vn]&=-5,ls()}}function kh(n,i,o,u){const l=i[vn];if(128!=(128&l)){ga(i);try{Ao(i),function ta(n){return an.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Fh(n,i,o,2,u);const v=3==(3&l);if(v){const j=n.preOrderCheckHooks;null!==j&&N(i,j,null)}else{const j=n.preOrderHooks;null!==j&&K(i,j,0,null),ue(i,0)}if(function Lm(n){for(let i=Kc(n);null!==i;i=_l(i)){if(!i[vt])continue;const o=i[Ri];for(let u=0;u<o.length;u++){const l=o[u];512&l[vn]||qs(l[wr],1),l[vn]|=512}}}(i),function wg(n){for(let i=Kc(n);null!==i;i=_l(i))for(let o=nr;o<i.length;o++){const u=i[o],l=u[Rt];ci(u)&&kh(l,u,l.template,u[Ir])}}(i),null!==n.contentQueries&&Rh(n,i),v){const j=n.contentCheckHooks;null!==j&&N(i,j)}else{const j=n.contentHooks;null!==j&&K(i,j,1),ue(i,1)}!function ug(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)Ss(~l);else{const h=l,v=o[++u],b=o[++u];_a(v,h),b(2,i[h])}}}finally{Ss(-1)}}(n,i);const b=n.components;null!==b&&function Nh(n,i){for(let o=0;o<i.length;o++)Rd(n,i[o])}(i,b);const P=n.viewQuery;if(null!==P&&Ig(2,P,u),v){const j=n.viewCheckHooks;null!==j&&N(i,j)}else{const j=n.viewHooks;null!==j&&K(i,j,2),ue(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[vn]&=-41,512&i[vn]&&(i[vn]&=-513,qs(i[wr],-1))}finally{ls()}}}function Fh(n,i,o,u,l){const h=Br(),v=2&u;try{Ss(-1),v&&i.length>Xn&&md(n,i,Xn,!1),Vr(v?2:0,l),o(u,l)}finally{Ss(h),Vr(v?3:1,l)}}function Lh(n,i,o){if(Hn(i)){const l=i.directiveEnd;for(let h=i.directiveStart;h<l;h++){const v=n.data[h];v.contentQueries&&v.contentQueries(1,o[h],h)}}}function cg(n,i,o){k()&&(function Yf(n,i,o,u){const l=o.directiveStart,h=o.directiveEnd;ji(o)&&function vg(n,i,o){const u=rr(i,n),l=ca(o),h=n[so],v=jh(n,Sd(n,l,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));n[i.index]=v}(i,o,n.data[l+o.componentOffset]),n.firstCreatePass||A(o,i),Vt(u,i);const v=o.initialInputs;for(let b=l;b<h;b++){const P=n.data[b],j=tn(i,n,b,o);Vt(j,i),null!==v&&t_(0,b-l,j,P,0,v),Sr(P)&&(Fi(o.index,i)[Ir]=tn(i,n,b,o))}}(n,i,o,rr(o,i)),64==(64&o.flags)&&Pd(n,i,o))}function dg(n,i,o=rr){const u=i.localNames;if(null!==u){let l=i.index+1;for(let h=0;h<u.length;h+=2){const v=u[h+1],b=-1===v?o(i,n):n[v];n[l++]=b}}}function ca(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=hg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function hg(n,i,o,u,l,h,v,b,P,j){const Q=Xn+u,ae=Q+l,Ie=function Nm(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:In);return o}(Q,ae),Ve="function"==typeof j?j():j;return Ie[Rt]={type:n,blueprint:Ie,template:o,queries:null,viewQuery:b,declTNode:i,data:Ie.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:P,consts:Ve,incompleteFirstPass:!1}}function Md(n,i,o,u){const l=Bm(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&Jf(n).push(u,l.length-1))}function pg(n,i,o,u){for(let l in n)if(n.hasOwnProperty(l)){o=null===o?{}:o;const h=n[l];null===u?Om(o,i,l,h):u.hasOwnProperty(l)&&Om(o,i,u[l],h)}return o}function Om(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function Wa(n,i,o,u,l,h,v,b){const P=rr(i,o);let Q,j=i.inputs;!b&&null!=j&&(Q=j[u])?(ep(n,o,Q,u,l),ji(i)&&function gg(n,i){const o=Fi(i,n);16&o[vn]||(o[vn]|=32)}(o,i.index)):3&i.type&&(u=function Jy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=v?v(l,i.value||"",u):l,h.setProperty(P,u,l))}function Mc(n,i,o,u){if(k()){const l=null===u?null:{"":-1},h=function km(n,i){const o=n.directiveRegistry;let u=null,l=null;if(o)for(let h=0;h<o.length;h++){const v=o[h];if(U(i,v.selectors,!1))if(u||(u=[]),Sr(v))if(null!==v.findHostDirectiveDefs){const b=[];l=l||new Map,v.findHostDirectiveDefs(v,b,l),u.unshift(...b,v),Vh(n,i,b.length)}else u.unshift(v),Vh(n,i,0);else l=l||new Map,v.findHostDirectiveDefs?.(v,u,l),u.push(v)}return null===u?null:[u,l]}(n,o);let v,b;null===h?v=b=null:[v,b]=h,null!==v&&Zf(n,i,o,v,l,b),l&&function _g(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const h=o[i[l+1]];if(null==h)throw new Fe(-301,!1);u.push(i[l],h)}}}(o,u,l)}o.mergedAttrs=Be(o.mergedAttrs,o.attrs)}function Zf(n,i,o,u,l,h){for(let j=0;j<u.length;j++)oe(A(o,i),n,u[j].type);!function Fm(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let j=0;j<u.length;j++){const Q=u[j];Q.providersResolver&&Q.providersResolver(Q)}let v=!1,b=!1,P=Ad(n,i,u.length,null);for(let j=0;j<u.length;j++){const Q=u[j];o.mergedAttrs=Be(o.mergedAttrs,Q.hostAttrs),e_(n,o,i,P,Q),jl(P,Q,l),null!==Q.contentQueries&&(o.flags|=4),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(o.flags|=64);const ae=Q.type.prototype;!v&&(ae.ngOnChanges||ae.ngOnInit||ae.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),v=!0),!b&&(ae.ngOnChanges||ae.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),b=!0),P++}!function Qy(n,i,o){const l=i.directiveEnd,h=n.data,v=i.attrs,b=[];let P=null,j=null;for(let Q=i.directiveStart;Q<l;Q++){const ae=h[Q],Ie=o?o.get(ae):null,st=Ie?Ie.outputs:null;P=pg(ae.inputs,Q,P,Ie?Ie.inputs:null),j=pg(ae.outputs,Q,j,st);const Dt=null===P||null===v||Bu(i)?null:Eg(P,Q,v);b.push(Dt)}null!==P&&(P.hasOwnProperty("class")&&(i.flags|=8),P.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=b,i.inputs=P,i.outputs=j}(n,o,h)}function Pd(n,i,o){const u=o.directiveStart,l=o.directiveEnd,h=o.index,v=function Tn(){return an.lFrame.currentDirectiveIndex}();try{Ss(h);for(let b=u;b<l;b++){const P=n.data[b],j=i[b];Bo(b),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&yg(P,j)}}finally{Ss(-1),Bo(v)}}function yg(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Vh(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function jl(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;Sr(i)&&(o[""]=n)}}function e_(n,i,o,u,l){n.data[u]=l;const h=l.factory||(l.factory=Oi(l.type)),v=new Nn(h,Sr(l),Ac);n.blueprint[u]=v,o[u]=v,function xd(n,i,o,u,l){const h=l.hostBindings;if(h){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const b=~i.index;(function mg(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(v)!=b&&v.push(b),v.push(o,u,h)}}(n,i,u,Ad(n,o,l.hostVars,In),l)}function $u(n,i,o,u,l,h){const v=rr(n,i);!function Uh(n,i,o,u,l,h,v){if(null==h)n.removeAttribute(i,l,o);else{const b=null==v?Ge(h):v(h,u||"",l);n.setAttribute(i,l,b,o)}}(i[wn],v,h,n.value,o,u,l)}function t_(n,i,o,u,l,h){const v=h[i];if(null!==v){const b=u.setInput;for(let P=0;P<v.length;){const j=v[P++],Q=v[P++],ae=v[P++];null!==b?u.setInput(o,ae,j,Q):o[Q]=ae}}}function Eg(n,i,o){let u=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===u&&(u=[]);const v=n[h];for(let b=0;b<v.length;b+=2)if(v[b]===i){u.push(h,v[b+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function Bh(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function Rd(n,i){const o=Fi(i,n);if(ci(o)){const u=o[Rt];48&o[vn]?kh(u,o,u.template,o[Ir]):o[Ns]>0&&$h(o)}}function $h(n){for(let u=Kc(n);null!==u;u=_l(u))for(let l=nr;l<u.length;l++){const h=u[l];if(ci(h))if(512&h[vn]){const v=h[Rt];kh(v,h,v.template,h[Ir])}else h[Ns]>0&&$h(h)}const o=n[Rt].components;if(null!==o)for(let u=0;u<o.length;u++){const l=Fi(o[u],n);ci(l)&&l[Ns]>0&&$h(l)}}function n_(n,i){const o=Fi(i,n),u=o[Rt];(function r_(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),lg(u,o,o[Ir])}function jh(n,i){return n[wo]?n[Ji][Yi]=i:n[wo]=i,n[Ji]=i,i}function Hh(n){for(;n;){n[vn]|=32;const i=Na(n);if(Ws(n)&&!i)return n;n=i}return null}function Qf(n,i,o,u=!0){const l=i[so];l.begin&&l.begin();try{kh(n,i,n.template,o)}catch(v){throw u&&Xf(i,v),v}finally{l.end&&l.end()}}function Ig(n,i,o){mo(0),i(n,o)}function Bm(n){return n[xi]||(n[xi]=[])}function Jf(n){return n.cleanup||(n.cleanup=[])}function Xf(n,i){const o=n[io],u=o?o.get(hd,null):null;u&&u.handleError(i)}function ep(n,i,o,u,l){for(let h=0;h<o.length;){const v=o[h++],b=o[h++],P=i[v],j=n.data[v];null!==j.setInput?j.setInput(P,l,u,b):P[b]=l}}function Nd(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,h=0;if(null!==i)for(let v=0;v<i.length;v++){const b=i[v];"number"==typeof b?h=b:1==h?l=nt(l,b):2==h&&(u=nt(u,b+": "+i[++v]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function Od(n,i,o,u,l=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(gi(h)),es(h))for(let b=nr;b<h.length;b++){const P=h[b],j=P[Rt].firstChild;null!==j&&Od(P[Rt],P,j,u)}const v=o.type;if(8&v)Od(n,i,o.child,u);else if(32&v){const b=lc(o,i);let P;for(;P=b();)u.push(P)}else if(16&v){const b=pc(i,o);if(Array.isArray(b))u.push(...b);else{const P=Na(i[Yr]);Od(P[Rt],P,b,u,!0)}}o=l?o.projectionNext:o.next}return u}class ju{get rootNodes(){const i=this._lView,o=i[Rt];return Od(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ir]}set context(i){this._lView[Ir]=i}get destroyed(){return 128==(128&this._lView[vn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[wr];if(es(i)){const o=i[Pi],u=o?o.indexOf(this):-1;u>-1&&(tl(i,u),uu(o,u))}this._attachedToViewContainer=!1}dc(this._lView[Rt],this._lView)}onDestroy(i){Md(this._lView[Rt],this._lView,null,i)}markForCheck(){Hh(this._cdRefInjectingView||this._lView)}detach(){this._lView[vn]&=-65}reattach(){this._lView[vn]|=64}detectChanges(){Qf(this._lView[Rt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ua(n,i){wl(n,i,i[wn],2,null,null)}(this._lView[Rt],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Fe(902,!1);this._appRef=i}}class Hl extends ju{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Qf(i[Rt],i,i[Ir],!1)}checkNoChanges(){}get context(){return null}}class tp extends Ga{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Sn(i);return new Hu(o,this.ngModule)}}function xc(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class jm{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=Lr(u);const l=this.injector.get(i,Cc,u);return l!==Cc||o===Cc?l:this.parentInjector.get(i,o,u)}}class Hu extends qp{get inputs(){return xc(this.componentDef.inputs)}get outputs(){return xc(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function On(n){return n.map(gn).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,l){let h=(l=l||this.ngModule)instanceof Uu?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const v=h?new jm(i,h):i,b=v.get(dd,null);if(null===b)throw new Fe(407,!1);const P=v.get(Rf,null),j=b.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",ae=u?function Kf(n,i,o){return n.selectRootElement(i,o===ge.ShadowDom)}(j,u,this.componentDef.encapsulation):Xu(j,Q,function kd(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(Q)),Ie=this.componentDef.onPush?288:272,Ve=hg(0,null,null,1,0,null,null,null,null,null),st=Sd(null,Ve,null,Ie,null,null,b,j,P,v,null);let Dt,Kt;ga(st);try{const un=this.componentDef;let Mn,wt=null;un.findHostDirectiveDefs?(Mn=[],wt=new Map,un.findHostDirectiveDefs(un,Mn,wt),Mn.push(un)):Mn=[un];const tr=function Dg(n,i){const o=n[Rt],u=Xn;return n[u]=i,$l(o,u,2,"#host",null)}(st,ae),js=function Cg(n,i,o,u,l,h,v,b){const P=l[Rt];!function Tg(n,i,o,u){for(const l of n)i.mergedAttrs=Be(i.mergedAttrs,l.hostAttrs);null!==i.mergedAttrs&&(Nd(i,i.mergedAttrs,!0),null!==o&&Xc(u,o,i))}(u,n,i,v);const j=h.createRenderer(i,o),Q=Sd(l,ca(o),null,o.onPush?32:16,l[n.index],n,h,j,b||null,null,null);return P.firstCreatePass&&Vh(P,n,u.length-1),jh(l,Q),l[n.index]=Q}(tr,ae,un,Mn,st,b,j);Kt=So(Ve,Xn),ae&&function s_(n,i,o,u){if(u)Wt(n,o,["ng-version",Nf.full]);else{const{attrs:l,classes:h}=function Bs(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===l?""!==h&&i.push(h,n[++u]):8===l&&o.push(h);else{if(!p(l))break;l=h}u++}return{attrs:i,classes:o}}(i.selectors[0]);l&&Wt(n,o,l),h&&h.length>0&&sl(n,o,h.join(" "))}}(j,un,ae,u),void 0!==o&&function o_(n,i,o){const u=n.projection=[];for(let l=0;l<i.length;l++){const h=o[l];u.push(null!=h?Array.from(h):null)}}(Kt,this.ngContentSelectors,o),Dt=function bg(n,i,o,u,l,h){const v=Dr(),b=l[Rt],P=rr(v,l);Zf(b,l,v,o,null,u);for(let Q=0;Q<o.length;Q++)Vt(tn(l,b,v.directiveStart+Q,v),l);Pd(b,l,v),P&&Vt(P,l);const j=tn(l,b,v.directiveStart+v.componentOffset,v);if(n[Ir]=l[Ir]=j,null!==h)for(const Q of h)Q(j,i);return Lh(b,v,n),j}(js,un,Mn,wt,st,[Sg]),lg(Ve,st,null)}finally{ls()}return new i_(this.componentType,Dt,Ic(Kt,st),st,Kt)}}class i_ extends Wp{constructor(i,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new Hl(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const h=this._rootLView;ep(h[Rt],h,l,i,o),Hh(Fi(this._tNode.index,h))}}get injector(){return new Xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Sg(){const n=Dr();$(le()[Rt],n)}function Ag(n){let i=function np(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(Sr(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Fe(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const v=n;v.inputs=Mg(n.inputs),v.declaredInputs=Mg(n.declaredInputs),v.outputs=Mg(n.outputs);const b=l.hostBindings;b&&Wm(n,b);const P=l.viewQuery,j=l.contentQueries;if(P&&Gm(n,P),j&&zm(n,j),ye(n.inputs,l.inputs),ye(n.declaredInputs,l.declaredInputs),ye(n.outputs,l.outputs),Sr(l)&&l.data.animation){const Q=n.data;Q.animation=(Q.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let v=0;v<h.length;v++){const b=h[v];b&&b.ngInherit&&b(n),b===Ag&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Hm(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=Be(l.hostAttrs,o=Be(o,l.hostAttrs))}}(u)}function Mg(n){return n===se?{}:n===ve?[]:n}function Gm(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function zm(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,h)=>{i(u,l,h),o(u,l,h)}:i}function Wm(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}function ip(n){return!!Gh(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Gh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ya(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function Rg(n,i,o,u){const l=le();return ya(l,Po(),i)&&(ft(),$u(Fn(),l,n,i,o,u)),Rg}function zl(n,i,o,u){return ya(n,Po(),o)?i+Ge(o)+u:In}function Wl(n,i,o,u,l,h){const b=function hl(n,i,o,u){const l=ya(n,i,o);return ya(n,i+1,u)||l}(n,function si(){return an.lFrame.bindingIndex}(),o,l);return oi(2),b?i+Ge(o)+u+Ge(l)+h:In}function cp(n,i,o,u,l,h,v,b){const P=le(),j=ft(),Q=n+Xn,ae=j.firstCreatePass?function c_(n,i,o,u,l,h,v,b,P){const j=i.consts,Q=$l(i,n,4,v||null,ho(j,b));Mc(i,o,Q,ho(j,P)),$(i,Q);const ae=Q.tView=hg(2,Q,u,l,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,j);return null!==i.queries&&(i.queries.template(i,Q),ae.queries=i.queries.embeddedTView(Q)),Q}(Q,j,P,i,o,u,l,h,v):j.data[Q];Jr(ae,!1);const Ie=P[wn].createComment("");rl(j,P,Ie,ae),Vt(Ie,P),jh(P,P[Q]=Bh(Ie,P,Ie,ae)),Is(ae)&&cg(j,P,ae),null!=v&&dg(P,ae,b)}function dp(n){return vi(function go(){return an.lFrame.contextLView}(),Xn+n)}function hp(n,i,o){const u=le();return ya(u,Po(),i)&&Wa(ft(),Fn(),u,n,i,u[wn],o,!1),hp}function Og(n,i,o,u,l){const v=l?"class":"style";ep(n,o,i.inputs[v],v,u)}function Ld(n,i,o,u){const l=le(),h=ft(),v=Xn+n,b=l[wn],P=h.firstCreatePass?function d_(n,i,o,u,l,h){const v=i.consts,P=$l(i,n,2,u,ho(v,l));return Mc(i,o,P,ho(v,h)),null!==P.attrs&&Nd(P,P.attrs,!1),null!==P.mergedAttrs&&Nd(P,P.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,P),P}(v,h,l,i,o,u):h.data[v],j=l[v]=Xu(b,i,function Ba(){return an.lFrame.currentNamespace}()),Q=Is(P);return Jr(P,!0),Xc(b,j,P),32!=(32&P.flags)&&rl(h,l,j,P),0===function fo(){return an.lFrame.elementDepthCount}()&&Vt(j,l),function Mo(){an.lFrame.elementDepthCount++}(),Q&&(cg(h,l,P),Lh(h,P,l)),null!==u&&dg(l,P),Ld}function fp(){let n=Dr();ts()?po():(n=n.parent,Jr(n,!1));const i=n;!function F(){an.lFrame.elementDepthCount--}();const o=ft();return o.firstCreatePass&&($(o,n),Hn(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function fn(n){return 0!=(8&n.flags)}(i)&&Og(o,i,le(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Mr(n){return 0!=(16&n.flags)}(i)&&Og(o,i,le(),i.stylesWithoutHost,!1),fp}function zh(n,i,o,u){return Ld(n,i,o,u),fp(),zh}function Vd(n,i,o){const u=le(),l=ft(),h=n+Xn,v=l.firstCreatePass?function kg(n,i,o,u,l){const h=i.consts,v=ho(h,u),b=$l(i,n,8,"ng-container",v);return null!==v&&Nd(b,v,!0),Mc(i,o,b,ho(h,l)),null!==i.queries&&i.queries.elementStart(i,b),b}(h,l,u,i,o):l.data[h];Jr(v,!0);const b=u[h]=u[wn].createComment("");return rl(l,u,b,v),Vt(b,u),Is(v)&&(cg(l,u,v),Lh(l,v,u)),null!=o&&dg(u,v),Vd}function pp(){let n=Dr();const i=ft();return ts()?po():(n=n.parent,Jr(n,!1)),i.firstCreatePass&&($(i,n),Hn(n)&&i.queries.elementEnd(n)),pp}function oy(){return le()}function gp(n){return!!n&&"function"==typeof n.then}function Fg(n){return!!n&&"function"==typeof n.subscribe}const Nc=Fg;function mp(n,i,o,u){const l=le(),h=ft(),v=Dr();return function ay(n,i,o,u,l,h,v){const b=Is(u),j=n.firstCreatePass&&Jf(n),Q=i[Ir],ae=Bm(i);let Ie=!0;if(3&u.type||v){const Dt=rr(u,i),Kt=v?v(Dt):Dt,un=ae.length,Mn=v?tr=>v(gi(tr[u.index])):u.index;let wt=null;if(!v&&b&&(wt=function h_(n,i,o,u){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const v=l[h];if(v===o&&l[h+1]===u){const b=i[xi],P=l[h+2];return b.length>P?b[P]:null}"string"==typeof v&&(h+=2)}return null}(n,i,l,u.index)),null!==wt)(wt.__ngLastListenerFn__||wt).__ngNextListenerFn__=h,wt.__ngLastListenerFn__=h,Ie=!1;else{h=ly(u,i,Q,h,!1);const tr=o.listen(Kt,l,h);ae.push(h,tr),j&&j.push(l,Mn,un,un+1)}}else h=ly(u,i,Q,h,!1);const Ve=u.outputs;let st;if(Ie&&null!==Ve&&(st=Ve[l])){const Dt=st.length;if(Dt)for(let Kt=0;Kt<Dt;Kt+=2){const js=i[st[Kt]][st[Kt+1]].subscribe(h),Lo=ae.length;ae.push(h,js),j&&j.push(l,u.index,Lo,-(Lo+1))}}}(h,l,l[wn],v,n,i,u),mp}function uy(n,i,o,u){try{return Vr(6,i,o),!1!==o(u)}catch(l){return Xf(n,l),!1}finally{Vr(7,i,o)}}function ly(n,i,o,u,l){return function h(v){if(v===Function)return u;Hh(n.componentOffset>-1?Fi(n.index,i):i);let P=uy(i,o,u,v),j=h.__ngNextListenerFn__;for(;j;)P=uy(i,o,j,v)&&P,j=j.__ngNextListenerFn__;return l&&!1===P&&(v.preventDefault(),v.returnValue=!1),P}}function Kh(n=1){return function $o(n){return(an.lFrame.contextLView=function jo(n,i){for(;n>0;)i=i[Xi],n--;return i}(n,an.lFrame.contextLView))[Ir]}(n)}function Ud(n,i,o,u,l){const h=le(),v=zl(h,i,o,u);return v!==In&&Wa(ft(),Fn(),h,n,v,h[wn],l,!1),Ud}function Zh(n,i,o,u,l,h,v){const b=le(),P=Wl(b,i,o,u,l,h);return P!==In&&Wa(ft(),Fn(),b,n,P,b[wn],v,!1),Zh}function fl(n,i){return n<<17|i<<2}function zu(n){return n>>17&32767}function Gg(n){return 2|n}function Zl(n){return(131068&n)>>2}function zg(n,i){return-131069&n|i<<2}function Wg(n){return 1|n}function qg(n,i,o,u,l){const h=n[o+1],v=null===i;let b=u?zu(h):Zl(h),P=!1;for(;0!==b&&(!1===P||v);){const Q=n[b+1];Kg(n[b],i)&&(P=!0,n[b+1]=u?Wg(Q):Gg(Q)),b=u?zu(Q):Zl(Q)}P&&(n[o+1]=u?Gg(h):Wg(h))}function Kg(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&D(n,i)>=0}function Ep(n,i){return function Hr(n,i,o,u){const l=le(),h=ft(),v=oi(2);h.firstUpdatePass&&function no(n,i,o,u){const l=n.data;if(null===l[o+1]){const h=l[Br()],v=function w_(n,i){return i>=n.expandoStartIndex}(n,o);(function Ql(n,i){return 0!=(n.flags&(i?8:16))})(h,u)&&null===i&&!v&&(i=!1),i=function py(n,i,o,u){const l=function pa(n){const i=an.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let h=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=wp(o=my(null,n,i,o,u),i.attrs,u),h=null);else{const v=i.directiveStylingLast;if(-1===v||n[v]!==l)if(o=my(l,n,i,o,u),null===h){let P=function Ov(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==Zl(u))return n[zu(u)]}(n,i,u);void 0!==P&&Array.isArray(P)&&(P=my(null,n,i,P[1],u),P=wp(P,i.attrs,u),function kv(n,i,o,u){n[zu(o?i.classBindings:i.styleBindings)]=u}(n,i,u,P))}else h=function gy(n,i,o){let u;const l=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<l;h++)u=wp(u,n[h].hostAttrs,o);return wp(u,i.attrs,o)}(n,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(l,h,i,u),function g_(n,i,o,u,l,h){let v=h?i.classBindings:i.styleBindings,b=zu(v),P=Zl(v);n[u]=o;let Q,j=!1;if(Array.isArray(o)?(Q=o[1],(null===Q||D(o,Q)>0)&&(j=!0)):Q=o,l)if(0!==P){const Ie=zu(n[b+1]);n[u+1]=fl(Ie,b),0!==Ie&&(n[Ie+1]=zg(n[Ie+1],u)),n[b+1]=function p_(n,i){return 131071&n|i<<17}(n[b+1],u)}else n[u+1]=fl(b,0),0!==b&&(n[b+1]=zg(n[b+1],u)),b=u;else n[u+1]=fl(P,0),0===b?b=u:n[P+1]=zg(n[P+1],u),P=u;j&&(n[u+1]=Gg(n[u+1])),qg(n,Q,u,!0),qg(n,Q,u,!1),function dy(n,i,o,u,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&D(h,i)>=0&&(o[u+1]=Wg(o[u+1]))}(i,Q,n,u,h),v=fl(b,P),h?i.classBindings=v:i.styleBindings=v}(l,h,i,o,v,u)}}(h,n,v,u),i!==In&&ya(l,v,i)&&function D_(n,i,o,u,l,h,v,b){if(!(3&i.type))return;const P=n.data,j=P[b+1],Q=function cy(n){return 1==(1&n)}(j)?Jg(P,i,o,l,Zl(j),v):void 0;Yl(Q)||(Yl(h)||function f_(n){return 2==(2&n)}(j)&&(h=Jg(P,null,o,l,b,v)),function mu(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:xs.DashCase;null==l?n.removeStyle(o,u,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=xs.Important),n.setStyle(o,u,l,h))}}(u,v,Gi(Br(),o),l,h))}(h,h.data[Br()],l,l[wn],n,l[v+1]=function C_(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Pe(iu(n)))),n}(i,o),u,v)}(n,i,null,!0),Ep}function my(n,i,o,u,l){let h=null;const v=o.directiveEnd;let b=o.directiveStylingLast;for(-1===b?b=o.directiveStart:b++;b<v&&(h=i[b],u=wp(u,h.hostAttrs,l),h!==n);)b++;return null!==n&&(o.directiveStylingLast=b),u}function wp(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let h=0;h<i.length;h++){const v=i[h];"number"==typeof v?l=v:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),sa(n,v,!!o||i[++h]))}return void 0===n?null:n}function Jg(n,i,o,u,l,h){const v=null===i;let b;for(;l>0;){const P=n[l],j=Array.isArray(P),Q=j?P[1]:P,ae=null===Q;let Ie=o[l+1];Ie===In&&(Ie=ae?ve:void 0);let Ve=ae?E(Ie,u):Q===u?Ie:void 0;if(j&&!Yl(Ve)&&(Ve=E(P,u)),Yl(Ve)&&(b=Ve,v))return b;const st=n[l+1];l=v?zu(st):Zl(st)}if(null!==i){let P=h?i.residualClasses:i.residualStyles;null!=P&&(b=E(P,u))}return b}function Yl(n){return void 0!==n}function Oc(n,i=""){const o=le(),u=ft(),l=n+Xn,h=u.firstCreatePass?$l(u,l,1,i,null):u.data[l],v=o[l]=function Nu(n,i){return n.createText(i)}(o[wn],i);rl(u,o,v,h),Jr(h,!1)}function Xg(n){return jd("",n,""),Xg}function jd(n,i,o){const u=le(),l=zl(u,n,i,o);return l!==In&&function Eu(n,i,o){const u=Gi(i,n);!function Jd(n,i,o){n.setValue(i,o)}(n[wn],u,o)}(u,Br(),l),jd}const Gd=void 0;var am=["en",[["a","p"],["AM","PM"],Gd],[["AM","PM"],Gd,Gd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gd,"{1} 'at' {0}",Gd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Uv(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let nf={};function xy(n){const i=function Bv(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=M_(i);if(o)return o;const u=i.split("-")[0];if(o=M_(u),o)return o;if("en"===u)return am;throw new Fe(701,!1)}function rf(n){return xy(n)[bn.PluralCase]}function M_(n){return n in nf||(nf[n]=Bn.ng&&Bn.ng.common&&Bn.ng.common.locales&&Bn.ng.common.locales[n]),nf[n]}var bn=(()=>((bn=bn||{})[bn.LocaleId=0]="LocaleId",bn[bn.DayPeriodsFormat=1]="DayPeriodsFormat",bn[bn.DayPeriodsStandalone=2]="DayPeriodsStandalone",bn[bn.DaysFormat=3]="DaysFormat",bn[bn.DaysStandalone=4]="DaysStandalone",bn[bn.MonthsFormat=5]="MonthsFormat",bn[bn.MonthsStandalone=6]="MonthsStandalone",bn[bn.Eras=7]="Eras",bn[bn.FirstDayOfWeek=8]="FirstDayOfWeek",bn[bn.WeekendRange=9]="WeekendRange",bn[bn.DateFormat=10]="DateFormat",bn[bn.TimeFormat=11]="TimeFormat",bn[bn.DateTimeFormat=12]="DateTimeFormat",bn[bn.NumberSymbols=13]="NumberSymbols",bn[bn.NumberFormats=14]="NumberFormats",bn[bn.CurrencyCode=15]="CurrencyCode",bn[bn.CurrencySymbol=16]="CurrencySymbol",bn[bn.CurrencyName=17]="CurrencyName",bn[bn.Currencies=18]="Currencies",bn[bn.Directionality=19]="Directionality",bn[bn.PluralCase=20]="PluralCase",bn[bn.ExtraData=21]="ExtraData",bn))();const Vc="en-US";let Sp=Vc;function Y_(n,i,o,u,l){if(n=_t(n),Array.isArray(n))for(let h=0;h<n.length;h++)Y_(n[h],i,o,u,l);else{const h=ft(),v=le();let b=Vu(n)?n:_t(n.provide),P=xf(n);const j=Dr(),Q=1048575&j.providerIndexes,ae=j.directiveStart,Ie=j.providerIndexes>>20;if(Vu(n)||!n.multi){const Ve=new Nn(P,l,Ac),st=J_(b,i,l?Q:Q+Ie,ae);-1===st?(oe(A(j,v),h,b),Q_(h,n,i.length),i.push(b),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),o.push(Ve),v.push(Ve)):(o[st]=Ve,v[st]=Ve)}else{const Ve=J_(b,i,Q+Ie,ae),st=J_(b,i,Q,Q+Ie),Kt=st>=0&&o[st];if(l&&!Kt||!l&&!(Ve>=0&&o[Ve])){oe(A(j,v),h,b);const un=function VE(n,i,o,u,l){const h=new Nn(n,o,Ac);return h.multi=[],h.index=i,h.componentProviders=0,s0(h,l,u&&!o),h}(l?LE:FE,o.length,l,u,P);!l&&Kt&&(o[st].providerFactory=un),Q_(h,n,i.length,0),i.push(b),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),o.push(un),v.push(un)}else Q_(h,n,Ve>-1?Ve:st,s0(o[l?st:Ve],P,!l&&u));!l&&u&&Kt&&o[st].componentProviders++}}}function Q_(n,i,o,u){const l=Vu(i),h=function ud(n){return!!n.useClass}(i);if(l||h){const P=(h?_t(i.useClass):i).prototype.ngOnDestroy;if(P){const j=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const Q=j.indexOf(o);-1===Q?j.push(o,[u,P]):j[Q+1].push(u,P)}else j.push(o,P)}}}function s0(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function J_(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function FE(n,i,o,u){return X_(this.multi,[])}function LE(n,i,o,u){const l=this.multi;let h;if(this.providerFactory){const v=this.providerFactory.componentProviders,b=tn(o,o[Rt],this.providerFactory.index,u);h=b.slice(0,v),X_(l,h);for(let P=v;P<b.length;P++)h.push(b[P])}else h=[],X_(l,h);return h}function X_(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function o0(n,i=[]){return o=>{o.providersResolver=(u,l)=>function kE(n,i,o){const u=ft();if(u.firstCreatePass){const l=Sr(n);Y_(o,u.data,u.blueprint,l,!0),Y_(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class Rp{}class a0{}function UE(n,i){return new u0(n,i??null)}class u0 extends Rp{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tp(this);const u=Rr(i);this._bootstrapComponents=za(u.bootstrap),this._r3Injector=wd(i,o,[{provide:Rp,useValue:this},{provide:Ga,useValue:this.componentFactoryResolver}],Pe(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class ev extends a0{constructor(i){super(),this.moduleType=i}create(i){return new u0(this.moduleType,i)}}class BE extends Rp{constructor(i,o,u){super(),this.componentFactoryResolver=new tp(this),this.instance=null;const l=new wh([...i,{provide:Rp,useValue:this},{provide:Ga,useValue:this.componentFactoryResolver}],o||ld(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function tv(n,i,o=null){return new BE(n,i,o).injector}let $E=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=bf(0,o.type),l=u.length>0?tv([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=xn({token:n,providedIn:"environment",factory:()=>new n(ar(Uu))}),n})();function l0(n){n.getStandaloneInjector=i=>i.get($E).getOrCreateStandaloneInjector(n)}function m0(n,i,o,u){return y0(le(),Ei(),n,i,o,u)}function y0(n,i,o,u,l,h){const v=i+o;return ya(n,v,l)?function Gu(n,i,o){return n[i]=o}(n,v+1,h?u.call(h,l):u(l)):function fm(n,i){const o=n[i];return o===In?void 0:o}(n,v+1)}function I0(n,i){const o=ft();let u;const l=n+Xn;o.firstCreatePass?(u=function sw(n,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(n===u.name)return u}}(i,o.pipeRegistry),o.data[l]=u,u.onDestroy&&(o.destroyHooks??(o.destroyHooks=[])).push(l,u.onDestroy)):u=o.data[l];const h=u.factory||(u.factory=Oi(u.type)),v=hn(Ac);try{const b=Ea(!1),P=h();return Ea(b),function sy(n,i,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=u}(o,le(),l,P),P}finally{hn(v)}}function D0(n,i,o){const u=n+Xn,l=le(),h=vi(l,u);return function pm(n,i){return n[Rt].data[i].pure}(l,u)?y0(l,Ei(),i,h.transform,o,h):h.transform(o)}function rv(n){return i=>{setTimeout(n,void 0,i)}}const Jl=class cw extends w.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,h=o||(()=>null),v=u;if(i&&"object"==typeof i){const P=i;l=P.next?.bind(P),h=P.error?.bind(P),v=P.complete?.bind(P)}this.__isAsync&&(h=rv(h),l&&(l=rv(l)),v&&(v=rv(v)));const b=super.subscribe({next:l,error:h,complete:v});return i instanceof re.w0&&i.add(b),b}};function dw(){return this._results[Symbol.iterator]()}class iv{get changes(){return this._changes||(this._changes=new Jl)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=iv.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=dw)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=function Ms(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Tu(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],h=i[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let gm=(()=>{class n{}return n.__NG_ELEMENT_ID__=pw,n})();const hw=gm,fw=class extends hw{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,l=Sd(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[mr]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[ur];return null!==v&&(l[ur]=v.createEmbeddedView(u)),lg(u,l,i),new ju(l)}};function pw(){return Ly(Dr(),le())}function Ly(n,i){return 4&n.type?new fw(i,n,Ic(n,i)):null}let Vy=(()=>{class n{}return n.__NG_ELEMENT_ID__=gw,n})();function gw(){return b0(Dr(),le())}const mw=Vy,C0=class extends mw{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Ic(this._hostTNode,this._hostLView)}get injector(){return new Xr(this._hostTNode,this._hostLView)}get parentInjector(){const i=ce(this._hostTNode,this._hostLView);if(ui(i)){const o=Aa(i,this._hostLView),u=ys(i);return new Xr(o[Rt].data[u+8],o)}return new Xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=T0(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-nr}createEmbeddedView(i,o,u){let l,h;"number"==typeof u?l=u:null!=u&&(l=u.index,h=u.injector);const v=i.createEmbeddedView(o||{},h);return this.insert(v,l),v}createComponent(i,o,u,l,h){const v=i&&!function Wi(n){return"function"==typeof n}(i);let b;if(v)b=o;else{const ae=o||{};b=ae.index,u=ae.injector,l=ae.projectableNodes,h=ae.environmentInjector||ae.ngModuleRef}const P=v?i:new Hu(Sn(i)),j=u||this.parentInjector;if(!h&&null==P.ngModule){const Ie=(v?j:this.parentInjector).get(Uu,null);Ie&&(h=Ie)}const Q=P.create(j,l,void 0,h);return this.insert(Q.hostView,b),Q}insert(i,o){const u=i._lView,l=u[Rt];if(function Vs(n){return es(n[wr])}(u)){const Q=this.indexOf(i);if(-1!==Q)this.detach(Q);else{const ae=u[wr],Ie=new C0(ae,ae[fr],ae[wr]);Ie.detach(Ie.indexOf(i))}}const h=this._adjustIndex(o),v=this._lContainer;!function th(n,i,o,u){const l=nr+u,h=o.length;u>0&&(o[l-1][Yi]=i),u<h-nr?(i[Yi]=o[l],Ya(o,nr+u,i)):(o.push(i),i[Yi]=null),i[wr]=o;const v=i[mr];null!==v&&o!==v&&function el(n,i){const o=n[Ri];i[Yr]!==i[wr][wr][Yr]&&(n[vt]=!0),null===o?n[Ri]=[i]:o.push(i)}(v,i);const b=i[ur];null!==b&&b.insertView(n),i[vn]|=64}(l,u,v,h);const b=ku(h,v),P=u[wn],j=hc(P,v[pi]);return null!==j&&function vl(n,i,o,u,l,h){u[fs]=l,u[fr]=i,wl(n,u,o,1,l,h)}(l,v[fr],P,u,j,b),i.attachToViewContainerRef(),Ya(sv(v),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=T0(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=tl(this._lContainer,o);u&&(uu(sv(this._lContainer),o),dc(u[Rt],u))}detach(i){const o=this._adjustIndex(i,-1),u=tl(this._lContainer,o);return u&&null!=uu(sv(this._lContainer),o)?new ju(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function T0(n){return n[Pi]}function sv(n){return n[Pi]||(n[Pi]=[])}function b0(n,i){let o;const u=i[n.index];if(es(u))o=u;else{let l;if(8&n.type)l=gi(u);else{const h=i[wn];l=h.createComment("");const v=rr(n,i);Xs(h,hc(h,v),l,function nl(n,i){return n.nextSibling(i)}(h,v),!1)}i[n.index]=o=Bh(u,i,l,n),jh(i,o)}return new C0(o,n,i)}class ov{constructor(i){this.queryList=i,this.matches=null}clone(){return new ov(this.queryList)}setDirty(){this.queryList.setDirty()}}class av{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const v=o.getByIndex(h);l.push(this.queries[v.indexInDeclarationView].clone())}return new av(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==O0(i,o).matches&&this.queries[o].setDirty()}}class S0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class uv{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new uv(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class lv{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new lv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(i,o,yw(o,h)),this.matchTNodeWithReadOption(i,o,dn(o,i,h,!1,!1))}else u===gm?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,dn(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===Dc||l===Vy||l===gm&&4&o.type)this.addMatch(o.index,-2);else{const h=dn(o,i,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function yw(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function vw(n,i,o,u){return-1===o?function _w(n,i){return 11&n.type?Ic(n,i):4&n.type?Ly(n,i):null}(i,n):-2===o?function Ew(n,i,o){return o===Dc?Ic(i,n):o===gm?Ly(i,n):o===Vy?b0(i,n):void 0}(n,i,u):tn(n,n[Rt],o,i)}function A0(n,i,o,u){const l=i[ur].queries[u];if(null===l.matches){const h=n.data,v=o.matches,b=[];for(let P=0;P<v.length;P+=2){const j=v[P];b.push(j<0?null:vw(i,h[j],v[P+1],o.metadata.read))}l.matches=b}return l.matches}function cv(n,i,o,u){const l=n.queries.getByIndex(o),h=l.matches;if(null!==h){const v=A0(n,i,l,o);for(let b=0;b<h.length;b+=2){const P=h[b];if(P>0)u.push(v[b/2]);else{const j=h[b+1],Q=i[-P];for(let ae=nr;ae<Q.length;ae++){const Ie=Q[ae];Ie[mr]===Ie[wr]&&cv(Ie[Rt],Ie,j,u)}if(null!==Q[Ri]){const ae=Q[Ri];for(let Ie=0;Ie<ae.length;Ie++){const Ve=ae[Ie];cv(Ve[Rt],Ve,j,u)}}}}}return u}function M0(n){const i=le(),o=ft(),u=Ur();mo(u+1);const l=O0(o,u);if(n.dirty&&function Li(n){return 4==(4&n[vn])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?cv(o,i,u,[]):A0(o,i,l,u);n.reset(h,Dm),n.notifyOnChanges()}return!0}return!1}function x0(n,i,o,u){const l=ft();if(l.firstCreatePass){const h=Dr();(function N0(n,i,o){null===n.queries&&(n.queries=new uv),n.queries.track(new lv(i,o))})(l,new S0(i,o,u),h.index),function Dw(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}!function R0(n,i,o){const u=new iv(4==(4&o));Md(n,i,u,u.destroy),null===i[ur]&&(i[ur]=new av),i[ur].queries.push(new ov(u))}(l,le(),o)}function P0(){return function Iw(n,i){return n[ur].queries[i].queryList}(le(),Ur())}function O0(n,i){return n.queries.getByIndex(i)}function k0(n,i){return Ly(n,i)}function dv(n){return!!Rr(n)}function By(...n){}const X0=new Lt("Application Initializer");let $y=(()=>{class n{constructor(o){this.appInits=o,this.resolve=By,this.reject=By,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(gp(h))o.push(h);else if(Nc(h)){const v=new Promise((b,P)=>{h.subscribe({complete:b,error:P})});o.push(v)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(ar(X0,8))},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eE=new Lt("AppId",{providedIn:"root",factory:function tE(){return`${mv()}${mv()}${mv()}`}});function mv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nE=new Lt("Platform Initializer"),Hw=new Lt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Gw=new Lt("AnimationModuleType");let zw=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const jy=new Lt("LocaleId",{providedIn:"root",factory:()=>ri(jy,zt.Optional|zt.SkipSelf)||function Ww(){return typeof $localize<"u"&&$localize.locale||Vc}()}),qw=new Lt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Kw{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let Zw=(()=>{class n{compileModuleSync(o){return new ev(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=za(Rr(o).declarations).reduce((v,b)=>{const P=Sn(b);return P&&v.push(new Hu(P)),v},[]);return new Kw(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jw=(()=>Promise.resolve(0))();function yv(n){typeof Zone>"u"?Jw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Zu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jl(!1),this.onMicrotaskEmpty=new Jl(!1),this.onStable=new Jl(!1),this.onError=new Jl(!1),typeof Zone>"u")throw new Fe(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Xw(){let n=Bn.requestAnimationFrame,i=Bn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function nI(n){const i=()=>{!function tI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Bn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,vv(n),n.isCheckStableRunning=!0,_v(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),vv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,v,b)=>{try{return sE(n),o.invokeTask(l,h,v,b)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),oE(n)}},onInvoke:(o,u,l,h,v,b,P)=>{try{return sE(n),o.invoke(l,h,v,b,P)}finally{n.shouldCoalesceRunChangeDetection&&i(),oE(n)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,vv(n),_v(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zu.isInAngularZone())throw new Fe(909,!1)}static assertNotInAngularZone(){if(Zu.isInAngularZone())throw new Fe(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const h=this._inner,v=h.scheduleEventTask("NgZoneEvent: "+l,i,eI,By,By);try{return h.runTask(v,o,u)}finally{h.cancelTask(v)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const eI={};function _v(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function sE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function oE(n){n._nesting--,_v(n)}class rI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Jl,this.onMicrotaskEmpty=new Jl,this.onStable=new Jl,this.onError=new Jl}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const aE=new Lt(""),uE=new Lt("");let Ev,iI=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ev||(function sI(n){Ev=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zu.assertNotInAngularZone(),yv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yv(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(ar(Zu),ar(lE),ar(uE))},n.\u0275prov=xn({token:n,factory:n.\u0275fac}),n})(),lE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Ev?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const $c=!1;let qd=null;const cE=new Lt("AllowMultipleToken"),wv=new Lt("PlatformDestroyListeners"),dE=new Lt("appBootstrapListener");class uI{constructor(i,o){this.name=i,this.token=o}}function fE(n,i,o=[]){const u=`Platform: ${i}`,l=new Lt(u);return(h=[])=>{let v=Iv();if(!v||v.injector.get(cE,!1)){const b=[...o,...h,{provide:l,useValue:!0}];n?n(b):function lI(n){if(qd&&!qd.get(cE,!1))throw new Fe(400,!1);qd=n;const i=n.get(gE);(function hE(n){const i=n.get(nE,null);i&&i.forEach(o=>o())})(n)}(function pE(n=[],i){return Sc.create({name:i,providers:[{provide:vu,useValue:"platform"},{provide:wv,useValue:new Set([()=>qd=null])},...n]})}(b,u))}return function dI(n){const i=Iv();if(!i)throw new Fe(401,!1);return i}()}}function Iv(){return qd?.get(gE)??null}let gE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function yE(n,i){let o;return o="noop"===n?new rI:("zone.js"===n?void 0:n)||new Zu(i),o}(u?.ngZone,function mE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:Zu,useValue:l}];return l.run(()=>{const v=Sc.create({providers:h,parent:this.injector,name:o.moduleType.name}),b=o.create(v),P=b.injector.get(hd,null);if(!P)throw new Fe(402,!1);return l.runOutsideAngular(()=>{const j=l.onError.subscribe({next:Q=>{P.handleError(Q)}});b.onDestroy(()=>{Gy(this._modules,b),j.unsubscribe()})}),function _E(n,i,o){try{const u=o();return gp(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(P,l,()=>{const j=b.injector.get($y);return j.runInitializers(),j.donePromise.then(()=>(function x_(n){Gt(n,"Expected localeId to be defined"),"string"==typeof n&&(Sp=n.toLowerCase().replace(/_/g,"-"))}(b.injector.get(jy,Vc)||Vc),this._moduleDoBootstrap(b),b))})})}bootstrapModule(o,u=[]){const l=vE({},u);return function oI(n,i,o){const u=new ev(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(Hy);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Fe(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(wv,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(ar(Sc))},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function vE(n,i){return Array.isArray(i)?i.reduce(vE,n):{...n,...i}}let Hy=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new B.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),v=new B.y(b=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{Zu.assertNotInAngularZone(),yv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{Zu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{P.unsubscribe(),j.unsubscribe()}});this.isStable=(0,De.T)(h,v.pipe(function he(n={}){const{connector:i=(()=>new w.x),resetOnError:o=!0,resetOnComplete:u=!0,resetOnRefCountZero:l=!0}=n;return h=>{let v,b,P,j=0,Q=!1,ae=!1;const Ie=()=>{b?.unsubscribe(),b=void 0},Ve=()=>{Ie(),v=P=void 0,Q=ae=!1},st=()=>{const Dt=v;Ve(),Dt?.unsubscribe()};return(0,Ue.e)((Dt,Kt)=>{j++,!ae&&!Q&&Ie();const un=P=P??i();Kt.add(()=>{j--,0===j&&!ae&&!Q&&(b=$e(st,l))}),un.subscribe(Kt),!v&&j>0&&(v=new Se.Hp({next:Mn=>un.next(Mn),error:Mn=>{ae=!0,Ie(),b=$e(Ve,o,Mn),un.error(Mn)},complete:()=>{Q=!0,Ie(),b=$e(Ve,u),un.complete()}}),(0,ee.Xf)(Dt).subscribe(v))})(h)}}()))}bootstrap(o,u){const l=o instanceof qp;if(!this._injector.get($y).done){!l&&$i(o);throw new Fe(405,$c)}let v;v=l?o:this._injector.get(Ga).resolveComponentFactory(o),this.componentTypes.push(v.componentType);const b=function aI(n){return n.isBoundToModule}(v)?void 0:this._injector.get(Rp),j=v.create(Sc.NULL,[],u||v.selector,b),Q=j.location.nativeElement,ae=j.injector.get(aE,null);return ae?.registerApplication(Q),j.onDestroy(()=>{this.detachView(j.hostView),Gy(this.components,j),ae?.unregisterApplication(Q)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new Fe(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Gy(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(dE,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Gy(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Fe(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(ar(Zu),ar(Uu),ar(hd))},n.\u0275prov=xn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gy(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let fI=(()=>{class n{}return n.__NG_ELEMENT_ID__=pI,n})();function pI(n){return function gI(n,i,o){if(ji(n)&&!o){const u=Fi(n.index,i);return new ju(u,u)}return 47&n.type?new ju(i[Yr],i):null}(Dr(),le(),16==(16&n))}class CE{constructor(){}supports(i){return ip(i)}create(i){return new wI(i)}}const EI=(n,i)=>i;class wI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||EI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const v=!u||o&&o.currentIndex<bE(u,l,h)?o:u,b=bE(v,l,h),P=v.currentIndex;if(v===u)l--,u=u._nextRemoved;else if(o=o._next,null==v.previousIndex)l++;else{h||(h=[]);const j=b-l,Q=P-l;if(j!=Q){for(let Ie=0;Ie<j;Ie++){const Ve=Ie<h.length?h[Ie]:h[Ie]=0,st=Ve+Ie;Q<=st&&st<j&&(h[Ie]=Ve+1)}h[v.previousIndex]=Q-j}}b!==P&&i(v,b,P)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!ip(i))throw new Fe(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,h,v,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let b=0;b<this.length;b++)h=i[b],v=this._trackByFn(b,h),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,h,v,b)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,v,b),u=!0),o=o._next}else l=0,function Jm(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,b=>{v=this._trackByFn(l,b),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,b,v,l)),Object.is(o.item,b)||this._addIdentityChange(o,b)):(o=this._mismatch(o,b,v,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,l)):i=this._addAfter(new II(o,u),h,l),i}_verifyReinsertion(i,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,h=i._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new TE),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TE),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class II{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class TE{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new DI,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bE(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class SE{constructor(){}supports(i){return i instanceof Map||Gh(i)}create(){return new CI}}class CI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Gh(i)))throw new Fe(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const h=l._prev,v=l._next;return h&&(h._next=v),v&&(v._prev=h),l._next=null,l._prev=null,l}const u=new TI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class TI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function AE(){return new Sv([new CE])}let Sv=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||AE()),deps:[[n,new vs,new qr]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Fe(901,!1)}}return n.\u0275prov=xn({token:n,providedIn:"root",factory:AE}),n})();function ME(){return new Av([new SE])}let Av=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||ME()),deps:[[n,new vs,new qr]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Fe(901,!1)}}return n.\u0275prov=xn({token:n,providedIn:"root",factory:ME}),n})();const AI=fE(null,"core",[]);let MI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(ar(Hy))},n.\u0275mod=_n({type:n}),n.\u0275inj=Or({}),n})();function xI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(rn,Ye,Y)=>{Y.d(Ye,{Fj:()=>Fe,CE:()=>Qr,qu:()=>qs,u:()=>Vo,sg:()=>pr,x0:()=>Os,JU:()=>yt,JJ:()=>Si,JL:()=>hn,j3:()=>an,wV:()=>Pi,_:()=>es,UX:()=>Mo,kI:()=>Cn,_Y:()=>vt});var w=Y(1571),re=Y(6895),B=Y(8996),De=Y(9751),ee=Y(4742),Se=Y(8421),Ue=Y(3269),he=Y(5403),$e=Y(3268),ie=Y(1810),Pe=Y(4004);let nt=(()=>{class F{constructor(R,Z){this._renderer=R,this._elementRef=Z,this.onChange=le=>{},this.onTouched=()=>{}}setProperty(R,Z){this._renderer.setProperty(this._elementRef.nativeElement,R,Z)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return F.\u0275fac=function(R){return new(R||F)(w.Y36(w.Qsj),w.Y36(w.SBq))},F.\u0275dir=w.lG2({type:F}),F})(),at=(()=>{class F extends nt{}return F.\u0275fac=function(){let k;return function(Z){return(k||(k=w.n5z(F)))(Z||F)}}(),F.\u0275dir=w.lG2({type:F,features:[w.qOj]}),F})();const yt=new w.OlP("NgValueAccessor"),Bt={provide:yt,useExisting:(0,w.Gpc)(()=>Fe),multi:!0},En=new w.OlP("CompositionEventMode");let Fe=(()=>{class F extends nt{constructor(R,Z,le){super(R,Z),this._compositionMode=le,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Wn(){const F=(0,re.q)()?(0,re.q)().getUserAgent():"";return/android (\d+)/.test(F.toLowerCase())}())}writeValue(R){this.setProperty("value",R??"")}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return F.\u0275fac=function(R){return new(R||F)(w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(En,8))},F.\u0275dir=w.lG2({type:F,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,Z){1&R&&w.NdJ("input",function(ft){return Z._handleInput(ft.target.value)})("blur",function(){return Z.onTouched()})("compositionstart",function(){return Z._compositionStart()})("compositionend",function(ft){return Z._compositionEnd(ft.target.value)})},features:[w._Bn([Bt]),w.qOj]}),F})();const pt=!1;function Ge(F){return null==F||("string"==typeof F||Array.isArray(F))&&0===F.length}function dt(F){return null!=F&&"number"==typeof F.length}const Mt=new w.OlP("NgValidators"),Et=new w.OlP("NgAsyncValidators"),yn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Cn{static min(k){return function jt(F){return k=>{if(Ge(k.value)||Ge(F))return null;const R=parseFloat(k.value);return!isNaN(R)&&R<F?{min:{min:F,actual:k.value}}:null}}(k)}static max(k){return function sn(F){return k=>{if(Ge(k.value)||Ge(F))return null;const R=parseFloat(k.value);return!isNaN(R)&&R>F?{max:{max:F,actual:k.value}}:null}}(k)}static required(k){return function ht(F){return Ge(F.value)?{required:!0}:null}(k)}static requiredTrue(k){return function ze(F){return!0===F.value?null:{required:!0}}(k)}static email(k){return function Ae(F){return Ge(F.value)||yn.test(F.value)?null:{email:!0}}(k)}static minLength(k){return function et(F){return k=>Ge(k.value)||!dt(k.value)?null:k.value.length<F?{minlength:{requiredLength:F,actualLength:k.value.length}}:null}(k)}static maxLength(k){return function rt(F){return k=>dt(k.value)&&k.value.length>F?{maxlength:{requiredLength:F,actualLength:k.value.length}}:null}(k)}static pattern(k){return function gt(F){if(!F)return mt;let k,R;return"string"==typeof F?(R="","^"!==F.charAt(0)&&(R+="^"),R+=F,"$"!==F.charAt(F.length-1)&&(R+="$"),k=new RegExp(R)):(R=F.toString(),k=F),Z=>{if(Ge(Z.value))return null;const le=Z.value;return k.test(le)?null:{pattern:{requiredPattern:R,actualValue:le}}}}(k)}static nullValidator(k){return null}static compose(k){return Vn(k)}static composeAsync(k){return Cr(k)}}function mt(F){return null}function ln(F){return null!=F}function Rn(F){const k=(0,w.QGY)(F)?(0,B.D)(F):F;if(pt&&!(0,w.CqO)(k)){let R="Expected async validator to return Promise or Observable.";throw"object"==typeof F&&(R+=" Are you using a synchronous validator where an async validator is expected?"),new w.vHH(-1101,R)}return k}function kn(F){let k={};return F.forEach(R=>{k=null!=R?{...k,...R}:k}),0===Object.keys(k).length?null:k}function Yt(F,k){return k.map(R=>R(F))}function Pt(F){return F.map(k=>function Gt(F){return!F.validate}(k)?k:R=>k.validate(R))}function Vn(F){if(!F)return null;const k=F.filter(ln);return 0==k.length?null:function(R){return kn(Yt(R,k))}}function ei(F){return null!=F?Vn(Pt(F)):null}function Cr(F){if(!F)return null;const k=F.filter(ln);return 0==k.length?null:function(R){return function ye(...F){const k=(0,Ue.jO)(F),{args:R,keys:Z}=(0,ee.D)(F),le=new De.y(ft=>{const{length:cr}=R;if(!cr)return void ft.complete();const ii=new Array(cr);let Dr=cr,Ks=cr;for(let Zs=0;Zs<cr;Zs++){let Jr=!1;(0,Se.Xf)(R[Zs]).subscribe((0,he.x)(ft,ts=>{Jr||(Jr=!0,Ks--),ii[Zs]=ts},()=>Dr--,void 0,()=>{(!Dr||!Jr)&&(Ks||ft.next(Z?(0,ie.n)(Z,ii):ii),ft.complete())}))}});return k?le.pipe((0,$e.Z)(k)):le}(Yt(R,k).map(Rn)).pipe((0,Pe.U)(kn))}}function xn(F){return null!=F?Cr(Pt(F)):null}function yi(F,k){return null===F?[k]:Array.isArray(F)?[...F,k]:[F,k]}function Or(F){return F._rawValidators}function Gr(F){return F._rawAsyncValidators}function qi(F){return F?Array.isArray(F)?F:[F]:[]}function Tr(F,k){return Array.isArray(F)?F.includes(k):F===k}function cn(F,k){const R=qi(k);return qi(F).forEach(le=>{Tr(R,le)||R.push(le)}),R}function Pr(F,k){return qi(k).filter(R=>!Tr(F,R))}class ti{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(k){this._rawValidators=k||[],this._composedValidatorFn=ei(this._rawValidators)}_setAsyncValidators(k){this._rawAsyncValidators=k||[],this._composedAsyncValidatorFn=xn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(k){this._onDestroyCallbacks.push(k)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(k=>k()),this._onDestroyCallbacks=[]}reset(k){this.control&&this.control.reset(k)}hasError(k,R){return!!this.control&&this.control.hasError(k,R)}getError(k,R){return this.control?this.control.getError(k,R):null}}class Un extends ti{get formDirective(){return null}get path(){return null}}class ni extends ti{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hs{constructor(k){this._cd=k}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Si=(()=>{class F extends hs{constructor(R){super(R)}}return F.\u0275fac=function(R){return new(R||F)(w.Y36(ni,2))},F.\u0275dir=w.lG2({type:F,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,Z){2&R&&w.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)},features:[w.qOj]}),F})(),hn=(()=>{class F extends hs{constructor(R){super(R)}}return F.\u0275fac=function(R){return new(R||F)(w.Y36(Un,10))},F.\u0275dir=w.lG2({type:F,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(R,Z){2&R&&w.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)("ng-submitted",Z.isSubmitted)},features:[w.qOj]}),F})();function Fr(F,k){return F?`with name: '${k}'`:`at index: ${k}`}const hi=!1,ri="VALID",Lr="INVALID",me="PENDING",de="DISABLED";function we(F){return(Ee(F)?F.validators:F)||null}function ke(F,k){return(Ee(k)?k.asyncValidators:F)||null}function Ee(F){return null!=F&&!Array.isArray(F)&&"object"==typeof F}function ge(F,k,R){const Z=F.controls;if(!(k?Object.keys(Z):Z).length)throw new w.vHH(1e3,hi?function Xt(F){return`\n    There are no form controls registered with this ${F?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(k):"");if(!Z[R])throw new w.vHH(1001,hi?function _i(F,k){return`Cannot find form control ${Fr(F,k)}`}(k,R):"")}function se(F,k,R){F._forEachChild((Z,le)=>{if(void 0===R[le])throw new w.vHH(1002,hi?function ar(F,k){return`Must supply a value for form control ${Fr(F,k)}`}(k,le):"")})}class ve{constructor(k,R){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(k),this._assignAsyncValidators(R)}get validator(){return this._composedValidatorFn}set validator(k){this._rawValidators=this._composedValidatorFn=k}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(k){this._rawAsyncValidators=this._composedAsyncValidatorFn=k}get parent(){return this._parent}get valid(){return this.status===ri}get invalid(){return this.status===Lr}get pending(){return this.status==me}get disabled(){return this.status===de}get enabled(){return this.status!==de}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(k){this._assignValidators(k)}setAsyncValidators(k){this._assignAsyncValidators(k)}addValidators(k){this.setValidators(cn(k,this._rawValidators))}addAsyncValidators(k){this.setAsyncValidators(cn(k,this._rawAsyncValidators))}removeValidators(k){this.setValidators(Pr(k,this._rawValidators))}removeAsyncValidators(k){this.setAsyncValidators(Pr(k,this._rawAsyncValidators))}hasValidator(k){return Tr(this._rawValidators,k)}hasAsyncValidator(k){return Tr(this._rawAsyncValidators,k)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(k={}){this.touched=!0,this._parent&&!k.onlySelf&&this._parent.markAsTouched(k)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(k=>k.markAllAsTouched())}markAsUntouched(k={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(R=>{R.markAsUntouched({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}markAsDirty(k={}){this.pristine=!1,this._parent&&!k.onlySelf&&this._parent.markAsDirty(k)}markAsPristine(k={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(R=>{R.markAsPristine({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}markAsPending(k={}){this.status=me,!1!==k.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!k.onlySelf&&this._parent.markAsPending(k)}disable(k={}){const R=this._parentMarkedDirty(k.onlySelf);this.status=de,this.errors=null,this._forEachChild(Z=>{Z.disable({...k,onlySelf:!0})}),this._updateValue(),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...k,skipPristineCheck:R}),this._onDisabledChange.forEach(Z=>Z(!0))}enable(k={}){const R=this._parentMarkedDirty(k.onlySelf);this.status=ri,this._forEachChild(Z=>{Z.enable({...k,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent}),this._updateAncestors({...k,skipPristineCheck:R}),this._onDisabledChange.forEach(Z=>Z(!1))}_updateAncestors(k){this._parent&&!k.onlySelf&&(this._parent.updateValueAndValidity(k),k.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(k){this._parent=k}getRawValue(){return this.value}updateValueAndValidity(k={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ri||this.status===me)&&this._runAsyncValidator(k.emitEvent)),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!k.onlySelf&&this._parent.updateValueAndValidity(k)}_updateTreeValidity(k={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(k)),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?de:ri}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(k){if(this.asyncValidator){this.status=me,this._hasOwnPendingAsyncValidator=!0;const R=Rn(this.asyncValidator(this));this._asyncValidationSubscription=R.subscribe(Z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Z,{emitEvent:k})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(k,R={}){this.errors=k,this._updateControlsErrors(!1!==R.emitEvent)}get(k){let R=k;return null==R||(Array.isArray(R)||(R=R.split(".")),0===R.length)?null:R.reduce((Z,le)=>Z&&Z._find(le),this)}getError(k,R){const Z=R?this.get(R):this;return Z&&Z.errors?Z.errors[k]:null}hasError(k,R){return!!this.getError(k,R)}get root(){let k=this;for(;k._parent;)k=k._parent;return k}_updateControlsErrors(k){this.status=this._calculateStatus(),k&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(k)}_initObservables(){this.valueChanges=new w.vpe,this.statusChanges=new w.vpe}_calculateStatus(){return this._allControlsDisabled()?de:this.errors?Lr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(me)?me:this._anyControlsHaveStatus(Lr)?Lr:ri}_anyControlsHaveStatus(k){return this._anyControls(R=>R.status===k)}_anyControlsDirty(){return this._anyControls(k=>k.dirty)}_anyControlsTouched(){return this._anyControls(k=>k.touched)}_updatePristine(k={}){this.pristine=!this._anyControlsDirty(),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}_updateTouched(k={}){this.touched=this._anyControlsTouched(),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}_registerOnCollectionChange(k){this._onCollectionChange=k}_setUpdateStrategy(k){Ee(k)&&null!=k.updateOn&&(this._updateOn=k.updateOn)}_parentMarkedDirty(k){return!k&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(k){return null}_assignValidators(k){this._rawValidators=Array.isArray(k)?k.slice():k,this._composedValidatorFn=function Ze(F){return Array.isArray(F)?ei(F):F||null}(this._rawValidators)}_assignAsyncValidators(k){this._rawAsyncValidators=Array.isArray(k)?k.slice():k,this._composedAsyncValidatorFn=function bt(F){return Array.isArray(F)?xn(F):F||null}(this._rawAsyncValidators)}}class Ke extends ve{constructor(k,R,Z){super(we(R),ke(Z,R)),this.controls=k,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(k,R){return this.controls[k]?this.controls[k]:(this.controls[k]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl(k,R,Z={}){this.registerControl(k,R),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}removeControl(k,R={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl(k,R,Z={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],R&&this.registerControl(k,R),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}contains(k){return this.controls.hasOwnProperty(k)&&this.controls[k].enabled}setValue(k,R={}){se(this,!0,k),Object.keys(k).forEach(Z=>{ge(this,!0,Z),this.controls[Z].setValue(k[Z],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(k,R={}){null!=k&&(Object.keys(k).forEach(Z=>{const le=this.controls[Z];le&&le.patchValue(k[Z],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(k={},R={}){this._forEachChild((Z,le)=>{Z.reset(k[le],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},(k,R,Z)=>(k[Z]=R.getRawValue(),k))}_syncPendingControls(){let k=this._reduceChildren(!1,(R,Z)=>!!Z._syncPendingControls()||R);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){Object.keys(this.controls).forEach(R=>{const Z=this.controls[R];Z&&k(Z,R)})}_setUpControls(){this._forEachChild(k=>{k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(k){for(const[R,Z]of Object.entries(this.controls))if(this.contains(R)&&k(Z))return!0;return!1}_reduceValue(){return this._reduceChildren({},(R,Z,le)=>((Z.enabled||this.disabled)&&(R[le]=Z.value),R))}_reduceChildren(k,R){let Z=k;return this._forEachChild((le,ft)=>{Z=R(Z,le,ft)}),Z}_allControlsDisabled(){for(const k of Object.keys(this.controls))if(this.controls[k].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(k){return this.controls.hasOwnProperty(k)?this.controls[k]:null}}class xt extends Ke{}const Jn=new w.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>je}),je="always";function xe(F,k){return[...k.path,F]}function ct(F,k,R=je){jn(F,k),k.valueAccessor.writeValue(F.value),(F.disabled||"always"===R)&&k.valueAccessor.setDisabledState?.(F.disabled),function Er(F,k){k.valueAccessor.registerOnChange(R=>{F._pendingValue=R,F._pendingChange=!0,F._pendingDirty=!0,"change"===F.updateOn&&Sn(F,k)})}(F,k),function gr(F,k){const R=(Z,le)=>{k.valueAccessor.writeValue(Z),le&&k.viewToModelUpdate(Z)};F.registerOnChange(R),k._registerOnDestroy(()=>{F._unregisterOnChange(R)})}(F,k),function as(F,k){k.valueAccessor.registerOnTouched(()=>{F._pendingTouched=!0,"blur"===F.updateOn&&F._pendingChange&&Sn(F,k),"submit"!==F.updateOn&&F.markAsTouched()})}(F,k),function _n(F,k){if(k.valueAccessor.setDisabledState){const R=Z=>{k.valueAccessor.setDisabledState(Z)};F.registerOnDisabledChange(R),k._registerOnDestroy(()=>{F._unregisterOnDisabledChange(R)})}}(F,k)}function Ht(F,k,R=!0){const Z=()=>{};k.valueAccessor&&(k.valueAccessor.registerOnChange(Z),k.valueAccessor.registerOnTouched(Z)),dr(F,k),F&&(k._invokeOnDestroyCallbacks(),F._registerOnCollectionChange(()=>{}))}function on(F,k){F.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(k)})}function jn(F,k){const R=Or(F);null!==k.validator?F.setValidators(yi(R,k.validator)):"function"==typeof R&&F.setValidators([R]);const Z=Gr(F);null!==k.asyncValidator?F.setAsyncValidators(yi(Z,k.asyncValidator)):"function"==typeof Z&&F.setAsyncValidators([Z]);const le=()=>F.updateValueAndValidity();on(k._rawValidators,le),on(k._rawAsyncValidators,le)}function dr(F,k){let R=!1;if(null!==F){if(null!==k.validator){const le=Or(F);if(Array.isArray(le)&&le.length>0){const ft=le.filter(cr=>cr!==k.validator);ft.length!==le.length&&(R=!0,F.setValidators(ft))}}if(null!==k.asyncValidator){const le=Gr(F);if(Array.isArray(le)&&le.length>0){const ft=le.filter(cr=>cr!==k.asyncValidator);ft.length!==le.length&&(R=!0,F.setAsyncValidators(ft))}}}const Z=()=>{};return on(k._rawValidators,Z),on(k._rawAsyncValidators,Z),R}function Sn(F,k){F._pendingDirty&&F.markAsDirty(),F.setValue(F._pendingValue,{emitModelToViewChange:!1}),k.viewToModelUpdate(F._pendingValue),F._pendingChange=!1}function so(F,k){const R=F.indexOf(k);R>-1&&F.splice(R,1)}function wn(F){return"object"==typeof F&&null!==F&&2===Object.keys(F).length&&"value"in F&&"disabled"in F}const Qi=class extends ve{constructor(k=null,R,Z){super(we(R),ke(Z,R)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(k),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ee(R)&&(R.nonNullable||R.initialValueIsDefault)&&(this.defaultValue=wn(k)?k.value:k)}setValue(k,R={}){this.value=this._pendingValue=k,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(Z=>Z(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(k,R={}){this.setValue(k,R)}reset(k=this.defaultValue,R={}){this._applyFormState(k),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(k){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(k){this._onChange.push(k)}_unregisterOnChange(k){so(this._onChange,k)}registerOnDisabledChange(k){this._onDisabledChange.push(k)}_unregisterOnDisabledChange(k){so(this._onDisabledChange,k)}_forEachChild(k){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(k){wn(k)?(this.value=this._pendingValue=k.value,k.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=k}};let Xi=(()=>{class F extends Un{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return xe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return F.\u0275fac=function(){let k;return function(Z){return(k||(k=w.n5z(F)))(Z||F)}}(),F.\u0275dir=w.lG2({type:F,features:[w.qOj]}),F})(),vt=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275dir=w.lG2({type:F,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),F})();const pi={provide:yt,useExisting:(0,w.Gpc)(()=>Pi),multi:!0};let Pi=(()=>{class F extends at{writeValue(R){this.setProperty("value",R??"")}registerOnChange(R){this.onChange=Z=>{R(""==Z?null:parseFloat(Z))}}}return F.\u0275fac=function(){let k;return function(Z){return(k||(k=w.n5z(F)))(Z||F)}}(),F.\u0275dir=w.lG2({type:F,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(R,Z){1&R&&w.NdJ("input",function(ft){return Z.onChange(ft.target.value)})("blur",function(){return Z.onTouched()})},features:[w._Bn([pi]),w.qOj]}),F})();const Ri={provide:yt,useExisting:(0,w.Gpc)(()=>es),multi:!0};let Ko=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=w.oAB({type:F}),F.\u0275inj=w.cJS({}),F})(),Ni=(()=>{class F{constructor(){this._accessors=[]}add(R,Z){this._accessors.push([R,Z])}remove(R){for(let Z=this._accessors.length-1;Z>=0;--Z)if(this._accessors[Z][1]===R)return void this._accessors.splice(Z,1)}select(R){this._accessors.forEach(Z=>{this._isSameGroup(Z,R)&&Z[1]!==R&&Z[1].fireUncheck(R.value)})}_isSameGroup(R,Z){return!!R[0].control&&R[0]._parent===Z._control._parent&&R[1].name===Z.name}}return F.\u0275fac=function(R){return new(R||F)},F.\u0275prov=w.Yz7({token:F,factory:F.\u0275fac,providedIn:Ko}),F})(),es=(()=>{class F extends at{constructor(R,Z,le,ft){super(R,Z),this._registry=le,this._injector=ft,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,w.f3M)(Jn,{optional:!0})??je}ngOnInit(){this._control=this._injector.get(ni),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(R){this._state=R===this.value,this.setProperty("checked",this._state)}registerOnChange(R){this._fn=R,this.onChange=()=>{R(this.value),this._registry.select(this)}}setDisabledState(R){(this.setDisabledStateFired||R||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",R),this.setDisabledStateFired=!0}fireUncheck(R){this.writeValue(R)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return F.\u0275fac=function(R){return new(R||F)(w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(Ni),w.Y36(w.zs3))},F.\u0275dir=w.lG2({type:F,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(R,Z){1&R&&w.NdJ("change",function(){return Z.onChange()})("blur",function(){return Z.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[w._Bn([Ri]),w.qOj]}),F})();const Is=new w.OlP("NgModelWithFormControlWarning"),lr={provide:Un,useExisting:(0,w.Gpc)(()=>pr)};let pr=(()=>{class F extends Un{constructor(R,Z,le){super(),this.callSetDisabledState=le,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new w.vpe,this._setValidators(R),this._setAsyncValidators(Z)}ngOnChanges(R){this._checkFormPresent(),R.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(dr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(R){const Z=this.form.get(R.path);return ct(Z,R,this.callSetDisabledState),Z.updateValueAndValidity({emitEvent:!1}),this.directives.push(R),Z}getControl(R){return this.form.get(R.path)}removeControl(R){Ht(R.control||null,R,!1),function Ns(F,k){const R=F.indexOf(k);R>-1&&F.splice(R,1)}(this.directives,R)}addFormGroup(R){this._setUpFormContainer(R)}removeFormGroup(R){this._cleanUpFormContainer(R)}getFormGroup(R){return this.form.get(R.path)}addFormArray(R){this._setUpFormContainer(R)}removeFormArray(R){this._cleanUpFormContainer(R)}getFormArray(R){return this.form.get(R.path)}updateModel(R,Z){this.form.get(R.path).setValue(Z)}onSubmit(R){return this.submitted=!0,function wr(F,k){F._syncPendingControls(),k.forEach(R=>{const Z=R.control;"submit"===Z.updateOn&&Z._pendingChange&&(R.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(R),"dialog"===R?.target?.method}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_updateDomValue(){this.directives.forEach(R=>{const Z=R.control,le=this.form.get(R.path);Z!==le&&(Ht(Z||null,R),(F=>F instanceof Qi)(le)&&(ct(le,R,this.callSetDisabledState),R.control=le))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(R){const Z=this.form.get(R.path);(function hr(F,k){jn(F,k)})(Z,R),Z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(R){if(this.form){const Z=this.form.get(R.path);Z&&function $i(F,k){return dr(F,k)}(Z,R)&&Z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jn(this.form,this),this._oldForm&&dr(this._oldForm,this)}_checkFormPresent(){}}return F.\u0275fac=function(R){return new(R||F)(w.Y36(Mt,10),w.Y36(Et,10),w.Y36(Jn,8))},F.\u0275dir=w.lG2({type:F,selectors:[["","formGroup",""]],hostBindings:function(R,Z){1&R&&w.NdJ("submit",function(ft){return Z.onSubmit(ft)})("reset",function(){return Z.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[w._Bn([lr]),w.qOj,w.TTD]}),F})();const us={provide:Un,useExisting:(0,w.Gpc)(()=>Os)};let Os=(()=>{class F extends Xi{constructor(R,Z,le){super(),this._parent=R,this._setValidators(Z),this._setAsyncValidators(le)}_checkParentType(){ps(this._parent)}}return F.\u0275fac=function(R){return new(R||F)(w.Y36(Un,13),w.Y36(Mt,10),w.Y36(Et,10))},F.\u0275dir=w.lG2({type:F,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[w._Bn([us]),w.qOj]}),F})();const Io={provide:Un,useExisting:(0,w.Gpc)(()=>Qr)};let Qr=(()=>{class F extends Un{constructor(R,Z,le){super(),this._parent=R,this._setValidators(Z),this._setAsyncValidators(le)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return xe(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){ps(this._parent)}}return F.\u0275fac=function(R){return new(R||F)(w.Y36(Un,13),w.Y36(Mt,10),w.Y36(Et,10))},F.\u0275dir=w.lG2({type:F,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[w._Bn([Io]),w.qOj]}),F})();function ps(F){return!(F instanceof Os||F instanceof pr||F instanceof Qr)}const uo={provide:ni,useExisting:(0,w.Gpc)(()=>Vo)};let Vo=(()=>{class F extends ni{set isDisabled(R){}constructor(R,Z,le,ft,cr){super(),this._ngModelWarningConfig=cr,this._added=!1,this.update=new w.vpe,this._ngModelWarningSent=!1,this._parent=R,this._setValidators(Z),this._setAsyncValidators(le),this.valueAccessor=function Yi(F,k){if(!k)return null;let R,Z,le;return Array.isArray(k),k.forEach(ft=>{ft.constructor===Fe?R=ft:function vn(F){return Object.getPrototypeOf(F.constructor)===at}(ft)?Z=ft:le=ft}),le||Z||R||null}(0,ft)}ngOnChanges(R){this._added||this._setUpControl(),function Rt(F,k){if(!F.hasOwnProperty("model"))return!1;const R=F.model;return!!R.isFirstChange()||!Object.is(k,R.currentValue)}(R,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}get path(){return xe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return F._ngModelWarningSentOnce=!1,F.\u0275fac=function(R){return new(R||F)(w.Y36(Un,13),w.Y36(Mt,10),w.Y36(Et,10),w.Y36(yt,10),w.Y36(Is,8))},F.\u0275dir=w.lG2({type:F,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[w._Bn([uo]),w.qOj,w.TTD]}),F})(),Li=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=w.oAB({type:F}),F.\u0275inj=w.cJS({imports:[Ko]}),F})();class ci extends ve{constructor(k,R,Z){super(we(R),ke(Z,R)),this.controls=k,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(k){return this.controls[this._adjustIndex(k)]}push(k,R={}){this.controls.push(k),this._registerControl(k),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}insert(k,R,Z={}){this.controls.splice(k,0,R),this._registerControl(R),this.updateValueAndValidity({emitEvent:Z.emitEvent})}removeAt(k,R={}){let Z=this._adjustIndex(k);Z<0&&(Z=0),this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),this.controls.splice(Z,1),this.updateValueAndValidity({emitEvent:R.emitEvent})}setControl(k,R,Z={}){let le=this._adjustIndex(k);le<0&&(le=0),this.controls[le]&&this.controls[le]._registerOnCollectionChange(()=>{}),this.controls.splice(le,1),R&&(this.controls.splice(le,0,R),this._registerControl(R)),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(k,R={}){se(this,!1,k),k.forEach((Z,le)=>{ge(this,!1,le),this.at(le).setValue(Z,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(k,R={}){null!=k&&(k.forEach((Z,le)=>{this.at(le)&&this.at(le).patchValue(Z,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(k=[],R={}){this._forEachChild((Z,le)=>{Z.reset(k[le],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this.controls.map(k=>k.getRawValue())}clear(k={}){this.controls.length<1||(this._forEachChild(R=>R._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:k.emitEvent}))}_adjustIndex(k){return k<0?k+this.length:k}_syncPendingControls(){let k=this.controls.reduce((R,Z)=>!!Z._syncPendingControls()||R,!1);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){this.controls.forEach((R,Z)=>{k(R,Z)})}_updateValue(){this.value=this.controls.filter(k=>k.enabled||this.disabled).map(k=>k.value)}_anyControls(k){return this.controls.some(R=>R.enabled&&k(R))}_setUpControls(){this._forEachChild(k=>this._registerControl(k))}_allControlsDisabled(){for(const k of this.controls)if(k.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(k){k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)}_find(k){return this.at(k)??null}}function Ao(F){return!!F&&(void 0!==F.asyncValidators||void 0!==F.validators||void 0!==F.updateOn)}let qs=(()=>{class F{constructor(){this.useNonNullable=!1}get nonNullable(){const R=new F;return R.useNonNullable=!0,R}group(R,Z=null){const le=this._reduceControls(R);let ft={};return Ao(Z)?ft=Z:null!==Z&&(ft.validators=Z.validator,ft.asyncValidators=Z.asyncValidator),new Ke(le,ft)}record(R,Z=null){const le=this._reduceControls(R);return new xt(le,Z)}control(R,Z,le){let ft={};return this.useNonNullable?(Ao(Z)?ft=Z:(ft.validators=Z,ft.asyncValidators=le),new Qi(R,{...ft,nonNullable:!0})):new Qi(R,Z,le)}array(R,Z,le){const ft=R.map(cr=>this._createControl(cr));return new ci(ft,Z,le)}_reduceControls(R){const Z={};return Object.keys(R).forEach(le=>{Z[le]=this._createControl(R[le])}),Z}_createControl(R){return R instanceof Qi||R instanceof ve?R:Array.isArray(R)?this.control(R[0],R.length>1?R[1]:null,R.length>2?R[2]:null):this.control(R)}}return F.\u0275fac=function(R){return new(R||F)},F.\u0275prov=w.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),an=(()=>{class F{}return F.\u0275fac=function(R){return new(R||F)},F.\u0275prov=w.Yz7({token:F,factory:function(){return(0,w.f3M)(qs).nonNullable},providedIn:"root"}),F})(),Mo=(()=>{class F{static withConfig(R){return{ngModule:F,providers:[{provide:Is,useValue:R.warnOnNgModelWithFormControl??"always"},{provide:Jn,useValue:R.callSetDisabledState??je}]}}}return F.\u0275fac=function(R){return new(R||F)},F.\u0275mod=w.oAB({type:F}),F.\u0275inj=w.cJS({imports:[Li]}),F})()},1481:(rn,Ye,Y)=>{Y.d(Ye,{Dx:()=>hn,b2:()=>ni,q6:()=>cn,se:()=>ht});var w=Y(6895),re=Y(1571);class B extends w.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class De extends B{static makeCurrent(){(0,w.HT)(new De)}onAndCancel(ge,se,ve){return ge.addEventListener(se,ve,!1),()=>{ge.removeEventListener(se,ve,!1)}}dispatchEvent(ge,se){ge.dispatchEvent(se)}remove(ge){ge.parentNode&&ge.parentNode.removeChild(ge)}createElement(ge,se){return(se=se||this.getDefaultDocument()).createElement(ge)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ge){return ge.nodeType===Node.ELEMENT_NODE}isShadowRoot(ge){return ge instanceof DocumentFragment}getGlobalEventTarget(ge,se){return"window"===se?window:"document"===se?ge:"body"===se?ge.body:null}getBaseHref(ge){const se=function Se(){return ee=ee||document.querySelector("base"),ee?ee.getAttribute("href"):null}();return null==se?null:function he(Ee){Ue=Ue||document.createElement("a"),Ue.setAttribute("href",Ee);const ge=Ue.pathname;return"/"===ge.charAt(0)?ge:`/${ge}`}(se)}resetBaseElement(){ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(ge){return(0,w.Mx)(document.cookie,ge)}}let Ue,ee=null;const $e=new re.OlP("TRANSITION_ID"),ye=[{provide:re.ip1,useFactory:function ie(Ee,ge,se){return()=>{se.get(re.CZH).donePromise.then(()=>{const ve=(0,w.q)(),Ke=ge.querySelectorAll(`style[ng-transition="${Ee}"]`);for(let Ne=0;Ne<Ke.length;Ne++)ve.remove(Ke[Ne])})}},deps:[$e,w.K0,re.zs3],multi:!0}];let nt=(()=>{class Ee{build(){return new XMLHttpRequest}}return Ee.\u0275fac=function(se){return new(se||Ee)},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const at=new re.OlP("EventManagerPlugins");let yt=(()=>{class Ee{constructor(se,ve){this._zone=ve,this._eventNameToPlugin=new Map,se.forEach(Ke=>{Ke.manager=this}),this._plugins=se.slice().reverse()}addEventListener(se,ve,Ke){return this._findPluginFor(ve).addEventListener(se,ve,Ke)}addGlobalEventListener(se,ve,Ke){return this._findPluginFor(ve).addGlobalEventListener(se,ve,Ke)}getZone(){return this._zone}_findPluginFor(se){const ve=this._eventNameToPlugin.get(se);if(ve)return ve;const Ke=this._plugins;for(let Ne=0;Ne<Ke.length;Ne++){const qe=Ke[Ne];if(qe.supports(se))return this._eventNameToPlugin.set(se,qe),qe}throw new Error(`No event manager plugin found for event ${se}`)}}return Ee.\u0275fac=function(se){return new(se||Ee)(re.LFG(at),re.LFG(re.R0b))},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class _t{constructor(ge){this._doc=ge}addGlobalEventListener(ge,se,ve){const Ke=(0,w.q)().getGlobalEventTarget(this._doc,ge);if(!Ke)throw new Error(`Unsupported event target ${Ke} for event ${se}`);return this.addEventListener(Ke,se,ve)}}let mn=(()=>{class Ee{constructor(){this.usageCount=new Map}addStyles(se){for(const ve of se)1===this.changeUsageCount(ve,1)&&this.onStyleAdded(ve)}removeStyles(se){for(const ve of se)0===this.changeUsageCount(ve,-1)&&this.onStyleRemoved(ve)}onStyleRemoved(se){}onStyleAdded(se){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(se,ve){const Ke=this.usageCount;let Ne=Ke.get(se)??0;return Ne+=ve,Ne>0?Ke.set(se,Ne):Ke.delete(se),Ne}ngOnDestroy(){for(const se of this.getAllStyles())this.onStyleRemoved(se);this.usageCount.clear()}}return Ee.\u0275fac=function(se){return new(se||Ee)},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})(),Bt=(()=>{class Ee extends mn{constructor(se){super(),this.doc=se,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(se){for(const ve of this.hostNodes)this.addStyleToHost(ve,se)}onStyleRemoved(se){const ve=this.styleRef;ve.get(se)?.forEach(Ne=>Ne.remove()),ve.delete(se)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(se){this.hostNodes.add(se);for(const ve of this.getAllStyles())this.addStyleToHost(se,ve)}removeHost(se){this.hostNodes.delete(se)}addStyleToHost(se,ve){const Ke=this.doc.createElement("style");Ke.textContent=ve,se.appendChild(Ke);const Ne=this.styleRef.get(ve);Ne?Ne.push(Ke):this.styleRef.set(ve,[Ke])}resetHostNodes(){const se=this.hostNodes;se.clear(),se.add(this.doc.head)}}return Ee.\u0275fac=function(se){return new(se||Ee)(re.LFG(w.K0))},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const Wn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},En=/%COMP%/g,Et=new re.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function jt(Ee,ge){return ge.flat(100).map(se=>se.replace(En,Ee))}function sn(Ee){return ge=>{if("__ngUnwrap__"===ge)return Ee;!1===Ee(ge)&&(ge.preventDefault(),ge.returnValue=!1)}}let ht=(()=>{class Ee{constructor(se,ve,Ke,Ne){this.eventManager=se,this.sharedStylesHost=ve,this.appId=Ke,this.removeStylesOnCompDestory=Ne,this.rendererByCompId=new Map,this.defaultRenderer=new ze(se)}createRenderer(se,ve){if(!se||!ve)return this.defaultRenderer;const Ke=this.getOrCreateRenderer(se,ve);return Ke instanceof ln?Ke.applyToHost(se):Ke instanceof mt&&Ke.applyStyles(),Ke}getOrCreateRenderer(se,ve){const Ke=this.rendererByCompId;let Ne=Ke.get(ve.id);if(!Ne){const qe=this.eventManager,xt=this.sharedStylesHost,Jt=this.removeStylesOnCompDestory;switch(ve.encapsulation){case re.ifc.Emulated:Ne=new ln(qe,xt,ve,this.appId,Jt);break;case re.ifc.ShadowDom:return new gt(qe,xt,se,ve);default:Ne=new mt(qe,xt,ve,Jt)}Ne.onDestroy=()=>Ke.delete(ve.id),Ke.set(ve.id,Ne)}return Ne}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Ee.\u0275fac=function(se){return new(se||Ee)(re.LFG(yt),re.LFG(Bt),re.LFG(re.AFp),re.LFG(Et))},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();class ze{constructor(ge){this.eventManager=ge,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ge,se){return se?document.createElementNS(Wn[se]||se,ge):document.createElement(ge)}createComment(ge){return document.createComment(ge)}createText(ge){return document.createTextNode(ge)}appendChild(ge,se){(rt(ge)?ge.content:ge).appendChild(se)}insertBefore(ge,se,ve){ge&&(rt(ge)?ge.content:ge).insertBefore(se,ve)}removeChild(ge,se){ge&&ge.removeChild(se)}selectRootElement(ge,se){let ve="string"==typeof ge?document.querySelector(ge):ge;if(!ve)throw new Error(`The selector "${ge}" did not match any elements`);return se||(ve.textContent=""),ve}parentNode(ge){return ge.parentNode}nextSibling(ge){return ge.nextSibling}setAttribute(ge,se,ve,Ke){if(Ke){se=Ke+":"+se;const Ne=Wn[Ke];Ne?ge.setAttributeNS(Ne,se,ve):ge.setAttribute(se,ve)}else ge.setAttribute(se,ve)}removeAttribute(ge,se,ve){if(ve){const Ke=Wn[ve];Ke?ge.removeAttributeNS(Ke,se):ge.removeAttribute(`${ve}:${se}`)}else ge.removeAttribute(se)}addClass(ge,se){ge.classList.add(se)}removeClass(ge,se){ge.classList.remove(se)}setStyle(ge,se,ve,Ke){Ke&(re.JOm.DashCase|re.JOm.Important)?ge.style.setProperty(se,ve,Ke&re.JOm.Important?"important":""):ge.style[se]=ve}removeStyle(ge,se,ve){ve&re.JOm.DashCase?ge.style.removeProperty(se):ge.style[se]=""}setProperty(ge,se,ve){ge[se]=ve}setValue(ge,se){ge.nodeValue=se}listen(ge,se,ve){return"string"==typeof ge?this.eventManager.addGlobalEventListener(ge,se,sn(ve)):this.eventManager.addEventListener(ge,se,sn(ve))}}function rt(Ee){return"TEMPLATE"===Ee.tagName&&void 0!==Ee.content}class gt extends ze{constructor(ge,se,ve,Ke){super(ge),this.sharedStylesHost=se,this.hostEl=ve,this.shadowRoot=ve.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ne=jt(Ke.id,Ke.styles);for(const qe of Ne){const xt=document.createElement("style");xt.textContent=qe,this.shadowRoot.appendChild(xt)}}nodeOrShadowRoot(ge){return ge===this.hostEl?this.shadowRoot:ge}appendChild(ge,se){return super.appendChild(this.nodeOrShadowRoot(ge),se)}insertBefore(ge,se,ve){return super.insertBefore(this.nodeOrShadowRoot(ge),se,ve)}removeChild(ge,se){return super.removeChild(this.nodeOrShadowRoot(ge),se)}parentNode(ge){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ge)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class mt extends ze{constructor(ge,se,ve,Ke,Ne=ve.id){super(ge),this.sharedStylesHost=se,this.removeStylesOnCompDestory=Ke,this.rendererUsageCount=0,this.styles=jt(Ne,ve.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ln extends mt{constructor(ge,se,ve,Ke,Ne){const qe=Ke+"-"+ve.id;super(ge,se,ve,Ne,qe),this.contentAttr=function yn(Ee){return"_ngcontent-%COMP%".replace(En,Ee)}(qe),this.hostAttr=function Cn(Ee){return"_nghost-%COMP%".replace(En,Ee)}(qe)}applyToHost(ge){this.applyStyles(),this.setAttribute(ge,this.hostAttr,"")}createElement(ge,se){const ve=super.createElement(ge,se);return super.setAttribute(ve,this.contentAttr,""),ve}}let Rn=(()=>{class Ee extends _t{constructor(se){super(se)}supports(se){return!0}addEventListener(se,ve,Ke){return se.addEventListener(ve,Ke,!1),()=>this.removeEventListener(se,ve,Ke)}removeEventListener(se,ve,Ke){return se.removeEventListener(ve,Ke)}}return Ee.\u0275fac=function(se){return new(se||Ee)(re.LFG(w.K0))},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const kn=["alt","control","meta","shift"],Yt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gt={alt:Ee=>Ee.altKey,control:Ee=>Ee.ctrlKey,meta:Ee=>Ee.metaKey,shift:Ee=>Ee.shiftKey};let Pt=(()=>{class Ee extends _t{constructor(se){super(se)}supports(se){return null!=Ee.parseEventName(se)}addEventListener(se,ve,Ke){const Ne=Ee.parseEventName(ve),qe=Ee.eventCallback(Ne.fullKey,Ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.q)().onAndCancel(se,Ne.domEventName,qe))}static parseEventName(se){const ve=se.toLowerCase().split("."),Ke=ve.shift();if(0===ve.length||"keydown"!==Ke&&"keyup"!==Ke)return null;const Ne=Ee._normalizeKey(ve.pop());let qe="",xt=ve.indexOf("code");if(xt>-1&&(ve.splice(xt,1),qe="code."),kn.forEach(Jn=>{const je=ve.indexOf(Jn);je>-1&&(ve.splice(je,1),qe+=Jn+".")}),qe+=Ne,0!=ve.length||0===Ne.length)return null;const Jt={};return Jt.domEventName=Ke,Jt.fullKey=qe,Jt}static matchEventFullKeyCode(se,ve){let Ke=Yt[se.key]||se.key,Ne="";return ve.indexOf("code.")>-1&&(Ke=se.code,Ne="code."),!(null==Ke||!Ke)&&(Ke=Ke.toLowerCase()," "===Ke?Ke="space":"."===Ke&&(Ke="dot"),kn.forEach(qe=>{qe!==Ke&&(0,Gt[qe])(se)&&(Ne+=qe+".")}),Ne+=Ke,Ne===ve)}static eventCallback(se,ve,Ke){return Ne=>{Ee.matchEventFullKeyCode(Ne,se)&&Ke.runGuarded(()=>ve(Ne))}}static _normalizeKey(se){return"esc"===se?"escape":se}}return Ee.\u0275fac=function(se){return new(se||Ee)(re.LFG(w.K0))},Ee.\u0275prov=re.Yz7({token:Ee,factory:Ee.\u0275fac}),Ee})();const cn=(0,re.eFA)(re._c5,"browser",[{provide:re.Lbi,useValue:w.bD},{provide:re.g9A,useValue:function Or(){De.makeCurrent()},multi:!0},{provide:w.K0,useFactory:function qi(){return(0,re.RDi)(document),document},deps:[]}]),Pr=new re.OlP(""),ti=[{provide:re.rWj,useClass:class Pe{addToWindow(ge){re.dqk.getAngularTestability=(ve,Ke=!0)=>{const Ne=ge.findTestabilityInTree(ve,Ke);if(null==Ne)throw new Error("Could not find testability for element.");return Ne},re.dqk.getAllAngularTestabilities=()=>ge.getAllTestabilities(),re.dqk.getAllAngularRootElements=()=>ge.getAllRootElements(),re.dqk.frameworkStabilizers||(re.dqk.frameworkStabilizers=[]),re.dqk.frameworkStabilizers.push(ve=>{const Ke=re.dqk.getAllAngularTestabilities();let Ne=Ke.length,qe=!1;const xt=function(Jt){qe=qe||Jt,Ne--,0==Ne&&ve(qe)};Ke.forEach(function(Jt){Jt.whenStable(xt)})})}findTestabilityInTree(ge,se,ve){return null==se?null:ge.getTestability(se)??(ve?(0,w.q)().isShadowRoot(se)?this.findTestabilityInTree(ge,se.host,!0):this.findTestabilityInTree(ge,se.parentElement,!0):null)}},deps:[]},{provide:re.lri,useClass:re.dDg,deps:[re.R0b,re.eoX,re.rWj]},{provide:re.dDg,useClass:re.dDg,deps:[re.R0b,re.eoX,re.rWj]}],Un=[{provide:re.zSh,useValue:"root"},{provide:re.qLn,useFactory:function Gr(){return new re.qLn},deps:[]},{provide:at,useClass:Rn,multi:!0,deps:[w.K0,re.R0b,re.Lbi]},{provide:at,useClass:Pt,multi:!0,deps:[w.K0]},{provide:ht,useClass:ht,deps:[yt,Bt,re.AFp,Et]},{provide:re.FYo,useExisting:ht},{provide:mn,useExisting:Bt},{provide:Bt,useClass:Bt,deps:[w.K0]},{provide:yt,useClass:yt,deps:[at,re.R0b]},{provide:w.JF,useClass:nt,deps:[]},[]];let ni=(()=>{class Ee{constructor(se){}static withServerTransition(se){return{ngModule:Ee,providers:[{provide:re.AFp,useValue:se.appId},{provide:$e,useExisting:re.AFp},ye]}}}return Ee.\u0275fac=function(se){return new(se||Ee)(re.LFG(Pr,12))},Ee.\u0275mod=re.oAB({type:Ee}),Ee.\u0275inj=re.cJS({providers:[...Un,...ti],imports:[w.ez,re.hGG]}),Ee})(),hn=(()=>{class Ee{constructor(se){this._doc=se}getTitle(){return this._doc.title}setTitle(se){this._doc.title=se||""}}return Ee.\u0275fac=function(se){return new(se||Ee)(re.LFG(w.K0))},Ee.\u0275prov=re.Yz7({token:Ee,factory:function(se){let ve=null;return ve=se?new se:function Si(){return new hn((0,re.LFG)(w.K0))}(),ve},providedIn:"root"}),Ee})();typeof window<"u"&&window},5912:(rn,Ye,Y)=>{Y.d(Ye,{F0:()=>pn,rH:()=>tn,Od:()=>yr,Bz:()=>Ia,lC:()=>Ts});var w=Y(1571),re=Y(8996),B=Y(9646),De=Y(1135);const Se=(0,Y(3888).d)(E=>function(){E(this),this.name="EmptyError",this.message="no elements in sequence"});var Ue=Y(9751),he=Y(4742),$e=Y(4671),ie=Y(3268),ye=Y(3269),Pe=Y(1810),nt=Y(5403),at=Y(9672);function yt(...E){const D=(0,ye.yG)(E),m=(0,ye.jO)(E),{args:S,keys:V}=(0,he.D)(E);if(0===S.length)return(0,re.D)([],D);const W=new Ue.y(function _t(E,D,m=$e.y){return S=>{mn(D,()=>{const{length:V}=E,W=new Array(V);let J=V,Te=V;for(let Qe=0;Qe<V;Qe++)mn(D,()=>{const $t=(0,re.D)(E[Qe],D);let Ot=!1;$t.subscribe((0,nt.x)(S,er=>{W[Qe]=er,Ot||(Ot=!0,Te--),Te||S.next(m(W.slice()))},()=>{--J||S.complete()}))},S)},S)}}(S,D,V?J=>(0,Pe.n)(V,J):$e.y));return m?W.pipe((0,ie.Z)(m)):W}function mn(E,D,m){E?(0,at.f)(m,E,D):D()}var Bt=Y(7272),Wn=Y(8421);function En(E){return new Ue.y(D=>{(0,Wn.Xf)(E()).subscribe(D)})}var Fe=Y(9635),pt=Y(576);function Ge(E,D){const m=(0,pt.m)(E)?E:()=>E,S=V=>V.error(m());return new Ue.y(D?V=>D.schedule(S,0,V):S)}var dt=Y(515),Mt=Y(727),Et=Y(4482);function yn(){return(0,Et.e)((E,D)=>{let m=null;E._refCount++;const S=(0,nt.x)(D,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(m=null);const V=E._connection,W=m;m=null,V&&(!W||V===W)&&V.unsubscribe(),D.unsubscribe()});E.subscribe(S),S.closed||(m=E.connect())})}class Cn extends Ue.y{constructor(D,m){super(),this.source=D,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,Et.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,D?.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new Mt.w0;const m=this.getSubject();D.add(this.source.subscribe((0,nt.x)(m,void 0,()=>{this._teardown(),m.complete()},S=>{this._teardown(),m.error(S)},()=>this._teardown()))),D.closed&&(this._connection=null,D=Mt.w0.EMPTY)}return D}refCount(){return yn()(this)}}var jt=Y(7579),sn=Y(6895),ht=Y(4004),ze=Y(3900),Ae=Y(5698),et=Y(8675),rt=Y(9300),gt=Y(5577);function mt(E){return(0,Et.e)((D,m)=>{let S=!1;D.subscribe((0,nt.x)(m,V=>{S=!0,m.next(V)},()=>{S||m.next(E),m.complete()}))})}function ln(E=Rn){return(0,Et.e)((D,m)=>{let S=!1;D.subscribe((0,nt.x)(m,V=>{S=!0,m.next(V)},()=>S?m.complete():m.error(E())))})}function Rn(){return new Se}function kn(E,D){const m=arguments.length>=2;return S=>S.pipe(E?(0,rt.h)((V,W)=>E(V,W,S)):$e.y,(0,Ae.q)(1),m?mt(D):ln(()=>new Se))}function Yt(E,D){return(0,pt.m)(D)?(0,gt.z)(E,D,1):(0,gt.z)(E,1)}var Gt=Y(8505);function Pt(E){return(0,Et.e)((D,m)=>{let W,S=null,V=!1;S=D.subscribe((0,nt.x)(m,void 0,void 0,J=>{W=(0,Wn.Xf)(E(J,Pt(E)(D))),S?(S.unsubscribe(),S=null,W.subscribe(m)):V=!0})),V&&(S.unsubscribe(),S=null,W.subscribe(m))})}function ei(E,D){return(0,Et.e)(function Vn(E,D,m,S,V){return(W,J)=>{let Te=m,Qe=D,$t=0;W.subscribe((0,nt.x)(J,Ot=>{const er=$t++;Qe=Te?E(Qe,Ot,er):(Te=!0,Ot),S&&J.next(Qe)},V&&(()=>{Te&&J.next(Qe),J.complete()})))}}(E,D,arguments.length>=2,!0))}function Cr(E){return E<=0?()=>dt.E:(0,Et.e)((D,m)=>{let S=[];D.subscribe((0,nt.x)(m,V=>{S.push(V),E<S.length&&S.shift()},()=>{for(const V of S)m.next(V);m.complete()},void 0,()=>{S=null}))})}function xn(E,D){const m=arguments.length>=2;return S=>S.pipe(E?(0,rt.h)((V,W)=>E(V,W,S)):$e.y,Cr(1),m?mt(D):ln(()=>new Se))}function Gr(E){return(0,Et.e)((D,m)=>{try{D.subscribe(m)}finally{m.add(E)}})}var qi=Y(8189),Tr=Y(1481);const cn="primary",Pr=Symbol("RouteTitle");class ti{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m[0]:m}return null}getAll(D){if(this.has(D)){const m=this.params[D];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function Un(E){return new ti(E)}function ni(E,D,m){const S=m.path.split("/");if(S.length>E.length||"full"===m.pathMatch&&(D.hasChildren()||S.length<E.length))return null;const V={};for(let W=0;W<S.length;W++){const J=S[W],Te=E[W];if(J.startsWith(":"))V[J.substring(1)]=Te;else if(J!==Te.path)return null}return{consumed:E.slice(0,S.length),posParams:V}}function zt(E,D){const m=E?Object.keys(E):void 0,S=D?Object.keys(D):void 0;if(!m||!S||m.length!=S.length)return!1;let V;for(let W=0;W<m.length;W++)if(V=m[W],!Ki(E[V],D[V]))return!1;return!0}function Ki(E,D){if(Array.isArray(E)&&Array.isArray(D)){if(E.length!==D.length)return!1;const m=[...E].sort(),S=[...D].sort();return m.every((V,W)=>S[W]===V)}return E===D}function Si(E){return Array.prototype.concat.apply([],E)}function hn(E){return E.length>0?E[E.length-1]:null}function kt(E,D){for(const m in E)E.hasOwnProperty(m)&&D(E[m],m)}function Bn(E){return(0,w.CqO)(E)?E:(0,w.QGY)(E)?(0,re.D)(Promise.resolve(E)):(0,B.of)(E)}const zr=!1,kr={exact:function $n(E,D,m){if(!hi(E.segments,D.segments)||!Zn(E.segments,D.segments,m)||E.numberOfChildren!==D.numberOfChildren)return!1;for(const S in D.children)if(!E.children[S]||!$n(E.children[S],D.children[S],m))return!1;return!0},subset:Kn},Ai={exact:function Mi(E,D){return zt(E,D)},subset:function Hs(E,D){return Object.keys(D).length<=Object.keys(E).length&&Object.keys(D).every(m=>Ki(E[m],D[m]))},ignored:()=>!0};function sr(E,D,m){return kr[m.paths](E.root,D.root,m.matrixParams)&&Ai[m.queryParams](E.queryParams,D.queryParams)&&!("exact"===m.fragment&&E.fragment!==D.fragment)}function Kn(E,D,m){return or(E,D,D.segments,m)}function or(E,D,m,S){if(E.segments.length>m.length){const V=E.segments.slice(0,m.length);return!(!hi(V,m)||D.hasChildren()||!Zn(V,m,S))}if(E.segments.length===m.length){if(!hi(E.segments,m)||!Zn(E.segments,m,S))return!1;for(const V in D.children)if(!E.children[V]||!Kn(E.children[V],D.children[V],S))return!1;return!0}{const V=m.slice(0,E.segments.length),W=m.slice(E.segments.length);return!!(hi(E.segments,V)&&Zn(E.segments,V,S)&&E.children[cn])&&or(E.children[cn],D,W,S)}}function Zn(E,D,m){return D.every((S,V)=>Ai[m](E[V].parameters,S.parameters))}class Fr{constructor(D=new Xt([],{}),m={},S=null){this.root=D,this.queryParams=m,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Un(this.queryParams)),this._queryParamMap}toString(){return de.serialize(this)}}class Xt{constructor(D,m){this.segments=D,this.children=m,this.parent=null,kt(m,(S,V)=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return we(this)}}class _i{constructor(D,m){this.path=D,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=Un(this.parameters)),this._parameterMap}toString(){return Ke(this)}}function hi(E,D){return E.length===D.length&&E.every((m,S)=>m.path===D[S].path)}let Lr=(()=>{class E{}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:function(){return new me},providedIn:"root"}),E})();class me{parse(D){const m=new Ht(D);return new Fr(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(D){const m=`/${Ze(D.root,!0)}`,S=function qe(E){const D=Object.keys(E).map(m=>{const S=E[m];return Array.isArray(S)?S.map(V=>`${bt(m)}=${bt(V)}`).join("&"):`${bt(m)}=${bt(S)}`}).filter(m=>!!m);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${m}${S}${"string"==typeof D.fragment?`#${function Ee(E){return encodeURI(E)}(D.fragment)}`:""}`}}const de=new me;function we(E){return E.segments.map(D=>Ke(D)).join("/")}function Ze(E,D){if(!E.hasChildren())return we(E);if(D){const m=E.children[cn]?Ze(E.children[cn],!1):"",S=[];return kt(E.children,(V,W)=>{W!==cn&&S.push(`${W}:${Ze(V,!1)}`)}),S.length>0?`${m}(${S.join("//")})`:m}{const m=function ri(E,D){let m=[];return kt(E.children,(S,V)=>{V===cn&&(m=m.concat(D(S,V)))}),kt(E.children,(S,V)=>{V!==cn&&(m=m.concat(D(S,V)))}),m}(E,(S,V)=>V===cn?[Ze(E.children[cn],!1)]:[`${V}:${Ze(S,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[cn]?`${we(E)}/${m[0]}`:`${we(E)}/(${m.join("//")})`}}function ke(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bt(E){return ke(E).replace(/%3B/gi,";")}function ge(E){return ke(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function se(E){return decodeURIComponent(E)}function ve(E){return se(E.replace(/\+/g,"%20"))}function Ke(E){return`${ge(E.path)}${function Ne(E){return Object.keys(E).map(D=>`;${ge(D)}=${ge(E[D])}`).join("")}(E.parameters)}`}const xt=/^[^\/()?;=#]+/;function Jt(E){const D=E.match(xt);return D?D[0]:""}const Jn=/^[^=?&#]+/,xe=/^[^&#]+/;class Ht{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(D.length>0||Object.keys(m).length>0)&&(S[cn]=new Xt(D,m)),S}parseSegment(){const D=Jt(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new w.vHH(4009,zr);return this.capture(D),new _i(se(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const m=Jt(this.remaining);if(!m)return;this.capture(m);let S="";if(this.consumeOptional("=")){const V=Jt(this.remaining);V&&(S=V,this.capture(S))}D[se(m)]=se(S)}parseQueryParam(D){const m=function je(E){const D=E.match(Jn);return D?D[0]:""}(this.remaining);if(!m)return;this.capture(m);let S="";if(this.consumeOptional("=")){const J=function ct(E){const D=E.match(xe);return D?D[0]:""}(this.remaining);J&&(S=J,this.capture(S))}const V=ve(m),W=ve(S);if(D.hasOwnProperty(V)){let J=D[V];Array.isArray(J)||(J=[J],D[V]=J),J.push(W)}else D[V]=W}parseParens(D){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=Jt(this.remaining),V=this.remaining[S.length];if("/"!==V&&")"!==V&&";"!==V)throw new w.vHH(4010,zr);let W;S.indexOf(":")>-1?(W=S.slice(0,S.indexOf(":")),this.capture(W),this.capture(":")):D&&(W=cn);const J=this.parseChildren();m[W]=1===Object.keys(J).length?J[cn]:new Xt([],J),this.consumeOptional("//")}return m}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new w.vHH(4011,zr)}}function on(E){return E.segments.length>0?new Xt([],{[cn]:E}):E}function _n(E){const D={};for(const S of Object.keys(E.children)){const W=_n(E.children[S]);(W.segments.length>0||W.hasChildren())&&(D[S]=W)}return function jn(E){if(1===E.numberOfChildren&&E.children[cn]){const D=E.children[cn];return new Xt(E.segments.concat(D.segments),D.children)}return E}(new Xt(E.segments,D))}function dr(E){return E instanceof Fr}const Er=!1;function hr(E,D,m,S,V){if(0===m.length)return Zi(D.root,D.root,D.root,S,V);const W=function fs(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new Gs(!0,0,E);let D=0,m=!1;const S=E.reduce((V,W,J)=>{if("object"==typeof W&&null!=W){if(W.outlets){const Te={};return kt(W.outlets,(Qe,$t)=>{Te[$t]="string"==typeof Qe?Qe.split("/"):Qe}),[...V,{outlets:Te}]}if(W.segmentPath)return[...V,W.segmentPath]}return"string"!=typeof W?[...V,W]:0===J?(W.split("/").forEach((Te,Qe)=>{0==Qe&&"."===Te||(0==Qe&&""===Te?m=!0:".."===Te?D++:""!=Te&&V.push(Te))}),V):[...V,W]},[]);return new Gs(m,D,S)}(m);return W.toRoot()?Zi(D.root,D.root,new Xt([],{}),S,V):function J(Qe){const $t=function wr(E,D,m,S){if(E.isAbsolute)return new Rt(D.root,!0,0);if(-1===S)return new Rt(m,m===D.root,0);return function Yi(E,D,m){let S=E,V=D,W=m;for(;W>V;){if(W-=V,S=S.parent,!S)throw new w.vHH(4005,Er&&"Invalid number of '../'");V=S.segments.length}return new Rt(S,!1,V-W)}(m,S+($i(E.commands[0])?0:1),E.numberOfDoubleDots)}(W,D,E.snapshot?._urlSegment,Qe),Ot=$t.processChildren?xi($t.segmentGroup,$t.index,W.commands):fr($t.segmentGroup,$t.index,W.commands);return Zi(D.root,$t.segmentGroup,Ot,S,V)}(E.snapshot?._lastPathIndex)}function $i(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function Rr(E){return"object"==typeof E&&null!=E&&E.outlets}function Zi(E,D,m,S,V){let J,W={};S&&kt(S,(Qe,$t)=>{W[$t]=Array.isArray(Qe)?Qe.map(Ot=>`${Ot}`):`${Qe}`}),J=E===D?m:fi(E,D,m);const Te=on(_n(J));return new Fr(Te,W,V)}function fi(E,D,m){const S={};return kt(E.children,(V,W)=>{S[W]=V===D?m:fi(V,D,m)}),new Xt(E.segments,S)}class Gs{constructor(D,m,S){if(this.isAbsolute=D,this.numberOfDoubleDots=m,this.commands=S,D&&S.length>0&&$i(S[0]))throw new w.vHH(4003,Er&&"Root segment cannot have matrix parameters");const V=S.find(Rr);if(V&&V!==hn(S))throw new w.vHH(4004,Er&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rt{constructor(D,m,S){this.segmentGroup=D,this.processChildren=m,this.index=S}}function fr(E,D,m){if(E||(E=new Xt([],{})),0===E.segments.length&&E.hasChildren())return xi(E,D,m);const S=function Ir(E,D,m){let S=0,V=D;const W={match:!1,pathIndex:0,commandIndex:0};for(;V<E.segments.length;){if(S>=m.length)return W;const J=E.segments[V],Te=m[S];if(Rr(Te))break;const Qe=`${Te}`,$t=S<m.length-1?m[S+1]:null;if(V>0&&void 0===Qe)break;if(Qe&&$t&&"object"==typeof $t&&void 0===$t.outlets){if(!Qi(Qe,$t,J))return W;S+=2}else{if(!Qi(Qe,{},J))return W;S++}V++}return{match:!0,pathIndex:V,commandIndex:S}}(E,D,m),V=m.slice(S.commandIndex);if(S.match&&S.pathIndex<E.segments.length){const W=new Xt(E.segments.slice(0,S.pathIndex),{});return W.children[cn]=new Xt(E.segments.slice(S.pathIndex),E.children),xi(W,0,V)}return S.match&&0===V.length?new Xt(E.segments,{}):S.match&&!E.hasChildren()?io(E,D,m):S.match?xi(E,0,V):io(E,D,m)}function xi(E,D,m){if(0===m.length)return new Xt(E.segments,{});{const S=function Ns(E){return Rr(E[0])?E[0].outlets:{[cn]:E}}(m),V={};if(!S[cn]&&E.children[cn]&&1===E.numberOfChildren&&0===E.children[cn].segments.length){const W=xi(E.children[cn],D,m);return new Xt(E.segments,W.children)}return kt(S,(W,J)=>{"string"==typeof W&&(W=[W]),null!==W&&(V[J]=fr(E.children[J],D,W))}),kt(E.children,(W,J)=>{void 0===S[J]&&(V[J]=W)}),new Xt(E.segments,V)}}function io(E,D,m){const S=E.segments.slice(0,D);let V=0;for(;V<m.length;){const W=m[V];if(Rr(W)){const Qe=so(W.outlets);return new Xt(S,Qe)}if(0===V&&$i(m[0])){S.push(new _i(E.segments[D].path,wn(m[0]))),V++;continue}const J=Rr(W)?W.outlets[cn]:`${W}`,Te=V<m.length-1?m[V+1]:null;J&&Te&&$i(Te)?(S.push(new _i(J,wn(Te))),V+=2):(S.push(new _i(J,{})),V++)}return new Xt(S,{})}function so(E){const D={};return kt(E,(m,S)=>{"string"==typeof m&&(m=[m]),null!==m&&(D[S]=io(new Xt([],{}),0,m))}),D}function wn(E){const D={};return kt(E,(m,S)=>D[S]=`${m}`),D}function Qi(E,D,m){return E==m.path&&zt(D,m.parameters)}const wo="imperative";class Ji{constructor(D,m){this.id=D,this.url=m}}class Xi extends Ji{constructor(D,m,S="imperative",V=null){super(D,m),this.type=0,this.navigationTrigger=S,this.restoredState=V}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yr extends Ji{constructor(D,m,S){super(D,m),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mr extends Ji{constructor(D,m,S,V){super(D,m),this.reason=S,this.code=V,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class oo extends Ji{constructor(D,m,S,V){super(D,m),this.reason=S,this.code=V,this.type=16}}class ur extends Ji{constructor(D,m,S,V){super(D,m),this.error=S,this.target=V,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class br extends Ji{constructor(D,m,S,V){super(D,m),this.urlAfterRedirects=S,this.state=V,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wr extends Ji{constructor(D,m,S,V){super(D,m),this.urlAfterRedirects=S,this.state=V,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xn extends Ji{constructor(D,m,S,V,W){super(D,m),this.urlAfterRedirects=S,this.state=V,this.shouldActivate=W,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zs extends Ji{constructor(D,m,S,V){super(D,m),this.urlAfterRedirects=S,this.state=V,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ao extends Ji{constructor(D,m,S,V){super(D,m),this.urlAfterRedirects=S,this.state=V,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vt{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pi{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pi{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ri{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nr{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ko{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ni{constructor(D,m,S){this.routerEvent=D,this.position=m,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let ji=(()=>{class E{createUrlTree(m,S,V,W,J,Te){return hr(m||S.root,V,W,J,Te)}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac}),E})(),Sr=(()=>{class E{}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:function(D){return ji.\u0275fac(D)},providedIn:"root"}),E})();class Ws{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const m=this.pathFromRoot(D);return m.length>1?m[m.length-2]:null}children(D){const m=lr(D,this._root);return m?m.children.map(S=>S.value):[]}firstChild(D){const m=lr(D,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(D){const m=pr(D,this._root);return m.length<2?[]:m[m.length-2].children.map(V=>V.value).filter(V=>V!==D)}pathFromRoot(D){return pr(D,this._root).map(m=>m.value)}}function lr(E,D){if(E===D.value)return D;for(const m of D.children){const S=lr(E,m);if(S)return S}return null}function pr(E,D){if(E===D.value)return[D];for(const m of D.children){const S=pr(E,m);if(S.length)return S.unshift(D),S}return[]}class us{constructor(D,m){this.value=D,this.children=m}toString(){return`TreeNode(${this.value})`}}function Os(E){const D={};return E&&E.children.forEach(m=>D[m.value.outlet]=m),D}class Io extends Ws{constructor(D,m){super(D),this.snapshot=m,Zo(this,D)}toString(){return this.snapshot.toString()}}function Qr(E,D){const m=function ps(E,D){const J=new ks([],{},{},"",{},cn,D,null,E.root,-1,{});return new Hi("",new us(J,[]))}(E,D),S=new De.X([new _i("",{})]),V=new De.X({}),W=new De.X({}),J=new De.X({}),Te=new De.X(""),Qe=new uo(S,V,J,Te,W,cn,D,m.root);return Qe.snapshot=m.root,new Io(new us(Qe,[]),m)}class uo{constructor(D,m,S,V,W,J,Te,Qe){this.url=D,this.params=m,this.queryParams=S,this.fragment=V,this.data=W,this.outlet=J,this.component=Te,this.title=this.data?.pipe((0,ht.U)($t=>$t[Pr]))??(0,B.of)(void 0),this._futureSnapshot=Qe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(D=>Un(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(D=>Un(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vo(E,D="emptyOnly"){const m=E.pathFromRoot;let S=0;if("always"!==D)for(S=m.length-1;S>=1;){const V=m[S],W=m[S-1];if(V.routeConfig&&""===V.routeConfig.path)S--;else{if(W.component)break;S--}}return function Ds(E){return E.reduce((D,m)=>({params:{...D.params,...m.params},data:{...D.data,...m.data},resolve:{...m.data,...D.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(S))}class ks{get title(){return this.data?.[Pr]}constructor(D,m,S,V,W,J,Te,Qe,$t,Ot,er){this.url=D,this.params=m,this.queryParams=S,this.fragment=V,this.data=W,this.outlet=J,this.component=Te,this.routeConfig=Qe,this._urlSegment=$t,this._lastPathIndex=Ot,this._resolve=er}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Un(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Un(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hi extends Ws{constructor(D,m){super(m),this.url=D,Zo(this,m)}toString(){return Do(this._root)}}function Zo(E,D){D.value._routerState=E,D.children.forEach(m=>Zo(E,m))}function Do(E){const D=E.children.length>0?` { ${E.children.map(Do).join(", ")} } `:"";return`${E.value}${D}`}function Yo(E){if(E.snapshot){const D=E.snapshot,m=E._futureSnapshot;E.snapshot=m,zt(D.queryParams,m.queryParams)||E.queryParams.next(m.queryParams),D.fragment!==m.fragment&&E.fragment.next(m.fragment),zt(D.params,m.params)||E.params.next(m.params),function hs(E,D){if(E.length!==D.length)return!1;for(let m=0;m<E.length;++m)if(!zt(E[m],D[m]))return!1;return!0}(D.url,m.url)||E.url.next(m.url),zt(D.data,m.data)||E.data.next(m.data)}else E.snapshot=E._futureSnapshot,E.data.next(E._futureSnapshot.data)}function Co(E,D){const m=zt(E.params,D.params)&&function ar(E,D){return hi(E,D)&&E.every((m,S)=>zt(m.parameters,D[S].parameters))}(E.url,D.url);return m&&!(!E.parent!=!D.parent)&&(!E.parent||Co(E.parent,D.parent))}function Jo(E,D,m){if(m&&E.shouldReuseRoute(D.value,m.value.snapshot)){const S=m.value;S._futureSnapshot=D.value;const V=function ba(E,D,m){return D.children.map(S=>{for(const V of m.children)if(E.shouldReuseRoute(S.value,V.value.snapshot))return Jo(E,S,V);return Jo(E,S)})}(E,D,m);return new us(S,V)}{if(E.shouldAttach(D.value)){const W=E.retrieve(D.value);if(null!==W){const J=W.route;return J.value._futureSnapshot=D.value,J.children=D.children.map(Te=>Jo(E,Te)),J}}const S=function ha(E){return new uo(new De.X(E.url),new De.X(E.params),new De.X(E.queryParams),new De.X(E.fragment),new De.X(E.data),E.outlet,E.component,E)}(D.value),V=D.children.map(W=>Jo(E,W));return new us(S,V)}}const Oi="ngNavigationCancelingError";function lo(E,D){const{redirectTo:m,navigationBehaviorOptions:S}=dr(D)?{redirectTo:D,navigationBehaviorOptions:void 0}:D,V=Cs(!1,0,D);return V.url=m,V.navigationBehaviorOptions=S,V}function Cs(E,D,m){const S=new Error("NavigationCancelingError: "+(E||""));return S[Oi]=!0,S.cancellationCode=D,m&&(S.url=m),S}function Fs(E){return co(E)&&dr(E.url)}function co(E){return E&&E[Oi]}class To{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ki,this.attachRef=null}}let ki=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(m,S){const V=this.getOrCreateContext(m);V.outlet=S,this.contexts.set(m,V)}onChildOutletDestroyed(m){const S=this.getContext(m);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let S=this.getContext(m);return S||(S=new To,this.contexts.set(m,S)),S}getContext(m){return this.contexts.get(m)||null}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Ls=!1;let Ts=(()=>{class E{constructor(){this.activated=null,this._activatedRoute=null,this.name=cn,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.parentContexts=(0,w.f3M)(ki),this.location=(0,w.f3M)(w.s_b),this.changeDetector=(0,w.f3M)(w.sBO),this.environmentInjector=(0,w.f3M)(w.lqb)}ngOnChanges(m){if(m.name){const{firstChange:S,previousValue:V}=m.name;if(S)return;this.isTrackedInParentContexts(V)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(V)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.vHH(4012,Ls);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.vHH(4012,Ls);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.vHH(4012,Ls);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,S){this.activated=m,this._activatedRoute=S,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,S){if(this.isActivated)throw new w.vHH(4013,Ls);this._activatedRoute=m;const V=this.location,J=m.snapshot.component,Te=this.parentContexts.getOrCreateContext(this.name).children,Qe=new gs(m,Te,V.injector);if(S&&function bo(E){return!!E.resolveComponentFactory}(S)){const $t=S.resolveComponentFactory(J);this.activated=V.createComponent($t,V.length,Qe)}else this.activated=V.createComponent(J,{index:V.length,injector:Qe,environmentInjector:S??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275dir=w.lG2({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[w.TTD]}),E})();class gs{constructor(D,m,S){this.route=D,this.childContexts=m,this.parent=S}get(D,m){return D===uo?this.route:D===ki?this.childContexts:this.parent.get(D,m)}}let Vr=(()=>{class E{}return E.\u0275fac=function(m){return new(m||E)},E.\u0275cmp=w.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[w.jDz],decls:1,vars:0,template:function(m,S){1&m&&w._UZ(0,"router-outlet")},dependencies:[Ts],encapsulation:2}),E})();function Uo(E,D){return E.providers&&!E._injector&&(E._injector=(0,w.MMx)(E.providers,D,`Route: ${E.path}`)),E._injector??D}function Fi(E){const D=E.children&&E.children.map(Fi),m=D?{...E,children:D}:{...E};return!m.component&&!m.loadComponent&&(D||m.loadChildren)&&m.outlet&&m.outlet!==cn&&(m.component=Vr),m}function Li(E){return E.outlet||cn}function ci(E,D){const m=E.filter(S=>Li(S)===D);return m.push(...E.filter(S=>Li(S)!==D)),m}function Vs(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let D=E.parent;D;D=D.parent){const m=D.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Ao{constructor(D,m,S,V){this.routeReuseStrategy=D,this.futureState=m,this.currState=S,this.forwardEvent=V}activate(D){const m=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,S,D),Yo(this.futureState.root),this.activateChildRoutes(m,S,D)}deactivateChildRoutes(D,m,S){const V=Os(m);D.children.forEach(W=>{const J=W.value.outlet;this.deactivateRoutes(W,V[J],S),delete V[J]}),kt(V,(W,J)=>{this.deactivateRouteAndItsChildren(W,S)})}deactivateRoutes(D,m,S){const V=D.value,W=m?m.value:null;if(V===W)if(V.component){const J=S.getContext(V.outlet);J&&this.deactivateChildRoutes(D,m,J.children)}else this.deactivateChildRoutes(D,m,S);else W&&this.deactivateRouteAndItsChildren(m,S)}deactivateRouteAndItsChildren(D,m){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,m):this.deactivateRouteAndOutlet(D,m)}detachAndStoreRouteSubtree(D,m){const S=m.getContext(D.value.outlet),V=S&&D.value.component?S.children:m,W=Os(D);for(const J of Object.keys(W))this.deactivateRouteAndItsChildren(W[J],V);if(S&&S.outlet){const J=S.outlet.detach(),Te=S.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:J,route:D,contexts:Te})}}deactivateRouteAndOutlet(D,m){const S=m.getContext(D.value.outlet),V=S&&D.value.component?S.children:m,W=Os(D);for(const J of Object.keys(W))this.deactivateRouteAndItsChildren(W[J],V);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.resolver=null,S.route=null)}activateChildRoutes(D,m,S){const V=Os(m);D.children.forEach(W=>{this.activateRoutes(W,V[W.value.outlet],S),this.forwardEvent(new Ko(W.value.snapshot))}),D.children.length&&this.forwardEvent(new Ri(D.value.snapshot))}activateRoutes(D,m,S){const V=D.value,W=m?m.value:null;if(Yo(V),V===W)if(V.component){const J=S.getOrCreateContext(V.outlet);this.activateChildRoutes(D,m,J.children)}else this.activateChildRoutes(D,m,S);else if(V.component){const J=S.getOrCreateContext(V.outlet);if(this.routeReuseStrategy.shouldAttach(V.snapshot)){const Te=this.routeReuseStrategy.retrieve(V.snapshot);this.routeReuseStrategy.store(V.snapshot,null),J.children.onOutletReAttached(Te.contexts),J.attachRef=Te.componentRef,J.route=Te.route.value,J.outlet&&J.outlet.attach(Te.componentRef,Te.route.value),Yo(Te.route.value),this.activateChildRoutes(D,null,J.children)}else{const Te=Vs(V.snapshot),Qe=Te?.get(w._Vd)??null;J.attachRef=null,J.route=V,J.resolver=Qe,J.injector=Te,J.outlet&&J.outlet.activateWith(V,J.injector),this.activateChildRoutes(D,null,J.children)}}else this.activateChildRoutes(D,null,S)}}class qs{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class an{constructor(D,m){this.component=D,this.route=m}}function Xo(E,D,m){const S=E._root;return Mo(S,D?D._root:null,m,[S.value])}function fo(E,D){const m=Symbol(),S=D.get(E,m);return S===m?"function"!=typeof E||(0,w.Z0I)(E)?D.get(E):E:S}function Mo(E,D,m,S,V={canDeactivateChecks:[],canActivateChecks:[]}){const W=Os(D);return E.children.forEach(J=>{(function F(E,D,m,S,V={canDeactivateChecks:[],canActivateChecks:[]}){const W=E.value,J=D?D.value:null,Te=m?m.getContext(E.value.outlet):null;if(J&&W.routeConfig===J.routeConfig){const Qe=function k(E,D,m){if("function"==typeof m)return m(E,D);switch(m){case"pathParamsChange":return!hi(E.url,D.url);case"pathParamsOrQueryParamsChange":return!hi(E.url,D.url)||!zt(E.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Co(E,D)||!zt(E.queryParams,D.queryParams);default:return!Co(E,D)}}(J,W,W.routeConfig.runGuardsAndResolvers);Qe?V.canActivateChecks.push(new qs(S)):(W.data=J.data,W._resolvedData=J._resolvedData),Mo(E,D,W.component?Te?Te.children:null:m,S,V),Qe&&Te&&Te.outlet&&Te.outlet.isActivated&&V.canDeactivateChecks.push(new an(Te.outlet.component,J))}else J&&R(D,Te,V),V.canActivateChecks.push(new qs(S)),Mo(E,null,W.component?Te?Te.children:null:m,S,V)})(J,W[J.value.outlet],m,S.concat([J.value]),V),delete W[J.value.outlet]}),kt(W,(J,Te)=>R(J,m.getContext(Te),V)),V}function R(E,D,m){const S=Os(E),V=E.value;kt(S,(W,J)=>{R(W,V.component?D?D.children.getContext(J):null:D,m)}),m.canDeactivateChecks.push(new an(V.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,V))}function Z(E){return"function"==typeof E}function ts(E){return E instanceof Se||"EmptyError"===E?.name}const po=Symbol("INITIAL_VALUE");function go(){return(0,ze.w)(E=>yt(E.map(D=>D.pipe((0,Ae.q)(1),(0,et.O)(po)))).pipe((0,ht.U)(D=>{for(const m of D)if(!0!==m){if(m===po)return po;if(!1===m||m instanceof Fr)return m}return!0}),(0,rt.h)(D=>D!==po),(0,Ae.q)(1)))}function _a(E){return(0,Fe.z)((0,Gt.b)(D=>{if(dr(D))throw lo(0,D)}),(0,ht.U)(D=>!0===D))}const Bo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pa(E,D,m,S,V){const W=Ur(E,D,m);return W.matched?function Tn(E,D,m,S){const V=D.canMatch;if(!V||0===V.length)return(0,B.of)(!0);const W=V.map(J=>{const Te=fo(J,E);return Bn(function Ks(E){return E&&Z(E.canMatch)}(Te)?Te.canMatch(D,m):E.runInContext(()=>Te(D,m)))});return(0,B.of)(W).pipe(go(),_a())}(S=Uo(D,S),D,m).pipe((0,ht.U)(J=>!0===J?W:{...Bo})):(0,B.of)(W)}function Ur(E,D,m){if(""===D.path)return"full"===D.pathMatch&&(E.hasChildren()||m.length>0)?{...Bo}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const V=(D.matcher||ni)(m,E,D);if(!V)return{...Bo};const W={};kt(V.posParams,(Te,Qe)=>{W[Qe]=Te.path});const J=V.consumed.length>0?{...W,...V.consumed[V.consumed.length-1].parameters}:W;return{matched:!0,consumedSegments:V.consumed,remainingSegments:m.slice(V.consumed.length),parameters:J,positionalParamSegments:V.posParams??{}}}function mo(E,D,m,S){if(m.length>0&&function ga(E,D,m){return m.some(S=>ns(E,D,S)&&Li(S)!==cn)}(E,m,S)){const W=new Xt(D,function yo(E,D,m,S){const V={};V[cn]=S,S._sourceSegment=E,S._segmentIndexShift=D.length;for(const W of m)if(""===W.path&&Li(W)!==cn){const J=new Xt([],{});J._sourceSegment=E,J._segmentIndexShift=D.length,V[Li(W)]=J}return V}(E,D,S,new Xt(m,E.children)));return W._sourceSegment=E,W._segmentIndexShift=D.length,{segmentGroup:W,slicedSegments:[]}}if(0===m.length&&function Ka(E,D,m){return m.some(S=>ns(E,D,S))}(E,m,S)){const W=new Xt(E.segments,function Ro(E,D,m,S,V){const W={};for(const J of S)if(ns(E,m,J)&&!V[Li(J)]){const Te=new Xt([],{});Te._sourceSegment=E,Te._segmentIndexShift=D.length,W[Li(J)]=Te}return{...V,...W}}(E,D,m,S,E.children));return W._sourceSegment=E,W._segmentIndexShift=D.length,{segmentGroup:W,slicedSegments:m}}const V=new Xt(E.segments,E.children);return V._sourceSegment=E,V._segmentIndexShift=D.length,{segmentGroup:V,slicedSegments:m}}function ns(E,D,m){return(!(E.hasChildren()||D.length>0)||"full"!==m.pathMatch)&&""===m.path}function rs(E,D,m,S){return!!(Li(E)===S||S!==cn&&ns(D,m,E))&&("**"===E.path||Ur(D,E,m).matched)}function ai(E,D,m){return 0===D.length&&!E.children[m]}const ls=!1;class $o{constructor(D){this.segmentGroup=D||null}}class jo{constructor(D){this.urlTree=D}}function Br(E){return Ge(new $o(E))}function Ss(E){return Ge(new jo(E))}class Va{constructor(D,m,S,V,W){this.injector=D,this.configLoader=m,this.urlSerializer=S,this.urlTree=V,this.config=W,this.allowRedirects=!0}apply(){const D=mo(this.urlTree.root,[],[],this.config).segmentGroup,m=new Xt(D.segments,D.children);return this.expandSegmentGroup(this.injector,this.config,m,cn).pipe((0,ht.U)(W=>this.createUrlTree(_n(W),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Pt(W=>{if(W instanceof jo)return this.allowRedirects=!1,this.match(W.urlTree);throw W instanceof $o?this.noMatchError(W):W}))}match(D){return this.expandSegmentGroup(this.injector,this.config,D.root,cn).pipe((0,ht.U)(V=>this.createUrlTree(_n(V),D.queryParams,D.fragment))).pipe(Pt(V=>{throw V instanceof $o?this.noMatchError(V):V}))}noMatchError(D){return new w.vHH(4002,ls)}createUrlTree(D,m,S){const V=on(D);return new Fr(V,m,S)}expandSegmentGroup(D,m,S,V){return 0===S.segments.length&&S.hasChildren()?this.expandChildren(D,m,S).pipe((0,ht.U)(W=>new Xt([],W))):this.expandSegment(D,S,m,S.segments,V,!0)}expandChildren(D,m,S){const V=[];for(const W of Object.keys(S.children))"primary"===W?V.unshift(W):V.push(W);return(0,re.D)(V).pipe(Yt(W=>{const J=S.children[W],Te=ci(m,W);return this.expandSegmentGroup(D,Te,J,W).pipe((0,ht.U)(Qe=>({segment:Qe,outlet:W})))}),ei((W,J)=>(W[J.outlet]=J.segment,W),{}),xn())}expandSegment(D,m,S,V,W,J){return(0,re.D)(S).pipe(Yt(Te=>this.expandSegmentAgainstRoute(D,m,S,Te,V,W,J).pipe(Pt($t=>{if($t instanceof $o)return(0,B.of)(null);throw $t}))),kn(Te=>!!Te),Pt((Te,Qe)=>{if(ts(Te))return ai(m,V,W)?(0,B.of)(new Xt([],{})):Br(m);throw Te}))}expandSegmentAgainstRoute(D,m,S,V,W,J,Te){return rs(V,m,W,J)?void 0===V.redirectTo?this.matchSegmentAgainstRoute(D,m,V,W,J):Te&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,m,S,V,W,J):Br(m):Br(m)}expandSegmentAgainstRouteUsingRedirect(D,m,S,V,W,J){return"**"===V.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,S,V,J):this.expandRegularSegmentAgainstRouteUsingRedirect(D,m,S,V,W,J)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,m,S,V){const W=this.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?Ss(W):this.lineralizeSegments(S,W).pipe((0,gt.z)(J=>{const Te=new Xt(J,{});return this.expandSegment(D,Te,m,J,V,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,m,S,V,W,J){const{matched:Te,consumedSegments:Qe,remainingSegments:$t,positionalParamSegments:Ot}=Ur(m,V,W);if(!Te)return Br(m);const er=this.applyRedirectCommands(Qe,V.redirectTo,Ot);return V.redirectTo.startsWith("/")?Ss(er):this.lineralizeSegments(V,er).pipe((0,gt.z)(mi=>this.expandSegment(D,m,S,mi.concat($t),J,!1)))}matchSegmentAgainstRoute(D,m,S,V,W){return"**"===S.path?(D=Uo(S,D),S.loadChildren?(S._loadedRoutes?(0,B.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):this.configLoader.loadChildren(D,S)).pipe((0,ht.U)(Te=>(S._loadedRoutes=Te.routes,S._loadedInjector=Te.injector,new Xt(V,{})))):(0,B.of)(new Xt(V,{}))):pa(m,S,V,D).pipe((0,ze.w)(({matched:J,consumedSegments:Te,remainingSegments:Qe})=>J?this.getChildConfig(D=S._injector??D,S,V).pipe((0,gt.z)(Ot=>{const er=Ot.injector??D,mi=Ot.routes,{segmentGroup:qr,slicedSegments:Wo}=mo(m,Te,Qe,mi),vs=new Xt(qr.segments,qr.children);if(0===Wo.length&&vs.hasChildren())return this.expandChildren(er,mi,vs).pipe((0,ht.U)(Es=>new Xt(Te,Es)));if(0===mi.length&&0===Wo.length)return(0,B.of)(new Xt(Te,{}));const Oo=Li(S)===W;return this.expandSegment(er,vs,mi,Wo,Oo?cn:W,!0).pipe((0,ht.U)(oa=>new Xt(Te.concat(oa.segments),oa.children)))})):Br(m)))}getChildConfig(D,m,S){return m.children?(0,B.of)({routes:m.children,injector:D}):m.loadChildren?void 0!==m._loadedRoutes?(0,B.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function bs(E,D,m,S){const V=D.canLoad;if(void 0===V||0===V.length)return(0,B.of)(!0);const W=V.map(J=>{const Te=fo(J,E);return Bn(function ft(E){return E&&Z(E.canLoad)}(Te)?Te.canLoad(D,m):E.runInContext(()=>Te(D,m)))});return(0,B.of)(W).pipe(go(),_a())}(D,m,S).pipe((0,gt.z)(V=>V?this.configLoader.loadChildren(D,m).pipe((0,Gt.b)(W=>{m._loadedRoutes=W.routes,m._loadedInjector=W.injector})):function _o(E){return Ge(Cs(ls,3))}())):(0,B.of)({routes:[],injector:D})}lineralizeSegments(D,m){let S=[],V=m.root;for(;;){if(S=S.concat(V.segments),0===V.numberOfChildren)return(0,B.of)(S);if(V.numberOfChildren>1||!V.children[cn])return D.redirectTo,Ge(new w.vHH(4e3,ls));V=V.children[cn]}}applyRedirectCommands(D,m,S){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),D,S)}applyRedirectCreateUrlTree(D,m,S,V){const W=this.createSegmentGroup(D,m.root,S,V);return new Fr(W,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(D,m){const S={};return kt(D,(V,W)=>{if("string"==typeof V&&V.startsWith(":")){const Te=V.substring(1);S[W]=m[Te]}else S[W]=V}),S}createSegmentGroup(D,m,S,V){const W=this.createSegments(D,m.segments,S,V);let J={};return kt(m.children,(Te,Qe)=>{J[Qe]=this.createSegmentGroup(D,Te,S,V)}),new Xt(W,J)}createSegments(D,m,S,V){return m.map(W=>W.path.startsWith(":")?this.findPosParam(D,W,V):this.findOrReturn(W,S))}findPosParam(D,m,S){const V=S[m.path.substring(1)];if(!V)throw new w.vHH(4001,ls);return V}findOrReturn(D,m){let S=0;for(const V of m){if(V.path===D.path)return m.splice(S),V;S++}return D}}class M{}class K{constructor(D,m,S,V,W,J,Te){this.injector=D,this.rootComponentType=m,this.config=S,this.urlTree=V,this.url=W,this.paramsInheritanceStrategy=J,this.urlSerializer=Te}recognize(){const D=mo(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,D,cn).pipe((0,ht.U)(m=>{if(null===m)return null;const S=new ks([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},cn,this.rootComponentType,null,this.urlTree.root,-1,{}),V=new us(S,m),W=new Hi(this.url,V);return this.inheritParamsAndData(W._root),W}))}inheritParamsAndData(D){const m=D.value,S=Vo(m,this.paramsInheritanceStrategy);m.params=Object.freeze(S.params),m.data=Object.freeze(S.data),D.children.forEach(V=>this.inheritParamsAndData(V))}processSegmentGroup(D,m,S,V){return 0===S.segments.length&&S.hasChildren()?this.processChildren(D,m,S):this.processSegment(D,m,S,S.segments,V)}processChildren(D,m,S){return(0,re.D)(Object.keys(S.children)).pipe(Yt(V=>{const W=S.children[V],J=ci(m,V);return this.processSegmentGroup(D,J,W,V)}),ei((V,W)=>V&&W?(V.push(...W),V):null),function yi(E,D=!1){return(0,Et.e)((m,S)=>{let V=0;m.subscribe((0,nt.x)(S,W=>{const J=E(W,V++);(J||D)&&S.next(W),!J&&S.complete()}))})}(V=>null!==V),mt(null),xn(),(0,ht.U)(V=>{if(null===V)return null;const W=It(V);return function ue(E){E.sort((D,m)=>D.value.outlet===cn?-1:m.value.outlet===cn?1:D.value.outlet.localeCompare(m.value.outlet))}(W),W}))}processSegment(D,m,S,V,W){return(0,re.D)(m).pipe(Yt(J=>this.processSegmentAgainstRoute(J._injector??D,J,S,V,W)),kn(J=>!!J),Pt(J=>{if(ts(J))return ai(S,V,W)?(0,B.of)([]):(0,B.of)(null);throw J}))}processSegmentAgainstRoute(D,m,S,V,W){if(m.redirectTo||!rs(m,S,V,W))return(0,B.of)(null);let J;if("**"===m.path){const Te=V.length>0?hn(V).parameters:{},Qe=Gn(S)+V.length,$t=new ks(V,Te,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xe(m),Li(m),m.component??m._loadedComponent??null,m,An(S),Qe,fn(m));J=(0,B.of)({snapshot:$t,consumedSegments:[],remainingSegments:[]})}else J=pa(S,m,V,D).pipe((0,ht.U)(({matched:Te,consumedSegments:Qe,remainingSegments:$t,parameters:Ot})=>{if(!Te)return null;const er=Gn(S)+Qe.length;return{snapshot:new ks(Qe,Ot,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xe(m),Li(m),m.component??m._loadedComponent??null,m,An(S),er,fn(m)),consumedSegments:Qe,remainingSegments:$t}}));return J.pipe((0,ze.w)(Te=>{if(null===Te)return(0,B.of)(null);const{snapshot:Qe,consumedSegments:$t,remainingSegments:Ot}=Te;D=m._injector??D;const er=m._loadedInjector??D,mi=function He(E){return E.children?E.children:E.loadChildren?E._loadedRoutes:[]}(m),{segmentGroup:qr,slicedSegments:Wo}=mo(S,$t,Ot,mi.filter(Oo=>void 0===Oo.redirectTo));if(0===Wo.length&&qr.hasChildren())return this.processChildren(er,mi,qr).pipe((0,ht.U)(Oo=>null===Oo?null:[new us(Qe,Oo)]));if(0===mi.length&&0===Wo.length)return(0,B.of)([new us(Qe,[])]);const vs=Li(m)===W;return this.processSegment(er,mi,qr,Wo,vs?cn:W).pipe((0,ht.U)(Oo=>null===Oo?null:[new us(Qe,Oo)]))}))}}function tt(E){const D=E.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function It(E){const D=[],m=new Set;for(const S of E){if(!tt(S)){D.push(S);continue}const V=D.find(W=>S.value.routeConfig===W.value.routeConfig);void 0!==V?(V.children.push(...S.children),m.add(V)):D.push(S)}for(const S of m){const V=It(S.children);D.push(new us(S.value,V))}return D.filter(S=>!m.has(S))}function An(E){let D=E;for(;D._sourceSegment;)D=D._sourceSegment;return D}function Gn(E){let D=E,m=D._segmentIndexShift??0;for(;D._sourceSegment;)D=D._sourceSegment,m+=D._segmentIndexShift??0;return m-1}function Xe(E){return E.data||{}}function fn(E){return E.resolve||{}}function Be(E){return"string"==typeof E.title||null===E.title}function ut(E){return(0,ze.w)(D=>{const m=E(D);return m?(0,re.D)(m).pipe((0,ht.U)(()=>D)):(0,B.of)(D)})}const ys=new w.OlP("ROUTES");let $a=(()=>{class E{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,w.f3M)(w.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,B.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const S=Bn(m.loadComponent()).pipe((0,ht.U)(va),(0,Gt.b)(W=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=W}),Gr(()=>{this.componentLoaders.delete(m)})),V=new Cn(S,()=>new jt.x).pipe(yn());return this.componentLoaders.set(m,V),V}loadChildren(m,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,B.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const W=this.loadModuleFactoryOrRoutes(S.loadChildren).pipe((0,ht.U)(Te=>{this.onLoadEndListener&&this.onLoadEndListener(S);let Qe,$t,Ot=!1;Array.isArray(Te)?$t=Te:(Qe=Te.create(m).injector,$t=Si(Qe.get(ys,[],w.XFs.Self|w.XFs.Optional)));return{routes:$t.map(Fi),injector:Qe}}),Gr(()=>{this.childrenLoaders.delete(S)})),J=new Cn(W,()=>new jt.x).pipe(yn());return this.childrenLoaders.set(S,J),J}loadModuleFactoryOrRoutes(m){return Bn(m()).pipe((0,ht.U)(va),(0,gt.z)(S=>S instanceof w.YKP||Array.isArray(S)?(0,B.of)(S):(0,re.D)(this.compiler.compileModuleAsync(S))))}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function va(E){return function Aa(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let au=(()=>{class E{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new jt.x,this.configLoader=(0,w.f3M)($a),this.environmentInjector=(0,w.f3M)(w.lqb),this.urlSerializer=(0,w.f3M)(Lr),this.rootContexts=(0,w.f3M)(ki),this.navigationId=0,this.afterPreactivation=()=>(0,B.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=V=>this.events.next(new pi(V)),this.configLoader.onLoadStartListener=V=>this.events.next(new vt(V))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:S})}setupNavigations(m){return this.transitions=new De.X({id:0,targetPageId:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wo,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,rt.h)(S=>0!==S.id),(0,ht.U)(S=>({...S,extractedUrl:m.urlHandlingStrategy.extract(S.rawUrl)})),(0,ze.w)(S=>{let V=!1,W=!1;return(0,B.of)(S).pipe((0,Gt.b)(J=>{this.currentNavigation={id:J.id,initialUrl:J.rawUrl,extractedUrl:J.extractedUrl,trigger:J.source,extras:J.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ze.w)(J=>{const Te=m.browserUrlTree.toString(),Qe=!m.navigated||J.extractedUrl.toString()!==Te||Te!==m.currentUrlTree.toString();if(!Qe&&"reload"!==(J.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Ot="";return this.events.next(new oo(J.id,m.serializeUrl(S.rawUrl),Ot,0)),m.rawUrlTree=J.rawUrl,J.resolve(null),dt.E}if(m.urlHandlingStrategy.shouldProcessUrl(J.rawUrl))return Ho(J.source)&&(m.browserUrlTree=J.extractedUrl),(0,B.of)(J).pipe((0,ze.w)(Ot=>{const er=this.transitions?.getValue();return this.events.next(new Xi(Ot.id,this.urlSerializer.serialize(Ot.extractedUrl),Ot.source,Ot.restoredState)),er!==this.transitions?.getValue()?dt.E:Promise.resolve(Ot)}),function Ua(E,D,m,S){return(0,ze.w)(V=>function Za(E,D,m,S,V){return new Va(E,D,m,S,V).apply()}(E,D,m,V.extractedUrl,S).pipe((0,ht.U)(W=>({...V,urlAfterRedirects:W}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,m.config),(0,Gt.b)(Ot=>{this.currentNavigation={...this.currentNavigation,finalUrl:Ot.urlAfterRedirects},S.urlAfterRedirects=Ot.urlAfterRedirects}),function Mr(E,D,m,S,V){return(0,gt.z)(W=>function N(E,D,m,S,V,W,J="emptyOnly"){return new K(E,D,m,S,V,J,W).recognize().pipe((0,ze.w)(Te=>null===Te?function $(E){return new Ue.y(D=>D.error(E))}(new M):(0,B.of)(Te)))}(E,D,m,W.urlAfterRedirects,S.serialize(W.urlAfterRedirects),S,V).pipe((0,ht.U)(J=>({...W,targetSnapshot:J}))))}(this.environmentInjector,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,Gt.b)(Ot=>{if(S.targetSnapshot=Ot.targetSnapshot,"eager"===m.urlUpdateStrategy){if(!Ot.extras.skipLocationChange){const mi=m.urlHandlingStrategy.merge(Ot.urlAfterRedirects,Ot.rawUrl);m.setBrowserUrl(mi,Ot)}m.browserUrlTree=Ot.urlAfterRedirects}const er=new br(Ot.id,this.urlSerializer.serialize(Ot.extractedUrl),this.urlSerializer.serialize(Ot.urlAfterRedirects),Ot.targetSnapshot);this.events.next(er)}));if(Qe&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:Ot,extractedUrl:er,source:mi,restoredState:qr,extras:Wo}=J,vs=new Xi(Ot,this.urlSerializer.serialize(er),mi,qr);this.events.next(vs);const Oo=Qr(er,this.rootComponentType).snapshot;return S={...J,targetSnapshot:Oo,urlAfterRedirects:er,extras:{...Wo,skipLocationChange:!1,replaceUrl:!1}},(0,B.of)(S)}{const Ot="";return this.events.next(new oo(J.id,m.serializeUrl(S.extractedUrl),Ot,1)),m.rawUrlTree=J.rawUrl,J.resolve(null),dt.E}}),(0,Gt.b)(J=>{const Te=new Wr(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(J.urlAfterRedirects),J.targetSnapshot);this.events.next(Te)}),(0,ht.U)(J=>S={...J,guards:Xo(J.targetSnapshot,J.currentSnapshot,this.rootContexts)}),function xo(E,D){return(0,gt.z)(m=>{const{targetSnapshot:S,currentSnapshot:V,guards:{canActivateChecks:W,canDeactivateChecks:J}}=m;return 0===J.length&&0===W.length?(0,B.of)({...m,guardsResult:!0}):function fa(E,D,m,S){return(0,re.D)(E).pipe((0,gt.z)(V=>function wi(E,D,m,S,V){const W=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,B.of)(!0);const J=W.map(Te=>{const Qe=Vs(D)??V,$t=fo(Te,Qe);return Bn(function Dr(E){return E&&Z(E.canDeactivate)}($t)?$t.canDeactivate(E,D,m,S):Qe.runInContext(()=>$t(E,D,m,S))).pipe(kn())});return(0,B.of)(J).pipe(go())}(V.component,V.route,m,D,S)),kn(V=>!0!==V,!0))}(J,S,V,E).pipe((0,gt.z)(Te=>Te&&function le(E){return"boolean"==typeof E}(Te)?function Ei(E,D,m,S){return(0,re.D)(D).pipe(Yt(V=>(0,Bt.z)(function ta(E,D){return null!==E&&D&&D(new Pi(E)),(0,B.of)(!0)}(V.route.parent,S),function si(E,D){return null!==E&&D&&D(new nr(E)),(0,B.of)(!0)}(V.route,S),function oi(E,D,m){const S=D[D.length-1],W=D.slice(0,D.length-1).reverse().map(J=>function ea(E){const D=E.routeConfig?E.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:E,guards:D}:null}(J)).filter(J=>null!==J).map(J=>En(()=>{const Te=J.guards.map(Qe=>{const $t=Vs(J.node)??m,Ot=fo(Qe,$t);return Bn(function ii(E){return E&&Z(E.canActivateChild)}(Ot)?Ot.canActivateChild(S,E):$t.runInContext(()=>Ot(S,E))).pipe(kn())});return(0,B.of)(Te).pipe(go())}));return(0,B.of)(W).pipe(go())}(E,V.path,m),function Po(E,D,m){const S=D.routeConfig?D.routeConfig.canActivate:null;if(!S||0===S.length)return(0,B.of)(!0);const V=S.map(W=>En(()=>{const J=Vs(D)??m,Te=fo(W,J);return Bn(function cr(E){return E&&Z(E.canActivate)}(Te)?Te.canActivate(D,E):J.runInContext(()=>Te(D,E))).pipe(kn())}));return(0,B.of)(V).pipe(go())}(E,V.route,m))),kn(V=>!0!==V,!0))}(S,W,E,D):(0,B.of)(Te)),(0,ht.U)(Te=>({...m,guardsResult:Te})))})}(this.environmentInjector,J=>this.events.next(J)),(0,Gt.b)(J=>{if(S.guardsResult=J.guardsResult,dr(J.guardsResult))throw lo(0,J.guardsResult);const Te=new Xn(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(J.urlAfterRedirects),J.targetSnapshot,!!J.guardsResult);this.events.next(Te)}),(0,rt.h)(J=>!!J.guardsResult||(m.restoreHistory(J),this.cancelNavigationTransition(J,"",3),!1)),ut(J=>{if(J.guards.canActivateChecks.length)return(0,B.of)(J).pipe((0,Gt.b)(Te=>{const Qe=new zs(Te.id,this.urlSerializer.serialize(Te.extractedUrl),this.urlSerializer.serialize(Te.urlAfterRedirects),Te.targetSnapshot);this.events.next(Qe)}),(0,ze.w)(Te=>{let Qe=!1;return(0,B.of)(Te).pipe(function As(E,D){return(0,gt.z)(m=>{const{targetSnapshot:S,guards:{canActivateChecks:V}}=m;if(!V.length)return(0,B.of)(m);let W=0;return(0,re.D)(V).pipe(Yt(J=>function Ft(E,D,m,S){const V=E.routeConfig,W=E._resolve;return void 0!==V?.title&&!Be(V)&&(W[Pr]=V.title),function Wt(E,D,m,S){const V=function vo(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===V.length)return(0,B.of)({});const W={};return(0,re.D)(V).pipe((0,gt.z)(J=>function Tt(E,D,m,S){const V=Vs(D)??S,W=fo(E,V);return Bn(W.resolve?W.resolve(D,m):V.runInContext(()=>W(D,m)))}(E[J],D,m,S).pipe(kn(),(0,Gt.b)(Te=>{W[J]=Te}))),Cr(1),function Or(E){return(0,ht.U)(()=>E)}(W),Pt(J=>ts(J)?dt.E:Ge(J)))}(W,E,D,S).pipe((0,ht.U)(J=>(E._resolvedData=J,E.data=Vo(E,m).resolve,V&&Be(V)&&(E.data[Pr]=V.title),null)))}(J.route,S,E,D)),(0,Gt.b)(()=>W++),Cr(1),(0,gt.z)(J=>W===V.length?(0,B.of)(m):dt.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,Gt.b)({next:()=>Qe=!0,complete:()=>{Qe||(m.restoreHistory(Te),this.cancelNavigationTransition(Te,"",2))}}))}),(0,Gt.b)(Te=>{const Qe=new ao(Te.id,this.urlSerializer.serialize(Te.extractedUrl),this.urlSerializer.serialize(Te.urlAfterRedirects),Te.targetSnapshot);this.events.next(Qe)}))}),ut(J=>{const Te=Qe=>{const $t=[];Qe.routeConfig?.loadComponent&&!Qe.routeConfig._loadedComponent&&$t.push(this.configLoader.loadComponent(Qe.routeConfig).pipe((0,Gt.b)(Ot=>{Qe.component=Ot}),(0,ht.U)(()=>{})));for(const Ot of Qe.children)$t.push(...Te(Ot));return $t};return yt(Te(J.targetSnapshot.root)).pipe(mt(),(0,Ae.q)(1))}),ut(()=>this.afterPreactivation()),(0,ht.U)(J=>{const Te=function Qo(E,D,m){const S=Jo(E,D._root,m?m._root:void 0);return new Io(S,D)}(m.routeReuseStrategy,J.targetSnapshot,J.currentRouterState);return S={...J,targetRouterState:Te}}),(0,Gt.b)(J=>{m.currentUrlTree=J.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(J.urlAfterRedirects,J.rawUrl),m.routerState=J.targetRouterState,"deferred"===m.urlUpdateStrategy&&(J.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,J),m.browserUrlTree=J.urlAfterRedirects)}),((E,D,m)=>(0,ht.U)(S=>(new Ao(D,S.targetRouterState,S.currentRouterState,m).activate(E),S)))(this.rootContexts,m.routeReuseStrategy,J=>this.events.next(J)),(0,Ae.q)(1),(0,Gt.b)({next:J=>{V=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new Yr(J.id,this.urlSerializer.serialize(J.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(J.targetRouterState.snapshot),J.resolve(!0)},complete:()=>{V=!0}}),Gr(()=>{V||W||this.cancelNavigationTransition(S,"",1),this.currentNavigation?.id===S.id&&(this.currentNavigation=null)}),Pt(J=>{if(W=!0,co(J)){Fs(J)||(m.navigated=!0,m.restoreHistory(S,!0));const Te=new mr(S.id,this.urlSerializer.serialize(S.extractedUrl),J.message,J.cancellationCode);if(this.events.next(Te),Fs(J)){const Qe=m.urlHandlingStrategy.merge(J.url,m.rawUrlTree),$t={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||Ho(S.source)};m.scheduleNavigation(Qe,wo,null,$t,{resolve:S.resolve,reject:S.reject,promise:S.promise})}else S.resolve(!1)}else{m.restoreHistory(S,!0);const Te=new ur(S.id,this.urlSerializer.serialize(S.extractedUrl),J,S.targetSnapshot??void 0);this.events.next(Te);try{S.resolve(m.errorHandler(J))}catch(Qe){S.reject(Qe)}}return dt.E}))}))}cancelNavigationTransition(m,S,V){const W=new mr(m.id,this.urlSerializer.serialize(m.extractedUrl),S,V);this.events.next(W),m.resolve(!1)}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Ho(E){return E!==wo}let Cu=(()=>{class E{buildTitle(m){let S,V=m.root;for(;void 0!==V;)S=this.getResolvedTitleForRoute(V)??S,V=V.children.find(W=>W.outlet===cn);return S}getResolvedTitleForRoute(m){return m.data[Pr]}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:function(){return(0,w.f3M)(O)},providedIn:"root"}),E})(),O=(()=>{class E extends Cu{constructor(m){super(),this.title=m}updateTitle(m){const S=this.buildTitle(m);void 0!==S&&this.title.setTitle(S)}}return E.\u0275fac=function(m){return new(m||E)(w.LFG(Tr.Dx))},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),g=(()=>{class E{}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:function(){return(0,w.f3M)(A)},providedIn:"root"}),E})();class _{shouldDetach(D){return!1}store(D,m){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,m){return D.routeConfig===m.routeConfig}}let A=(()=>{class E extends _{}return E.\u0275fac=function(){let D;return function(S){return(D||(D=w.n5z(E)))(S||E)}}(),E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const te=new w.OlP("",{providedIn:"root",factory:()=>({})});let ce=(()=>{class E{}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:function(){return(0,w.f3M)(oe)},providedIn:"root"}),E})(),oe=(()=>{class E{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,S){return m}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function be(E){throw E}function St(E,D,m){return D.parse("/")}const it={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ot={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let pn=(()=>{class E{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,w.f3M)(w.c2e),this.isNgZoneEnabled=!1,this.options=(0,w.f3M)(te,{optional:!0})||{},this.errorHandler=this.options.errorHandler||be,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||St,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,w.f3M)(ce),this.routeReuseStrategy=(0,w.f3M)(g),this.urlCreationStrategy=(0,w.f3M)(Sr),this.titleStrategy=(0,w.f3M)(Cu),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Si((0,w.f3M)(ys,{optional:!0})??[]),this.navigationTransitions=(0,w.f3M)(au),this.urlSerializer=(0,w.f3M)(Lr),this.location=(0,w.f3M)(sn.Ye),this.isNgZoneEnabled=(0,w.f3M)(w.R0b)instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Fr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Qr(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId??0},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),wo,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const S="popstate"===m.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,S,m.state)},0)}))}navigateToSyncWithBrowser(m,S,V){const W={replaceUrl:!0},J=V?.navigationId?V:null;if(V){const Qe={...V};delete Qe.navigationId,delete Qe.\u0275routerPageId,0!==Object.keys(Qe).length&&(W.state=Qe)}const Te=this.parseUrl(m);this.scheduleNavigation(Te,S,J,W)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(m){this.config=m.map(Fi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,S={}){const{relativeTo:V,queryParams:W,fragment:J,queryParamsHandling:Te,preserveFragment:Qe}=S,$t=Qe?this.currentUrlTree.fragment:J;let Ot=null;switch(Te){case"merge":Ot={...this.currentUrlTree.queryParams,...W};break;case"preserve":Ot=this.currentUrlTree.queryParams;break;default:Ot=W||null}return null!==Ot&&(Ot=this.removeEmptyProps(Ot)),this.urlCreationStrategy.createUrlTree(V,this.routerState,this.currentUrlTree,m,Ot,$t??null)}navigateByUrl(m,S={skipLocationChange:!1}){const V=dr(m)?m:this.parseUrl(m),W=this.urlHandlingStrategy.merge(V,this.rawUrlTree);return this.scheduleNavigation(W,wo,null,S)}navigate(m,S={skipLocationChange:!1}){return function dn(E){for(let D=0;D<E.length;D++){const m=E[D];if(null==m)throw new w.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,S),S)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let S;try{S=this.urlSerializer.parse(m)}catch(V){S=this.malformedUriErrorHandler(V,this.urlSerializer,m)}return S}isActive(m,S){let V;if(V=!0===S?{...it}:!1===S?{...ot}:S,dr(m))return sr(this.currentUrlTree,m,V);const W=this.parseUrl(m);return sr(this.currentUrlTree,W,V)}removeEmptyProps(m){return Object.keys(m).reduce((S,V)=>{const W=m[V];return null!=W&&(S[V]=W),S},{})}scheduleNavigation(m,S,V,W,J){if(this.disposed)return Promise.resolve(!1);let Te,Qe,$t,Ot;return J?(Te=J.resolve,Qe=J.reject,$t=J.promise):$t=new Promise((er,mi)=>{Te=er,Qe=mi}),Ot="computed"===this.canceledNavigationResolution?V&&V.\u0275routerPageId?V.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Ot,source:S,restoredState:V,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:W,resolve:Te,reject:Qe,promise:$t,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$t.catch(er=>Promise.reject(er))}setBrowserUrl(m,S){const V=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(V)||S.extras.replaceUrl){const J={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(V,"",J)}else{const W={...S.extras.state,...this.generateNgRouterState(S.id,S.targetPageId)};this.location.go(V,"",W)}}restoreHistory(m,S=!1){if("computed"===this.canceledNavigationResolution){const W=this.currentPageId-(this.browserPageId??this.currentPageId);0!==W?this.location.historyGo(W):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===W&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,S){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:S}:{navigationId:m}}}return E.\u0275fac=function(m){return new(m||E)},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),tn=(()=>{class E{constructor(m,S,V,W,J,Te){this.router=m,this.route=S,this.tabIndexAttribute=V,this.renderer=W,this.el=J,this.locationStrategy=Te,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new jt.x;const Qe=J.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Qe||"area"===Qe,this.isAnchorElement?this.subscription=m.events.subscribe($t=>{$t instanceof Yr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,w.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,w.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,w.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,S,V,W,J){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||S||V||W||J||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,w.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,S){const V=this.renderer,W=this.el.nativeElement;null!==S?V.setAttribute(W,m,S):V.removeAttribute(W,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return E.\u0275fac=function(m){return new(m||E)(w.Y36(pn),w.Y36(uo),w.$8M("tabindex"),w.Y36(w.Qsj),w.Y36(w.SBq),w.Y36(sn.S$))},E.\u0275dir=w.lG2({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,S){1&m&&w.NdJ("click",function(W){return S.onClick(W.button,W.ctrlKey,W.shiftKey,W.altKey,W.metaKey)}),2&m&&w.uIk("target",S.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[w.TTD]}),E})(),yr=(()=>{class E{get isActive(){return this._isActive}constructor(m,S,V,W,J){this.router=m,this.element=S,this.renderer=V,this.cdr=W,this.link=J,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new w.vpe,this.routerEventsSubscription=m.events.subscribe(Te=>{Te instanceof Yr&&this.update()})}ngAfterContentInit(){(0,B.of)(this.links.changes,(0,B.of)(null)).pipe((0,qi.J)()).subscribe(m=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const m=[...this.links.toArray(),this.link].filter(S=>!!S).map(S=>S.onChanges);this.linkInputChangesSubscription=(0,re.D)(m).pipe((0,qi.J)()).subscribe(S=>{this._isActive!==this.isLinkActive(this.router)(S)&&this.update()})}set routerLinkActive(m){const S=Array.isArray(m)?m:m.split(" ");this.classes=S.filter(V=>!!V)}ngOnChanges(m){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const m=this.hasActiveLinks();this._isActive!==m&&(this._isActive=m,this.cdr.markForCheck(),this.classes.forEach(S=>{m?this.renderer.addClass(this.element.nativeElement,S):this.renderer.removeClass(this.element.nativeElement,S)}),m&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(m))})}isLinkActive(m){const S=function _r(E){return!!E.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return V=>!!V.urlTree&&m.isActive(V.urlTree,S)}hasActiveLinks(){const m=this.isLinkActive(this.router);return this.link&&m(this.link)||this.links.some(m)}}return E.\u0275fac=function(m){return new(m||E)(w.Y36(pn),w.Y36(w.SBq),w.Y36(w.Qsj),w.Y36(w.sBO),w.Y36(tn,8))},E.\u0275dir=w.lG2({type:E,selectors:[["","routerLinkActive",""]],contentQueries:function(m,S,V){if(1&m&&w.Suo(V,tn,5),2&m){let W;w.iGM(W=w.CRH())&&(S.links=W)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[w.TTD]}),E})();class Ii{}let Go=(()=>{class E{constructor(m,S,V,W,J){this.router=m,this.injector=V,this.preloadingStrategy=W,this.loader=J}setUpPreloading(){this.subscription=this.router.events.pipe((0,rt.h)(m=>m instanceof Yr),Yt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,S){const V=[];for(const W of S){W.providers&&!W._injector&&(W._injector=(0,w.MMx)(W.providers,m,`Route: ${W.path}`));const J=W._injector??m,Te=W._loadedInjector??J;(W.loadChildren&&!W._loadedRoutes&&void 0===W.canLoad||W.loadComponent&&!W._loadedComponent)&&V.push(this.preloadConfig(J,W)),(W.children||W._loadedRoutes)&&V.push(this.processRoutes(Te,W.children??W._loadedRoutes))}return(0,re.D)(V).pipe((0,qi.J)())}preloadConfig(m,S){return this.preloadingStrategy.preload(S,()=>{let V;V=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(m,S):(0,B.of)(null);const W=V.pipe((0,gt.z)(J=>null===J?(0,B.of)(void 0):(S._loadedRoutes=J.routes,S._loadedInjector=J.injector,this.processRoutes(J.injector??m,J.routes))));if(S.loadComponent&&!S._loadedComponent){const J=this.loader.loadComponent(S);return(0,re.D)([W,J]).pipe((0,qi.J)())}return W})}}return E.\u0275fac=function(m){return new(m||E)(w.LFG(pn),w.LFG(w.Sil),w.LFG(w.lqb),w.LFG(Ii),w.LFG($a))},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const xr=new w.OlP("");let Vi=(()=>{class E{constructor(m,S,V,W,J={}){this.urlSerializer=m,this.transitions=S,this.viewportScroller=V,this.zone=W,this.options=J,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},J.scrollPositionRestoration=J.scrollPositionRestoration||"disabled",J.anchorScrolling=J.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Xi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof Yr&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Ni&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ni(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return E.\u0275fac=function(m){w.$Z()},E.\u0275prov=w.Yz7({token:E,factory:E.\u0275fac}),E})();var li=(()=>((li=li||{})[li.COMPLETE=0]="COMPLETE",li[li.FAILED=1]="FAILED",li[li.REDIRECTING=2]="REDIRECTING",li))();const $r=!1;function Ui(E,D){return{\u0275kind:E,\u0275providers:D}}const is=new w.OlP("",{providedIn:"root",factory:()=>!1});function Lt(){const E=(0,w.f3M)(w.zs3);return D=>{const m=E.get(w.z2F);if(D!==m.components[0])return;const S=E.get(pn),V=E.get(zn);1===E.get(zi)&&S.initialNavigation(),E.get(qn,null,w.XFs.Optional)?.setUpPreloading(),E.get(xr,null,w.XFs.Optional)?.init(),S.resetRootComponentType(m.componentTypes[0]),V.closed||(V.next(),V.complete(),V.unsubscribe())}}const zn=new w.OlP($r?"bootstrap done indicator":"",{factory:()=>new jt.x}),zi=new w.OlP($r?"initial navigation":"",{providedIn:"root",factory:()=>1});function ra(){let E=[];return E=$r?[{provide:w.Xts,multi:!0,useFactory:()=>{const D=(0,w.f3M)(pn);return()=>D.events.subscribe(m=>{console.group?.(`Router Event: ${m.constructor.name}`),console.log(function es(E){if(!("type"in E))return`Unknown Router Event: ${E.constructor.name}`;switch(E.type){case 14:return`ActivationEnd(path: '${E.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${E.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${E.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${E.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state}, shouldActivate: ${E.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 2:return`NavigationCancel(id: ${E.id}, url: '${E.url}')`;case 16:return`NavigationSkipped(id: ${E.id}, url: '${E.url}')`;case 1:return`NavigationEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${E.id}, url: '${E.url}', error: ${E.error})`;case 0:return`NavigationStart(id: ${E.id}, url: '${E.url}')`;case 6:return`ResolveEnd(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 5:return`ResolveStart(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 10:return`RouteConfigLoadEnd(path: ${E.route.path})`;case 9:return`RouteConfigLoadStart(path: ${E.route.path})`;case 4:return`RoutesRecognized(id: ${E.id}, url: '${E.url}', urlAfterRedirects: '${E.urlAfterRedirects}', state: ${E.state})`;case 15:return`Scroll(anchor: '${E.anchor}', position: '${E.position?`${E.position[0]}, ${E.position[1]}`:null}')`}}(m)),console.log(m),console.groupEnd?.()})}}]:[],Ui(1,E)}const qn=new w.OlP($r?"router preloader":"");function zo(E){return Ui(0,[{provide:qn,useExisting:Go},{provide:Ii,useExisting:E}])}const Yn=!1,Wi=new w.OlP(Yn?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Tu=[sn.Ye,{provide:Lr,useClass:me},pn,ki,{provide:uo,useFactory:function Me(E){return E.routerState.root},deps:[pn]},$a,Yn?{provide:is,useValue:!0}:[]];function Ms(){return new w.PXZ("Router",pn)}let Ia=(()=>{class E{constructor(m){}static forRoot(m,S){return{ngModule:E,providers:[Tu,Yn&&S?.enableTracing?ra().\u0275providers:[],{provide:ys,multi:!0,useValue:m},{provide:Wi,useFactory:Xl,deps:[[pn,new w.FiY,new w.tp0]]},{provide:te,useValue:S||{}},S?.useHash?{provide:sn.S$,useClass:sn.Do}:{provide:sn.S$,useClass:sn.b0},{provide:xr,useFactory:()=>{const E=(0,w.f3M)(sn.EM),D=(0,w.f3M)(w.R0b),m=(0,w.f3M)(te),S=(0,w.f3M)(au),V=(0,w.f3M)(Lr);return m.scrollOffset&&E.setOffset(m.scrollOffset),new Vi(V,S,E,D,m)}},S?.preloadingStrategy?zo(S.preloadingStrategy).\u0275providers:[],{provide:w.PXZ,multi:!0,useFactory:Ms},S?.initialNavigation?ec(S):[],[{provide:bu,useFactory:Lt},{provide:w.tb,multi:!0,useExisting:bu}]]}}static forChild(m){return{ngModule:E,providers:[{provide:ys,multi:!0,useValue:m}]}}}return E.\u0275fac=function(m){return new(m||E)(w.LFG(Wi,8))},E.\u0275mod=w.oAB({type:E}),E.\u0275inj=w.cJS({imports:[Vr]}),E})();function Xl(E){if(Yn&&E)throw new w.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ec(E){return["disabled"===E.initialNavigation?Ui(3,[{provide:w.ip1,multi:!0,useFactory:()=>{const D=(0,w.f3M)(pn);return()=>{D.setUpLocationChangeListener()}}},{provide:zi,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?Ui(2,[{provide:zi,useValue:0},{provide:w.ip1,multi:!0,deps:[w.zs3],useFactory:D=>{const m=D.get(sn.V_,Promise.resolve());return()=>m.then(()=>new Promise(S=>{const V=D.get(pn),W=D.get(zn);(function Ys(E,D){E.events.pipe((0,rt.h)(m=>m instanceof Yr||m instanceof mr||m instanceof ur||m instanceof oo),(0,ht.U)(m=>m instanceof Yr||m instanceof oo?li.COMPLETE:m instanceof mr&&(0===m.code||1===m.code)?li.REDIRECTING:li.FAILED),(0,rt.h)(m=>m!==li.REDIRECTING),(0,Ae.q)(1)).subscribe(()=>{D()})})(V,()=>{S(!0)}),D.get(au).afterPreactivation=()=>(S(!0),W.closed?(0,B.of)(void 0):W),V.initialNavigation()}))}}]).\u0275providers:[]]}const bu=new w.OlP(Yn?"Router Initializer":"")},6881:(rn,Ye,Y)=>{Y.d(Ye,{Jn:()=>Hs,qX:()=>zr,Xd:()=>Bn,Mq:()=>or,C6:()=>Zn,ZF:()=>Kn,KN:()=>_i});var w=Y(5861),re=Y(4859),B=Y(1877),De=Y(2090);const ee=(je,xe)=>xe.some(ct=>je instanceof ct);let Se,Ue;const ie=new WeakMap,ye=new WeakMap,Pe=new WeakMap,nt=new WeakMap,at=new WeakMap;let mn={get(je,xe,ct){if(je instanceof IDBTransaction){if("done"===xe)return ye.get(je);if("objectStoreNames"===xe)return je.objectStoreNames||Pe.get(je);if("store"===xe)return ct.objectStoreNames[1]?void 0:ct.objectStore(ct.objectStoreNames[0])}return Fe(je[xe])},set:(je,xe,ct)=>(je[xe]=ct,!0),has:(je,xe)=>je instanceof IDBTransaction&&("done"===xe||"store"===xe)||xe in je};function En(je){return"function"==typeof je?function Wn(je){return je!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $e(){return Ue||(Ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(je)?function(...xe){return je.apply(pt(this),xe),Fe(ie.get(this))}:function(...xe){return Fe(je.apply(pt(this),xe))}:function(xe,...ct){const Ht=je.call(pt(this),xe,...ct);return Pe.set(Ht,xe.sort?xe.sort():[xe]),Fe(Ht)}}(je):(je instanceof IDBTransaction&&function _t(je){if(ye.has(je))return;const xe=new Promise((ct,Ht)=>{const on=()=>{je.removeEventListener("complete",_n),je.removeEventListener("error",jn),je.removeEventListener("abort",jn)},_n=()=>{ct(),on()},jn=()=>{Ht(je.error||new DOMException("AbortError","AbortError")),on()};je.addEventListener("complete",_n),je.addEventListener("error",jn),je.addEventListener("abort",jn)});ye.set(je,xe)}(je),ee(je,function he(){return Se||(Se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(je,mn):je)}function Fe(je){if(je instanceof IDBRequest)return function yt(je){const xe=new Promise((ct,Ht)=>{const on=()=>{je.removeEventListener("success",_n),je.removeEventListener("error",jn)},_n=()=>{ct(Fe(je.result)),on()},jn=()=>{Ht(je.error),on()};je.addEventListener("success",_n),je.addEventListener("error",jn)});return xe.then(ct=>{ct instanceof IDBCursor&&ie.set(ct,je)}).catch(()=>{}),at.set(xe,je),xe}(je);if(nt.has(je))return nt.get(je);const xe=En(je);return xe!==je&&(nt.set(je,xe),at.set(xe,je)),xe}const pt=je=>at.get(je),Mt=["get","getKey","getAll","getAllKeys","count"],Et=["put","add","delete","clear"],yn=new Map;function Cn(je,xe){if(!(je instanceof IDBDatabase)||xe in je||"string"!=typeof xe)return;if(yn.get(xe))return yn.get(xe);const ct=xe.replace(/FromIndex$/,""),Ht=xe!==ct,on=Et.includes(ct);if(!(ct in(Ht?IDBIndex:IDBObjectStore).prototype)||!on&&!Mt.includes(ct))return;const _n=function(){var jn=(0,w.Z)(function*(dr,...Er){const as=this.transaction(dr,on?"readwrite":"readonly");let Sn=as.store;return Ht&&(Sn=Sn.index(Er.shift())),(yield Promise.all([Sn[ct](...Er),on&&as.done]))[0]});return function(Er){return jn.apply(this,arguments)}}();return yn.set(xe,_n),_n}!function Bt(je){mn=je(mn)}(je=>({...je,get:(xe,ct,Ht)=>Cn(xe,ct)||je.get(xe,ct,Ht),has:(xe,ct)=>!!Cn(xe,ct)||je.has(xe,ct)}));class jt{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(ct=>{if(function sn(je){return"VERSION"===je.getComponent()?.type}(ct)){const Ht=ct.getImmediate();return`${Ht.library}/${Ht.version}`}return null}).filter(ct=>ct).join(" ")}}const ht="@firebase/app",Ae=new B.Yd("@firebase/app"),zt="[DEFAULT]",Ki={[ht]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Si=new Map,hn=new Map;function qt(je,xe){try{je.container.addComponent(xe)}catch(ct){Ae.debug(`Component ${xe.name} failed to register with FirebaseApp ${je.name}`,ct)}}function Bn(je){const xe=je.name;if(hn.has(xe))return Ae.debug(`There were multiple attempts to register component ${xe}.`),!1;hn.set(xe,je);for(const ct of Si.values())qt(ct,je);return!0}function zr(je,xe){const ct=je.container.getProvider("heartbeat").getImmediate({optional:!0});return ct&&ct.triggerHeartbeat(),je.container.getProvider(xe)}const Mi=new De.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class $n{constructor(xe,ct,Ht){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},ct),this._name=ct.name,this._automaticDataCollectionEnabled=ct.automaticDataCollectionEnabled,this._container=Ht,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}const Hs="9.23.0";function Kn(je,xe={}){let ct=je;"object"!=typeof xe&&(xe={name:xe});const Ht=Object.assign({name:zt,automaticDataCollectionEnabled:!1},xe),on=Ht.name;if("string"!=typeof on||!on)throw Mi.create("bad-app-name",{appName:String(on)});if(ct||(ct=(0,De.aH)()),!ct)throw Mi.create("no-options");const _n=Si.get(on);if(_n){if((0,De.vZ)(ct,_n.options)&&(0,De.vZ)(Ht,_n.config))return _n;throw Mi.create("duplicate-app",{appName:on})}const jn=new re.H0(on);for(const Er of hn.values())jn.addComponent(Er);const dr=new $n(ct,Ht,jn);return Si.set(on,dr),dr}function or(je=zt){const xe=Si.get(je);if(!xe&&je===zt&&(0,De.aH)())return Kn();if(!xe)throw Mi.create("no-app",{appName:je});return xe}function Zn(){return Array.from(Si.values())}function _i(je,xe,ct){var Ht;let on=null!==(Ht=Ki[je])&&void 0!==Ht?Ht:je;ct&&(on+=`-${ct}`);const _n=on.match(/\s|\//),jn=xe.match(/\s|\//);if(_n||jn){const dr=[`Unable to register library "${on}" with version "${xe}":`];return _n&&dr.push(`library name "${on}" contains illegal characters (whitespace or "/")`),_n&&jn&&dr.push("and"),jn&&dr.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void Ae.warn(dr.join(" "))}Bn(new re.wA(`${on}-version`,()=>({library:on,version:xe}),"VERSION"))}const ri="firebase-heartbeat-database",Lr=1,me="firebase-heartbeat-store";let de=null;function we(){return de||(de=function Ge(je,xe,{blocked:ct,upgrade:Ht,blocking:on,terminated:_n}={}){const jn=indexedDB.open(je,xe),dr=Fe(jn);return Ht&&jn.addEventListener("upgradeneeded",Er=>{Ht(Fe(jn.result),Er.oldVersion,Er.newVersion,Fe(jn.transaction),Er)}),ct&&jn.addEventListener("blocked",Er=>ct(Er.oldVersion,Er.newVersion,Er)),dr.then(Er=>{_n&&Er.addEventListener("close",()=>_n()),on&&Er.addEventListener("versionchange",as=>on(as.oldVersion,as.newVersion,as))}).catch(()=>{}),dr}(ri,Lr,{upgrade:(je,xe)=>{0===xe&&je.createObjectStore(me)}}).catch(je=>{throw Mi.create("idb-open",{originalErrorMessage:je.message})})),de}function ke(){return(ke=(0,w.Z)(function*(je){try{return yield(yield we()).transaction(me).objectStore(me).get(ge(je))}catch(xe){if(xe instanceof De.ZR)Ae.warn(xe.message);else{const ct=Mi.create("idb-get",{originalErrorMessage:xe?.message});Ae.warn(ct.message)}}})).apply(this,arguments)}function bt(je,xe){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,w.Z)(function*(je,xe){try{const Ht=(yield we()).transaction(me,"readwrite");yield Ht.objectStore(me).put(xe,ge(je)),yield Ht.done}catch(ct){if(ct instanceof De.ZR)Ae.warn(ct.message);else{const Ht=Mi.create("idb-set",{originalErrorMessage:ct?.message});Ae.warn(Ht.message)}}})).apply(this,arguments)}function ge(je){return`${je.name}!${je.options.appId}`}class Ke{constructor(xe){this.container=xe,this._heartbeatsCache=null;const ct=this.container.getProvider("app").getImmediate();this._storage=new xt(ct),this._heartbeatsCachePromise=this._storage.read().then(Ht=>(this._heartbeatsCache=Ht,Ht))}triggerHeartbeat(){var xe=this;return(0,w.Z)(function*(){const Ht=xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),on=Ne();if(null===xe._heartbeatsCache&&(xe._heartbeatsCache=yield xe._heartbeatsCachePromise),xe._heartbeatsCache.lastSentHeartbeatDate!==on&&!xe._heartbeatsCache.heartbeats.some(_n=>_n.date===on))return xe._heartbeatsCache.heartbeats.push({date:on,agent:Ht}),xe._heartbeatsCache.heartbeats=xe._heartbeatsCache.heartbeats.filter(_n=>{const jn=new Date(_n.date).valueOf();return Date.now()-jn<=2592e6}),xe._storage.overwrite(xe._heartbeatsCache)})()}getHeartbeatsHeader(){var xe=this;return(0,w.Z)(function*(){if(null===xe._heartbeatsCache&&(yield xe._heartbeatsCachePromise),null===xe._heartbeatsCache||0===xe._heartbeatsCache.heartbeats.length)return"";const ct=Ne(),{heartbeatsToSend:Ht,unsentEntries:on}=function qe(je,xe=1024){const ct=[];let Ht=je.slice();for(const on of je){const _n=ct.find(jn=>jn.agent===on.agent);if(_n){if(_n.dates.push(on.date),Jt(ct)>xe){_n.dates.pop();break}}else if(ct.push({agent:on.agent,dates:[on.date]}),Jt(ct)>xe){ct.pop();break}Ht=Ht.slice(1)}return{heartbeatsToSend:ct,unsentEntries:Ht}}(xe._heartbeatsCache.heartbeats),_n=(0,De.L)(JSON.stringify({version:2,heartbeats:Ht}));return xe._heartbeatsCache.lastSentHeartbeatDate=ct,on.length>0?(xe._heartbeatsCache.heartbeats=on,yield xe._storage.overwrite(xe._heartbeatsCache)):(xe._heartbeatsCache.heartbeats=[],xe._storage.overwrite(xe._heartbeatsCache)),_n})()}}function Ne(){return(new Date).toISOString().substring(0,10)}class xt{constructor(xe){this.app=xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,De.hl)()&&(0,De.eu)().then(()=>!0).catch(()=>!1)})()}read(){var xe=this;return(0,w.Z)(function*(){return(yield xe._canUseIndexedDBPromise)&&(yield function Ze(je){return ke.apply(this,arguments)}(xe.app))||{heartbeats:[]}})()}overwrite(xe){var ct=this;return(0,w.Z)(function*(){var Ht;if(yield ct._canUseIndexedDBPromise){const _n=yield ct.read();return bt(ct.app,{lastSentHeartbeatDate:null!==(Ht=xe.lastSentHeartbeatDate)&&void 0!==Ht?Ht:_n.lastSentHeartbeatDate,heartbeats:xe.heartbeats})}})()}add(xe){var ct=this;return(0,w.Z)(function*(){var Ht;if(yield ct._canUseIndexedDBPromise){const _n=yield ct.read();return bt(ct.app,{lastSentHeartbeatDate:null!==(Ht=xe.lastSentHeartbeatDate)&&void 0!==Ht?Ht:_n.lastSentHeartbeatDate,heartbeats:[..._n.heartbeats,...xe.heartbeats]})}})()}}function Jt(je){return(0,De.L)(JSON.stringify({version:2,heartbeats:je})).length}!function Jn(je){Bn(new re.wA("platform-logger",xe=>new jt(xe),"PRIVATE")),Bn(new re.wA("heartbeat",xe=>new Ke(xe),"PRIVATE")),_i(ht,"0.9.13",je),_i(ht,"0.9.13","esm2017"),_i("fire-js","")}("")},4859:(rn,Ye,Y)=>{Y.d(Ye,{H0:()=>he,wA:()=>B});var w=Y(5861),re=Y(2090);class B{constructor(ie,ye,Pe){this.name=ie,this.instanceFactory=ye,this.type=Pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ie){return this.instantiationMode=ie,this}setMultipleInstances(ie){return this.multipleInstances=ie,this}setServiceProps(ie){return this.serviceProps=ie,this}setInstanceCreatedCallback(ie){return this.onInstanceCreated=ie,this}}const De="[DEFAULT]";class ee{constructor(ie,ye){this.name=ie,this.container=ye,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ie){const ye=this.normalizeInstanceIdentifier(ie);if(!this.instancesDeferred.has(ye)){const Pe=new re.BH;if(this.instancesDeferred.set(ye,Pe),this.isInitialized(ye)||this.shouldAutoInitialize())try{const nt=this.getOrInitializeService({instanceIdentifier:ye});nt&&Pe.resolve(nt)}catch{}}return this.instancesDeferred.get(ye).promise}getImmediate(ie){var ye;const Pe=this.normalizeInstanceIdentifier(ie?.identifier),nt=null!==(ye=ie?.optional)&&void 0!==ye&&ye;if(!this.isInitialized(Pe)&&!this.shouldAutoInitialize()){if(nt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Pe})}catch(at){if(nt)return null;throw at}}getComponent(){return this.component}setComponent(ie){if(ie.name!==this.name)throw Error(`Mismatching Component ${ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ie,this.shouldAutoInitialize()){if(function Ue($e){return"EAGER"===$e.instantiationMode}(ie))try{this.getOrInitializeService({instanceIdentifier:De})}catch{}for(const[ye,Pe]of this.instancesDeferred.entries()){const nt=this.normalizeInstanceIdentifier(ye);try{const at=this.getOrInitializeService({instanceIdentifier:nt});Pe.resolve(at)}catch{}}}}clearInstance(ie=De){this.instancesDeferred.delete(ie),this.instancesOptions.delete(ie),this.instances.delete(ie)}delete(){var ie=this;return(0,w.Z)(function*(){const ye=Array.from(ie.instances.values());yield Promise.all([...ye.filter(Pe=>"INTERNAL"in Pe).map(Pe=>Pe.INTERNAL.delete()),...ye.filter(Pe=>"_delete"in Pe).map(Pe=>Pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ie=De){return this.instances.has(ie)}getOptions(ie=De){return this.instancesOptions.get(ie)||{}}initialize(ie={}){const{options:ye={}}=ie,Pe=this.normalizeInstanceIdentifier(ie.instanceIdentifier);if(this.isInitialized(Pe))throw Error(`${this.name}(${Pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const nt=this.getOrInitializeService({instanceIdentifier:Pe,options:ye});for(const[at,yt]of this.instancesDeferred.entries())Pe===this.normalizeInstanceIdentifier(at)&&yt.resolve(nt);return nt}onInit(ie,ye){var Pe;const nt=this.normalizeInstanceIdentifier(ye),at=null!==(Pe=this.onInitCallbacks.get(nt))&&void 0!==Pe?Pe:new Set;at.add(ie),this.onInitCallbacks.set(nt,at);const yt=this.instances.get(nt);return yt&&ie(yt,nt),()=>{at.delete(ie)}}invokeOnInitCallbacks(ie,ye){const Pe=this.onInitCallbacks.get(ye);if(Pe)for(const nt of Pe)try{nt(ie,ye)}catch{}}getOrInitializeService({instanceIdentifier:ie,options:ye={}}){let Pe=this.instances.get(ie);if(!Pe&&this.component&&(Pe=this.component.instanceFactory(this.container,{instanceIdentifier:($e=ie,$e===De?void 0:$e),options:ye}),this.instances.set(ie,Pe),this.instancesOptions.set(ie,ye),this.invokeOnInitCallbacks(Pe,ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ie,Pe)}catch{}var $e;return Pe||null}normalizeInstanceIdentifier(ie=De){return this.component?this.component.multipleInstances?ie:De:ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(ie){this.name=ie,this.providers=new Map}addComponent(ie){const ye=this.getProvider(ie.name);if(ye.isComponentSet())throw new Error(`Component ${ie.name} has already been registered with ${this.name}`);ye.setComponent(ie)}addOrOverwriteComponent(ie){this.getProvider(ie.name).isComponentSet()&&this.providers.delete(ie.name),this.addComponent(ie)}getProvider(ie){if(this.providers.has(ie))return this.providers.get(ie);const ye=new ee(ie,this);return this.providers.set(ie,ye),ye}getProviders(){return Array.from(this.providers.values())}}},1877:(rn,Ye,Y)=>{Y.d(Ye,{Yd:()=>Ue,in:()=>re});const w=[];var re=(()=>{return(ie=re||(re={}))[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",re;var ie})();const B={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},De=re.INFO,ee={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},Se=(ie,ye,...Pe)=>{if(ye<ie.logLevel)return;const nt=(new Date).toISOString(),at=ee[ye];if(!at)throw new Error(`Attempted to log a message with an invalid logType (value: ${ye})`);console[at](`[${nt}]  ${ie.name}:`,...Pe)};class Ue{constructor(ye){this.name=ye,this._logLevel=De,this._logHandler=Se,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(ye){if(!(ye in re))throw new TypeError(`Invalid value "${ye}" assigned to \`logLevel\``);this._logLevel=ye}setLogLevel(ye){this._logLevel="string"==typeof ye?B[ye]:ye}get logHandler(){return this._logHandler}set logHandler(ye){if("function"!=typeof ye)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ye}get userLogHandler(){return this._userLogHandler}set userLogHandler(ye){this._userLogHandler=ye}debug(...ye){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...ye),this._logHandler(this,re.DEBUG,...ye)}log(...ye){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...ye),this._logHandler(this,re.VERBOSE,...ye)}info(...ye){this._userLogHandler&&this._userLogHandler(this,re.INFO,...ye),this._logHandler(this,re.INFO,...ye)}warn(...ye){this._userLogHandler&&this._userLogHandler(this,re.WARN,...ye),this._logHandler(this,re.WARN,...ye)}error(...ye){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...ye),this._logHandler(this,re.ERROR,...ye)}}},259:(rn,Ye,Y)=>{Y.d(Ye,{C6:()=>w.C6,KN:()=>w.KN,Mq:()=>w.Mq,ZF:()=>w.ZF});var w=Y(6881);(0,w.KN)("firebase","9.23.0","app")},7396:(rn,Ye,Y)=>{Y.d(Ye,{ET:()=>B_,hJ:()=>m_,JU:()=>__,Jm:()=>Xg,Yp:()=>ky,QT:()=>k_,cf:()=>Oy,IO:()=>Ay,pl:()=>uf,r7:()=>U_,ar:()=>My});var he,w=Y(5861),re=Y(6881),B=Y(4859),De=Y(1877),ee=Y(2090),Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ue={},$e=$e||{},ie=Se||self;function ye(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Pe(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var at="closure_uid_"+(1e9*Math.random()>>>0),yt=0;function _t(r,e,t){return r.call.apply(r.bind,arguments)}function mn(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function Bt(r,e,t){return(Bt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_t:mn).apply(null,arguments)}function Wn(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function En(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,c){for(var f=Array(arguments.length-2),T=2;T<arguments.length;T++)f[T-2]=arguments[T];return e.prototype[a].apply(s,f)}}function Fe(){this.s=this.s,this.o=this.o}Fe.prototype.s=!1,Fe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function nt(r){Object.prototype.hasOwnProperty.call(r,at)&&r[at]||(r[at]=++yt)}(this)},Fe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ge=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function dt(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function Mt(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(ye(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let f=0;f<c;f++)r[a+f]=s[f]}else r.push(s)}}function Et(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Et.prototype.h=function(){this.defaultPrevented=!0};var yn=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{ie.addEventListener("test",()=>{},e),ie.removeEventListener("test",()=>{},e)}catch{}return r}();function Cn(r){return/^[\s\xa0]*$/.test(r)}function jt(){var r=ie.navigator;return r&&(r=r.userAgent)?r:""}function sn(r){return-1!=jt().indexOf(r)}function ht(r){return ht[" "](r),r}ht[" "]=function(){};var kn,r,Ae=sn("Opera"),et=sn("Trident")||sn("MSIE"),rt=sn("Edge"),gt=rt||et,mt=sn("Gecko")&&!(-1!=jt().toLowerCase().indexOf("webkit")&&!sn("Edge"))&&!(sn("Trident")||sn("MSIE"))&&!sn("Edge"),ln=-1!=jt().toLowerCase().indexOf("webkit")&&!sn("Edge");function Rn(){var r=ie.document;return r?r.documentMode:void 0}e:{var Yt="",Gt=(r=jt(),mt?/rv:([^\);]+)(\)|;)/.exec(r):rt?/Edge\/([\d\.]+)/.exec(r):et?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):ln?/WebKit\/(\S+)/.exec(r):Ae?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Gt&&(Yt=Gt?Gt[1]:""),et){var Pt=Rn();if(null!=Pt&&Pt>parseFloat(Yt)){kn=String(Pt);break e}}kn=Yt}var Cr=ie.document&&et&&(Rn()||parseInt(kn,10))||void 0;function xn(r,e){if(Et.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(mt){e:{try{ht(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:yi[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&xn.$.h.call(this)}}En(xn,Et);var yi={2:"touch",3:"pen",4:"mouse"};xn.prototype.h=function(){xn.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Or="closure_listenable_"+(1e6*Math.random()|0),Gr=0;function qi(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++Gr,this.fa=this.ia=!1}function Tr(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function cn(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function ti(r){const e={};for(const t in r)e[t]=r[t];return e}const Un="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ni(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<Un.length;c++)t=Un[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function hs(r){this.src=r,this.g={},this.h=0}function zt(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=Ge(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(Tr(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Ki(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}hs.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var f=Ki(r,e,s,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new qi(e,this.src,c,!!s,a)).ia=t,r.push(e)),e};var Si="closure_lm_"+(1e6*Math.random()|0),hn={};function qt(r,e,t,s,a){if(s&&s.once)return zr(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)qt(r,e[c],t,s,a);return null}return t=Kn(t),r&&r[Or]?r.O(e,t,Pe(s)?!!s.capture:!!s,a):kt(r,e,t,!1,s,a)}function kt(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var f=Pe(a)?!!a.capture:!!a,T=$n(r);if(T||(r[Si]=T=new hs(r)),(t=T.add(e,t,s,f,c)).proxy)return t;if(s=function Bn(){const e=Mi;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)yn||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(sr(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function zr(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)zr(r,e[c],t,s,a);return null}return t=Kn(t),r&&r[Or]?r.P(e,t,Pe(s)?!!s.capture:!!s,a):kt(r,e,t,!0,s,a)}function kr(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)kr(r,e[c],t,s,a);else s=Pe(s)?!!s.capture:!!s,t=Kn(t),r&&r[Or]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Ki(c=r.g[e],t,s,a))&&(Tr(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=$n(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Ki(e,t,s,a)),(t=-1<r?e[r]:null)&&Ai(t))}function Ai(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Or])zt(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(sr(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=$n(e))?(zt(t,r),0==t.h&&(t.src=null,e[Si]=null)):Tr(r)}}}function sr(r){return r in hn?hn[r]:hn[r]="on"+r}function Mi(r,e){if(r.fa)r=!0;else{e=new xn(e,this);var t=r.listener,s=r.la||r.src;r.ia&&Ai(r),r=t.call(s,e)}return r}function $n(r){return(r=r[Si])instanceof hs?r:null}var Hs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kn(r){return"function"==typeof r?r:(r[Hs]||(r[Hs]=function(e){return r.handleEvent(e)}),r[Hs])}function or(){Fe.call(this),this.i=new hs(this),this.S=this,this.J=null}function Zn(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new Et(e,r);else if(e instanceof Et)e.target=e.target||r;else{var a=e;ni(e=new Et(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];a=Fr(f,s,!0,e)&&a}if(a=Fr(f=e.g=r,s,!0,e)&&a,a=Fr(f,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=Fr(f=e.g=t[c],s,!1,e)&&a}function Fr(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.fa&&f.capture==t){var T=f.listener,L=f.la||f.src;f.ia&&zt(r.i,f),a=!1!==T.call(L,s)&&a}}return a&&!s.defaultPrevented}En(or,Fe),or.prototype[Or]=!0,or.prototype.removeEventListener=function(r,e,t,s){kr(this,r,e,t,s)},or.prototype.N=function(){if(or.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Tr(t[s]);delete r.g[e],r.h--}}this.J=null},or.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},or.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var Xt=ie.JSON.stringify;function ar(){var r=ke;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var ri=new class _i{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Lr,r=>r.reset());class Lr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function me(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function de(r){ie.setTimeout(()=>{throw r},0)}let we,Ze=!1,ke=new class hi{constructor(){this.h=this.g=null}add(e,t){const s=ri.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},bt=()=>{const r=ie.Promise.resolve(void 0);we=()=>{r.then(Ee)}};var Ee=()=>{for(var r;r=ar();){try{r.h.call(r.g)}catch(t){de(t)}var e=ri;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Ze=!1};function ge(r,e){or.call(this),this.h=r||1,this.g=e||ie,this.j=Bt(this.qb,this),this.l=Date.now()}function se(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function ve(r,e,t){if("function"==typeof r)t&&(r=Bt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Bt(r.handleEvent,r)}return 2147483647<Number(e)?-1:ie.setTimeout(r,e||0)}function Ke(r){r.g=ve(()=>{r.g=null,r.i&&(r.i=!1,Ke(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}En(ge,or),(he=ge.prototype).ga=!1,he.T=null,he.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Zn(this,"tick"),this.ga&&(se(this),this.start()))}},he.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},he.N=function(){ge.$.N.call(this),se(this),delete this.g};class Ne extends Fe{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ke(this)}N(){super.N(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qe(r){Fe.call(this),this.h=r,this.g={}}En(qe,Fe);var xt=[];function Jt(r,e,t,s){Array.isArray(t)||(t&&(xt[0]=t.toString()),t=xt);for(var a=0;a<t.length;a++){var c=qt(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function Jn(r){cn(r.g,function(e,t){this.g.hasOwnProperty(t)&&Ai(e)},r),r.g={}}function je(){this.g=!0}function Ht(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _n(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<a.length;f++)a[f]=""}}}return Xt(t)}catch{return e}}(r,t)+(s?" "+s:"")})}qe.prototype.N=function(){qe.$.N.call(this),Jn(this)},qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},je.prototype.Ea=function(){this.g=!1},je.prototype.info=function(){};var jn={},dr=null;function Er(){return dr=dr||new or}function as(r){Et.call(this,jn.Ta,r)}function Sn(r){const e=Er();Zn(e,new as(e))}function gr(r,e){Et.call(this,jn.STAT_EVENT,r),this.stat=e}function hr(r){const e=Er();Zn(e,new gr(e,r))}function $i(r,e){Et.call(this,jn.Ua,r),this.size=e}function Rr(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){r()},e)}jn.Ta="serverreachability",En(as,Et),jn.STAT_EVENT="statevent",En(gr,Et),jn.Ua="timingevent",En($i,Et);var Zi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},fi={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Gs(){}function Rt(){}Gs.prototype.h=null;var Ns,vn={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wr(){Et.call(this,"d")}function Yi(){Et.call(this,"c")}function fr(){}function xi(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new qe(this),this.P=io,this.V=new ge(r=gt?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ir}function Ir(){this.i=null,this.g="",this.h=!1}En(wr,Et),En(Yi,Et),En(fr,Gs),fr.prototype.g=function(){return new XMLHttpRequest},fr.prototype.i=function(){return{}},Ns=new fr;var io=45e3,so={},wn={};function Qi(r,e,t){r.L=1,r.v=ji(nr(e)),r.s=t,r.S=!0,wo(r,null)}function wo(r,e){r.G=Date.now(),mr(r),r.A=nr(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),Ds(t.i,"t",s),r.C=0,t=r.l.J,r.h=new Ir,r.g=xo(r.l,t?e:null,!r.s),0<r.O&&(r.M=new Ne(Bt(r.Pa,r,r.g),r.O)),Jt(r.U,r.g,"readystatechange",r.nb),e=r.I?ti(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Sn(),function xe(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var f="",T=c.split("&"),L=0;L<T.length;L++){var H=T[L].split("=");if(1<H.length){var X=H[0];H=H[1];var fe=X.split("_");f=2<=fe.length&&"type"==fe[1]?f+(X+"=")+H+"&":f+(X+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Ji(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Xi(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=Yr(r,t),a==wn){4==e&&(r.o=4,hr(14),s=!1),Ht(r.j,r.m,null,"[Incomplete Response]");break}if(a==so){r.o=4,hr(15),Ht(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}Ht(r.j,r.m,a,null),Xn(r,a)}Ji(r)&&a!=wn&&a!=so&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,hr(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ii(e),e.M=!0,hr(11))):(Ht(r.j,r.m,t,"[Invalid Chunked Response]"),Wr(r),br(r))}function Yr(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?wn:(t=Number(e.substring(t,s)),isNaN(t)?so:(s+=1)+t>e.length?wn:(e=e.slice(s,s+t),r.C=s+t,e))}function mr(r){r.Y=Date.now()+r.P,oo(r,r.P)}function oo(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Rr(Bt(r.lb,r),e)}function ur(r){r.B&&(ie.clearTimeout(r.B),r.B=null)}function br(r){0==r.l.H||r.J||Zs(r.l,r)}function Wr(r){ur(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,se(r.V),Jn(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function Xn(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||Jo(t.i,r)))if(!r.K&&Jo(t.i,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Ks(t),fo(t)}cr(t),hr(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=Rr(Bt(t.ib,t),6e3));if(1>=Qo(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else ts(t,11)}else if((r.K||t.g==r)&&Ks(t),!Cn(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let H=a[e];if(t.V=H[0],H=H[1],2==t.H)if("c"==H[0]){t.K=H[1],t.pa=H[2];const X=H[3];null!=X&&(t.ra=X,t.l.info("VER="+t.ra));const fe=H[4];null!=fe&&(t.Ga=fe,t.l.info("SVER="+t.Ga));const Le=H[5];null!=Le&&"number"==typeof Le&&0<Le&&(t.L=s=1.5*Le,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const Je=r.g;if(Je){const Ct=Je.g?Je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ct){var c=s.i;c.g||-1==Ct.indexOf("spdy")&&-1==Ct.indexOf("quic")&&-1==Ct.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(ba(c,c.h),c.h=null))}if(s.F){const Zt=Je.g?Je.g.getResponseHeader("X-HTTP-Session-Id"):null;Zt&&(s.Da=Zt,Hn(s.I,s.F,Zt))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=r;if((s=t).wa=go(s,s.J?s.pa:null,s.Y),f.K){ha(s.i,f);var T=f,L=s.L;L&&T.setTimeout(L),T.B&&(ur(T),mr(T)),s.g=f}else ft(s);0<t.j.length&&F(t)}else"stop"!=H[0]&&"close"!=H[0]||ts(t,7);else 3==t.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?ts(t,7):ea(t):"noop"!=H[0]&&t.h&&t.h.Aa(H),t.A=0)}Sn()}catch{}}function vt(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(ye(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function ao(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(ye(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function zs(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(ye(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(he=xi.prototype).setTimeout=function(r){this.P=r},he.nb=function(r){r=r.target;const e=this.M;e&&3==ci(r)?e.l():this.Pa(r)},he.Pa=function(r){try{if(r==this.g)e:{const X=ci(this.g);var e=this.g.Ia();if(this.g.da(),!(3>X)&&(3!=X||gt||this.g&&(this.h.h||this.g.ja()||Vs(this.g)))){this.J||4!=X||7==e||Sn(),ur(this);var t=this.g.da();this.ca=t;t:if(Ji(this)){var s=Vs(this.g);r="";var a=s.length,c=4==ci(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Wr(this),br(this);var f="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function ct(r,e,t,s,a,c,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.W,X,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cn(T)){var H=T;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,hr(12),Wr(this),br(this);break e}Ht(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xn(this,t)}this.S?(Xi(this,X,f),gt&&this.i&&3==X&&(Jt(this.U,this.V,"tick",this.mb),this.V.start())):(Ht(this.j,this.m,f,null),Xn(this,f)),4==X&&Wr(this),this.i&&!this.J&&(4==X?Zs(this.l,this):(this.i=!1,mr(this)))}else(function ho(r){const e={};r=(r.g&&2<=ci(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(Cn(r[s]))continue;var t=me(r[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[a]||[];e[a]=c,c.push(t)}!function Pr(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,hr(12)):(this.o=0,hr(13)),Wr(this),br(this)}}}catch{}},he.mb=function(){if(this.g){var r=ci(this.g),e=this.g.ja();this.C<e.length&&(ur(this),Xi(this,r,e),this.i&&4!=r&&mr(this))}},he.cancel=function(){this.J=!0,Wr(this)},he.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function on(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Sn(),hr(17)),Wr(this),this.o=2,br(this)):oo(this,this.Y-r)};var pi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ri(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Ri){this.h=r.h,Ko(this,r.j),this.s=r.s,this.g=r.g,Ni(this,r.m),this.l=r.l;var e=r.i,t=new Qr;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),es(this,t),this.o=r.o}else r&&(e=String(r).match(pi))?(this.h=!1,Ko(this,e[1]||"",!0),this.s=Is(e[2]||""),this.g=Is(e[3]||"",!0),Ni(this,e[4]),this.l=Is(e[5]||"",!0),es(this,e[6]||"",!0),this.o=Is(e[7]||"")):(this.h=!1,this.i=new Qr(null,this.h))}function nr(r){return new Ri(r)}function Ko(r,e,t){r.j=t?Is(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Ni(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function es(r,e,t){e instanceof Qr?(r.i=e,function Hi(r,e){e&&!r.j&&(ps(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(uo(this,s),Ds(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Sr(e,Os)),r.i=new Qr(e,r.h))}function Hn(r,e,t){r.i.set(e,t)}function ji(r){return Hn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Is(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Sr(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Ws),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Ws(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Ri.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Sr(e,lr,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Sr(e,lr,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Sr(t,"/"==t.charAt(0)?us:pr,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Sr(t,Io)),r.join("")};var lr=/[#\/\?@]/g,pr=/[#\?:]/g,us=/[#\?]/g,Os=/[#\?@]/g,Io=/#/g;function Qr(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function ps(r){r.g||(r.g=new Map,r.h=0,r.i&&function Pi(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function uo(r,e){ps(r),e=ks(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Vo(r,e){return ps(r),e=ks(r,e),r.g.has(e)}function Ds(r,e,t){uo(r,e),0<t.length&&(r.i=null,r.g.set(ks(r,e),dt(t)),r.h+=t.length)}function ks(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Do(r){this.l=r||Yo,r=ie.PerformanceNavigationTiming?0<(r=ie.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(ie.g&&ie.g.Ka&&ie.g.Ka()&&ie.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(he=Qr.prototype).add=function(r,e){ps(this),this.i=null,r=ks(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},he.forEach=function(r,e){ps(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},he.ta=function(){ps(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},he.Z=function(r){ps(this);let e=[];if("string"==typeof r)Vo(this,r)&&(e=e.concat(this.g.get(ks(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},he.set=function(r,e){return ps(this),this.i=null,Vo(this,r=ks(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},he.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},he.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var a=c;""!==f[s]&&(a+="="+encodeURIComponent(String(f[s]))),r.push(a)}}return this.i=r.join("&")};var Yo=10;function Co(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Qo(r){return r.h?1:r.g?r.g.size:0}function Jo(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function ba(r,e){r.g?r.g.add(e):r.h=e}function ha(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function Oi(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return dt(r.i)}Do.prototype.cancel=function(){if(this.i=Oi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var lo=class{stringify(r){return ie.JSON.stringify(r,void 0)}parse(r){return ie.JSON.parse(r,void 0)}};function Cs(){this.g=new lo}function Fs(r,e,t){const s=t||"";try{vt(r,function(a,c){let f=a;Pe(a)&&(f=Xt(a)),e.push(s+c+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function To(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function ki(r){this.l=r.fc||null,this.j=r.ob||!1}function Ls(r,e){or.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=Ts,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}En(ki,Gs),ki.prototype.g=function(){return new Ls(this.l,this.j)},ki.prototype.i=function(r){return function(){return r}}({}),En(Ls,or);var Ts=0;function gs(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function bo(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Vr(r)}function Vr(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(he=Ls.prototype).open=function(r,e){if(this.readyState!=Ts)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Vr(this)},he.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},he.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bo(this)),this.readyState=Ts},he.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Vr(this)),this.g&&(this.readyState=3,Vr(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gs(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},he.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?bo(this):Vr(this),3==this.readyState&&gs(this)}},he.Za=function(r){this.g&&(this.response=this.responseText=r,bo(this))},he.Ya=function(r){this.g&&(this.response=r,bo(this))},he.ka=function(){this.g&&bo(this)},he.setRequestHeader=function(r,e){this.v.append(r,e)},he.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},he.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Ls.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Uo=ie.JSON.parse;function Ar(r){or.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gi,this.L=this.M=!1}En(Ar,or);var gi="",Sa=/^https?$/i,Gi=["POST","PUT"];function ms(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,So(r),Fi(r)}function So(r){r.F||(r.F=!0,Zn(r,"complete"),Zn(r,"error"))}function vi(r){if(r.h&&typeof $e<"u"&&(!r.C[1]||4!=ci(r)||2!=r.da()))if(r.v&&4==ci(r))ve(r.La,0,r);else if(Zn(r,"readystatechange"),4==ci(r)){r.h=!1;try{const f=r.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===f){var a=String(r.I).match(pi)[1]||null;!a&&ie.self&&ie.self.location&&(a=ie.self.location.protocol.slice(0,-1)),s=!Sa.test(a?a.toLowerCase():"")}t=s}if(t)Zn(r,"complete"),Zn(r,"success");else{r.m=6;try{var c=2<ci(r)?r.g.statusText:""}catch{c=""}r.j=c+" ["+r.da()+"]",So(r)}}finally{Fi(r)}}}function Fi(r,e){if(r.g){Li(r);const t=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Zn(r,"ready");try{t.onreadystatechange=s}catch{}}}function Li(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(ie.clearTimeout(r.A),r.A=null)}function ci(r){return r.g?r.g.readyState:0}function Vs(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case gi:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Ao(r){let e="";return cn(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function qs(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Ao(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Hn(r,e,t))}function an(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Xo(r){this.Ga=0,this.j=[],this.l=new je,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=an("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=an("baseRetryDelayMs",5e3,r),this.hb=an("retryDelaySeedMs",1e4,r),this.eb=an("forwardChannelMaxRetries",2,r),this.xa=an("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Do(r&&r.concurrentRequestLimit),this.Ja=new Cs,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ea(r){if(Mo(r),3==r.H){var e=r.W++,t=nr(r.I);if(Hn(t,"SID",r.K),Hn(t,"RID",e),Hn(t,"TYPE","terminate"),Z(r,t),(e=new xi(r,r.l,e)).L=2,e.v=ji(nr(t)),t=!1,ie.navigator&&ie.navigator.sendBeacon)try{t=ie.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ie.Image&&((new Image).src=e.v,t=!0),t||(e.g=xo(e.l,null),e.g.ha(e.v)),e.G=Date.now(),mr(e)}po(r)}function fo(r){r.g&&(ii(r),r.g.cancel(),r.g=null)}function Mo(r){fo(r),r.u&&(ie.clearTimeout(r.u),r.u=null),Ks(r),r.i.cancel(),r.m&&("number"==typeof r.m&&ie.clearTimeout(r.m),r.m=null)}function F(r){if(!Co(r.i)&&!r.m){r.m=!0;var e=r.Na;we||bt(),Ze||(we(),Ze=!0),ke.add(e,r),r.C=0}}function R(r,e){var t;t=e?e.m:r.W++;const s=nr(r.I);Hn(s,"SID",r.K),Hn(s,"RID",t),Hn(s,"AID",r.V),Z(r,s),r.o&&r.s&&qs(s,r.o,r.s),t=new xi(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=le(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),ba(r.i,t),Qi(t,s,e)}function Z(r,e){r.na&&cn(r.na,function(t,s){Hn(e,s,t)}),r.h&&vt({},function(t,s){Hn(e,s,t)})}function le(r,e,t){t=Math.min(r.j.length,t);var s=r.h?Bt(r.h.Va,r.h,r):null;e:{var a=r.j;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=a[0].g,f.push("ofs="+c)):c=0:f.push("ofs="+c);let T=!0;for(let L=0;L<t;L++){let H=a[L].g;const X=a[L].map;if(H-=c,0>H)c=Math.max(0,a[L].g-100),T=!1;else try{Fs(X,f,"req"+H+"_")}catch{s&&s(X)}}if(T){s=f.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,s}function ft(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;we||bt(),Ze||(we(),Ze=!0),ke.add(e,r),r.A=0}}function cr(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Rr(Bt(r.Ma,r),Jr(r,r.A)),r.A++,0))}function ii(r){null!=r.B&&(ie.clearTimeout(r.B),r.B=null)}function Dr(r){r.g=new xi(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=nr(r.wa);Hn(e,"RID","rpc"),Hn(e,"SID",r.K),Hn(e,"AID",r.V),Hn(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&Hn(e,"TO",r.qa),Hn(e,"TYPE","xmlhttp"),Z(r,e),r.o&&r.s&&qs(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=ji(nr(e)),t.s=null,t.S=!0,wo(t,r)}function Ks(r){null!=r.v&&(ie.clearTimeout(r.v),r.v=null)}function Zs(r,e){var t=null;if(r.g==e){Ks(r),ii(r),r.g=null;var s=2}else{if(!Jo(r.i,e))return;t=e.F,ha(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;Zn(s=Er(),new $i(s,t)),F(r)}else ft(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function k(r,e){return!(Qo(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Rr(Bt(r.Na,r,e),Jr(r,r.C)),r.C++,0)))}(r,e)||2==s&&cr(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:ts(r,5);break;case 4:ts(r,10);break;case 3:ts(r,6);break;default:ts(r,2)}}function Jr(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function ts(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var s=Bt(r.pb,r);t||(t=new Ri("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||Ko(t,"https"),ji(t)),function co(r,e){const t=new je;if(ie.Image){const s=new Image;s.onload=Wn(To,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Wn(To,t,s,"TestLoadImage: error",!1,e),s.onabort=Wn(To,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Wn(To,t,s,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else hr(2);r.H=0,r.h&&r.h.za(e),po(r),Mo(r)}function po(r){if(r.H=0,r.ma=[],r.h){const e=Oi(r.i);(0!=e.length||0!=r.j.length)&&(Mt(r.ma,e),Mt(r.ma,r.j),r.i.i.length=0,dt(r.j),r.j.length=0),r.h.ya()}}function go(r,e,t){var s=t instanceof Ri?nr(t):new Ri(t);if(""!=s.g)e&&(s.g=e+"."+s.g),Ni(s,s.m);else{var a=ie.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new Ri(null);s&&Ko(c,s),e&&(c.g=e),a&&Ni(c,a),t&&(c.l=t),s=c}return e=r.Da,(t=r.F)&&e&&Hn(s,t,e),Hn(s,"VER",r.ra),Z(r,s),s}function xo(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ar(t&&r.Ha&&!r.va?new ki({ob:!0}):r.va)).Oa(r.J),e}function fa(){}function Ei(){if(et&&!(10<=Number(Cr)))throw Error("Environmental error: no available transport.")}function si(r,e){or.call(this),this.g=new Xo(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Cn(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cn(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new oi(this)}function ta(r){wr.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function Po(){Yi.call(this),this.status=1}function oi(r){this.g=r}function bs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function _a(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],f=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+s[0]+3614090360&4294967295;f=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(f<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((c=(e=t+((f=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=c+((f=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function Tn(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var c=0|r[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(he=Ar.prototype).Oa=function(r){this.M=r},he.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ns.g(),this.C=function fs(r){return r.h||(r.h=r.i())}(this.u?this.u:Ns),this.g.onreadystatechange=Bt(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void ms(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=ie.FormData&&r instanceof ie.FormData,!(0<=Ge(Gi,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of t)this.g.setRequestHeader(c,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Li(this),0<this.B&&((this.L=function rr(r){return et&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bt(this.ua,this)):this.A=ve(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){ms(this,c)}},he.ua=function(){typeof $e<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zn(this,"timeout"),this.abort(8))},he.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Zn(this,"complete"),Zn(this,"abort"),Fi(this))},he.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fi(this,!0)),Ar.$.N.call(this)},he.La=function(){this.s||(this.G||this.v||this.l?vi(this):this.kb())},he.kb=function(){vi(this)},he.isActive=function(){return!!this.g},he.da=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},he.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},he.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Uo(e)}},he.Ia=function(){return this.m},he.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(he=Xo.prototype).ra=8,he.H=1,he.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new xi(this,this.l,r);let c=this.s;if(this.U&&(c?(c=ti(c),ni(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=le(this,a,e),Hn(t=nr(this.I),"RID",r),Hn(t,"CVER",22),this.F&&Hn(t,"X-HTTP-Session-Id",this.F),Z(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(Ao(c)))+"&"+e:this.o&&qs(t,this.o,c)),ba(this.i,a),this.bb&&Hn(t,"TYPE","init"),this.P?(Hn(t,"$req",e),Hn(t,"SID","null"),a.aa=!0,Qi(a,t,null)):Qi(a,t,e),this.H=2}}else 3==this.H&&(r?R(this,r):0==this.j.length||Co(this.i)||R(this))},he.Ma=function(){if(this.u=null,Dr(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=Rr(Bt(this.jb,this),r)}},he.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,hr(10),fo(this),Dr(this))},he.ib=function(){null!=this.v&&(this.v=null,fo(this),cr(this),hr(19))},he.pb=function(r){r?(this.l.info("Successfully pinged google.com"),hr(2)):(this.l.info("Failed to ping google.com"),hr(1))},he.isActive=function(){return!!this.h&&this.h.isActive(this)},(he=fa.prototype).Ba=function(){},he.Aa=function(){},he.za=function(){},he.ya=function(){},he.isActive=function(){return!0},he.Va=function(){},Ei.prototype.g=function(r,e){return new si(r,e)},En(si,or),si.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;hr(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=go(r,null,r.Y),F(r)},si.prototype.close=function(){ea(this.g)},si.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Xt(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&F(e)},si.prototype.N=function(){this.g.h=null,delete this.j,ea(this.g),delete this.g,si.$.N.call(this)},En(ta,wr),En(Po,Yi),En(oi,fa),oi.prototype.Ba=function(){Zn(this.g,"a")},oi.prototype.Aa=function(r){Zn(this.g,new ta(r))},oi.prototype.za=function(r){Zn(this.g,new Po)},oi.prototype.ya=function(){Zn(this.g,"b")},En(bs,function wi(){this.blockSize=-1}),bs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},bs.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)_a(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(s[a++]=r.charCodeAt(c++),a==this.blockSize){_a(this,s),a=0;break}}else for(;c<e;)if(s[a++]=r[c++],a==this.blockSize){_a(this,s),a=0;break}}this.h=a,this.i+=e},bs.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var Bo={};function pa(r){return-128<=r&&128>r?function ze(r,e){var t=Bo;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Tn([0|e],0>e?-1:0)}):new Tn([0|r],0>r?-1:0)}function Ur(r){if(isNaN(r)||!isFinite(r))return yo;if(0>r)return ai(Ur(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=Ro;return new Tn(e,0)}var Ro=4294967296,yo=pa(0),ga=pa(1),Ka=pa(16777216);function ns(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function rs(r){return-1==r.h}function ai(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Tn(t,~r.h).add(ga)}function ls(r,e){return r.add(ai(e))}function $o(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function jo(r,e){this.g=r,this.h=e}function Br(r,e){if(ns(e))throw Error("division by zero");if(ns(r))return new jo(yo,yo);if(rs(r))return e=Br(ai(r),e),new jo(ai(e.g),ai(e.h));if(rs(e))return e=Br(r,ai(e)),new jo(ai(e.g),e.h);if(30<r.g.length){if(rs(r)||rs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ga,s=e;0>=s.X(r);)t=Ss(t),s=Ss(s);var a=Fn(t,1),c=Fn(s,1);for(s=Fn(s,2),t=Fn(t,2);!ns(s);){var f=c.add(s);0>=f.X(r)&&(a=a.add(t),c=f),s=Fn(s,1),t=Fn(t,1)}return e=ls(r,a.R(e)),new jo(a,e)}for(a=yo;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(c=Ur(t)).R(e);rs(f)||0<f.X(r);)f=(c=Ur(t-=s)).R(e);ns(c)&&(c=ga),a=a.add(c),r=ls(r,f)}return new jo(a,r)}function Ss(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Tn(t,r.h)}function Fn(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new Tn(a,r.h)}(he=Tn.prototype).ea=function(){if(rs(this))return-ai(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:Ro+s)*e,e*=Ro}return r},he.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(ns(this))return"0";if(rs(this))return"-"+ai(this).toString(r);for(var e=Ur(Math.pow(r,6)),t=this,s="";;){var a=Br(t,e).g,c=((0<(t=ls(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(ns(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},he.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},he.X=function(r){return rs(r=ls(this,r))?-1:ns(r)?0:1},he.abs=function(){return rs(this)?ai(this):this},he.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&r.D(a)),f=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=f>>>16,t[a]=(f&=65535)<<16|(c&=65535)}return new Tn(t,-2147483648&t[t.length-1]?-1:0)},he.R=function(r){if(ns(this)||ns(r))return yo;if(rs(this))return rs(r)?ai(this).R(ai(r)):ai(ai(this).R(r));if(rs(r))return ai(this.R(ai(r)));if(0>this.X(Ka)&&0>r.X(Ka))return Ur(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var c=this.D(s)>>>16,f=65535&this.D(s),T=r.D(a)>>>16,L=65535&r.D(a);t[2*s+2*a]+=f*L,$o(t,2*s+2*a),t[2*s+2*a+1]+=c*L,$o(t,2*s+2*a+1),t[2*s+2*a+1]+=f*T,$o(t,2*s+2*a+1),t[2*s+2*a+2]+=c*T,$o(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Tn(t,0)},he.gb=function(r){return Br(this,r).h},he.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Tn(t,this.h&r.h)},he.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Tn(t,this.h|r.h)},he.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Tn(t,this.h^r.h)},Ei.prototype.createWebChannel=Ei.prototype.g,si.prototype.send=si.prototype.u,si.prototype.open=si.prototype.m,si.prototype.close=si.prototype.close,Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,fi.COMPLETE="complete",Rt.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",or.prototype.listen=or.prototype.O,Ar.prototype.listenOnce=Ar.prototype.P,Ar.prototype.getLastError=Ar.prototype.Sa,Ar.prototype.getLastErrorCode=Ar.prototype.Ia,Ar.prototype.getStatus=Ar.prototype.da,Ar.prototype.getResponseJson=Ar.prototype.Wa,Ar.prototype.getResponseText=Ar.prototype.ja,Ar.prototype.send=Ar.prototype.ha,Ar.prototype.setWithCredentials=Ar.prototype.Oa,bs.prototype.digest=bs.prototype.l,bs.prototype.reset=bs.prototype.reset,bs.prototype.update=bs.prototype.j,Tn.prototype.add=Tn.prototype.add,Tn.prototype.multiply=Tn.prototype.R,Tn.prototype.modulo=Tn.prototype.gb,Tn.prototype.compare=Tn.prototype.X,Tn.prototype.toNumber=Tn.prototype.ea,Tn.prototype.toString=Tn.prototype.toString,Tn.prototype.getBits=Tn.prototype.D,Tn.fromNumber=Ur,Tn.fromString=function mo(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return ai(mo(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ur(Math.pow(e,8)),s=yo,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+c),e);8>c?(c=Ur(Math.pow(e,c)),s=s.R(c).add(Ur(f))):s=(s=s.R(t)).add(Ur(f))}return s};var _o=Ue.createWebChannelTransport=function(){return new Ei},Za=Ue.getStatEventTarget=function(){return Er()},Va=Ue.ErrorCode=Zi,Ua=Ue.EventType=fi,Ba=Ue.Event=jn,M=Ue.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$=Ue.FetchXmlHttpFactory=ki,N=Ue.WebChannel=Rt,K=Ue.XhrIo=Ar,ue=Ue.Md5=bs,He=Ue.Integer=Tn;const tt="@firebase/firestore";class It{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");let Nn="9.23.0";const An=new De.Yd("@firebase/firestore");function Gn(){return An.logLevel}function Xe(r,...e){if(An.logLevel<=De.in.DEBUG){const t=e.map(As);An.debug(`Firestore (${Nn}): ${r}`,...t)}}function fn(r,...e){if(An.logLevel<=De.in.ERROR){const t=e.map(As);An.error(`Firestore (${Nn}): ${r}`,...t)}}function Mr(r,...e){if(An.logLevel<=De.in.WARN){const t=e.map(As);An.warn(`Firestore (${Nn}): ${r}`,...t)}}function As(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function Ft(r="Unexpected state"){const e=`FIRESTORE (${Nn}) INTERNAL ASSERTION FAILED: `+r;throw fn(e),new Error(e)}function Wt(r,e){r||Ft()}function Tt(r,e){return r}const Be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends ee.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ys{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $a{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(It.UNAUTHENTICATED))}shutdown(){}}class va{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=H=>this.i!==a?(a=this.i,t(H)):Promise.resolve();let f=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new ui,e.enqueueRetryable(()=>c(this.currentUser))};const T=()=>{const H=f;e.enqueueRetryable((0,w.Z)(function*(){yield H.promise,yield c(s.currentUser)}))},L=H=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(H=>L(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?L(H):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new ui)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Wt("string"==typeof s.accessToken),new ys(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Wt(null===e||"string"==typeof e),new It(e)}}class Ea{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=It.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class au{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new Ea(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ho{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cu{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.T;return this.T=c.token,Xe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Wt("string"==typeof t.token),this.T=t.token,new Ho(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function g(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class _{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=g(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function A(r,e){return r<e?-1:r>e?1:0}function z(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}class ce{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ut(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ut(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ut(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ce.fromMillis(Date.now())}static fromDate(e){return ce.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new ce(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?A(this.nanoseconds,e.nanoseconds):A(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oe(e)}static min(){return new oe(new ce(0,0))}static max(){return new oe(new ce(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Oe{constructor(e,t,s){void 0===t?t=0:t>e.length&&Ft(),void 0===s?s=e.length-t:s>e.length-t&&Ft(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Oe.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oe?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),f=t.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class be extends Oe{construct(e,t,s){return new be(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut(Be.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new be(t)}static emptyPath(){return new be([])}}const St=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends Oe{construct(e,t,s){return new it(e,t,s)}static isValidIdentifier(e){return St.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new it(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new ut(Be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const T=e[a];if("\\"===T){if(a+1===e.length)throw new ut(Be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[a+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new ut(Be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=L,a+=2}else"`"===T?(f=!f,a++):"."!==T||f?(s+=T,a++):(c(),a++)}if(c(),f)throw new ut(Be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(t)}static emptyPath(){return new it([])}}class ot{constructor(e){this.path=e}static fromPath(e){return new ot(be.fromString(e))}static fromName(e){return new ot(be.fromString(e).popFirst(5))}static empty(){return new ot(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===be.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return be.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new be(e.slice()))}}function Go(r){return new xr(r.readTime,r.key,-1)}class xr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new xr(oe.min(),ot.empty(),-1)}static max(){return new xr(oe.max(),ot.empty(),-1)}}function Vi(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=ot.comparator(r.documentKey,e.documentKey),0!==t?t:A(r.largestBatchId,e.largestBatchId))}const li="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ys{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function $r(r){return No.apply(this,arguments)}function No(){return No=(0,w.Z)(function*(r){if(r.code!==Be.FAILED_PRECONDITION||r.message!==li)throw r;Xe("LocalStore","Unexpectedly lost primary lease")}),No.apply(this,arguments)}class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Me((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Me?t:Me.resolve(t)}catch(t){return Me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Me.reject(t)}static resolve(e){return new Me((t,s)=>{t(e)})}static reject(e){return new Me((t,s)=>{s(e)})}static waitFor(e){return new Me((t,s)=>{let a=0,c=0,f=!1;e.forEach(T=>{++a,T.next(()=>{++c,f&&c===a&&t()},L=>s(L))}),f=!0,c===a&&t()})}static or(e){let t=Me.resolve(!1);for(const s of e)t=t.next(a=>a?Me.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new Me((s,a)=>{const c=e.length,f=new Array(c);let T=0;for(let L=0;L<c;L++){const H=L;t(e[H]).next(X=>{f[H]=X,++T,T===c&&s(f)},X=>a(X))}})}static doWhile(e,t){return new Me((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}function nn(r){return"IndexedDbTransactionError"===r.name}let qn=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function zo(r){return null==r}function ia(r){return 0===r&&1/r==-1/0}function Wo(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function vs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Oo(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Kr{constructor(e,t){this.comparator=e,this.root=t||Es.EMPTY}insert(e,t){return new Kr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Es.BLACK,null,null))}remove(e){return new Kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Es.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oa(this.root,e,this.comparator,!1)}getReverseIterator(){return new oa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oa(this.root,e,this.comparator,!0)}}class oa{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Es{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??Es.RED,this.left=a??Es.EMPTY,this.right=c??Es.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new Es(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Es.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Es.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Es.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ft();const e=this.left.check();if(e!==this.right.check())throw Ft();return e+(this.isRed()?0:1)}}Es.EMPTY=null,Es.RED=!0,Es.BLACK=!1,Es.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft()}get value(){throw Ft()}get color(){throw Ft()}get left(){throw Ft()}get right(){throw Ft()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Es(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ti{constructor(e){this.comparator=e,this.data=new Kr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kd(this.data.getIterator())}getIteratorFrom(e){return new Kd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ti)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ti(this.comparator);return t.data=e,t}}class Kd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Us{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new Us([])}unionWith(e){let t=new Ti(it.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Us(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return z(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Au extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Js{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Au("Invalid base64 string: "+a):a}}(e);return new Js(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new Js(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return A(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Js.EMPTY_BYTE_STRING=new Js("");const jc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qa(r){if(Wt(!!r),"string"==typeof r){let e=0;const t=jc.exec(r);if(Wt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ss(r.seconds),nanos:ss(r.nanos)}}function ss(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Ja(r){return"string"==typeof r?Js.fromBase64String(r):Js.fromUint8Array(r)}function nc(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Hc(r){const e=r.mapValue.fields.__previous_value__;return nc(e)?Hc(e):e}function lu(r){const e=Qa(r.mapValue.fields.__local_write_time__.timestampValue);return new ce(e.seconds,e.nanos)}class Yu{constructor(e,t,s,a,c,f,T,L,H){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=T,this.longPollingOptions=L,this.useFetchStreams=H}}class aa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new aa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof aa&&e.projectId===this.projectId&&e.database===this.database}}const ma={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ja(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?nc(r)?4:sc(r)?9007199254740991:10:Ft()}function Da(r,e){if(r===e)return!0;const t=ja(r);if(t!==ja(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return lu(r).isEqual(lu(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=Qa(s.timestampValue),f=Qa(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Ja(r.bytesValue).isEqual(Ja(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return ss(s.geoPointValue.latitude)===ss(a.geoPointValue.latitude)&&ss(s.geoPointValue.longitude)===ss(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ss(s.integerValue)===ss(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=ss(s.doubleValue),f=ss(a.doubleValue);return c===f?ia(c)===ia(f):isNaN(c)&&isNaN(f)}return!1}(r,e);case 9:return z(r.arrayValue.values||[],e.arrayValue.values||[],Da);case 10:return function(s,a){const c=s.mapValue.fields||{},f=a.mapValue.fields||{};if(Wo(c)!==Wo(f))return!1;for(const T in c)if(c.hasOwnProperty(T)&&(void 0===f[T]||!Da(c[T],f[T])))return!1;return!0}(r,e);default:return Ft()}var a}function Mu(r,e){return void 0!==(r.values||[]).find(t=>Da(t,e))}function xa(r,e){if(r===e)return 0;const t=ja(r),s=ja(e);if(t!==s)return A(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return A(r.booleanValue,e.booleanValue);case 2:return function(a,c){const f=ss(a.integerValue||a.doubleValue),T=ss(c.integerValue||c.doubleValue);return f<T?-1:f>T?1:f===T?0:isNaN(f)?isNaN(T)?0:-1:1}(r,e);case 3:return xu(r.timestampValue,e.timestampValue);case 4:return xu(lu(r),lu(e));case 5:return A(r.stringValue,e.stringValue);case 6:return function(a,c){const f=Ja(a),T=Ja(c);return f.compareTo(T)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),T=c.split("/");for(let L=0;L<f.length&&L<T.length;L++){const H=A(f[L],T[L]);if(0!==H)return H}return A(f.length,T.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const f=A(ss(a.latitude),ss(c.latitude));return 0!==f?f:A(ss(a.longitude),ss(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const f=a.values||[],T=c.values||[];for(let L=0;L<f.length&&L<T.length;++L){const H=xa(f[L],T[L]);if(H)return H}return A(f.length,T.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===ma.mapValue&&c===ma.mapValue)return 0;if(a===ma.mapValue)return 1;if(c===ma.mapValue)return-1;const f=a.fields||{},T=Object.keys(f),L=c.fields||{},H=Object.keys(L);T.sort(),H.sort();for(let X=0;X<T.length&&X<H.length;++X){const fe=A(T[X],H[X]);if(0!==fe)return fe;const Le=xa(f[T[X]],L[H[X]]);if(0!==Le)return Le}return A(T.length,H.length)}(r.mapValue,e.mapValue);default:throw Ft()}}function xu(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return A(r,e);const t=Qa(r),s=Qa(e),a=A(t.seconds,s.seconds);return 0!==a?a:A(t.nanos,s.nanos)}function Ha(r){return Pu(r)}function Pu(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=Qa(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Ja(r.bytesValue).toBase64():"referenceValue"in r?ot.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const f of s.values||[])c?c=!1:a+=",",a+=Pu(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",f=!0;for(const T of a)f?f=!1:c+=",",c+=`${T}:${Pu(s.fields[T])}`;return c+"}"}(r.mapValue):Ft();var e}function Xa(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Gc(r){return!!r&&"integerValue"in r}function ic(r){return!!r&&"arrayValue"in r}function Zd(r){return!!r&&"nullValue"in r}function Yd(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function eu(r){return!!r&&"mapValue"in r}function du(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return vs(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=du(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=du(r.arrayValue.values[t]);return e}return Object.assign({},r)}function sc(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class Eo{constructor(e){this.value=e}static empty(){return new Eo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!eu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(t)}setAll(e){let t=it.emptyPath(),s={},a=[];e.forEach((f,T)=>{if(!t.isImmediateParentOf(T)){const L=this.getFieldsMap(t);this.applyChanges(L,s,a),s={},a=[],t=T.popLast()}f?s[T.lastSegment()]=du(f):a.push(T.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());eu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Da(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];eu(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){vs(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Eo(du(this.value))}}function ws(r){const e=[];return vs(r.fields,(t,s)=>{const a=new it([t]);if(eu(s)){const c=ws(s.mapValue).fields;if(0===c.length)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Us(e)}class bi{constructor(e,t,s,a,c,f,T){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=T}static newInvalidDocument(e){return new bi(e,0,oe.min(),oe.min(),oe.min(),Eo.empty(),0)}static newFoundDocument(e,t,s,a){return new bi(e,1,t,oe.min(),s,a,0)}static newNoDocument(e,t){return new bi(e,2,t,oe.min(),oe.min(),Eo.empty(),0)}static newUnknownDocument(e,t){return new bi(e,3,t,oe.min(),oe.min(),Eo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(oe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Eo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Eo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof bi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ca{constructor(e,t){this.position=e,this.inclusive=t}}function ml(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],f=r.position[a];if(s=c.field.isKeyField()?ot.comparator(ot.fromName(f.referenceValue),t.key):xa(f,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function yl(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Da(r.position[t],e.position[t]))return!1;return!0}class C{constructor(e,t="asc"){this.field=e,this.dir=t}}function x(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class G{}class ne extends G{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Ps(e,t,s):"array-contains"===t?new Pa(e,s):"in"===t?new Ra(e,s):"not-in"===t?new zc(e,s):"array-contains-any"===t?new kp(e,s):new ne(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Ru(e,s):new uc(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(xa(t,this.value)):null!==t&&ja(this.value)===ja(t)&&this.matchesComparison(xa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class pe extends G{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new pe(e,t)}matches(e){return Ce(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ce(r){return"and"===r.op}function Nt(r){return function At(r){for(const e of r.filters)if(e instanceof pe)return!1;return!0}(r)&&Ce(r)}function Vt(r){if(r instanceof ne)return r.field.canonicalString()+r.op.toString()+Ha(r.value);if(Nt(r))return r.filters.map(e=>Vt(e)).join(",");{const e=r.filters.map(t=>Vt(t)).join(",");return`${r.op}(${e})`}}function Dn(r,e){return r instanceof ne?(t=r,(s=e)instanceof ne&&t.op===s.op&&t.field.isEqual(s.field)&&Da(t.value,s.value)):r instanceof pe?function(t,s){return s instanceof pe&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,f)=>a&&Dn(c,s.filters[f]),!0)}(r,e):void Ft();var t,s}function qo(r){return r instanceof ne?`${(e=r).field.canonicalString()} ${e.op} ${Ha(e.value)}`:r instanceof pe?function(e){return e.op.toString()+" {"+e.getFilters().map(qo).join(" ,")+"}"}(r):"Filter";var e}class Ps extends ne{constructor(e,t,s){super(e,t,s),this.key=ot.fromName(s.referenceValue)}matches(e){const t=ot.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ru extends ne{constructor(e,t){super(e,"in",t),this.keys=hu(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uc extends ne{constructor(e,t){super(e,"not-in",t),this.keys=hu(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hu(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>ot.fromName(s.referenceValue))}class Pa extends ne{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ic(t)&&Mu(t.arrayValue,this.value)}}class Ra extends ne{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Mu(this.value.arrayValue,t)}}class zc extends ne{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Mu(this.value.arrayValue,t)}}class kp extends ne{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ic(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Mu(this.value.arrayValue,s))}}class Qd{constructor(e,t=null,s=[],a=[],c=null,f=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=T,this.dt=null}}function lc(r,e=null,t=[],s=[],a=null,c=null,f=null){return new Qd(r,e,t,s,a,c,f)}function Qu(r){const e=Tt(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Vt(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),zo(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ha(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ha(s)).join(",")),e.dt=t}return e.dt}function Na(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!x(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Dn(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!yl(r.startAt,e.startAt)&&yl(r.endAt,e.endAt)}function Wc(r){return ot.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class nu{constructor(e,t=null,s=[],a=[],c=null,f="F",T=null,L=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=T,this.endAt=L,this.wt=null,this._t=null}}function Nu(r){return new nu(r)}function Jd(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Xd(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Xu(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function eh(r){return null!==r.collectionGroup}function vl(r){const e=Tt(r);if(null===e.wt){e.wt=[];const t=Xu(e),s=Xd(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new C(t)),e.wt.push(new C(it.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new C(it.keyField(),c))}}}return e.wt}function ua(r){const e=Tt(r);if(!e._t)if("F"===e.limitType)e._t=lc(e.path,e.collectionGroup,vl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of vl(e))t.push(new C(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new Ca(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Ca(e.startAt.position,e.startAt.inclusive):null;e._t=lc(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function cc(r,e){e.getFirstInequalityField(),Xu(r);const t=r.filters.concat([e]);return new nu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function th(r,e,t){return new nu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function el(r,e){return Na(ua(r),ua(e))&&r.limitType===e.limitType}function hf(r){return`${Qu(ua(r))}|lt:${r.limitType}`}function tl(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>qo(s)).join(", ")}]`),zo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ha(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ha(s)).join(",")),`Target(${t})`}(ua(r))}; limitType=${r.limitType})`}function dc(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):ot.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of vl(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,f){const T=ml(a,c,f);return a.inclusive?T<=0:T<0}(t.startAt,vl(t),s)||t.endAt&&!function(a,c,f){const T=ml(a,c,f);return a.inclusive?T>=0:T>0}(t.endAt,vl(t),s)));var t,s}function Zc(r){return(e,t)=>{let s=!1;for(const a of vl(r)){const c=nh(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function nh(r,e,t){const s=r.field.isKeyField()?ot.comparator(e.key,t.key):function(a,c,f){const T=c.data.field(a),L=f.data.field(a);return null!==T&&null!==L?xa(T,L):Ft()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ft()}}class fu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Oo(this.inner)}size(){return this.innerSize}}const Yc=new Kr(ot.comparator);function Xs(){return Yc}const pu=new Kr(ot.comparator);function Ou(...r){let e=pu;for(const t of r)e=e.insert(t.key,t);return e}function ff(r){let e=pu;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function gu(){return nl()}function hc(){return nl()}function nl(){return new fu(r=>r.toString(),(r,e)=>r.isEqual(e))}const pf=new Kr(ot.comparator),Fp=new Ti(ot.comparator);function Qn(...r){let e=Fp;for(const t of r)e=e.add(t);return e}const fc=new Ti(A);function rl(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ia(e)?"-0":e}}function Qc(r){return{integerValue:""+r}}function pc(r,e){return function cs(r){return"number"==typeof r&&Number.isInteger(r)&&!ia(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?Qc(e):rl(r,e)}class ku{constructor(){this._=void 0}}function ih(r,e,t){return r instanceof Il?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&nc(a)&&(a=Hc(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof ru?Jc(r,e):r instanceof mu?Lp(r,e):function(s,a){const c=wl(s,a),f=Xc(c)+Xc(s.gt);return Gc(c)&&Gc(s.gt)?Qc(f):rl(s.serializer,f)}(r,e)}function il(r,e,t){return r instanceof ru?Jc(r,e):r instanceof mu?Lp(r,e):t}function wl(r,e){return r instanceof sl?Gc(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Il extends ku{}class ru extends ku{constructor(e){super(),this.elements=e}}function Jc(r,e){const t=Dl(e);for(const s of r.elements)t.some(a=>Da(a,s))||t.push(s);return{arrayValue:{values:t}}}class mu extends ku{constructor(e){super(),this.elements=e}}function Lp(r,e){let t=Dl(e);for(const s of r.elements)t=t.filter(a=>!Da(a,s));return{arrayValue:{values:t}}}class sl extends ku{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Xc(r){return ss(r.integerValue||r.doubleValue)}function Dl(r){return ic(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class sh{constructor(e,t){this.version=e,this.transformResults=t}}class ds{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ds}static exists(e){return new ds(void 0,e)}static updateTime(e){return new ds(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class bl{}function ah(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Al(r.key,ds.none()):new Lu(r.key,r.data,ds.none());{const t=r.data,s=Eo.empty();let a=new Ti(it.comparator);for(let c of e.fields)if(!a.has(c)){let f=t.field(c);null===f&&c.length>1&&(c=c.popLast(),f=t.field(c)),null===f?s.delete(c):s.set(c,f),a=a.add(c)}return new Oa(r.key,s,new Us(a.toArray()),ds.none())}}function Vp(r,e,t){r instanceof Lu?function(s,a,c){const f=s.value.clone(),T=gc(s.fieldTransforms,a,c.transformResults);f.setAll(T),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Oa?function(s,a,c){if(!oh(s.precondition,a))return void a.convertToUnknownDocument(c.version);const f=gc(s.fieldTransforms,a,c.transformResults),T=a.data;T.setAll(ed(s)),T.setAll(f),a.convertToFoundDocument(c.version,T).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Fu(r,e,t,s){return r instanceof Lu?function(a,c,f,T){if(!oh(a.precondition,c))return f;const L=a.value.clone(),H=gf(a.fieldTransforms,T,c);return L.setAll(H),c.convertToFoundDocument(c.version,L).setHasLocalMutations(),null}(r,e,t,s):r instanceof Oa?function(a,c,f,T){if(!oh(a.precondition,c))return f;const L=gf(a.fieldTransforms,T,c),H=c.data;return H.setAll(ed(a)),H.setAll(L),c.convertToFoundDocument(c.version,H).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(X=>X.field))}(r,e,t,s):(f=t,oh(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f);var c,f}function uh(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=wl(s.transform,a||null);null!=c&&(null===t&&(t=Eo.empty()),t.set(s.field,c))}return t||null}function Sl(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&z(t,s,(a,c)=>function Tl(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof ru&&s instanceof ru||t instanceof mu&&s instanceof mu?z(t.elements,s.elements,Da):t instanceof sl&&s instanceof sl?Da(t.gt,s.gt):t instanceof Il&&s instanceof Il);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Lu extends bl{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Oa extends bl{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ed(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function gc(r,e,t){const s=new Map;Wt(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],f=c.transform,T=e.data.field(c.field);s.set(c.field,il(f,T,t[a]))}return s}function gf(r,e,t){const s=new Map;for(const a of r){const c=a.transform,f=t.data.field(a.field);s.set(a.field,ih(c,f,e))}return s}class Al extends bl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class td extends bl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nd{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&Vp(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Fu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Fu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=hc();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let T=this.applyToLocalView(f,c.mutatedFields);T=t.has(a.key)?null:T;const L=ah(f,T);null!==L&&s.set(a.key,L),f.isValidDocument()||f.convertToNoDocument(oe.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qn())}isEqual(e){return this.batchId===e.batchId&&z(this.mutations,e.mutations,(t,s)=>Sl(t,s))&&z(this.baseMutations,e.baseMutations,(t,s)=>Sl(t,s))}}class lh{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Wt(e.mutations.length===s.length);let a=pf;const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new lh(e,t,s,a)}}class iu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ol{constructor(e,t,s){this.alias=e,this.yt=t,this.fieldPath=s}}class Up{constructor(e,t){this.count=e,this.unchangedNames=t}}var eo,jr;function Bp(r){if(void 0===r)return fn("GRPC error has no .code"),Be.UNKNOWN;switch(r){case eo.OK:return Be.OK;case eo.CANCELLED:return Be.CANCELLED;case eo.UNKNOWN:return Be.UNKNOWN;case eo.DEADLINE_EXCEEDED:return Be.DEADLINE_EXCEEDED;case eo.RESOURCE_EXHAUSTED:return Be.RESOURCE_EXHAUSTED;case eo.INTERNAL:return Be.INTERNAL;case eo.UNAVAILABLE:return Be.UNAVAILABLE;case eo.UNAUTHENTICATED:return Be.UNAUTHENTICATED;case eo.INVALID_ARGUMENT:return Be.INVALID_ARGUMENT;case eo.NOT_FOUND:return Be.NOT_FOUND;case eo.ALREADY_EXISTS:return Be.ALREADY_EXISTS;case eo.PERMISSION_DENIED:return Be.PERMISSION_DENIED;case eo.FAILED_PRECONDITION:return Be.FAILED_PRECONDITION;case eo.ABORTED:return Be.ABORTED;case eo.OUT_OF_RANGE:return Be.OUT_OF_RANGE;case eo.UNIMPLEMENTED:return Be.UNIMPLEMENTED;case eo.DATA_LOSS:return Be.DATA_LOSS;default:return Ft()}}(jr=eo||(eo={}))[jr.OK=0]="OK",jr[jr.CANCELLED=1]="CANCELLED",jr[jr.UNKNOWN=2]="UNKNOWN",jr[jr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jr[jr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jr[jr.NOT_FOUND=5]="NOT_FOUND",jr[jr.ALREADY_EXISTS=6]="ALREADY_EXISTS",jr[jr.PERMISSION_DENIED=7]="PERMISSION_DENIED",jr[jr.UNAUTHENTICATED=16]="UNAUTHENTICATED",jr[jr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jr[jr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jr[jr.ABORTED=10]="ABORTED",jr[jr.OUT_OF_RANGE=11]="OUT_OF_RANGE",jr[jr.UNIMPLEMENTED=12]="UNIMPLEMENTED",jr[jr.INTERNAL=13]="INTERNAL",jr[jr.UNAVAILABLE=14]="UNAVAILABLE",jr[jr.DATA_LOSS=15]="DATA_LOSS";class mf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ml}static getOrCreateInstance(){return null===Ml&&(Ml=new mf),Ml}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Ml=null;const rd=new He([4294967295,4294967295],0);function _f(r){const e=function yf(){return new TextEncoder}().encode(r),t=new ue;return t.update(e),new Uint8Array(t.digest())}function vf(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new He([t,s],0),new He([a,c],0)]}class mc{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ta(`Invalid padding: ${t}`);if(s<0)throw new Ta(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Ta(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Ta(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=He.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(He.fromNumber(s)));return 1===a.compare(rd)&&(a=new He([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=_f(e),[s,a]=vf(t);for(let c=0;c<this.hashCount;c++){const f=this.Et(s,a,c);if(!this.At(f))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new mc(c,a,t);return s.forEach(T=>f.insert(T)),f}insert(e){if(0===this.It)return;const t=_f(e),[s,a]=vf(t);for(let c=0;c<this.hashCount;c++){const f=this.Et(s,a,c);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ta extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yu{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,xl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new yu(oe.min(),a,new Kr(A),Xs(),Qn())}}class xl{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new xl(s,t,Qn(),Qn(),Qn())}}class yc{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class dh{constructor(e,t){this.targetId=e,this.Vt=t}}class hh{constructor(e,t,s=Js.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class $p{constructor(){this.St=0,this.Dt=sd(),this.Ct=Js.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Qn(),t=Qn(),s=Qn();return this.Dt.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Ft()}}),new xl(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=sd()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ym{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Xs(),this.zt=id(),this.Wt=new Kr(A)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:Ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,c=this.se(s);if(c){const f=c.target;if(Wc(f))if(0===a){const T=new ot(f.path);this.Yt(s,T,bi.newNoDocument(T,oe.min()))}else Wt(1===a);else{const T=this.ie(s);if(T!==a){const L=this.re(e,T);0!==L&&(this.ee(s),this.Wt=this.Wt.insert(s,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=mf.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(H,X,fe){var Le,Je,Ct,Zt,en,ir;const Zr={localCacheCount:X,existenceFilterCount:fe.count},vr=fe.unchangedNames;return vr&&(Zr.bloomFilter={applied:0===H,hashCount:null!==(Le=vr?.hashCount)&&void 0!==Le?Le:0,bitmapLength:null!==(Zt=null===(Ct=null===(Je=vr?.bits)||void 0===Je?void 0:Je.bitmap)||void 0===Ct?void 0:Ct.length)&&void 0!==Zt?Zt:0,padding:null!==(ir=null===(en=vr?.bits)||void 0===en?void 0:en.padding)&&void 0!==ir?ir:0}),Zr}(L,T,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:f=0},hashCount:T=0}=s;let L,H;try{L=Ja(c).toUint8Array()}catch(X){if(X instanceof Au)return Mr("Decoding the base64 bloom filter in existence filter failed ("+X.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw X}try{H=new mc(L,f,T)}catch(X){return Mr(X instanceof Ta?"BloomFilter error: ":"Applying bloom filter failed: ",X),1}return 0===H.It?1:a!==t-this.oe(e.targetId,H)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const f=this.Gt.ue(),T=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.vt(T)||(this.Yt(e,c,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((c,f)=>{const T=this.se(f);if(T){if(c.current&&Wc(T.target)){const L=new ot(T.target.path);null!==this.jt.get(L)||this.ae(f,L)||this.Yt(f,L,bi.newNoDocument(L,e))}c.Mt&&(t.set(f,c.Ot()),c.Ft())}});let s=Qn();this.zt.forEach((c,f)=>{let T=!0;f.forEachWhile(L=>{const H=this.se(L);return!H||"TargetPurposeLimboResolution"===H.purpose||(T=!1,!1)}),T&&(s=s.add(c))}),this.jt.forEach((c,f)=>f.setReadTime(e));const a=new yu(e,t,this.Wt,this.jt,s);return this.jt=Xs(),this.zt=id(),this.Wt=new Kr(A),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new $p,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ti(A),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Xe("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new $p),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function id(){return new Kr(ot.comparator)}function sd(){return new Kr(ot.comparator)}const _m={asc:"ASCENDING",desc:"DESCENDING"},jp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ef={and:"AND",or:"OR"};class Hp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fh(r,e){return r.useProto3Json||zo(e)?e:{value:e}}function Pl(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wf(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ph(r,e){return Pl(r,e.toTimestamp())}function Bi(r){return Wt(!!r),oe.fromTimestamp(function(e){const t=Qa(e);return new ce(t.seconds,t.nanos)}(r))}function gh(r,e){return(t=r,new be(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Rl(r){const e=be.fromString(r);return Wt(Af(e)),e}function _c(r,e){return gh(r.databaseId,e.path)}function di(r,e){const t=Rl(e);if(t.get(1)!==r.databaseId.projectId)throw new ut(Be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ut(Be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ot(Df(t))}function If(r,e){return gh(r.databaseId,e)}function vc(r){return new be(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Df(r){return Wt(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function od(r,e,t){return{name:_c(r,e),fields:t.value.mapValue.fields}}function Nl(r,e){return{documents:[If(r,e.path)]}}function Ec(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=If(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=If(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(L){if(0!==L.length)return Sf(pe.create(L,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(L){if(0!==L.length)return L.map(H=>{return{field:_u((X=H).field),direction:Em(X.dir)};var X})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=fh(r,e.limit);var T,L;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(L=e.endAt).inclusive,values:L.position}),t}function _h(r){let e=function mh(r){const e=Rl(r);return 4===e.length?be.emptyPath():Df(e)}(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Wt(1===s);const X=t.from[0];X.allDescendants?a=X.collectionId:e=e.child(X.collectionId)}let c=[];t.where&&(c=function(X){const fe=Eh(X);return fe instanceof pe&&Nt(fe)?fe.getFilters():[fe]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(X=>{return new C(ul((fe=X).field),function(Le){switch(Le){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(fe.direction));var fe}));let T=null;t.limit&&(T=function(X){let fe;return fe="object"==typeof X?X.value:X,zo(fe)?null:fe}(t.limit));let L=null;var X;t.startAt&&(L=new Ca((X=t.startAt).values||[],!!X.before));let H=null;return t.endAt&&(H=function(X){return new Ca(X.values||[],!X.before)}(t.endAt)),function Ju(r,e,t,s,a,c,f,T){return new nu(r,e,t,s,a,c,f,T)}(e,a,f,c,T,"F",L,H)}function Eh(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ul(e.unaryFilter.field);return ne.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=ul(e.unaryFilter.field);return ne.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ul(e.unaryFilter.field);return ne.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ul(e.unaryFilter.field);return ne.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ft()}}(r):void 0!==r.fieldFilter?ne.create(ul((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ft()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return pe.create(e.compositeFilter.filters.map(t=>Eh(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ft()}}(e.compositeFilter.op))}(r):Ft();var e}function Em(r){return _m[r]}function Gp(r){return jp[r]}function bf(r){return Ef[r]}function _u(r){return{fieldPath:r.canonicalString()}}function ul(r){return it.fromServerFormat(r.fieldPath)}function Sf(r){return r instanceof ne?function(e){if("=="===e.op){if(Yd(e.value))return{unaryFilter:{field:_u(e.field),op:"IS_NAN"}};if(Zd(e.value))return{unaryFilter:{field:_u(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Yd(e.value))return{unaryFilter:{field:_u(e.field),op:"IS_NOT_NAN"}};if(Zd(e.value))return{unaryFilter:{field:_u(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_u(e.field),op:Gp(e.op),value:e.value}}}(r):r instanceof pe?function(e){const t=e.getFilters().map(s=>Sf(s));return 1===t.length?t[0]:{compositeFilter:{op:bf(e.op),filters:t}}}(r):Ft()}function Ol(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Af(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class su{constructor(e,t,s,a,c=oe.min(),f=oe.min(),T=Js.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=T,this.expectedCount=L}withSequenceNumber(e){return new su(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new su(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new su(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new su(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wc{constructor(e){this.fe=e}}function Uu(r){const e=_h({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?th(e,e.limit,"L"):e}class kl{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ss(e.integerValue));else if("doubleValue"in e){const s=ss(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),ia(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ja(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?sc(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Ft()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),ot.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}kl.Ve=new kl;class Of{constructor(){this.rn=new kf}addToCollectionParentIndex(e,t){return this.rn.add(t),Me.resolve()}getCollectionParents(e,t){return Me.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Me.resolve()}deleteFieldIndex(e,t){return Me.resolve()}getDocumentsMatchingTarget(e,t){return Me.resolve(null)}getIndexType(e,t){return Me.resolve(0)}getFieldIndexes(e,t){return Me.resolve([])}getNextCollectionGroupToUpdate(e){return Me.resolve(null)}getMinOffset(e,t){return Me.resolve(xr.min())}getMinOffsetFromCollectionGroup(e,t){return Me.resolve(xr.min())}updateCollectionGroup(e,t,s){return Me.resolve()}updateIndexEntries(e,t){return Me.resolve()}}class kf{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Ti(be.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ti(be.comparator)).toArray()}}new Uint8Array(0);class la{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new la(e,la.DEFAULT_COLLECTION_PERCENTILE,la.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}la.DEFAULT_COLLECTION_PERCENTILE=10,la.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,la.DEFAULT=new la(41943040,la.DEFAULT_COLLECTION_PERCENTILE,la.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),la.DISABLED=new la(-1,0,0);class bc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new bc(0)}static Mn(){return new bc(-1)}}class Re{constructor(){this.changes=new fu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Me.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yd{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Mh{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&Fu(s.mutation,a,Us.empty(),ce.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Qn()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Qn()){const a=gu();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let f=Ou();return c.forEach((T,L)=>{f=f.insert(T,L.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=gu();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Qn()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,T)=>{t.set(f,T)})})}computeViews(e,t,s,a){let c=Xs();const f=nl(),T=nl();return t.forEach((L,H)=>{const X=s.get(H.key);a.has(H.key)&&(void 0===X||X.mutation instanceof Oa)?c=c.insert(H.key,H):void 0!==X?(f.set(H.key,X.mutation.getFieldMask()),Fu(X.mutation,H,X.mutation.getFieldMask(),ce.now())):f.set(H.key,Us.empty())}),this.recalculateAndSaveOverlays(e,c).next(L=>(L.forEach((H,X)=>f.set(H,X)),t.forEach((H,X)=>{var fe;return T.set(H,new yd(X,null!==(fe=f.get(H))&&void 0!==fe?fe:null))}),T))}recalculateAndSaveOverlays(e,t){const s=nl();let a=new Kr((f,T)=>f-T),c=Qn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const T of f)T.keys().forEach(L=>{const H=t.get(L);if(null===H)return;let X=s.get(L)||Us.empty();X=T.applyToLocalView(H,X),s.set(L,X);const fe=(a.get(T.batchId)||Qn()).add(L);a=a.insert(T.batchId,fe)})}).next(()=>{const f=[],T=a.getReverseIterator();for(;T.hasNext();){const L=T.getNext(),H=L.key,X=L.value,fe=hc();X.forEach(Le=>{if(!c.has(Le)){const Je=ah(t.get(Le),s.get(Le));null!==Je&&fe.set(Le,Je),c=c.add(Le)}}),f.push(this.documentOverlayCache.saveOverlays(e,H,fe))}return Me.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return ot.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):eh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):Me.resolve(gu());let T=-1,L=c;return f.next(H=>Me.forEach(H,(X,fe)=>(T<fe.largestBatchId&&(T=fe.largestBatchId),c.get(X)?Me.resolve():this.remoteDocumentCache.getEntry(e,X).next(Le=>{L=L.insert(X,Le)}))).next(()=>this.populateOverlays(e,H,c)).next(()=>this.computeViews(e,L,H,Qn())).next(X=>({batchId:T,changes:ff(X)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ot(t)).next(s=>{let a=Ou();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=Ou();return this.indexManager.getCollectionParents(e,a).next(f=>Me.forEach(f,T=>{const L=(H=t,X=T.child(a),new nu(X,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,X;return this.getDocumentsMatchingCollectionQuery(e,L,s).next(H=>{H.forEach((X,fe)=>{c=c.insert(X,fe)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((T,L)=>{const H=L.getKey();null===c.get(H)&&(c=c.insert(H,bi.newInvalidDocument(H)))});let f=Ou();return c.forEach((T,L)=>{const H=a.get(T);void 0!==H&&Fu(H.mutation,L,Us.empty(),ce.now()),dc(t,L)&&(f=f.insert(T,L))}),f})}}class Vf{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Me.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Bi(s.createTime)}),Me.resolve()}getNamedQuery(e,t){return Me.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:Uu(s.bundledQuery),readTime:Bi(s.readTime)}),Me.resolve();var s}}class _d{constructor(){this.overlays=new Kr(ot.comparator),this.ls=new Map}getOverlay(e,t){return Me.resolve(this.overlays.get(t))}getOverlays(e,t){const s=gu();return Me.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.we(e,t,c)}),Me.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(s)),Me.resolve()}getOverlaysForCollection(e,t,s){const a=gu(),c=t.length+1,f=new ot(t.child("")),T=this.overlays.getIteratorFrom(f);for(;T.hasNext();){const L=T.getNext().value,H=L.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===c&&L.largestBatchId>s&&a.set(L.getKey(),L)}return Me.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new Kr((H,X)=>H-X);const f=this.overlays.getIterator();for(;f.hasNext();){const H=f.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>s){let X=c.get(H.largestBatchId);null===X&&(X=gu(),c=c.insert(H.largestBatchId,X)),X.set(H.getKey(),H)}}const T=gu(),L=c.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((H,X)=>T.set(H,X)),!(T.size()>=a)););return Me.resolve(T)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const f=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new iu(t,s));let c=this.ls.get(t);void 0===c&&(c=Qn(),this.ls.set(t,c)),this.ls.set(t,c.add(s.key))}}class vd{constructor(){this.fs=new Ti($s.ds),this.ws=new Ti($s._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new $s(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new $s(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new ot(new be([])),s=new $s(t,e),a=new $s(t,e+1),c=[];return this.ws.forEachInRange([s,a],f=>{this.ys(f),c.push(f.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ot(new be([])),s=new $s(t,e),a=new $s(t,e+1);let c=Qn();return this.ws.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new $s(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class $s{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ot.comparator(e.key,t.key)||A(e.As,t.As)}static _s(e,t){return A(e.As,t.As)||ot.comparator(e.key,t.key)}}class xh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ti($s.ds)}checkEmpty(e){return Me.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.vs;this.vs++;const f=new nd(c,t,s,a);this.mutationQueue.push(f);for(const T of a)this.Rs=this.Rs.add(new $s(T.key,c)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Me.resolve(f)}lookupMutationBatch(e,t){return Me.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),c=a<0?0:a;return Me.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new $s(t,0),a=new $s(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],f=>{const T=this.Ps(f.As);c.push(T)}),Me.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ti(A);return t.forEach(a=>{const c=new $s(a,0),f=new $s(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,f],T=>{s=s.add(T.As)})}),Me.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;ot.isDocumentKey(c)||(c=c.child(""));const f=new $s(new ot(c),0);let T=new Ti(A);return this.Rs.forEachWhile(L=>{const H=L.key.path;return!!s.isPrefixOf(H)&&(H.length===a&&(T=T.add(L.As)),!0)},f),Me.resolve(this.Vs(T))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Wt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Me.forEach(t.mutations,a=>{const c=new $s(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new $s(t,0),a=this.Rs.firstAfterOrEqual(s);return Me.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Me.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Uf{constructor(e){this.Ds=e,this.docs=new Kr(ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,f=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Me.resolve(s?s.document.mutableCopy():bi.newInvalidDocument(t))}getEntries(e,t){let s=Xs();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():bi.newInvalidDocument(a))}),Me.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=Xs();const f=t.path,T=new ot(f.child("")),L=this.docs.getIteratorFrom(T);for(;L.hasNext();){const{key:H,value:{document:X}}=L.getNext();if(!f.isPrefixOf(H.path))break;H.path.length>f.length+1||Vi(Go(X),s)<=0||(a.has(X.key)||dc(t,X))&&(c=c.insert(X.key,X.mutableCopy()))}return Me.resolve(c)}getAllFromCollectionGroup(e,t,s,a){Ft()}Cs(e,t){return Me.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Cm(this)}getSize(e){return Me.resolve(this.size)}}class Cm extends Re{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),Me.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Ed{constructor(e){this.persistence=e,this.xs=new fu(t=>Qu(t),Na),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Ns=0,this.ks=new vd,this.targetCount=0,this.Ms=bc.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),Me.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new bc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Me.resolve()}updateTargetData(e,t){return this.Fn(t),Me.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.xs.forEach((f,T)=>{T.sequenceNumber<=t&&null===s.get(T.targetId)&&(this.xs.delete(f),c.push(this.removeMatchingKeysForTargetId(e,T.targetId)),a++)}),Me.waitFor(c).next(()=>a)}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return Me.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),Me.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),Me.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Me.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return Me.resolve(s)}containsKey(e,t){return Me.resolve(this.ks.containsKey(t))}}class wd{constructor(e,t){this.$s={},this.overlays={},this.Os=new qn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Ed(this),this.indexManager=new Of,this.remoteDocumentCache=new Uf(s=>this.referenceDelegate.Ls(s)),this.serializer=new wc(t),this.qs=new Vf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _d,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new xh(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){Xe("MemoryPersistence","Starting transaction:",e);const a=new Sc(this.Os.next());return this.referenceDelegate.Us(),s(a).next(c=>this.referenceDelegate.Ks(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Gs(e,t){return Me.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class Sc extends Ys{constructor(e){super(),this.currentSequenceNumber=e}}class Bf{constructor(e){this.persistence=e,this.Qs=new vd,this.js=null}static zs(e){return new Bf(e)}get Ws(){if(this.js)return this.js;throw Ft()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),Me.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),Me.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Me.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.Ws.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.Ws,s=>{const a=ot.fromPath(s);return this.Hs(e,a).next(c=>{c||t.removeEntry(a,oe.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Me.or([()=>Me.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Am{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=Qn(),a=Qn();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Am(e,t.fromCache,s,a)}}class Mm{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(c=>c||this.Gi(e,t,a,s)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(Jd(t))return Me.resolve(null);let s=ua(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=th(t,null,"F"),s=ua(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Qn(...c);return this.Ui.getDocuments(e,f).next(T=>this.indexManager.getMinOffset(e,s).next(L=>{const H=this.ji(t,T);return this.zi(t,H,f,L.readTime)?this.Ki(e,th(t,null,"F")):this.Wi(e,H,t,L)}))})))}Gi(e,t,s,a){return Jd(t)||a.isEqual(oe.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(c=>{const f=this.ji(t,c);return this.zi(t,f,s,a)?this.Qi(e,t):(Gn()<=De.in.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),tl(t)),this.Wi(e,f,t,function Di(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=oe.fromTimestamp(1e9===s?new ce(t+1,0):new ce(t,s));return new xr(a,ot.empty(),e)}(a,-1)))})}ji(e,t){let s=new Ti(Zc(e));return t.forEach((a,c)=>{dc(e,c)&&(s=s.add(c))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Qi(e,t){return Gn()<=De.in.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",tl(t)),this.Ui.getDocumentsMatchingQuery(e,t,xr.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(f=>{c=c.insert(f.key,f)}),c))}}class Dd{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new Kr(A),this.Yi=new fu(c=>Qu(c),Na),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mh(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function rg(r,e){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,w.Z)(function*(r,e){const t=Tt(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],T=[];let L=Qn();for(const H of a){f.push(H.batchId);for(const X of H.mutations)L=L.add(X.key)}for(const H of c){T.push(H.batchId);for(const X of H.mutations)L=L.add(X.key)}return t.localDocuments.getDocuments(s,L).next(H=>({er:H,removedBatchIds:f,addedBatchIds:T}))})})}),Cd.apply(this,arguments)}function ig(r){const e=Tt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Zy(r,e){const t=Tt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function bd(r,e,t){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,w.Z)(function*(r,e,t){const s=Tt(r),a=s.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!nn(f))throw f;Xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),Gf.apply(this,arguments)}function zf(r,e,t){const s=Tt(r);let a=oe.min(),c=Qn();return s.persistence.runTransaction("Execute query","readonly",f=>function(T,L,H){const X=Tt(T),fe=X.Yi.get(H);return void 0!==fe?Me.resolve(X.Ji.get(fe)):X.Bs.getTargetData(L,H)}(s,f,ua(e)).next(T=>{if(T)return a=T.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(f,T.targetId).next(L=>{c=L})}).next(()=>s.Hi.getDocumentsMatchingQuery(f,e,t?a:oe.min(),t?c:Qn())).next(T=>(function Wf(r,e,t){let s=r.Xi.get(e)||oe.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Xi.set(e,s)}(s,function El(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),T),{documents:T,ir:c})))}class $l{constructor(){this.activeTargetIds=function rh(){return fc}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ad{constructor(){this.Hr=new $l,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new $l,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lg{Yr(e){}shutdown(){}}class kh{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fh=null;function Lh(){return null===Fh?Fh=268435456+Math.round(2147483648*Math.random()):Fh++,"0x"+Fh.toString(16)}const cg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dg{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ca="WebChannelConnection";class hg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,c){const f=Lh(),T=this.To(e,t);Xe("RestConnection",`Sending RPC '${e}' ${f}:`,T,s);const L={};return this.Eo(L,a,c),this.Ao(e,T,L,s).then(H=>(Xe("RestConnection",`Received RPC '${e}' ${f}: `,H),H),H=>{throw Mr("RestConnection",`RPC '${e}' ${f} failed with error: `,H,"url: ",T,"request:",s),H})}vo(e,t,s,a,c,f){return this.Io(e,t,s,a,c)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Nn,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}To(e,t){return`${this.mo}/v1/${t}:${cg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const c=Lh();return new Promise((f,T)=>{const L=new K;L.setWithCredentials(!0),L.listenOnce(Ua.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case Va.NO_ERROR:const X=L.getResponseJson();Xe(ca,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(X)),f(X);break;case Va.TIMEOUT:Xe(ca,`RPC '${e}' ${c} timed out`),T(new ut(Be.DEADLINE_EXCEEDED,"Request time out"));break;case Va.HTTP_ERROR:const fe=L.getStatus();if(Xe(ca,`RPC '${e}' ${c} failed with status:`,fe,"response text:",L.getResponseText()),fe>0){let Le=L.getResponseJson();Array.isArray(Le)&&(Le=Le[0]);const Je=Le?.error;if(Je&&Je.status&&Je.message){const Ct=function(Zt){const en=Zt.toLowerCase().replace(/_/g,"-");return Object.values(Be).indexOf(en)>=0?en:Be.UNKNOWN}(Je.status);T(new ut(Ct,Je.message))}else T(new ut(Be.UNKNOWN,"Server responded with status "+L.getStatus()))}else T(new ut(Be.UNAVAILABLE,"Connection failed."));break;default:Ft()}}finally{Xe(ca,`RPC '${e}' ${c} completed.`)}});const H=JSON.stringify(a);Xe(ca,`RPC '${e}' ${c} sending request:`,a),L.send(t,"POST",H,s,15)})}Ro(e,t,s){const a=Lh(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=_o(),T=Za(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},H=this.longPollingOptions.timeoutSeconds;void 0!==H&&(L.longPollingTimeout=Math.round(1e3*H)),this.useFetchStreams&&(L.xmlHttpFactory=new $({})),this.Eo(L.initMessageHeaders,t,s),L.encodeInitMessageHeaders=!0;const X=c.join("");Xe(ca,`Creating RPC '${e}' stream ${a}: ${X}`,L);const fe=f.createWebChannel(X,L);let Le=!1,Je=!1;const Ct=new dg({ro:en=>{Je?Xe(ca,`Not sending because RPC '${e}' stream ${a} is closed:`,en):(Le||(Xe(ca,`Opening RPC '${e}' stream ${a} transport.`),fe.open(),Le=!0),Xe(ca,`RPC '${e}' stream ${a} sending:`,en),fe.send(en))},oo:()=>fe.close()}),Zt=(en,ir,Zr)=>{en.listen(ir,vr=>{try{Zr(vr)}catch(Fo){setTimeout(()=>{throw Fo},0)}})};return Zt(fe,N.EventType.OPEN,()=>{Je||Xe(ca,`RPC '${e}' stream ${a} transport opened.`)}),Zt(fe,N.EventType.CLOSE,()=>{Je||(Je=!0,Xe(ca,`RPC '${e}' stream ${a} transport closed`),Ct.wo())}),Zt(fe,N.EventType.ERROR,en=>{Je||(Je=!0,Mr(ca,`RPC '${e}' stream ${a} transport errored:`,en),Ct.wo(new ut(Be.UNAVAILABLE,"The operation could not be completed")))}),Zt(fe,N.EventType.MESSAGE,en=>{var ir;if(!Je){const Zr=en.data[0];Wt(!!Zr);const Fo=Zr.error||(null===(ir=Zr[0])||void 0===ir?void 0:ir.error);if(Fo){Xe(ca,`RPC '${e}' stream ${a} received error:`,Fo);const ro=Fo.status;let os=function(Bc){const hm=eo[Bc];if(void 0!==hm)return Bp(hm)}(ro),La=Fo.message;void 0===os&&(os=Be.INTERNAL,La="Unknown error status: "+ro+" with message "+Fo.message),Je=!0,Ct.wo(new ut(os,La)),fe.close()}else Xe(ca,`RPC '${e}' stream ${a} received:`,Zr),Ct._o(Zr)}}),Zt(T,Ba.STAT_EVENT,en=>{en.stat===M.PROXY?Xe(ca,`RPC '${e}' stream ${a} detected buffering proxy`):en.stat===M.NOPROXY&&Xe(ca,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Ct.fo()},0),Ct}}function Kf(){return typeof document<"u"?document:null}function Md(r){return new Hp(r,!0)}class fg{constructor(e,t,s=1e3,a=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&Xe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class pg{constructor(e,t,s,a,c,f,T,L){this.ii=e,this.$o=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=T,this.listener=L,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new fg(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,w.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,w.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,w.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===Be.RESOURCE_EXHAUSTED?(fn(t.toString()),fn("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===Be.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new ut(Be.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,w.Z)(function*(){e.state=0,e.start()}))}tu(e){return Xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Om extends pg{constructor(e,t,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Cf(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(L=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:Ft(),a=e.targetChange.targetIds||[],c=function(L,H){return L.useProto3Json?(Wt(void 0===H||"string"==typeof H),Js.fromBase64String(H||"")):(Wt(void 0===H||H instanceof Uint8Array),Js.fromUint8Array(H||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,T=f&&function(L){const H=void 0===L.code?Be.UNKNOWN:Bp(L.code);return new ut(H,L.message||"")}(f);t=new hh(s,a,c,T||null)}else if("documentChange"in e){const s=e.documentChange,a=di(r,s.document.name),c=Bi(s.document.updateTime),f=s.document.createTime?Bi(s.document.createTime):oe.min(),T=new Eo({mapValue:{fields:s.document.fields}}),L=bi.newFoundDocument(a,c,f,T);t=new yc(s.targetIds||[],s.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const s=e.documentDelete,a=di(r,s.document),c=s.readTime?Bi(s.readTime):oe.min(),f=bi.newNoDocument(a,c);t=new yc([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=di(r,s.document);t=new yc([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Ft();{const s=e.filter,{count:a=0,unchangedNames:c}=s,f=new Up(a,c);t=new dh(s.targetId,f)}}var L;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return oe.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?oe.min():c.readTime?Bi(c.readTime):oe.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=vc(this.serializer),t.addTarget=function(a,c){let f;const T=c.target;if(f=Wc(T)?{documents:Nl(a,T)}:{query:Ec(a,T)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=wf(a,c.resumeToken);const L=fh(a,c.expectedCount);null!==L&&(f.expectedCount=L)}else if(c.snapshotVersion.compareTo(oe.min())>0){f.readTime=Pl(a,c.snapshotVersion.toTimestamp());const L=fh(a,c.expectedCount);null!==L&&(f.expectedCount=L)}return f}(this.serializer,e);const s=function vh(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=vc(this.serializer),t.removeTarget=e,this.Wo(t)}}class Qy extends pg{constructor(e,t,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function vm(r,e){return r&&r.length>0?(Wt(void 0!==e),r.map(t=>function(s,a){let c=Bi(s.updateTime?s.updateTime:a);return c.isEqual(oe.min())&&(c=Bi(a)),new sh(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Bi(e.commitTime);return this.listener.cu(s,t)}return Wt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=vc(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>function al(r,e){let t;if(e instanceof Lu)t={update:od(r,e.key,e.value)};else if(e instanceof Al)t={delete:_c(r,e.key)};else if(e instanceof Oa)t={update:od(r,e.key,e.data),updateMask:Ol(e.fieldMask)};else{if(!(e instanceof td))return Ft();t={verify:_c(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const f=c.transform;if(f instanceof Il)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ru)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof mu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof sl)return{fieldPath:c.field.canonicalString(),increment:f.gt};throw Ft()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:ph(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Ft()),t;var a}(this.serializer,s))};this.Wo(t)}}class Jy extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new ut(Be.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Io(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ut(Be.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.vo(e,t,s,c,f,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(Be.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}function gg(){return gg=(0,w.Z)(function*(r,e,t){var s;const a=Tt(r),{request:c,du:f}=function(X,fe,Le){const Je=Ec(X,fe),Ct={},Zt=[];let en=0;return Le.forEach(ir=>{const Zr="aggregate_"+en++;Ct[Zr]=ir.alias,"count"===ir.yt?Zt.push({alias:Zr,count:{}}):"avg"===ir.yt?Zt.push({alias:Zr,avg:{field:_u(ir.fieldPath)}}):"sum"===ir.yt&&Zt.push({alias:Zr,sum:{field:_u(ir.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:Zt,structuredQuery:Je.structuredQuery},parent:Je.parent},du:Ct}}(a.serializer,ua(e),t),T=c.parent;a.connection.po||delete c.parent;const L=(yield a.vo("RunAggregationQuery",T,c,1)).filter(X=>!!X.result);Wt(1===L.length);const H=null===(s=L[0].result)||void 0===s?void 0:s.aggregateFields;return Object.keys(H).reduce((X,fe)=>(X[f[fe]]=H[fe],X),{})}),gg.apply(this,arguments)}class Xy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(fn(t),this.mu=!1):Xe("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class xv{constructor(e,t,s,a,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(T=>{s.enqueueAndForget((0,w.Z)(function*(){var L;jl(f)&&(Xe("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,w.Z)(function*(H){const X=Tt(H);X.vu.add(4),yield xd(X),X.bu.set("Unknown"),X.vu.delete(4),yield Mc(X)}),function(H){return L.apply(this,arguments)})(f))}))}),this.bu=new Xy(s,a)}}function Mc(r){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,w.Z)(function*(r){if(jl(r))for(const e of r.Ru)yield e(!0)}),Zf.apply(this,arguments)}function xd(r){return mg.apply(this,arguments)}function mg(){return mg=(0,w.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),mg.apply(this,arguments)}function Yf(r,e){const t=Tt(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),_g(t)?Vh(t):ju(t).Ko()&&yg(t,e))}function Pd(r,e){const t=Tt(r),s=ju(t);t.Au.delete(e),s.Ko()&&km(t,e),0===t.Au.size&&(s.Ko()?s.jo():jl(t)&&t.bu.set("Unknown"))}function yg(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ju(r).su(e)}function km(r,e){r.Vu.qt(e),ju(r).iu(e)}function Vh(r){r.Vu=new ym({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),ju(r).start(),r.bu.gu()}function _g(r){return jl(r)&&!ju(r).Uo()&&r.Au.size>0}function jl(r){return 0===Tt(r).vu.size}function Fm(r){r.Vu=void 0}function e_(r){return vg.apply(this,arguments)}function vg(){return vg=(0,w.Z)(function*(r){r.Au.forEach((e,t)=>{yg(r,e)})}),vg.apply(this,arguments)}function $u(r,e){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,w.Z)(function*(r,e){Fm(r),_g(r)?(r.bu.Iu(e),Vh(r)):r.bu.set("Unknown")}),Uh.apply(this,arguments)}function t_(r,e,t){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,w.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof hh&&2===e.state&&e.cause)try{yield(s=(0,w.Z)(function*(a,c){const f=c.cause;for(const T of c.targetIds)a.Au.has(T)&&(yield a.remoteSyncer.rejectListen(T,f),a.Au.delete(T),a.Vu.removeTarget(T))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){Xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Bh(r,s)}else if(e instanceof yc?r.Vu.Ht(e):e instanceof dh?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(oe.min()))try{const s=yield ig(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const f=a.Vu.ce(c);return f.targetChanges.forEach((T,L)=>{if(T.resumeToken.approximateByteSize()>0){const H=a.Au.get(L);H&&a.Au.set(L,H.withResumeToken(T.resumeToken,c))}}),f.targetMismatches.forEach((T,L)=>{const H=a.Au.get(T);if(!H)return;a.Au.set(T,H.withResumeToken(Js.EMPTY_BYTE_STRING,H.snapshotVersion)),km(a,T);const X=new su(H.target,T,L,H.sequenceNumber);yg(a,X)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(s){Xe("RemoteStore","Failed to raise snapshot:",s),yield Bh(r,s)}var s}),Eg.apply(this,arguments)}function Bh(r,e,t){return wg.apply(this,arguments)}function wg(){return wg=(0,w.Z)(function*(r,e,t){if(!nn(e))throw e;r.vu.add(1),yield xd(r),r.bu.set("Offline"),t||(t=()=>ig(r.localStore)),r.asyncQueue.enqueueRetryable((0,w.Z)(function*(){Xe("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield Mc(r)}))}),wg.apply(this,arguments)}function Lm(r,e){return e().catch(t=>Bh(r,t,e))}function Rd(r){return $h.apply(this,arguments)}function $h(){return $h=(0,w.Z)(function*(r){const e=Tt(r),t=Hl(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;n_(e);)try{const a=yield Zy(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,r_(e,a)}catch(a){yield Bh(e,a)}jh(e)&&Hh(e)}),$h.apply(this,arguments)}function n_(r){return jl(r)&&r.Eu.length<10}function r_(r,e){r.Eu.push(e);const t=Hl(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function jh(r){return jl(r)&&!Hl(r).Uo()&&r.Eu.length>0}function Hh(r){Hl(r).start()}function Qf(r){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,w.Z)(function*(r){Hl(r).hu()}),Vm.apply(this,arguments)}function Ig(r){return Um.apply(this,arguments)}function Um(){return Um=(0,w.Z)(function*(r){const e=Hl(r);for(const t of r.Eu)e.uu(t.mutations)}),Um.apply(this,arguments)}function Bm(r,e,t){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,w.Z)(function*(r,e,t){const s=r.Eu.shift(),a=lh.from(s,e,t);yield Lm(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Rd(r)}),Jf.apply(this,arguments)}function $m(r,e){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,w.Z)(function*(r,e){var t;e&&Hl(r).ou&&(yield(t=(0,w.Z)(function*(s,a){if(function ch(r){switch(r){default:return Ft();case Be.CANCELLED:case Be.UNKNOWN:case Be.DEADLINE_EXCEEDED:case Be.RESOURCE_EXHAUSTED:case Be.INTERNAL:case Be.UNAVAILABLE:case Be.UNAUTHENTICATED:return!1;case Be.INVALID_ARGUMENT:case Be.NOT_FOUND:case Be.ALREADY_EXISTS:case Be.PERMISSION_DENIED:case Be.FAILED_PRECONDITION:case Be.ABORTED:case Be.OUT_OF_RANGE:case Be.UNIMPLEMENTED:case Be.DATA_LOSS:return!0}}(c=a.code)&&c!==Be.ABORTED){const f=s.Eu.shift();Hl(s).Qo(),yield Lm(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield Rd(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),jh(r)&&Hh(r)}),Xf.apply(this,arguments)}function ep(r,e){return Eu.apply(this,arguments)}function Eu(){return Eu=(0,w.Z)(function*(r,e){const t=Tt(r);t.asyncQueue.verifyOperationInProgress(),Xe("RemoteStore","RemoteStore received new credentials");const s=jl(t);t.vu.add(3),yield xd(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Mc(t)}),Eu.apply(this,arguments)}function Od(){return Od=(0,w.Z)(function*(r,e){const t=Tt(r);e?(t.vu.delete(2),yield Mc(t)):e||(t.vu.add(2),yield xd(t),t.bu.set("Unknown"))}),Od.apply(this,arguments)}function ju(r){return r.Su||(r.Su=function(e,t,s){const a=Tt(e);return a.fu(),new Om(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:e_.bind(null,r),ao:$u.bind(null,r),nu:t_.bind(null,r)}),r.Ru.push(function(){var e=(0,w.Z)(function*(t){t?(r.Su.Qo(),_g(r)?Vh(r):r.bu.set("Unknown")):(yield r.Su.stop(),Fm(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function Hl(r){return r.Du||(r.Du=function(e,t,s){const a=Tt(e);return a.fu(),new Qy(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:Qf.bind(null,r),ao:$m.bind(null,r),au:Ig.bind(null,r),cu:Bm.bind(null,r)}),r.Ru.push(function(){var e=(0,w.Z)(function*(t){t?(r.Du.Qo(),yield Rd(r)):(yield r.Du.stop(),r.Eu.length>0&&(Xe("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class tp{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,c){const f=Date.now()+s,T=new tp(e,t,f,a,c);return T.start(s),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ut(Be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xc(r,e){if(fn("AsyncQueue",`${e}: ${r}`),nn(r))return new ut(Be.UNAVAILABLE,`${e}: ${r}`);throw r}class kd{constructor(e){this.comparator=e?(t,s)=>e(t,s)||ot.comparator(t.key,s.key):(t,s)=>ot.comparator(t.key,s.key),this.keyedMap=Ou(),this.sortedSet=new Kr(this.comparator)}static emptySet(e){return new kd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new kd;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class jm{constructor(){this.Cu=new Kr(ot.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Ft():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Hu{constructor(e,t,s,a,c,f,T,L,H){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=T,this.excludesMetadataChanges=L,this.hasCachedResults=H}static fromInitialDocuments(e,t,s,a,c){const f=[];return t.forEach(T=>{f.push({type:0,doc:T})}),new Hu(e,t,kd.emptySet(t),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&el(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class i_{constructor(){this.Nu=void 0,this.listeners=[]}}class Pv{constructor(){this.queries=new fu(e=>hf(e),el),this.onlineState="Unknown",this.ku=new Set}}function Dg(r,e){return Cg.apply(this,arguments)}function Cg(){return Cg=(0,w.Z)(function*(r,e){const t=Tt(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new i_),a)try{c.Nu=yield t.onListen(s)}catch(f){const T=xc(f,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(T)}t.queries.set(s,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&Sg(t)}),Cg.apply(this,arguments)}function Tg(r,e){return bg.apply(this,arguments)}function bg(){return bg=(0,w.Z)(function*(r,e){const t=Tt(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),bg.apply(this,arguments)}function s_(r,e){const t=Tt(r);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const T of f.listeners)T.$u(a)&&(s=!0);f.Nu=a}}s&&Sg(t)}function o_(r,e,t){const s=Tt(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function Sg(r){r.ku.forEach(e=>{e.next()})}class np{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Hu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class zm{constructor(e){this.key=e}}class Wm{constructor(e){this.key=e}}class qm{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Qn(),this.mutatedKeys=Qn(),this.tc=Zc(e),this.ec=new kd(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new jm,a=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,f=a,T=!1;const L="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,H="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((X,fe)=>{const Le=a.get(X),Je=dc(this.query,fe)?fe:null,Ct=!!Le&&this.mutatedKeys.has(Le.key),Zt=!!Je&&(Je.hasLocalMutations||this.mutatedKeys.has(Je.key)&&Je.hasCommittedMutations);let en=!1;Le&&Je?Le.data.isEqual(Je.data)?Ct!==Zt&&(s.track({type:3,doc:Je}),en=!0):this.rc(Le,Je)||(s.track({type:2,doc:Je}),en=!0,(L&&this.tc(Je,L)>0||H&&this.tc(Je,H)<0)&&(T=!0)):!Le&&Je?(s.track({type:0,doc:Je}),en=!0):Le&&!Je&&(s.track({type:1,doc:Le}),en=!0,(L||H)&&(T=!0)),en&&(Je?(f=f.add(Je),c=Zt?c.add(X):c.delete(X)):(f=f.delete(X),c=c.delete(X)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const X="F"===this.query.limitType?f.last():f.first();f=f.delete(X.key),c=c.delete(X.key),s.track({type:1,doc:X})}return{ec:f,ic:s,zi:T,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((H,X)=>function(fe,Le){const Je=Ct=>{switch(Ct){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft()}};return Je(fe)-Je(Le)}(H.type,X.type)||this.tc(H.doc,X.doc)),this.oc(s);const f=t?this.uc():[],T=0===this.Zu.size&&this.current?1:0,L=T!==this.Xu;return this.Xu=T,0!==c.length||L?{snapshot:new Hu(this.query,e.ec,a,c,e.mutatedKeys,0===T,L,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new jm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Qn(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new Wm(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new zm(s))}),t}hc(e){this.Yu=e.ir,this.Zu=Qn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Hu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class a_{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class u_{constructor(e){this.key=e,this.fc=!1}}class l_{constructor(e,t,s,a,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new fu(T=>hf(T),el),this._c=new Map,this.mc=new Set,this.gc=new Kr(ot.comparator),this.yc=new Map,this.Ic=new vd,this.Tc={},this.Ec=new Map,this.Ac=bc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Km(r,e){return rp.apply(this,arguments)}function rp(){return rp=(0,w.Z)(function*(r,e){const t=function kg(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ty.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gu.bind(null,e),e.dc.nu=s_.bind(null,e.eventManager),e.dc.Pc=o_.bind(null,e.eventManager),e}(r);let s,a;const c=t.wc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.lc();else{const f=yield function Td(r,e){const t=Tt(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(c=>c?(a=c,Me.resolve(a)):t.Bs.allocateTargetId(s).next(f=>(a=new su(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}(t.localStore,ua(e)),T=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield function xg(r,e,t,s,a){return Zm.apply(this,arguments)}(t,e,s,"current"===T,f.resumeToken),t.isPrimaryClient&&Yf(t.remoteStore,f)}return a}),rp.apply(this,arguments)}function Zm(){return Zm=(0,w.Z)(function*(r,e,t,s,a){r.Rc=(fe,Le,Je)=>{return(Ct=(0,w.Z)(function*(Zt,en,ir,Zr){let vr=en.view.sc(ir);vr.zi&&(vr=yield zf(Zt.localStore,en.query,!1).then(({documents:os})=>en.view.sc(os,vr)));const Fo=Zr&&Zr.targetChanges.get(en.targetId),ro=en.view.applyChanges(vr,Zt.isPrimaryClient,Fo);return ql(Zt,en.targetId,ro.cc),ro.snapshot}),function(Zt,en,ir,Zr){return Ct.apply(this,arguments)})(r,fe,Le,Je);var Ct};const c=yield zf(r.localStore,e,!0),f=new qm(e,c.ir),T=f.sc(c.documents),L=xl.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),H=f.applyChanges(T,r.isPrimaryClient,L);ql(r,t,H.cc);const X=new a_(e,t,f);return r.wc.set(e,X),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),H.snapshot}),Zm.apply(this,arguments)}function Ym(r,e){return Qm.apply(this,arguments)}function Qm(){return Qm=(0,w.Z)(function*(r,e){const t=Tt(r),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!el(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield bd(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Pd(t.remoteStore,s.targetId),wu(t,s.targetId)}).catch($r))):(wu(t,s.targetId),yield bd(t.localStore,s.targetId,!0))}),Qm.apply(this,arguments)}function Pg(){return Pg=(0,w.Z)(function*(r,e,t){const s=function Vd(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ya.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sp.bind(null,e),e}(r);try{const a=yield function(c,f){const T=Tt(c),L=ce.now(),H=f.reduce((Le,Je)=>Le.add(Je.key),Qn());let X,fe;return T.persistence.runTransaction("Locally write mutations","readwrite",Le=>{let Je=Xs(),Ct=Qn();return T.Zi.getEntries(Le,H).next(Zt=>{Je=Zt,Je.forEach((en,ir)=>{ir.isValidDocument()||(Ct=Ct.add(en))})}).next(()=>T.localDocuments.getOverlayedDocuments(Le,Je)).next(Zt=>{X=Zt;const en=[];for(const ir of f){const Zr=uh(ir,X.get(ir.key).overlayedDocument);null!=Zr&&en.push(new Oa(ir.key,Zr,ws(Zr.value.mapValue),ds.exists(!0)))}return T.mutationQueue.addMutationBatch(Le,L,en,f)}).next(Zt=>{fe=Zt;const en=Zt.applyToLocalDocumentSet(X,Ct);return T.documentOverlayCache.saveOverlays(Le,Zt.batchId,en)})}).then(()=>({batchId:fe.batchId,changes:ff(X)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,f,T){let L=c.Tc[c.currentUser.toKey()];L||(L=new Kr(A)),L=L.insert(f,T),c.Tc[c.currentUser.toKey()]=L}(s,a.batchId,t),yield Fa(s,a.changes),yield Rd(s.remoteStore)}catch(a){const c=xc(a,"Failed to persist write");t.reject(c)}}),Pg.apply(this,arguments)}function Jm(r,e){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,w.Z)(function*(r,e){const t=Tt(r);try{const s=yield function Ky(r,e){const t=Tt(r),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const T=[];e.targetChanges.forEach((X,fe)=>{const Le=a.get(fe);if(!Le)return;T.push(t.Bs.removeMatchingKeys(c,X.removedDocuments,fe).next(()=>t.Bs.addMatchingKeys(c,X.addedDocuments,fe)));let Je=Le.withSequenceNumber(c.currentSequenceNumber);var Ct,Zt,en;null!==e.targetMismatches.get(fe)?Je=Je.withResumeToken(Js.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):X.resumeToken.approximateByteSize()>0&&(Je=Je.withResumeToken(X.resumeToken,s)),a=a.insert(fe,Je),Zt=Je,en=X,(0===(Ct=Le).resumeToken.approximateByteSize()||Zt.snapshotVersion.toMicroseconds()-Ct.snapshotVersion.toMicroseconds()>=3e8||en.addedDocuments.size+en.modifiedDocuments.size+en.removedDocuments.size>0)&&T.push(t.Bs.updateTargetData(c,Je))});let L=Xs(),H=Qn();if(e.documentUpdates.forEach(X=>{e.resolvedLimboDocuments.has(X)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(c,X))}),T.push(function Pm(r,e,t){let s=Qn(),a=Qn();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=Xs();return t.forEach((T,L)=>{const H=c.get(T);L.isFoundDocument()!==H.isFoundDocument()&&(a=a.add(T)),L.isNoDocument()&&L.version.isEqual(oe.min())?(e.removeEntry(T,L.readTime),f=f.insert(T,L)):!H.isValidDocument()||L.version.compareTo(H.version)>0||0===L.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(L),f=f.insert(T,L)):Xe("LocalStore","Ignoring outdated watch update for ",T,". Current version:",H.version," Watch version:",L.version)}),{nr:f,sr:a}})}(c,f,e.documentUpdates).next(X=>{L=X.nr,H=X.sr})),!s.isEqual(oe.min())){const X=t.Bs.getLastRemoteSnapshotVersion(c).next(fe=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,s));T.push(X)}return Me.waitFor(T).next(()=>f.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,L,H)).next(()=>L)}).then(c=>(t.Ji=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const f=t.yc.get(c);f&&(Wt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.fc=!0:a.modifiedDocuments.size>0?Wt(f.fc):a.removedDocuments.size>0&&(Wt(f.fc),f.fc=!1))}),yield Fa(t,s,e)}catch(s){yield $r(s)}}),Gh.apply(this,arguments)}function Xm(r,e,t){const s=Tt(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((c,f)=>{const T=f.view.Mu(e);T.snapshot&&a.push(T.snapshot)}),function(c,f){const T=Tt(c);T.onlineState=f;let L=!1;T.queries.forEach((H,X)=>{for(const fe of X.listeners)fe.Mu(f)&&(L=!0)}),L&&Sg(T)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Gu(r,e,t){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,w.Z)(function*(r,e,t){const s=Tt(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),c=a&&a.key;if(c){let f=new Kr(ot.comparator);f=f.insert(c,bi.newNoDocument(c,oe.min()));const T=Qn().add(c),L=new yu(oe.min(),new Map,new Kr(A),f,T);yield Jm(s,L),s.gc=s.gc.remove(c),s.yc.delete(e),Kl(s)}else yield bd(s.localStore,e,!1).then(()=>wu(s,e,t)).catch($r)}),Pc.apply(this,arguments)}function ya(r,e){return hl.apply(this,arguments)}function hl(){return hl=(0,w.Z)(function*(r,e){const t=Tt(r),s=e.batch.batchId;try{const a=yield function qy(r,e){const t=Tt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(f,T,L,H){const X=L.batch,fe=X.keys();let Le=Me.resolve();return fe.forEach(Je=>{Le=Le.next(()=>H.getEntry(T,Je)).next(Ct=>{const Zt=L.docVersions.get(Je);Wt(null!==Zt),Ct.version.compareTo(Zt)<0&&(X.applyToRemoteDocument(Ct,L),Ct.isValidDocument()&&(Ct.setReadTime(L.commitVersion),H.addEntry(Ct)))})}),Le.next(()=>f.mutationQueue.removeMutationBatch(T,X))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let T=Qn();for(let L=0;L<f.mutationResults.length;++L)f.mutationResults[L].transformResults.length>0&&(T=T.add(f.batch.mutations[L].key));return T}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);Wl(t,s,null),zl(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Fa(t,a)}catch(a){yield $r(a)}}),hl.apply(this,arguments)}function sp(r,e,t){return ka.apply(this,arguments)}function ka(){return ka=(0,w.Z)(function*(r,e,t){const s=Tt(r);try{const a=yield function(c,f){const T=Tt(c);return T.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let H;return T.mutationQueue.lookupMutationBatch(L,f).next(X=>(Wt(null!==X),H=X.keys(),T.mutationQueue.removeMutationBatch(L,X))).next(()=>T.mutationQueue.performConsistencyCheck(L)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(L,H,f)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(L,H)).next(()=>T.localDocuments.getDocuments(L,H))})}(s.localStore,e);Wl(s,e,t),zl(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Fa(s,a)}catch(a){yield $r(a)}}),ka.apply(this,arguments)}function zl(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function Wl(r,e,t){const s=Tt(r);let a=s.Tc[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function wu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.wc.delete(s),t&&r.dc.Pc(s,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(s=>{r.Ic.containsKey(s)||Rc(r,s)})}function Rc(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(Pd(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),Kl(r))}function ql(r,e,t){for(const s of t)s instanceof zm?(r.Ic.addReference(s.key,e),Fd(r,s)):s instanceof Wm?(Xe("SyncEngine","Document no longer in limbo: "+s.key),r.Ic.removeReference(s.key,e),r.Ic.containsKey(s.key)||Rc(r,s.key)):Ft()}function Fd(r,e){const t=e.key,s=t.path.canonicalString();r.gc.get(t)||r.mc.has(s)||(Xe("SyncEngine","New document in limbo: "+t),r.mc.add(s),Kl(r))}function Kl(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new ot(be.fromString(e)),s=r.Ac.next();r.yc.set(s,new u_(t)),r.gc=r.gc.insert(t,s),Yf(r.remoteStore,new su(ua(Nu(t.path)),s,"TargetPurposeLimboResolution",qn.ct))}}function Fa(r,e,t){return op.apply(this,arguments)}function op(){return op=(0,w.Z)(function*(r,e,t){const s=Tt(r),a=[],c=[],f=[];var T;s.wc.isEmpty()||(s.wc.forEach((T,L)=>{f.push(s.Rc(L,e,t).then(H=>{if((H||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(L.targetId,H?.fromCache?"not-current":"current"),H){a.push(H);const X=Am.Li(L.targetId,H);c.push(X)}}))}),yield Promise.all(f),s.dc.nu(a),yield(T=(0,w.Z)(function*(L,H){const X=Tt(L);try{yield X.persistence.runTransaction("notifyLocalViewChanges","readwrite",fe=>Me.forEach(H,Le=>Me.forEach(Le.Fi,Je=>X.persistence.referenceDelegate.addReference(fe,Le.targetId,Je)).next(()=>Me.forEach(Le.Bi,Je=>X.persistence.referenceDelegate.removeReference(fe,Le.targetId,Je)))))}catch(fe){if(!nn(fe))throw fe;Xe("LocalStore","Failed to update sequence numbers: "+fe)}for(const fe of H){const Le=fe.targetId;if(!fe.fromCache){const Je=X.Ji.get(Le),Zt=Je.withLastLimboFreeSnapshotVersion(Je.snapshotVersion);X.Ji=X.Ji.insert(Le,Zt)}}}),function(L,H){return T.apply(this,arguments)})(s.localStore,c))}),op.apply(this,arguments)}function ey(r,e){return ap.apply(this,arguments)}function ap(){return ap=(0,w.Z)(function*(r,e){const t=Tt(r);if(!t.currentUser.isEqual(e)){Xe("SyncEngine","User change. New user:",e.toKey());const s=yield rg(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(f=>{f.forEach(T=>{T.reject(new ut(Be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Fa(t,s.er)}var a}),ap.apply(this,arguments)}function ty(r,e){const t=Tt(r),s=t.yc.get(e);if(s&&s.fc)return Qn().add(s.key);{let a=Qn();const c=t._c.get(e);if(!c)return a;for(const f of c){const T=t.wc.get(f);a=a.unionWith(T.view.nc)}return a}}class Wh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,w.Z)(function*(){t.serializer=Md(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function xm(r,e,t,s){return new Dd(r,e,t,s)}(this.persistence,new Mm,e.initialUser,this.serializer)}createPersistence(e){return new wd(Bf.zs,this.serializer)}createSharedClientState(e){return new Ad}terminate(){var e=this;return(0,w.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Nc{initialize(e,t){var s=this;return(0,w.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>Xm(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=ey.bind(null,s.syncEngine),yield function Nd(r,e){return Od.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Pv}createDatastore(e){const t=Md(e.databaseInfo.databaseId),s=new hg(e.databaseInfo);return new Jy(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=T=>Xm(this.syncEngine,T,0),f=kh.D()?new kh:new lg,new xv(t,s,a,c,f);var t,s,a,c,f}createSyncEngine(e,t){return function(s,a,c,f,T,L,H){const X=new l_(s,a,c,f,T,L);return H&&(X.vc=!0),X}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,w.Z)(function*(t){const s=Tt(t);Xe("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield xd(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class qh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):fn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ly{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=It.UNAUTHENTICATED,this.clientId=_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,w.Z)(function*(T){Xe("FirestoreClient","Received user=",T.uid),yield c.authCredentialListener(T),c.user=T});return function(T){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(Xe("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,w.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ut(Be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,w.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=xc(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Kh(r,e){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,w.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Xe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,w.Z)(function*(c){s.isEqual(c)||(yield rg(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Lg.apply(this,arguments)}function Vg(r,e){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,w.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield function Ud(r){return Zh.apply(this,arguments)}(r);Xe("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>ep(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>ep(e.remoteStore,c)),r._onlineComponents=e}),Ug.apply(this,arguments)}function Zh(){return Zh=(0,w.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Xe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Kh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Bg(r){return"FirebaseError"===r.name?r.code===Be.FAILED_PRECONDITION||r.code===Be.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}(t))throw t;Mr("Error using user provided cache. Falling back to memory cache: "+t),yield Kh(r,new Wh)}}else Xe("FirestoreClient","Using default OfflineComponentProvider"),yield Kh(r,new Wh);return r._offlineComponents}),Zh.apply(this,arguments)}function Yh(r){return yp.apply(this,arguments)}function yp(){return yp=(0,w.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Xe("FirestoreClient","Using user provided OnlineComponentProvider"),yield Vg(r,r._uninitializedComponentsProvider._online)):(Xe("FirestoreClient","Using default OnlineComponentProvider"),yield Vg(r,new Nc))),r._onlineComponents}),yp.apply(this,arguments)}function fl(r){return zu.apply(this,arguments)}function zu(){return zu=(0,w.Z)(function*(r){const e=yield Yh(r),t=e.eventManager;return t.onListen=Km.bind(null,e.syncEngine),t.onUnlisten=Ym.bind(null,e.syncEngine),t}),zu.apply(this,arguments)}function dy(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const qg=new Map;function Kg(r,e,t){if(!t)throw new ut(Be.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Zg(r){if(!ot.isDocumentKey(r))throw new ut(Be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function hy(r){if(ot.isDocumentKey(r))throw new ut(Be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function vp(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Ft()}function Nr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut(Be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vp(r);throw new ut(Be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class Yg{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new ut(Be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ut(Be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function ko(r,e,t,s){if(!0===e&&!0===s)throw new ut(Be.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=dy(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new ut(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ut(Be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ut(Be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yg(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new $a;switch(t.type){case"firstParty":return new au(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ut(Be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=qg.get(e);t&&(Xe("ComponentProvider","Removing Datastore"),qg.delete(e),t.terminate())}(this),Promise.resolve()}}class to{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new to(this.firestore,e,this._key)}}class da{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new da(this.firestore,e,this._query)}}class Iu extends da{constructor(e,t,s){super(e,t,Nu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new to(this.firestore,null,new ot(e))}withConverter(e){return new Iu(this.firestore,e,this._path)}}function m_(r,e,...t){if(r=(0,ee.m9)(r),Kg("collection","path",e),r instanceof Bd){const s=be.fromString(e,...t);return hy(s),new Iu(r,null,s)}{if(!(r instanceof to||r instanceof Iu))throw new ut(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(be.fromString(e,...t));return hy(s),new Iu(r.firestore,null,s)}}function __(r,e,...t){if(r=(0,ee.m9)(r),1===arguments.length&&(e=_.A()),Kg("doc","path",e),r instanceof Bd){const s=be.fromString(e,...t);return Zg(s),new to(r,null,new ot(s))}{if(!(r instanceof to||r instanceof Iu))throw new ut(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(be.fromString(e,...t));return Zg(s),new to(r.firestore,r instanceof Iu?r.converter:null,new ot(s))}}class Wu{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new fg(this,"async_queue_retry"),this.Xc=()=>{const t=Kf();t&&Xe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Kf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Kf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ui;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,w.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!nn(t))throw t;Xe("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,fn("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=tp.createAndSchedule(this,e,t,s,c=>this.na(c));return this.zc.push(a),a}Zc(){this.Wc&&Ft()}verifyOperationInProgress(){}sa(){var e=this;return(0,w.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Qg(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Hr extends Bd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Wu,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||py(this),this._firestoreClient.terminate()}}function no(r){return r._firestoreClient||py(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function py(r){var e,t,s;const a=r._freezeSettings(),c=(T=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Yu(r._databaseId,T,r._persistenceKey,(H=a).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,dy(H.experimentalLongPollingOptions),H.useFetchStreams));var T,H;r._firestoreClient=new ly(r._authCredentials,r._appCheckCredentials,r._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class Yl{constructor(e="count",t){this._aggregateType=e,this._internalFieldPath=t,this.type="AggregateField"}}class C_{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ql(Js.fromBase64String(e))}catch(t){throw new ut(Be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ql(Js.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Oc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ut(Be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function Xg(){return new Oc("__name__")}class jd{constructor(e){this._methodName=e}}class Ip{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ut(Be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ut(Be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return A(this._lat,e._lat)||A(this._long,e._long)}}const yy=/^__.*__$/;class _y{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Oa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lu(e,this.data,t,this.fieldTransforms)}}class em{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Oa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tm(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft()}}class Jh{constructor(e,t,s,a,c,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Jh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Cp(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(tm(this.ca)&&yy.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class vy{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Md(e)}ya(e,t,s,a=!1){return new Jh({ca:e,methodName:t,ga:s,path:it.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kc(r){const e=r._freezeSettings(),t=Md(r._databaseId);return new vy(r._databaseId,!!e.ignoreUndefinedProperties,t)}function nm(r,e,t,s,a,c={}){const f=r.ya(c.merge||c.mergeFields?2:0,e,t,a);im("Data must be an object, but it was:",f,s);const T=Cy(s,f);let L,H;if(c.merge)L=new Us(f.fieldMask),H=f.fieldTransforms;else if(c.mergeFields){const X=[];for(const fe of c.mergeFields){const Le=ef(e,fe,t);if(!f.contains(Le))throw new ut(Be.INVALID_ARGUMENT,`Field '${Le}' is specified in your field mask but missing from your input data.`);sm(X,Le)||X.push(Le)}L=new Us(X),H=f.fieldTransforms.filter(fe=>L.covers(fe.field))}else L=null,H=f.fieldTransforms;return new _y(new Eo(T),L,H)}class Xh extends jd{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}function Fc(r,e){if(Ty(r=(0,ee.m9)(r)))return im("Unsupported field value:",e,r),Cy(r,e);if(r instanceof jd)return function(t,s){if(!tm(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const f of t){let T=Fc(f,s.wa(c));null==T&&(T={nullValue:"NULL_VALUE"}),a.push(T),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,ee.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return pc(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=ce.fromDate(t);return{timestampValue:Pl(s.serializer,a)}}if(t instanceof ce){const a=new ce(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Pl(s.serializer,a)}}if(t instanceof Ip)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ql)return{bytesValue:wf(s.serializer,t._byteString)};if(t instanceof to){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gh(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${vp(t)}`)}(r,e)}function Cy(r,e){const t={};return Oo(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(r,(s,a)=>{const c=Fc(a,e.ha(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function Ty(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof ce||r instanceof Ip||r instanceof Ql||r instanceof to||r instanceof jd)}function im(r,e,t){if(!Ty(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=vp(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function ef(r,e,t){if((e=(0,ee.m9)(e))instanceof Oc)return e._internalPath;if("string"==typeof e)return Dp(r,e);throw Cp("Field path arguments must be of type string or ",r,!1,void 0,t)}const A_=new RegExp("[~\\*/\\[\\]]");function Dp(r,e,t){if(e.search(A_)>=0)throw Cp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Oc(...e.split("."))._internalPath}catch{throw Cp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Cp(r,e,t,s,a){const c=s&&!s.isEmpty(),f=void 0!==a;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let L="";return(c||f)&&(L+=" (found",c&&(L+=` in field ${s}`),f&&(L+=` in document ${a}`),L+=")"),new ut(Be.INVALID_ARGUMENT,T+r+L)}function sm(r,e){return r.some(t=>t.isEqual(e))}class Tp{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new to(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new by(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class by extends Tp{data(){return super.data()}}function tf(r,e){return"string"==typeof e?Dp(r,e):e instanceof Oc?e._internalPath:e._delegate._internalPath}class bp{}class Sy extends bp{}function Ay(r,e,...t){let s=[];e instanceof bp&&s.push(e),s=s.concat(t),function(a){const c=a.filter(T=>T instanceof Lc).length,f=a.filter(T=>T instanceof Hd).length;if(c>1||c>0&&f>0)throw new ut(Be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class Hd extends Sy{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Hd(e,t,s)}_apply(e){const t=this._parse(e);return sf(e._query,t),new da(e.firestore,e.converter,cc(e._query,t))}_parse(e){const t=kc(e.firestore);return function(a,c,f,T,L,H,X){let fe;if(L.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new ut(Be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){Ry(X,H);const Le=[];for(const Je of X)Le.push(Vc(T,a,Je));fe={arrayValue:{values:Le}}}else fe=Vc(T,a,X)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||Ry(X,H),fe=function Dy(r,e,t,s=!1){return Fc(t,r.ya(s?4:3,e))}(f,"where",X,"in"===H||"not-in"===H);return ne.create(L,H,fe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function My(r,e,t){const s=e,a=tf("where",r);return Hd._create(a,s,t)}class Lc extends bp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Lc(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:pe.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const f=a.getFlattenedFilters();for(const T of f)sf(c,T),c=cc(c,T)}(e._query,t),new da(e.firestore,e.converter,cc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Vc(r,e,t){if("string"==typeof(t=(0,ee.m9)(t))){if(""===t)throw new ut(Be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eh(e)&&-1!==t.indexOf("/"))throw new ut(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(be.fromString(t));if(!ot.isDocumentKey(s))throw new ut(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Xa(r,new ot(s))}if(t instanceof to)return Xa(r,t._key);throw new ut(Be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vp(t)}.`)}function Ry(r,e){if(!Array.isArray(r)||0===r.length)throw new ut(Be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sf(r,e){if(e.isInequality()){const s=Xu(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new ut(Be.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=Xd(r);null!==c&&function af(r,e,t){if(!t.isEqual(e))throw new ut(Be.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,a,c)}const t=function(s,a){for(const c of s)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ut(Be.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class jv{convertValue(e,t="none"){switch(ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ss(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ft()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return vs(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new Ip(ss(e.latitude),ss(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Hc(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const t=Qa(e);return new ce(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=be.fromString(e);Wt(Af(s));const a=new aa(s.get(1),s.get(3)),c=new ot(s.popFirst(5));return a.isEqual(t)||fn(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function Sp(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Uc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zd extends Tp{constructor(e,t,s,a,c,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(tf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Ap extends zd{data(e={}){return super.data(e)}}class Ku{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Uc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Ap(this._firestore,this._userDataWriter,s.key,s,new Uc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ut(Be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new Ap(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Uc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const T=new Ap(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Uc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let L=-1,H=-1;return 0!==f.type&&(L=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),H=c.indexOf(f.doc.key)),{type:O_(f.type),doc:T,oldIndex:L,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function O_(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft()}}function k_(r){r=Nr(r,to);const e=Nr(r.firestore,Hr);return function Zl(r,e,t={}){const s=new ui;return r.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function(a,c,f,T,L){const H=new qh({next:fe=>{c.enqueueAndForget(()=>Tg(a,X));const Le=fe.docs.has(f);!Le&&fe.fromCache?L.reject(new ut(Be.UNAVAILABLE,"Failed to get document because the client is offline.")):Le&&fe.fromCache&&T&&"server"===T.source?L.reject(new ut(Be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):L.resolve(fe)},error:fe=>L.reject(fe)}),X=new np(Nu(f.path),H,{includeMetadataChanges:!0,Ku:!0});return Dg(a,X)}(yield fl(r),r.asyncQueue,e,t,s)})),s.promise}(no(e),r._key).then(t=>lm(e,r,t))}class Du extends jv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ql(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new to(this.firestore,null,t)}}function uf(r,e,t){r=Nr(r,to);const s=Nr(r.firestore,Hr),a=Sp(r.converter,e,t);return Wd(s,[nm(kc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,ds.none())])}function U_(r,e,t,...s){r=Nr(r,to);const a=Nr(r.firestore,Hr),c=kc(a);let f;return f="string"==typeof(e=(0,ee.m9)(e))||e instanceof Oc?function Iy(r,e,t,s,a,c){const f=r.ya(1,e,t),T=[ef(e,s,t)],L=[a];if(c.length%2!=0)throw new ut(Be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Le=0;Le<c.length;Le+=2)T.push(ef(e,c[Le])),L.push(c[Le+1]);const H=[],X=Eo.empty();for(let Le=T.length-1;Le>=0;--Le)if(!sm(H,T[Le])){const Je=T[Le];let Ct=L[Le];Ct=(0,ee.m9)(Ct);const Zt=f.da(Je);if(Ct instanceof Xh)H.push(Je);else{const en=Fc(Ct,Zt);null!=en&&(H.push(Je),X.set(Je,en))}}const fe=new Us(H);return new em(X,fe,f.fieldTransforms)}(c,"updateDoc",r._key,e,t,s):function wy(r,e,t,s){const a=r.ya(1,e,t);im("Data must be an object, but it was:",a,s);const c=[],f=Eo.empty();vs(s,(L,H)=>{const X=Dp(e,L,t);H=(0,ee.m9)(H);const fe=a.da(X);if(H instanceof Xh)c.push(X);else{const Le=Fc(H,fe);null!=Le&&(c.push(X),f.set(X,Le))}});const T=new Us(c);return new em(f,T,a.fieldTransforms)}(c,"updateDoc",r._key,e),Wd(a,[f.toMutation(r._key,ds.exists(!0))])}function B_(r,e){const t=Nr(r.firestore,Hr),s=__(r),a=Sp(r.converter,e);return Wd(t,[nm(kc(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,ds.exists(!1))]).then(()=>s)}function Oy(r,...e){var t,s,a;r=(0,ee.m9)(r);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Qg(e[f])||(c=e[f],f++);const T={includeMetadataChanges:c.includeMetadataChanges};if(Qg(e[f])){const fe=e[f];e[f]=null===(t=fe.next)||void 0===t?void 0:t.bind(fe),e[f+1]=null===(s=fe.error)||void 0===s?void 0:s.bind(fe),e[f+2]=null===(a=fe.complete)||void 0===a?void 0:a.bind(fe)}let L,H,X;if(r instanceof to)H=Nr(r.firestore,Hr),X=Nu(r._key.path),L={next:fe=>{e[f]&&e[f](lm(H,r,fe))},error:e[f+1],complete:e[f+2]};else{const fe=Nr(r,da);H=Nr(fe.firestore,Hr),X=fe._query;const Le=new Du(H);L={next:Je=>{e[f]&&e[f](new Ku(H,Le,fe,Je))},error:e[f+1],complete:e[f+2]},function om(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new ut(Be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(r._query)}return function(fe,Le,Je,Ct){const Zt=new qh(Ct),en=new np(Le,Zt,Je);return fe.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return Dg(yield fl(fe),en)})),()=>{Zt.Dc(),fe.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return Tg(yield fl(fe),en)}))}}(no(H),X,T,L)}function Wd(r,e){return function(t,s){const a=new ui;return t.asyncQueue.enqueueAndForget((0,w.Z)(function*(){return function ip(r,e,t){return Pg.apply(this,arguments)}(yield function _p(r){return Yh(r).then(e=>e.syncEngine)}(t),s,a)})),a.promise}(no(r),e)}function lm(r,e,t){const s=t.docs.get(e._key),a=new Du(r);return new zd(r,a,e._key,s,new Uc(t.hasPendingWrites,t.fromCache),e.converter)}function ky(r){return function j_(r,e){const t=Nr(r.firestore,Hr),s=no(t),a=function(c,f){const T=[];for(const L in c)Object.prototype.hasOwnProperty.call(c,L)&&T.push(f(c[L],L));return T}(e,(c,f)=>new ol(f,c._aggregateType,c._internalFieldPath));return function(c,f,T){const L=new ui;return c.asyncQueue.enqueueAndForget((0,w.Z)(function*(){try{const H=yield function Hg(r){return Yh(r).then(e=>e.datastore)}(c);L.resolve(function Wa(r,e,t){return gg.apply(this,arguments)}(H,f,T))}catch(H){L.reject(H)}})),L.promise}(s,r._query,a).then(c=>function(f,T,L){const H=new Du(f);return new C_(T,H,L)}(t,r,c))}(r,{count:new Yl("count")})}!function(r,e=!0){Nn=re.Jn,(0,re.Xd)(new B.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),f=new Hr(new va(t.getProvider("auth-internal")),new Cu(t.getProvider("app-check-internal")),function(T,L){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new ut(Be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new aa(T.options.projectId,L)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,re.KN)(tt,"3.13.0",r),(0,re.KN)(tt,"3.13.0","esm2017")}()},5861:(rn,Ye,Y)=>{function w(B,De,ee,Se,Ue,he,$e){try{var ie=B[he]($e),ye=ie.value}catch(Pe){return void ee(Pe)}ie.done?De(ye):Promise.resolve(ye).then(Se,Ue)}function re(B){return function(){var De=this,ee=arguments;return new Promise(function(Se,Ue){var he=B.apply(De,ee);function $e(ye){w(he,Se,Ue,$e,ie,"next",ye)}function ie(ye){w(he,Se,Ue,$e,ie,"throw",ye)}$e(void 0)})}}Y.d(Ye,{Z:()=>re})}},rn=>{rn(rn.s=5963)}]);